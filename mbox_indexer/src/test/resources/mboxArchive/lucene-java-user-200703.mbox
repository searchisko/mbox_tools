From java-user-return-26528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 08:19:28 2007
Return-Path: <java-user-return-26528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68771 invoked from network); 1 Mar 2007 08:19:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 08:19:26 -0000
Received: (qmail 96538 invoked by uid 500); 1 Mar 2007 08:19:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96509 invoked by uid 500); 1 Mar 2007 08:19:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96471 invoked by uid 99); 1 Mar 2007 08:19:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 00:19:12 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 00:18:56 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HMgUl-0005NQ-Qc
	for java-user@lucene.apache.org; Thu, 01 Mar 2007 00:18:35 -0800
Message-ID: <9245525.post@talk.nabble.com>
Date: Thu, 1 Mar 2007 00:18:35 -0800 (PST)
From: dmitri <evysq@mail.ru>
To: java-user@lucene.apache.org
Subject: Re: [ANN] ParallelSearcher in multi-node environment
In-Reply-To: <Pine.LNX.4.58.0702281535150.13666@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: evysq@mail.ru
References: <9182802.post@talk.nabble.com> <Pine.LNX.4.58.0702281535150.13666@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org


e.g. I've changed original ParallelSearcher to use thread pool
(java.util.concurrent.ThreadPoolExecutor from jdk 1.5).
But implementing multi-host installation still requires a lot of changes
since ParallelSearcher calles underlying Searchables too many times (e.g.
for separate network call for every document)
----------------
Dmitri 
-- 
View this message in context: http://www.nabble.com/ParallelSearcher-in-multi-node-environment-tf3301080.html#a9245525
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 08:28:48 2007
Return-Path: <java-user-return-26529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76287 invoked from network); 1 Mar 2007 08:28:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 08:28:47 -0000
Received: (qmail 9046 invoked by uid 500); 1 Mar 2007 08:28:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9002 invoked by uid 500); 1 Mar 2007 08:28:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8974 invoked by uid 99); 1 Mar 2007 08:28:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 00:28:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [132.68.238.36] (HELO mailgw4.technion.ac.il) (132.68.238.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 00:28:33 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mailgw4.technion.ac.il (Postfix) with ESMTP id D73C5240ADD
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 10:28:10 +0200 (IST)
X-Virus-Scanned: by amavisd-new at technion.ac.il
Received: from mailgw4.technion.ac.il ([127.0.0.1])
	by localhost (mailgw4.technion.ac.il [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id ybKxXVJOufbp for <java-user@lucene.apache.org>;
	Thu,  1 Mar 2007 10:28:10 +0200 (IST)
Received: from fermat.math.technion.ac.il (fermat.math.technion.ac.il [132.68.115.6])
	by mailgw4.technion.ac.il (Postfix) with ESMTP id B39C1240AD3
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 10:28:10 +0200 (IST)
Received: from fermat.math.technion.ac.il (localhost [127.0.0.1])
	by fermat.math.technion.ac.il (8.12.10/8.12.10) with ESMTP id l218S8Sb017583
	for <java-user@lucene.apache.org>; Thu, 1 Mar 2007 10:28:08 +0200 (IST)
Received: (from nyh@localhost)
	by fermat.math.technion.ac.il (8.12.10/8.12.10/Submit) id l218S8XL017582
	for java-user@lucene.apache.org; Thu, 1 Mar 2007 10:28:08 +0200 (IST)
X-Authentication-Warning: fermat.math.technion.ac.il: nyh set sender to nyh@math.technion.ac.il using -f
Date: Thu, 1 Mar 2007 10:28:07 +0200
From: "Nadav Har'El" <nyh@math.technion.ac.il>
To: java-user@lucene.apache.org
Subject: Re: indexing performance
Message-ID: <20070301082807.GA15826@fermat.math.technion.ac.il>
References: <f514763f0702270622x2770d82cq64610fe7e9ec90fd@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <f514763f0702270622x2770d82cq64610fe7e9ec90fd@mail.gmail.com>
User-Agent: Mutt/1.4.2.2i
Hebrew-Date: 11 Adar 5767
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Feb 27, 2007, Saravana wrote about "indexing performance":
> Hi,
> 
> Is it possible to scale lucene indexing like 2000/3000 documents per
> second?

I don't know about the actual numbers, but one trick I've used in the past
to get really fast indexing was to create several independent indexes in
parallel. Simply, if you have, say, 4 CPUs and perhaps even several physical
disks, run 4 indexing processes each indexing a 1/4 of the files and creating
a separate index (on separate disks on separate IO channels, if possible).

At the end, you have 4 indexes which you can actually search together without
any real need to merge them, unless query performance is very important to
you as well.

> I need to index 10 fields each with 20 bytes long.  I should be
> able to search by just giving any of the field values as criteria. I need to
> get the count that has same field values.

You need just the counts? And you want to do just whole-field matching, not
word matching? In that case, Lucene might be an overkill for you. Or, if you
do use Lucene, make sure to use "keyword" (untokenized) fields, not
"tokenized" fields.

-- 
Nadav Har'El                        |      Thursday, Mar  1 2007, 11 Adar 5767
IBM Haifa Research Lab              |-----------------------------------------
                                    |Open your arms to change, but don't let
http://nadav.harel.org.il           |go of your values.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 08:35:53 2007
Return-Path: <java-user-return-26530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79131 invoked from network); 1 Mar 2007 08:35:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 08:35:51 -0000
Received: (qmail 15739 invoked by uid 500); 1 Mar 2007 08:35:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15691 invoked by uid 500); 1 Mar 2007 08:35:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15680 invoked by uid 99); 1 Mar 2007 08:35:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 00:35:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.2.70.1] (HELO bisystem.com) (194.2.70.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 00:35:42 -0800
Received: from bimela9inl01.bi.local (unknown [192.168.0.7])
	by bisystem.com ("Microsoft ESMTP MAIL Service") with ESMTP id 1CE5233929
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 09:49:34 +0100 (CET)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject:  Lucene 2.1: java.io.IOException: Lock obtain timed out: SimpleFSLock@<path of index file>
Date: Thu, 1 Mar 2007 09:23:04 +0100
Message-ID: <A48E4B1E4A5829469F3ACB3DE313F2453D12D1@bimela9inl01.bi.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Lucene 2.1: java.io.IOException: Lock obtain timed out: SimpleFSLock@<path of index file>
Thread-Index: AcdbOzTehqSG5V1vQAOSxoeZA6H+1wAnzEPw
From: "Jerome Chauvin" <Jerome.Chauvin@businessinteractif.fr>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

=20
All,
=20
We encounter issues while updating the lucene index, here is the stack =
trace:
=20
Caused by: java.io.IOException: Lock obtain timed out:
SimpleFSLock@/data/www/orcanta/lucene/store1/write.lock
 at org.apache.lucene.store.Lock.obtain(Lock.java:69)
 at =
org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:526)=

 at =
org.apache.lucene.index.IndexReader.deleteDocument(IndexReader.java:551)
 at =
org.apache.lucene.index.IndexReader.deleteDocuments(IndexReader.java:578)=

 at
com.bi.commerce.service.catalog.spring.lucene.LuceneIndex.deleteFromIndex=
(Luc
eneIndex.java:692)
 ... 25 more
=20
=20
Here is the source code of the lucene API invocation where the error =
occurs:
=20
class com.bi.commerce.service.catalog.spring.lucene.LuceneIndex:
=20
import org.apache.lucene.index.IndexReader;
...
=20
    public synchronized void deleteFromIndex(ICatalogEntity entity) {
        if(!indexExists()) return;
        try {
            IndexReader reader =3D IndexReader.open(store);
            String uid =3D getUID(entity);
            try{
line 692=3D>      reader.deleteDocuments(new Term("uid",uid));
            }catch(ArrayIndexOutOfBoundsException e){
                //CHECK ignore this. Can happen if index has not been =
built
yet (??)
            }
            reader.close();
        } catch (IOException e) {
            throw new SearchEngineException(e);
        }catch(RuntimeException e){
            throw new SearchEngineException(e);
        }
    }
=20
=20
=20
Do I something wrong? If somebody already encountered this error, or =
knows a
fix, I'm really interested!
=20
Thanks in advance,
=20
BRegards.
=20
-Jerome Chauvin-
=20
=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 08:57:18 2007
Return-Path: <java-user-return-26531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90463 invoked from network); 1 Mar 2007 08:57:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 08:57:18 -0000
Received: (qmail 42193 invoked by uid 500); 1 Mar 2007 08:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41938 invoked by uid 500); 1 Mar 2007 08:57:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41927 invoked by uid 99); 1 Mar 2007 08:57:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 00:57:15 -0800
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,MIME_BOUND_NEXTPART
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.190.206.154] (HELO srs2na11.bgl.lu) (212.190.206.154)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Mar 2007 00:57:03 -0800
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e1957ea8f0aaf150a11a@srs2na12.domain> for <java-user@lucene.apache.org>;
 Thu, 1 Mar 2007 09:57:51 +0100
Received: from SPMWB01L.luinternal.fortis.bank ([10.172.252.139]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 1 Mar 2007 09:56:26 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-66229492-e2f5-4b50-88d6-c68ba3e16b27"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: Update - IOException
Date: Thu, 1 Mar 2007 09:56:25 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248808A9A475@SPMWB02L.luinternal.fortis.bank>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Update - IOException
Thread-Index: Acdb33fl80y31zUeQkGUDRDze3Zs6w==
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 01 Mar 2007 08:56:26.0247 (UTC) FILETIME=[7E8EC970:01C75BDF]
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPartTM-000-66229492-e2f5-4b50-88d6-c68ba3e16b27
Content-Type: multipart/alternative; 
	boundary="----_=_NextPart_001_01C75BDF.7E601B5D"

------_=_NextPart_001_01C75BDF.7E601B5D
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

While updating my index I have the following error :

[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R java.io.IOException:
Lock obtain timed out:
Lock@C:\TEMP\lucene-b56f455aea0a705baecaa4411d590aa2-write.lock
[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R 	at
org.apache.lucene.store.Lock.obtain(Lock.java:56)
[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R 	at
org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:489
)
[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R 	at
org.apache.lucene.index.IndexReader.deleteDocument(IndexReader.java:514)
[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R 	at
org.apache.lucene.index.IndexReader.deleteDocuments(IndexReader.java:541
)


I am using lucene 2.0,

When I execute the code below I find an entry with the specified Term
(it displays One Entry Found)
Then when I try to delete the document, I get the error I apsted above.

What I do is :
open a second index reader,
delete document
close second index reader
close main index reader,=20
open new idnexreader

Can anyone help ?

Thank u very much.


  // Open second indexReader
  IndexReader mIndexReaderClone =3D null;
  try {
	mIndexReaderClone =3D IndexReader.open(mWorkingIndexDir);
  }
  catch (IOException exc) {
	exc.printStackTrace();
	throw new RegainException("Creating index reader failed", exc);
  }

Term urlTerm =3D new Term("url", url1);
Query query2 =3D new TermQuery(urlTerm2);
Document doc2;

  Hits hits2 =3D search(query2);
  if (hits2.length() > 0) {
	if (hits2.length() > 1) {
	  System.out.println("Duplicates Entries");
	}
	System.out.println("One Entry Found");
  }
  else {
	  System.out.println("No Entries");
  }

	 =20
	 =20
  try {
	mIndexReaderClone.deleteDocuments(urlTerm);
  } catch (IOException e) {
	e.printStackTrace();
	throw new RegainException("Deleting old entry failed", e);
  }
	 =20
  // Close the Clone IndexReader
try {
  mIndexReaderClone.close();
}
catch (IOException exc) {
  throw new RegainException("Closing index reader failed", exc);
}

__________________________________

   Matt



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


------_=_NextPart_001_01C75BDF.7E601B5D
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version 6.5.7651.52">
<TITLE>Update - IOException</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">Hi,</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">While updating my index I have the following error :</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#FF0000" SIZE=3D2 FACE=3D"Courier Ne=
w">[3/1/07 9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R ja=
va.io.IOException: Lock obtain timed out: Lock@C:\TEMP\lucene-b56f455aea0a7=
05baecaa4411d590aa2-write.lock</FONT></SPAN></P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#FF0000" SIZE=3D2 FACE=3D"Courier Ne=
w">[3/1/07 9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R &n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp; at org.apache.lucene.store.Lock.obtain(Lock.ja=
va:56)</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#FF0000" SIZE=3D2 FACE=3D"Courier N=
ew">[3/1/07 9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R &=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at org.apache.lucene.index.IndexReader.aquire=
WriteLock(IndexReader.java:489)</FONT></SPAN></P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#FF0000" SIZE=3D2 FACE=3D"Courier Ne=
w">[3/1/07 9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R &n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp; at org.apache.lucene.index.IndexReader.deleteD=
ocument(IndexReader.java:514)</FONT></SPAN></P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#FF0000" SIZE=3D2 FACE=3D"Courier Ne=
w">[3/1/07 9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R &n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp; at org.apache.lucene.index.IndexReader.deleteD=
ocuments(IndexReader.java:541)</FONT></SPAN></P>
<BR>

<P><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">I am using luce=
ne 2.0,</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">When I execute =
the code below I find an entry with the specified Term</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">(it displays O=
ne Entry Found)</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">Then when I tr=
y to delete the document, I get the error I apsted above.</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">What I do is :<=
/FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">open a second =
index reader,</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">delete documen=
t</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">close second i=
ndex reader</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">close main ind=
ex reader, </FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">open new idnex=
reader</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">Can anyone help=
 ?</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT SIZE=3D2 FACE=3D"Courier New">Thank u very mu=
ch.</FONT></SPAN>
</P>
<BR>

<P><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT><=
FONT COLOR=3D"#3F7F5F" SIZE=3D2 FACE=3D"Courier New">// Open second indexRe=
ader</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">IndexReader</FONT><FO=
NT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 F=
ACE=3D"Courier New">mIndexReaderClone</FONT><FONT SIZE=3D2 FACE=3D"Courier =
New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=3D</FON=
T><FONT SIZE=3D2 FACE=3D"Courier New"><B> </B></FONT><B><FONT COLOR=3D"#7F0=
055" SIZE=3D2 FACE=3D"Courier New">null</FONT></B><FONT COLOR=3D"#000000" S=
IZE=3D2 FACE=3D"Courier New">;</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp;</FONT><=
B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">try</FONT></B><FON=
T SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FA=
CE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">mIndexReaderClone</FONT><FON=
T SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FA=
CE=3D"Courier New">=3D</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><F=
ONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">IndexReader.open(mWorki=
ngIndexDir);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp;</FONT><=
B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">catch</FONT></B><F=
ONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Courier New">(IOException</FONT><FONT SIZE=3D2 FACE=3D"Courier New"=
> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">exc)</FONT><=
FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2=
 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">exc.printStackTrace();</FONT=
></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FON=
T COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">throw</FONT></B><FONT SIZ=
E=3D2 FACE=3D"Courier New"></FONT><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=
=3D"Courier New">new</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">RegainException(</FON=
T><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quot;Creating inde=
x reader failed&quot;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courie=
r New">,</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#=
000000" SIZE=3D2 FACE=3D"Courier New">exc);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>
</P>

<P><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">Term</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#0=
00000" SIZE=3D2 FACE=3D"Courier New">urlTerm</FONT><FONT SIZE=3D2 FACE=3D"C=
ourier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=
=3D</FONT><FONT SIZE=3D2 FACE=3D"Courier New"></FONT><B> <FONT COLOR=3D"#7F=
0055" SIZE=3D2 FACE=3D"Courier New">new</FONT></B><FONT SIZE=3D2 FACE=3D"Co=
urier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">Te=
rm(</FONT><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quot;url&q=
uot;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">,</FONT><F=
ONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Courier New">url</FONT></SPAN><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#=
000000" SIZE=3D2 FACE=3D"Courier New">1</FONT></SPAN><SPAN LANG=3D"en-us"><=
FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">Query</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"=
#000000" SIZE=3D2 FACE=3D"Courier New">query2</FONT><FONT SIZE=3D2 FACE=3D"=
Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=
=3D</FONT><FONT SIZE=3D2 FACE=3D"Courier New"></FONT></SPAN><SPAN LANG=3D"e=
n-us"><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">new</FONT><=
/B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=
=3D2 FACE=3D"Courier New">TermQuery(urlTerm2);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">Document</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=
=3D"#000000" SIZE=3D2 FACE=3D"Courier New">doc2;</FONT></SPAN>
</P>

<P><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT><=
FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">Hits</FONT><FONT SIZE=
=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"=
Courier New">hits2</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT =
COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=3D</FONT><FONT SIZE=3D2 FA=
CE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier=
 New">search(query2);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp;</FONT><=
B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">if</FONT></B><FONT=
 SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FAC=
E=3D"Courier New">(hits2.length()</FONT><FONT SIZE=3D2 FACE=3D"Courier New"=
> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT><=
FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2=
 FACE=3D"Courier New">0)</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FON=
T COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">if</FONT></B><FONT SIZE=
=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"=
Courier New">(hits2.length()</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </F=
ONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT><FONT =
SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=
=3D"Courier New">1)</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT=
 COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT S=
IZE=3D2 FACE=3D"Courier New">&nbsp; </FONT><FONT COLOR=3D"#000000" SIZE=3D2=
 FACE=3D"Courier New">System.out.println(</FONT><FONT COLOR=3D"#2A00FF" SIZ=
E=3D2 FACE=3D"Courier New">&quot;</FONT></SPAN><SPAN LANG=3D"fr-be"><FONT C=
OLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">Duplicates Entries</FONT></S=
PAN><SPAN LANG=3D"en-us"><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier N=
ew">&quot;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">);</=
FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">System.out.println(</FONT><F=
ONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quot;</FONT></SPAN><SP=
AN LANG=3D"fr-be"><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">One=
 Entry Found</FONT></SPAN><SPAN LANG=3D"en-us"><FONT COLOR=3D"#2A00FF" SIZE=
=3D2 FACE=3D"Courier New">&quot;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FAC=
E=3D"Courier New">);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp;</FONT><=
/SPAN><SPAN LANG=3D"en-us"><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Cou=
rier New">else</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT =
COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT S=
IZE=3D2 FACE=3D"Courier New">&nbsp; </FONT><FONT COLOR=3D"#000000" SIZE=3D2=
 FACE=3D"Courier New">System.out.println(</FONT><FONT COLOR=3D"#2A00FF" SIZ=
E=3D2 FACE=3D"Courier New">&quot;N</FONT></SPAN><SPAN LANG=3D"fr-be"><FONT =
COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">o Entries</FONT></SPAN><SPA=
N LANG=3D"en-us"><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quo=
t;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">);</FONT></S=
PAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>
</P>

<P><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT SI=
ZE=3D2 FACE=3D"Courier New">&nbsp; </FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT S=
IZE=3D2 FACE=3D"Courier New">&nbsp; </FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp;</FONT><=
/SPAN><SPAN LANG=3D"en-us"><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Cou=
rier New">try</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">mIndexReaderClone.deleteDocu=
ments(urlTerm);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT><FONT SIZE=3D=
2 FACE=3D"Courier New"></FONT><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"=
Courier New">catch</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><F=
ONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">(IOException</FONT><FON=
T SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FA=
CE=3D"Courier New">e)</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FO=
NT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">e.printStackTrace();</FONT><=
/SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FON=
T COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">throw</FONT></B><FONT SIZ=
E=3D2 FACE=3D"Courier New"></FONT><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=
=3D"Courier New">new</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">RegainException(</FON=
T><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quot;Deleting old =
entry failed&quot;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">,</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000=
000" SIZE=3D2 FACE=3D"Courier New">e);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT S=
IZE=3D2 FACE=3D"Courier New">&nbsp; </FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#3F7F5F" SIZE=3D2 FACE=3D"Courier New">// Close the Clone In=
dexReader</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><B><FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courie=
r New">try</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLO=
R=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp; </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">mIndexReaderClone.clo=
se();</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">}</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><B><FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courie=
r New">catch</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT CO=
LOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">(IOException</FONT><FONT SIZE=
=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"=
Courier New">exc)</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Courier New">&nbsp;</FONT><=
B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">throw</FONT></B><F=
ONT SIZE=3D2 FACE=3D"Courier New"></FONT><B> <FONT COLOR=3D"#7F0055" SIZE=
=3D2 FACE=3D"Courier New">new</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"=
> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">RegainExcept=
ion(</FONT><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quot;Clos=
ing index reader failed&quot;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=
=3D"Courier New">,</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT =
COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">exc);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">}</FONT></SPAN>
</P>

<P><B><SPAN LANG=3D"fr"><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><=
WBR><WBR><WBR><WBR><WBR><WBR><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verda=
na">__________________________________</FONT></SPAN></B>
</P>

<P><B><SPAN LANG=3D"fr"><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verdana">&=
nbsp;&nbsp; Matt</FONT></SPAN></B><SPAN LANG=3D"fr"><I></I><I></I></SPAN><I=
><SPAN LANG=3D"en-us"></SPAN></I>
</P>

<CODE><FONT SIZE=3D3><BR>
<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
</FONT></CODE>
</BODY>
</HTML>
------_=_NextPart_001_01C75BDF.7E601B5D--


------=_NextPartTM-000-66229492-e2f5-4b50-88d6-c68ba3e16b27
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPartTM-000-66229492-e2f5-4b50-88d6-c68ba3e16b27--


From java-user-return-26532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 09:25:59 2007
Return-Path: <java-user-return-26532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2359 invoked from network); 1 Mar 2007 09:25:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 09:25:58 -0000
Received: (qmail 88172 invoked by uid 500); 1 Mar 2007 09:25:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88130 invoked by uid 500); 1 Mar 2007 09:25:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88119 invoked by uid 99); 1 Mar 2007 09:25:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 01:25:57 -0800
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,MIME_BOUND_NEXTPART
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.154.194.71] (HELO srs2na11.bgl.lu) (194.154.194.71)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Mar 2007 01:25:45 -0800
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e197244970aaf150a11a@srs2na12.domain> for <java-user@lucene.apache.org>;
 Thu, 1 Mar 2007 10:26:38 +0100
Received: from SPMWB01L.luinternal.fortis.bank ([10.172.252.139]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 1 Mar 2007 10:25:19 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-a06fd6b3-5618-4f7f-b0af-1084108b70a1"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Update - IOException
Date: Thu, 1 Mar 2007 10:25:19 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248808A9A477@SPMWB02L.luinternal.fortis.bank>
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248808A9A475@SPMWB02L.luinternal.fortis.bank>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Update - IOException
Thread-Index: Acdb33fl80y31zUeQkGUDRDze3Zs6wAA/JwA
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 01 Mar 2007 09:25:19.0191 (UTC) FILETIME=[87790E70:01C75BE3]
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPartTM-000-a06fd6b3-5618-4f7f-b0af-1084108b70a1
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C75BE3.87622094"

------_=_NextPart_001_01C75BE3.87622094
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I deleted the lock file, now it seems to work ...
=20
When can such an error happen ?
=20
__________________________________=20

   Matt

=20

________________________________

From: DECAFFMEYER MATHIEU [mailto:MATHIEU.DECAFFMAYER@fortis.lu]=20
Sent: Thursday, March 01, 2007 9:56 AM
To: java-user@lucene.apache.org
Subject: Update - IOException


***** This message comes from the Internet Network *****



Hi,=20

While updating my index I have the following error :=20

[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R java.io.IOException:
Lock obtain timed out:
Lock@C:\TEMP\lucene-b56f455aea0a705baecaa4411d590aa2-write.lock

[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R       at
org.apache.lucene.store.Lock.obtain(Lock.java:56)=20
[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R       at
org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:489
)

[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R       at
org.apache.lucene.index.IndexReader.deleteDocument(IndexReader.java:514)

[3/1/07 9:44:19:214 CET] 76414c82 SystemErr     R       at
org.apache.lucene.index.IndexReader.deleteDocuments(IndexReader.java:541
)


I am using lucene 2.0,=20

When I execute the code below I find an entry with the specified Term=20
(it displays One Entry Found)=20
Then when I try to delete the document, I get the error I apsted above.=20

What I do is :=20
open a second index reader,=20
delete document=20
close second index reader=20
close main index reader,=20
open new idnexreader=20

Can anyone help ?=20

Thank u very much.=20


  // Open second indexReader=20
  IndexReader mIndexReaderClone =3D null;=20
  try {=20
        mIndexReaderClone =3D IndexReader.open(mWorkingIndexDir);=20
  }=20
  catch (IOException exc) {=20
        exc.printStackTrace();=20
        throw new RegainException("Creating index reader failed", exc);=20
  }=20

Term urlTerm =3D new Term("url", url1);=20
Query query2 =3D new TermQuery(urlTerm2);=20
Document doc2;=20

  Hits hits2 =3D search(query2);=20
  if (hits2.length() > 0) {=20
        if (hits2.length() > 1) {=20
          System.out.println("Duplicates Entries");=20
        }=20
        System.out.println("One Entry Found");=20
  }=20
  else {=20
          System.out.println("No Entries");=20
  }=20

         =20
         =20
  try {=20
        mIndexReaderClone.deleteDocuments(urlTerm);=20
  } catch (IOException e) {=20
        e.printStackTrace();=20
        throw new RegainException("Deleting old entry failed", e);=20
  }=20
         =20
  // Close the Clone IndexReader=20
try {=20
  mIndexReaderClone.close();=20
}=20
catch (IOException exc) {=20
  throw new RegainException("Closing index reader failed", exc);=20
}=20

__________________________________=20

   Matt=20



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque
Luxembourg S.A. does not accept legal responsibility for the contents of
this message. The information contained in this e-mail is confidential
and may be legally privileged. It is intended solely for the addressee.
If you are not the intended recipient, any disclosure, copying,
distribution or any action taken or omitted to be taken in reliance on
it, is prohibited and may be unlawful. Nothing in the message is capable
or intended to create any legally binding obligations on either party
and it is not intended to provide legal advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


------_=_NextPart_001_01C75BE3.87622094
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>Update - IOException</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.2802" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D322302409-01032007><FONT =
face=3DArial size=3D2>I=20
deleted the lock file, now it seems to work ...</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D322302409-01032007><FONT =
face=3DArial=20
size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D322302409-01032007><FONT =
face=3DArial=20
size=3D2>When can such an error happen ?</FONT></SPAN></DIV>
<DIV>&nbsp;</DIV><!-- Converted from text/rtf format --><B><FONT =
face=3DVerdana=20
color=3D#006699 size=3D1>__________________________________</FONT></B>=20
<P><B><FONT face=3DVerdana><FONT color=3D#006699><FONT =
size=3D1>&nbsp;&nbsp; Mat<SPAN=20
class=3D322302409-01032007>t</SPAN></FONT></FONT></FONT></B></P>
<DIV>&nbsp;</DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> DECAFFMEYER MATHIEU=20
[mailto:MATHIEU.DECAFFMAYER@fortis.lu] <BR><B>Sent:</B> Thursday, March =
01, 2007=20
9:56 AM<BR><B>To:</B> java-user@lucene.apache.org<BR><B>Subject:</B> =
Update -=20
IOException<BR></FONT><BR></DIV>
<DIV></DIV><CODE><FONT size=3D3>***** This message comes from the =
Internet Network=20
*****<BR><BR></FONT></CODE><!-- Converted from text/rtf format -->
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>Hi,</FONT></SPAN> </P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>While updating=20
my index I have the following error :</FONT></SPAN> </P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" color=3D#ff0000 =
size=3D2>[3/1/07=20
9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R=20
java.io.IOException: Lock obtain timed out:=20
Lock@C:\TEMP\lucene-b56f455aea0a705baecaa4411d590aa2-write.lock</FONT></S=
PAN></P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" color=3D#ff0000 =
size=3D2>[3/1/07=20
9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R=20
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at=20
org.apache.lucene.store.Lock.obtain(Lock.java:56)</FONT></SPAN> =
<BR><SPAN=20
lang=3Dfr-be><FONT face=3D"Courier New" color=3D#ff0000 size=3D2>[3/1/07 =
9:44:19:214=20
CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:489)=
</FONT></SPAN></P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" color=3D#ff0000 =
size=3D2>[3/1/07=20
9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R=20
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at=20
org.apache.lucene.index.IndexReader.deleteDocument(IndexReader.java:514)<=
/FONT></SPAN></P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" color=3D#ff0000 =
size=3D2>[3/1/07=20
9:44:19:214 CET] 76414c82 SystemErr&nbsp;&nbsp;&nbsp;&nbsp; R=20
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at=20
org.apache.lucene.index.IndexReader.deleteDocuments(IndexReader.java:541)=
</FONT></SPAN></P><BR>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>I am using =
lucene=20
2.0,</FONT></SPAN> </P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>When I execute =
the code=20
below I find an entry with the specified Term</FONT></SPAN> <BR><SPAN=20
lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>(it displays One Entry=20
Found)</FONT></SPAN> <BR><SPAN lang=3Dfr-be><FONT face=3D"Courier New" =
size=3D2>Then=20
when I try to delete the document, I get the error I apsted =
above.</FONT></SPAN>=20
</P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>What I do is =
:</FONT></SPAN>=20
<BR><SPAN lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>open a second =
index=20
reader,</FONT></SPAN> <BR><SPAN lang=3Dfr-be><FONT face=3D"Courier New"=20
size=3D2>delete document</FONT></SPAN> <BR><SPAN lang=3Dfr-be><FONT=20
face=3D"Courier New" size=3D2>close second index reader</FONT></SPAN> =
<BR><SPAN=20
lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>close main index =
reader,=20
</FONT></SPAN><BR><SPAN lang=3Dfr-be><FONT face=3D"Courier New" =
size=3D2>open new=20
idnexreader</FONT></SPAN> </P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>Can anyone =
help=20
?</FONT></SPAN> </P>
<P><SPAN lang=3Dfr-be><FONT face=3D"Courier New" size=3D2>Thank u very=20
much.</FONT></SPAN> </P><BR>
<P><SPAN lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp; =
</FONT><FONT=20
face=3D"Courier New" color=3D#3f7f5f size=3D2>// Open second =
indexReader</FONT></SPAN>=20
<BR><SPAN lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp; =
</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>IndexReader</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>mIndexReaderClone</FONT><FONT face=3D"Courier New" size=3D2> =
</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>=3D</FONT><FONT =
face=3D"Courier New"=20
size=3D2><B> </B></FONT><B><FONT face=3D"Courier New" color=3D#7f0055=20
size=3D2>null</FONT></B><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>;</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT face=3D"Courier =
New"=20
size=3D2>&nbsp;</FONT><B> <FONT face=3D"Courier New" color=3D#7f0055=20
size=3D2>try</FONT></B><FONT face=3D"Courier New" size=3D2> </FONT><FONT =

face=3D"Courier New" color=3D#000000 size=3D2>{</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>mIndexReaderClone</FONT><FONT face=3D"Courier =
New" size=3D2>=20
</FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>=3D</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>IndexReader.open(mWorkingIndexDir);</FONT></SPAN> <BR><SPAN=20
lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp; </FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>}</FONT></SPAN> <BR><SPAN=20
lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp;</FONT><B> <FONT=20
face=3D"Courier New" color=3D#7f0055 size=3D2>catch</FONT></B><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>(IOException</FONT><FONT face=3D"Courier New" size=3D2> =
</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>exc)</FONT><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>{</FONT></SPAN>=20
<BR><SPAN lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT=20
face=3D"Courier New" color=3D#000000 =
size=3D2>exc.printStackTrace();</FONT></SPAN>=20
<BR><SPAN lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> =
<FONT=20
face=3D"Courier New" color=3D#7f0055 size=3D2>throw</FONT></B><FONT =
face=3D"Courier New"=20
size=3D2></FONT><B> <FONT face=3D"Courier New" color=3D#7f0055=20
size=3D2>new</FONT></B><FONT face=3D"Courier New" size=3D2> </FONT><FONT =

face=3D"Courier New" color=3D#000000 =
size=3D2>RegainException(</FONT><FONT=20
face=3D"Courier New" color=3D#2a00ff size=3D2>"Creating index reader=20
failed"</FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>,</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>exc);</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT =
face=3D"Courier New"=20
size=3D2>&nbsp; </FONT><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>}</FONT></SPAN> </P>
<P><SPAN lang=3Den-us><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>Term</FONT><FONT face=3D"Courier New" size=3D2> </FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>urlTerm</FONT><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>=3D</FONT><FONT=20
face=3D"Courier New" size=3D2></FONT><B> <FONT face=3D"Courier New" =
color=3D#7f0055=20
size=3D2>new</FONT></B><FONT face=3D"Courier New" size=3D2> </FONT><FONT =

face=3D"Courier New" color=3D#000000 size=3D2>Term(</FONT><FONT =
face=3D"Courier New"=20
color=3D#2a00ff size=3D2>"url"</FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>,</FONT><FONT face=3D"Courier New" size=3D2> </FONT><FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>url</FONT></SPAN><SPAN lang=3Dfr-be><FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>1</FONT></SPAN><SPAN lang=3Den-us><FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>);</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>Query</FONT><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>query2</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>=3D</FONT><FONT face=3D"Courier New" =
size=3D2></FONT></SPAN><SPAN=20
lang=3Den-us><B> <FONT face=3D"Courier New" color=3D#7f0055 =
size=3D2>new</FONT></B><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>TermQuery(urlTerm2);</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT =

face=3D"Courier New" color=3D#000000 size=3D2>Document</FONT><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>doc2;</FONT></SPAN>=20
</P>
<P><SPAN lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp; =
</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>Hits</FONT><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>hits2</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>=3D</FONT><FONT face=3D"Courier New" size=3D2> </FONT><FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>search(query2);</FONT></SPAN> <BR><SPAN =
lang=3Den-us><FONT=20
face=3D"Courier New" size=3D2>&nbsp;</FONT><B> <FONT face=3D"Courier =
New"=20
color=3D#7f0055 size=3D2>if</FONT></B><FONT face=3D"Courier New" =
size=3D2> </FONT><FONT=20
face=3D"Courier New" color=3D#000000 =
size=3D2>(hits2.length()</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>&gt;</FONT><FONT face=3D"Courier New" size=3D2> </FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>0)</FONT><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>{</FONT></SPAN>=20
<BR><SPAN lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> =
<FONT=20
face=3D"Courier New" color=3D#7f0055 size=3D2>if</FONT></B><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>(hits2.length()</FONT><FONT face=3D"Courier New" size=3D2> =
</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>&gt;</FONT><FONT =
face=3D"Courier New"=20
size=3D2> </FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>1)</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>{</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
size=3D2>&nbsp; </FONT><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>System.out.println(</FONT><FONT face=3D"Courier New" =
color=3D#2a00ff=20
size=3D2>"</FONT></SPAN><SPAN lang=3Dfr-be><FONT face=3D"Courier New" =
color=3D#2a00ff=20
size=3D2>Duplicates Entries</FONT></SPAN><SPAN lang=3Den-us><FONT =
face=3D"Courier New"=20
color=3D#2a00ff size=3D2>"</FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>);</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>}</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>System.out.println(</FONT><FONT face=3D"Courier =
New"=20
color=3D#2a00ff size=3D2>"</FONT></SPAN><SPAN lang=3Dfr-be><FONT =
face=3D"Courier New"=20
color=3D#2a00ff size=3D2>One Entry Found</FONT></SPAN><SPAN =
lang=3Den-us><FONT=20
face=3D"Courier New" color=3D#2a00ff size=3D2>"</FONT><FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>);</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT=20
face=3D"Courier New" size=3D2>&nbsp; </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>}</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT face=3D"Courier =
New"=20
size=3D2>&nbsp;</FONT></SPAN><SPAN lang=3Den-us><B> <FONT =
face=3D"Courier New"=20
color=3D#7f0055 size=3D2>else</FONT></B><FONT face=3D"Courier New" =
size=3D2>=20
</FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>{</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
size=3D2>&nbsp; </FONT><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>System.out.println(</FONT><FONT face=3D"Courier New" =
color=3D#2a00ff=20
size=3D2>"N</FONT></SPAN><SPAN lang=3Dfr-be><FONT face=3D"Courier New" =
color=3D#2a00ff=20
size=3D2>o Entries</FONT></SPAN><SPAN lang=3Den-us><FONT face=3D"Courier =
New"=20
color=3D#2a00ff size=3D2>"</FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>);</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT face=3D"Courier =
New"=20
size=3D2>&nbsp; </FONT><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>}</FONT></SPAN> </P>
<P><SPAN lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT=20
face=3D"Courier New" size=3D2>&nbsp; </FONT></SPAN><BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
size=3D2>&nbsp; </FONT></SPAN><BR><SPAN lang=3Den-us><FONT =
face=3D"Courier New"=20
size=3D2>&nbsp;</FONT></SPAN><SPAN lang=3Den-us><B> <FONT =
face=3D"Courier New"=20
color=3D#7f0055 size=3D2>try</FONT></B><FONT face=3D"Courier New" =
size=3D2> </FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>{</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
color=3D#000000 =
size=3D2>mIndexReaderClone.deleteDocuments(urlTerm);</FONT></SPAN>=20
<BR><SPAN lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp; =
</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>}</FONT><FONT =
face=3D"Courier New"=20
size=3D2></FONT><B> <FONT face=3D"Courier New" color=3D#7f0055=20
size=3D2>catch</FONT></B><FONT face=3D"Courier New" size=3D2> =
</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>(IOException</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>e)</FONT><FONT face=3D"Courier New" size=3D2> </FONT><FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>{</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>e.printStackTrace();</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FONT=20
face=3D"Courier New" color=3D#7f0055 size=3D2>throw</FONT></B><FONT =
face=3D"Courier New"=20
size=3D2></FONT><B> <FONT face=3D"Courier New" color=3D#7f0055=20
size=3D2>new</FONT></B><FONT face=3D"Courier New" size=3D2> </FONT><FONT =

face=3D"Courier New" color=3D#000000 =
size=3D2>RegainException(</FONT><FONT=20
face=3D"Courier New" color=3D#2a00ff size=3D2>"Deleting old entry =
failed"</FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>,</FONT><FONT =
face=3D"Courier New" size=3D2>=20
</FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>e);</FONT></SPAN> <BR><SPAN=20
lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp; </FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>}</FONT></SPAN> <BR><SPAN=20
lang=3Den-us>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
face=3D"Courier New"=20
size=3D2>&nbsp; </FONT></SPAN><BR><SPAN lang=3Den-us><FONT =
face=3D"Courier New"=20
size=3D2>&nbsp; </FONT><FONT face=3D"Courier New" color=3D#3f7f5f =
size=3D2>// Close the=20
Clone IndexReader</FONT></SPAN> <BR><SPAN lang=3Den-us><B><FONT =
face=3D"Courier New"=20
color=3D#7f0055 size=3D2>try</FONT></B><FONT face=3D"Courier New" =
size=3D2> </FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>{</FONT></SPAN> <BR><SPAN=20
lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp; </FONT><FONT=20
face=3D"Courier New" color=3D#000000 =
size=3D2>mIndexReaderClone.close();</FONT></SPAN>=20
<BR><SPAN lang=3Den-us><FONT face=3D"Courier New" color=3D#000000=20
size=3D2>}</FONT></SPAN> <BR><SPAN lang=3Den-us><B><FONT face=3D"Courier =
New"=20
color=3D#7f0055 size=3D2>catch</FONT></B><FONT face=3D"Courier New" =
size=3D2>=20
</FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>(IOException</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>exc)</FONT><FONT face=3D"Courier New" size=3D2> </FONT><FONT=20
face=3D"Courier New" color=3D#000000 size=3D2>{</FONT></SPAN> <BR><SPAN=20
lang=3Den-us><FONT face=3D"Courier New" size=3D2>&nbsp;</FONT><B> <FONT=20
face=3D"Courier New" color=3D#7f0055 size=3D2>throw</FONT></B><FONT =
face=3D"Courier New"=20
size=3D2></FONT><B> <FONT face=3D"Courier New" color=3D#7f0055=20
size=3D2>new</FONT></B><FONT face=3D"Courier New" size=3D2> </FONT><FONT =

face=3D"Courier New" color=3D#000000 =
size=3D2>RegainException(</FONT><FONT=20
face=3D"Courier New" color=3D#2a00ff size=3D2>"Closing index reader=20
failed"</FONT><FONT face=3D"Courier New" color=3D#000000 =
size=3D2>,</FONT><FONT=20
face=3D"Courier New" size=3D2> </FONT><FONT face=3D"Courier New" =
color=3D#000000=20
size=3D2>exc);</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT =
face=3D"Courier New"=20
color=3D#000000 size=3D2>}</FONT></SPAN> </P>
<P><B><SPAN=20
lang=3Dfr><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WB=
R><WBR><WBR><WBR><FONT=20
face=3DVerdana color=3D#006699=20
size=3D1>__________________________________</FONT></SPAN></B> </P>
<P><B><SPAN lang=3Dfr><FONT face=3DVerdana color=3D#006699 =
size=3D1>&nbsp;&nbsp;=20
Matt</FONT></SPAN></B><SPAN lang=3Dfr><I></I><I></I></SPAN><I><SPAN=20
lang=3Den-us></SPAN></I> </P><CODE><FONT=20
size=3D3><BR><BR>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
<BR>Internet=20
communications are not secure and therefore Fortis Banque Luxembourg =
S.A. does=20
not accept legal responsibility for the contents of this message. The=20
information contained in this e-mail is confidential and may be legally=20
privileged. It is intended solely for the addressee. If you are not the =
intended=20
recipient, any disclosure, copying, distribution or any action taken or =
omitted=20
to be taken in reliance on it, is prohibited and may be unlawful. =
Nothing in the=20
message is capable or intended to create any legally binding obligations =
on=20
either party and it is not intended to provide legal=20
advice.<BR>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>=
</FONT></CODE></BODY></HTML>

------_=_NextPart_001_01C75BE3.87622094--


------=_NextPartTM-000-a06fd6b3-5618-4f7f-b0af-1084108b70a1
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPartTM-000-a06fd6b3-5618-4f7f-b0af-1084108b70a1--


From java-user-return-26533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 09:35:40 2007
Return-Path: <java-user-return-26533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5127 invoked from network); 1 Mar 2007 09:35:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 09:35:40 -0000
Received: (qmail 6383 invoked by uid 500); 1 Mar 2007 09:35:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6358 invoked by uid 500); 1 Mar 2007 09:35:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6347 invoked by uid 99); 1 Mar 2007 09:35:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 01:35:42 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 01:35:31 -0800
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l219Ywu8031234
	for <java-user@lucene.apache.org>; Thu, 1 Mar 2007 11:34:58 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m31byfr_; 1 Mar 2007 11:34:00 +0200
Message-ID: <45E69E39.2010101@teamware.com>
Date: Thu, 01 Mar 2007 20:34:49 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Best way to returning hits after search?
References: <OF67020611.68B2D004-ON88257290.007660C9-88257290.007817AC@il.ibm.com>
In-Reply-To: <OF67020611.68B2D004-ON88257290.007660C9-88257290.007817AC@il.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Thu, 01 Mar 2007 11:34:58 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

> If you decide to cache stored field value in memory, FieldCache may be
> useful for this - so you don't have to implement your own cache - you can
> access the field values with something like:
>    FieldCache fieldCache = FieldCache.DEFAULT;
>    String db_id_field[] =
> fieldCache.getStrings(indexReader,"DB_ID_FIELD_NAME");
> Those values are valid for the lifetime of the index-reader. Once a new
> index reader is opened, when GC collects the unused old index reader
> object, it would also be able to collect (from the cache) unused field
> values.

Thanks for the pointers Doron.  I'll take a look at that.
Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 10:22:57 2007
Return-Path: <java-user-return-26534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21309 invoked from network); 1 Mar 2007 10:22:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 10:22:56 -0000
Received: (qmail 6355 invoked by uid 500); 1 Mar 2007 10:22:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6330 invoked by uid 500); 1 Mar 2007 10:22:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6318 invoked by uid 99); 1 Mar 2007 10:22:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 02:22:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 02:22:46 -0800
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id CD4201F4A1C
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 05:22:25 -0500 (EST)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Thu, 01 Mar 2007 05:22:25 -0500
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id AF23616FFD8; Thu,  1 Mar 2007 05:22:25 -0500 (EST)
Message-Id: <1172744545.26930.1177152915@webmail.messagingengine.com>
X-Sasl-Enc: GpA9ZzDZGQT14r8Qo6W5YBDwa9NvreAlRLEQlMTKAgdQ 1172744545
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
Subject: Re: Lucene 2.1: java.io.IOException: Lock obtain timed out:
   SimpleFSLock@<path of index file>
In-Reply-To: <A48E4B1E4A5829469F3ACB3DE313F2453D12D1@bimela9inl01.bi.local>
Date: Thu, 01 Mar 2007 05:22:25 -0500
References: <A48E4B1E4A5829469F3ACB3DE313F2453D12D1@bimela9inl01.bi.local>
X-Virus-Checked: Checked by ClamAV on apache.org

"Jerome Chauvin" <Jerome.Chauvin@businessinteractif.fr> wrote:

> We encounter issues while updating the lucene index, here is the stack
> trace:
>  
> Caused by: java.io.IOException: Lock obtain timed out:
> SimpleFSLock@/data/www/orcanta/lucene/store1/write.lock
>  at org.apache.lucene.store.Lock.obtain(Lock.java:69)
>  at
>  org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:526)
>  at
>  org.apache.lucene.index.IndexReader.deleteDocument(IndexReader.java:551)
>  at
>  org.apache.lucene.index.IndexReader.deleteDocuments(IndexReader.java:578)
>  at
> com.bi.commerce.service.catalog.spring.lucene.LuceneIndex.deleteFromIndex(Luc
> eneIndex.java:692)
>  ... 25 more

First off, you have to ensure only one writer (either IndexWriter or
as in this case IndexReader doing deletes) is trying to update the
index at the same time.  Lucene only allows one writer on an index, and if
a second writer tries to open it will receive exactly this exception.

(Note that as of 2.1 you can now do deletes with IndexWriter which
simplifies things because you can use a single IndexWriter for
adds/updates/deletes.)

If you are already doing that (single writer) correctly, the other
common cause is that this is a leftover lock file (for example if the
JVM crashed or was killed or even if you didn't close a previous
writer before the JVM exited).  There is a better locking
implementation (NativeFSLockFactory) that correctly frees the lock
when the JVM crashes so you may want to use that one instead if you
hit this often (but first explain the root cause of your crashes!).

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 10:25:59 2007
Return-Path: <java-user-return-26535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22423 invoked from network); 1 Mar 2007 10:25:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 10:25:58 -0000
Received: (qmail 13213 invoked by uid 500); 1 Mar 2007 10:26:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13185 invoked by uid 500); 1 Mar 2007 10:26:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13173 invoked by uid 99); 1 Mar 2007 10:26:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 02:26:00 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.242] (HELO web50309.mail.yahoo.com) (206.190.38.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Mar 2007 02:25:47 -0800
Received: (qmail 26798 invoked by uid 60001); 1 Mar 2007 10:25:24 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=pGd+VnAXDehM2NMdQcmoOcKUtzMygRDHQ4QiBKT0amQyMoDXQDHUaYC2unkrswBZSXDS6Qjw2/pLLtovcvkUFrJenUXENWbVIU0ARY9MIr04G6PaM9f9wl7PSH+EAgwHcVEhpA2m2G4Yi2m7RBTbWfgbVa0YOKhYITOBLmcFy0g=;
X-YMail-OSG: mCdh17UVM1kZe5JMeTjIcPQY2yGjwe1SolMsjldUMn.yOp4kwSGa0yhDS1N9SKUnIs1xFrgPNWhV12oxp2HbcnE8laUWnsW3hwNsM3htApLUX7tSDdqMcYczi.PUsV1VwOkRlfmnFh_sayA-
Received: from [58.63.145.127] by web50309.mail.yahoo.com via HTTP; Thu, 01 Mar 2007 02:25:24 PST
X-Mailer: YahooMailRC/468.1 YahooMailWebService/0.6.132.8
Date: Thu, 1 Mar 2007 02:25:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Soliciting Design Thoughts on Date Searching
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <239461.26543.qm@web50309.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Ah, I once worked in a place where we did exactly that - recognition and ex=
traction of useful nuggets from emails - dates, emails, URLs, attachments, =
people, places...see divmod.com for the next generation of that.  I believe=
 Zoe subsequently did something very similar.  I think Zoe is still free, s=
o you might be able to get ideas from its source code.=0A=0Ahttp://guests.e=
vectors.it/zoe/=0A=0AThere may also be some UIMA components for date extrac=
tion.  UIMA is now in ASF's Incubator.=0A=0AOtis=0A . . . . . . . . . . . .=
 . . . . . . . . . . . . . . . . . .=0ASimpy -- http://www.simpy.com/  -  T=
ag  -  Search  -  Share=0A=0A----- Original Message ----=0AFrom: Steven Par=
kes <steven_parkes@esseff.org>=0ATo: java-user@lucene.apache.org=0ASent: We=
dnesday, February 28, 2007 6:56:02 PM=0ASubject: RE: Soliciting Design Thou=
ghts on Date Searching=0A=0AYeah, date finding is a little like entity extr=
action, since dates can=0Ahave many formats, depending on how crazy you wan=
t to get ("a week from=0Atomorrow" is 3/8/2007 if you know that this e-mail=
 was written today).=0ASo much so that I went and looked up lingpipe, but t=
hey seem to not be=0Aconcerned with dates. =0A=0AEven if you don't get craz=
y, it's not straightforward: is 3/8/2007 March=0A8th or August 3rd? Dates c=
an be written many ways. The real challenge is=0Arecognizing dates.=0A=0AAs=
 Chris said, once you have them, you just stick them in the token=0Astream.=
 In fact, you can emit the date token (as Chris suggested, with=0Asome deli=
miter that helps you know it's a date) with a position=0Aincrement of zero =
and then emit the regular tokens so that the token=0Astream will have both =
and aligned.=0A=0A-----Original Message-----=0AFrom: Chris Hostetter [mailt=
o:hossman_lucene@fucit.org] =0ASent: Wednesday, February 28, 2007 3:26 PM=
=0ATo: Lucene Users=0ASubject: Re: Soliciting Design Thoughts on Date Searc=
hing=0A=0A=0A: I have generic material that _contain_ dates: historic time =
lines,=0A: certificates, news articles, forms, deeds, testimonies, and wild=
ly=0A: free form genealogical information.  The dates have no specific=0A: =
structure, obvious context, nor consistency.=0A=0Aidentifying an extracting=
 dates from bulk text sounds like a pretyt=0Ainteresting analysys problem .=
.. if you wrote a Tokenizer that could=0Arecognize dates, you could then fo=
rmat them using something like=0ADateTools=0Ato ensure it would be easy to =
find them ... but Lucene Analyzers can not=0Acurrently create terns in mult=
iple fields - so if you wanted a special=0A"date" field for each doc, you w=
ould have to extract those dates in a=0Apreprocessing step.=0A=0Aif you are=
n't picky how your index is stored however, there is no reason=0Awhy you ca=
n't have a single field with your "text" terms and your "date"=0Aterms ... =
you would just have to be careful to know the differnece in=0Asearching ...=
 make your analyzer prefix all of your date terms with=0Asoemthing it would=
 never let your regular terms start with (ie "__")=0Aand=0Amake sure you be=
ar that structure in mind when creating your RangeFilter=0Aon dates.=0A=0A:=
 Now this is where my personal knowledge of Lucene breaks down.=0A: Assumin=
g I can extract each date from a source's body and convert it=0A: to a usab=
le format, can a Lucene Date Field hold more than one date?=0A=0Afields can=
 contain as many values as you want -- or none at all.=0A=0A: If the answer=
 is yes, problem solved!  I'll just pile on a ton of=0A=0Adefinitely yes.=
=0A=0A=0A=0A=0A-Hoss=0A=0A=0A----------------------------------------------=
-----------------------=0ATo unsubscribe, e-mail: java-user-unsubscribe@luc=
ene.apache.org=0AFor additional commands, e-mail: java-user-help@lucene.apa=
che.org=0A=0A=0A-----------------------------------------------------------=
----------=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.or=
g=0AFor additional commands, e-mail: java-user-help@lucene.apache.org=0A=0A=
=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 10:27:22 2007
Return-Path: <java-user-return-26536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22833 invoked from network); 1 Mar 2007 10:27:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 10:27:21 -0000
Received: (qmail 15831 invoked by uid 500); 1 Mar 2007 10:27:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15810 invoked by uid 500); 1 Mar 2007 10:27:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15799 invoked by uid 99); 1 Mar 2007 10:27:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 02:27:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 02:27:12 -0800
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id CA7CC1F2217
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 05:26:51 -0500 (EST)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Thu, 01 Mar 2007 05:26:51 -0500
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id AED1D16FA88; Thu,  1 Mar 2007 05:26:51 -0500 (EST)
Message-Id: <1172744811.27407.1177154279@webmail.messagingengine.com>
X-Sasl-Enc: diDbRGYhyUyPTSxTMDzQ+Ryops+hc7l77JKjSq/EmOK6 1172744811
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <EBC8F228BDB35A4394D0BE53DA25248808A9A477@SPMWB02L.luinternal.fortis.bank>
Subject: RE: Update - IOException
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248808A9A477@SPMWB02L.luinternal.fortis.bank>
Date: Thu, 01 Mar 2007 05:26:51 -0500
X-Virus-Checked: Checked by ClamAV on apache.org


"DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu> wrote:
> I deleted the lock file, now it seems to work ...
>  
> When can such an error happen ?

See my response I just sent to java-user on this same error.  Even though
you are running Lucene 2.0, the same causes can lead to that "Lock obtain
timed out" exception.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 12:14:04 2007
Return-Path: <java-user-return-26537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62236 invoked from network); 1 Mar 2007 12:14:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 12:14:01 -0000
Received: (qmail 53083 invoked by uid 500); 1 Mar 2007 12:14:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53053 invoked by uid 500); 1 Mar 2007 12:14:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53042 invoked by uid 99); 1 Mar 2007 12:14:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 04:14:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.214] (HELO web26003.mail.ukl.yahoo.com) (217.12.10.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Mar 2007 04:13:49 -0800
Received: (qmail 924 invoked by uid 60001); 1 Mar 2007 12:13:27 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=HC2TEqSCWRHpIy/rgtx1s3ZtU11/BwRpoFhX8akgWgC/wiByUxs4wY68nyh0EUEQsDlqQr5MSkg5lKk1TKplltCATnfzu0PdrQLo97vK/OP0lXVaHjugvkjaKX0EG/d6PSSNIfCnJnYfDEhKLUCwl8Vu2rGQn+MgnUFaniFwsqE=  ;
Message-ID: <20070301121327.922.qmail@web26003.mail.ukl.yahoo.com>
X-YMail-OSG: ih20tykVM1nNNaoXscwWs3.zQT66Pk9m7uKX6ysywpaZ8ryB1pqwlAx4DfjChk.Pkg--
Received: from [193.36.230.96] by web26003.mail.ukl.yahoo.com via HTTP; Thu, 01 Mar 2007 12:13:27 GMT
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Thu, 1 Mar 2007 12:13:27 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Soliciting Design Thoughts on Date Searching
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

GATE is the other entity extraction framework ( http://gate.ac.uk) and come=
s out of the box with a lot of this stuff.=0A=0AEven once you've parsed the=
 dates your next problem is representing and querying time - you referred t=
o the fact that documents could represent single dates, multiple dates or t=
ime lines. I've found that a very flexible form of representing and queryin=
g time is to use the spatial technology normally used in GIS (geographic in=
formations systems). They've got the smarts for representing shapes such as=
 points, lines, multi-lines, multi-points  etc and the retrieval tools that=
 compare query shapes with data shapes using operators like "contains", "in=
tersects", "within" etc. This spatial technology can be applied to handling=
 time as well - you just make use of one dimension instead of the usual two=
.=0A=0A=0ACheers=0AMark=0A=0A----- Original Message ----=0AFrom: Otis Gospo=
dnetic <otis_gospodnetic@yahoo.com>=0ATo: java-user@lucene.apache.org=0ASen=
t: Thursday, 1 March, 2007 10:25:24 AM=0ASubject: Re: Soliciting Design Tho=
ughts on Date Searching=0A=0AAh, I once worked in a place where we did exac=
tly that - recognition and extraction of useful nuggets from emails - dates=
, emails, URLs, attachments, people, places...see divmod.com for the next g=
eneration of that.  I believe Zoe subsequently did something very similar. =
 I think Zoe is still free, so you might be able to get ideas from its sour=
ce code.=0A=0Ahttp://guests.evectors.it/zoe/=0A=0AThere may also be some UI=
MA components for date extraction.  UIMA is now in ASF's Incubator.=0A=0AOt=
is=0A . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .=0ASimpy -=
- http://www.simpy.com/  -  Tag  -  Search  -  Share=0A=0A----- Original Me=
ssage ----=0AFrom: Steven Parkes <steven_parkes@esseff.org>=0ATo: java-user=
@lucene.apache.org=0ASent: Wednesday, February 28, 2007 6:56:02 PM=0ASubjec=
t: RE: Soliciting Design Thoughts on Date Searching=0A=0AYeah, date finding=
 is a little like entity extraction, since dates can=0Ahave many formats, d=
epending on how crazy you want to get ("a week from=0Atomorrow" is 3/8/2007=
 if you know that this e-mail was written today).=0ASo much so that I went =
and looked up lingpipe, but they seem to not be=0Aconcerned with dates. =0A=
=0AEven if you don't get crazy, it's not straightforward: is 3/8/2007 March=
=0A8th or August 3rd? Dates can be written many ways. The real challenge is=
=0Arecognizing dates.=0A=0AAs Chris said, once you have them, you just stic=
k them in the token=0Astream. In fact, you can emit the date token (as Chri=
s suggested, with=0Asome delimiter that helps you know it's a date) with a =
position=0Aincrement of zero and then emit the regular tokens so that the t=
oken=0Astream will have both and aligned.=0A=0A-----Original Message-----=
=0AFrom: Chris Hostetter [mailto:hossman_lucene@fucit.org] =0ASent: Wednesd=
ay, February 28, 2007 3:26 PM=0ATo: Lucene Users=0ASubject: Re: Soliciting =
Design Thoughts on Date Searching=0A=0A=0A: I have generic material that _c=
ontain_ dates: historic time lines,=0A: certificates, news articles, forms,=
 deeds, testimonies, and wildly=0A: free form genealogical information.  Th=
e dates have no specific=0A: structure, obvious context, nor consistency.=
=0A=0Aidentifying an extracting dates from bulk text sounds like a pretyt=
=0Ainteresting analysys problem ... if you wrote a Tokenizer that could=0Ar=
ecognize dates, you could then format them using something like=0ADateTools=
=0Ato ensure it would be easy to find them ... but Lucene Analyzers can not=
=0Acurrently create terns in multiple fields - so if you wanted a special=
=0A"date" field for each doc, you would have to extract those dates in a=0A=
preprocessing step.=0A=0Aif you aren't picky how your index is stored howev=
er, there is no reason=0Awhy you can't have a single field with your "text"=
 terms and your "date"=0Aterms ... you would just have to be careful to kno=
w the differnece in=0Asearching ... make your analyzer prefix all of your d=
ate terms with=0Asoemthing it would never let your regular terms start with=
 (ie "__")=0Aand=0Amake sure you bear that structure in mind when creating =
your RangeFilter=0Aon dates.=0A=0A: Now this is where my personal knowledge=
 of Lucene breaks down.=0A: Assuming I can extract each date from a source'=
s body and convert it=0A: to a usable format, can a Lucene Date Field hold =
more than one date?=0A=0Afields can contain as many values as you want -- o=
r none at all.=0A=0A: If the answer is yes, problem solved!  I'll just pile=
 on a ton of=0A=0Adefinitely yes.=0A=0A=0A=0A=0A-Hoss=0A=0A=0A-------------=
--------------------------------------------------------=0ATo unsubscribe, =
e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional commands, =
e-mail: java-user-help@lucene.apache.org=0A=0A=0A--------------------------=
-------------------------------------------=0ATo unsubscribe, e-mail: java-=
user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail: java-=
user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A------------------------------=
---------------------------------------=0ATo unsubscribe, e-mail: java-user=
-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail: java-user=
-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=09=0A=09=0A=09=09=0A__________=
_________________________________________________ =0ANew Yahoo! Mail is the=
 ultimate force in competitive emailing. Find out more at the Yahoo! Mail C=
hampionships. Plus: play games and win prizes. =0Ahttp://uk.rd.yahoo.com/ev=
t=3D44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 12:23:22 2007
Return-Path: <java-user-return-26538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63667 invoked from network); 1 Mar 2007 12:23:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 12:23:21 -0000
Received: (qmail 62316 invoked by uid 500); 1 Mar 2007 12:23:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62284 invoked by uid 500); 1 Mar 2007 12:23:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62273 invoked by uid 99); 1 Mar 2007 12:23:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 04:23:22 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 217.68.146.190 as permitted sender)
Received: from [217.68.146.190] (HELO cluster-b.mailcontrol.com) (217.68.146.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 04:23:07 -0800
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly34b.srv.mailcontrol.com (MailControl) with SMTP id l21CMM24027319
	for <java-user@lucene.apache.org>; Thu, 1 Mar 2007 12:22:41 GMT
Received: From SGBD012103.wsatkins.com ([10.202.26.17]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1172751714750; Thu, 1 Mar 2007 12:21:54 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012103.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 1 Mar 2007 12:21:54 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C75BFC.325437BA"
Subject: Spanned indexes
Date: Thu, 1 Mar 2007 12:21:52 -0000
Message-ID: <BC1CFC544422CB4A934908E126A474270603CEFB@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Spanned indexes
Thread-Index: Acdb/DHT+6LOJ07XTWS5K+bQniP1dQ==
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 01 Mar 2007 12:21:54.0301 (UTC) FILETIME=[32A68AD0:01C75BFC]
X-Scanned-By: MailControl A-07-06-90 (www.mailcontrol.com) on 10.66.0.144
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C75BFC.325437BA
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi all,

Is it possible in Lucene for an index to span multiple files?  If so
what is the recommendation in this case?  Is it better to span after the
index reaches a particular size?  Furthermore, does Lucene ever span a
single record between two or more index files in this case or does it
ensure that a single record will only appear in one spanned file?

Many thanks for your advice

Sachin


This email and any attached files are confidential and copyright protected.=
 If you are not the addressee, any dissemination of this communication is s=
trictly prohibited. Unless otherwise expressly agreed in writing, nothing s=
tated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc.  Register=
ed in England No. 1885586.  Registered Office Woodcote Grove, Ashley Road, =
Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really =
need to.=20

------_=_NextPart_001_01C75BFC.325437BA--

From java-user-return-26539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 12:32:07 2007
Return-Path: <java-user-return-26539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65249 invoked from network); 1 Mar 2007 12:32:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 12:32:06 -0000
Received: (qmail 73574 invoked by uid 500); 1 Mar 2007 12:32:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73542 invoked by uid 500); 1 Mar 2007 12:32:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73527 invoked by uid 99); 1 Mar 2007 12:32:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 04:32:09 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.227 as permitted sender)
Received: from [64.233.184.227] (HELO wr-out-0506.google.com) (64.233.184.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 04:31:57 -0800
Received: by wr-out-0506.google.com with SMTP id 36so256487wra
        for <java-user@lucene.apache.org>; Thu, 01 Mar 2007 04:31:37 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rNgFuuX4VFyrID3p4Dk0RPeHlQ7eF83k8OnzVsMzSMPxY1B3zN7NZL314QtREu1gX/oFAc0hj0ofWo65fz3FWrix6I/6D9j4JkDqmSLUNs5qeTKfr5IrTC1PJ5c10U0i/1D3rcrgBax37k7H6mAArU3YGKmMGBVSmDCwR6MC13A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ug6jEu9MxHekZED7wxP2iH+XlXgWMP6pQQcc2TRiYGgMlS5++qbGXasJOp/d1AhcBUxUXwqh5aVZK8dBreBe6yur5GTt3uTuaeBOXp3OPWt3+yf0a2Ro8DSP9zeXx2ftbuUdNkG7srhLeGUaMKN8oui7KZ+qZRw4nWoH89zn0lM=
Received: by 10.114.112.1 with SMTP id k1mr278034wac.1172752292058;
        Thu, 01 Mar 2007 04:31:32 -0800 (PST)
Received: by 10.114.58.3 with HTTP; Thu, 1 Mar 2007 04:31:31 -0800 (PST)
Message-ID: <359a92830703010431i28383ddcsd54204d5153de3b4@mail.gmail.com>
Date: Thu, 1 Mar 2007 07:31:31 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorting by Score
In-Reply-To: <359a92830702281336t3975875eh89c580cb7bb34a96@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_69214_9310184.1172752291791"
References: <BFF5F6DFB538074B8A3FCD685C0DBE3601241334@MERC23.na.sas.com>
	 <Pine.LNX.4.58.0602011300220.14150@hal.rescomp.berkeley.edu>
	 <e994873a0702271252p273e38ecn888a4137c0d7a638@mail.gmail.com>
	 <Pine.LNX.4.58.0702271414330.29182@hal.rescomp.berkeley.edu>
	 <e994873a0702271518o3d28b4ei6f6d8d852f6eb1ee@mail.gmail.com>
	 <359a92830702271548g138dee6dp23c351475176aa81@mail.gmail.com>
	 <Pine.LNX.4.58.0702272127550.18243@hal.rescomp.berkeley.edu>
	 <359a92830702280524j660bdafav6e668166ccfd7d6a@mail.gmail.com>
	 <e994873a0702281206g3d68e2c7i7dba144d1b0e7e11@mail.gmail.com>
	 <359a92830702281336t3975875eh89c580cb7bb34a96@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_69214_9310184.1172752291791
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Peter:

About a custom ScoreComparator. The problem I couldn't get past was that I
needed to know the max score of all the docs in order to divide the raw
scores into quintiles since I was dealing with raw scores. I didn't see how
to make that work with ScoreComparator, but I confess that I didn't look
very hard after someone on the list turned me on to FieldSortedHitQueue....

Erick

On 2/28/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> It may well be, but as I said this is efficient enough for my needs
> so I didn't pursue it. One of my pet peeves is spending time making
> things "more efficient" when there's no need, and my index isn't
> going to grow enough larger to worry about that now <G>...
>
> Erick
>
> On 2/28/07, Peter Keegan < peterlkeegan@gmail.com> wrote:
> >
> > Erich,
> >
> > Yes, this seems to be the simplest way to implement score
> > 'bucketization',
> > but wouldn't it be more efficient to do this with a custom
> > ScoreComparator?
> > That way, you'd do the bucketizing and sorting in one 'step'
> > (compare()).
> > Maybe the savings isn't measurable, though. A comparator might also
> > allow
> > one to do a more sophisticated rounding or bucketizing since you'd be
> > getting 2 scores at a time.
> >
> > Peter
> >
> >
> > On 2/28/07, Erick Erickson <erickerickson@gmail.com > wrote:
> > >
> > > Empirically, when I insert the elements in the FieldSortedHitQueue
> > > they get sorted according to the Sort object. The original query
> > > that gives me a TopDocs applied
> > > no secondary sorting, only relevancy. Since I normalized
> > > all the scores into one of only 5 discrete values, and secondary
> > > sorting was applied to all docs with the same score when I inserted
> > > them in the FieldSortedHitQueue.
> > >
> > > Now popping things of the FieldSortedHitQueue is ordered the
> > > way I want.
> > >
> > > You could just operate on the FieldSortedHitQueue at this point, but
> > > I decided the rest of my code would be simpler if I stuffed them back
> > > into the TopDocs, so there's some explanation below that you can
> > > just skip if I've cleared things up already.....
> > >
> > > *****************
> > > The step I left out is moving the documents from the
> > > FIeldSortedHitQueue back to topDocs.scoreDocs.
> > > So the steps are as follows..
> > >
> > > 1> "bucketize" the scores. That is, go through the
> > > TopDocs.scoreDocs and adjust each raw score into
> > > one of my buckets. This is made easy by the
> > > existence of topDocs.getMaxScore . TopDocs has
> > > had no sorting other than relevancy applied so far.
> > >
> > > 2> assemble the FieldSortedHitQueue by inserting
> > > each element from scoreDocs into it, with a suitable
> > > Sort object, relevance is the first field ( SortField.FIELD_SCORE).
> > >
> > > 3> pop the entries off the FieldSortedHitQueue, overwriting
> > > the elements in topDocs.scoreDocs.
> > >
> > > I left out step <3>, although I suppose you could
> > > operate directly on the FieldSortedHitQueue.
> > >
> > > NOTE: in my case, I just put everything back in the
> > > scoreDocs without attempting any efficiencies. If I
> > > needed more performance, I'd only put as many items
> > > back as I needed to display. But as I wrote yesterday,
> > > performance isn't an issue so there's no point. Although
> > > I know one place to look if we need to squeeze more QPS.
> > >
> > > How efficient this is is an open question. But it's "fast enough"
> > > and relatively simple so I stopped looking for more
> > > efficiencies....
> > >
> > > Erick
> > >
> > > On 2/28/07, Chris Hostetter <hossman_lucene@fucit.org > wrote:
> > > >
> > > >
> > > > : The first part was just to iterate through the TopDocs that's
> > > available
> > > > to
> > > > : my and normalize the scores right in the ScoreDocs. Like this...
> > > >
> > > > Won't that be done after the Lucene does the hitcollecting/sorting?
> > ...
> > > he
> > > > wants the "bucketing" to happen as part of hte scoring so that the
> > > > secondary sort will determine the ordering within the bucket.
> > > >
> > > > (or am i missing something about your description?)
> > > >
> > > >
> > > >
> > > >
> > > > -Hoss
> > > >
> > > >
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
>
>

------=_Part_69214_9310184.1172752291791--

From java-user-return-26540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 12:39:03 2007
Return-Path: <java-user-return-26540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66570 invoked from network); 1 Mar 2007 12:39:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 12:39:01 -0000
Received: (qmail 83795 invoked by uid 500); 1 Mar 2007 12:39:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83552 invoked by uid 500); 1 Mar 2007 12:39:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83541 invoked by uid 99); 1 Mar 2007 12:39:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 04:39:03 -0800
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=RCVD_FAKE_HELO_DOTCOM,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sharadbdc@aol.com designates 152.163.225.130 as permitted sender)
Received: from [152.163.225.130] (HELO omr-r02.mail.aol.com) (152.163.225.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 04:38:52 -0800
Received: from aol.com (10.146.144.85)
  by omr-r02.mail.aol.com with ESMTP; 01 Mar 2007 07:38:32 -0500
Message-ID: <45E6C943.90105@aol.com>
Date: Thu, 01 Mar 2007 18:08:27 +0530
From: Sharad Agarwal <sharadbdc@aol.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: [ANN] ParallelSearcher in multi-node environment
References: <9182802.post@talk.nabble.com> <Pine.LNX.4.58.0702281535150.13666@hal.rescomp.berkeley.edu> <9245525.post@talk.nabble.com>
In-Reply-To: <9245525.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

yeah I am too looking forward to this feature, using thread pool and 
minimize the remote calls in ParallelSearcher



evysq@mail.ru wrote:

>e.g. I've changed original ParallelSearcher to use thread pool
>(java.util.concurrent.ThreadPoolExecutor from jdk 1.5).
>But implementing multi-host installation still requires a lot of changes
>since ParallelSearcher calles underlying Searchables too many times (e.g.
>for separate network call for every document)
>----------------
>Dmitri 
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 13:30:40 2007
Return-Path: <java-user-return-26541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84400 invoked from network); 1 Mar 2007 13:30:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 13:30:40 -0000
Received: (qmail 73361 invoked by uid 500); 1 Mar 2007 13:30:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73324 invoked by uid 500); 1 Mar 2007 13:30:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73313 invoked by uid 99); 1 Mar 2007 13:30:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 05:30:41 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.232 as permitted sender)
Received: from [64.233.162.232] (HELO nz-out-0506.google.com) (64.233.162.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 05:30:30 -0800
Received: by nz-out-0506.google.com with SMTP id i1so444162nzh
        for <java-user@lucene.apache.org>; Thu, 01 Mar 2007 05:30:09 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=f+Md7ql84p3ldNAoGzS02961MYRWFIEIAEaJSh9ZqWmA+sx6xh7eA91dKq7tw5ulaFNQkvHZoHg2PqmUmb+rDeRArPG1K7GrPSFbZQgfH+owYgcPZHfmPHf99srZwyjuJqplJWix+yIpvdt17fYNAESKTI/Qdshk+3BmM34H4oU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YcurMz2n/+O8dns9V8O9Oelnr0MZlQMXucRA2lA9ZbA05iGAIm9UI8bM29gqmsxXGi9zdjLawvQJ5QKfs6OAJtZQ0alMSeqNVS6Jg1H2w2vw420WBrHJ7AayBU57c8xdHhoymO9uEcs6JWWufK2FrQJ3aHXs2DEDCgVzwwZAtyY=
Received: by 10.65.147.1 with SMTP id z1mr3165733qbn.1172755809172;
        Thu, 01 Mar 2007 05:30:09 -0800 (PST)
Received: by 10.65.155.5 with HTTP; Thu, 1 Mar 2007 05:30:09 -0800 (PST)
Message-ID: <e994873a0703010530ubcc1781x6257b85ae63d6d84@mail.gmail.com>
Date: Thu, 1 Mar 2007 08:30:09 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sorting by Score
In-Reply-To: <359a92830703010431i28383ddcsd54204d5153de3b4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26135_546682.1172755809068"
References: <BFF5F6DFB538074B8A3FCD685C0DBE3601241334@MERC23.na.sas.com>
	 <e994873a0702271252p273e38ecn888a4137c0d7a638@mail.gmail.com>
	 <Pine.LNX.4.58.0702271414330.29182@hal.rescomp.berkeley.edu>
	 <e994873a0702271518o3d28b4ei6f6d8d852f6eb1ee@mail.gmail.com>
	 <359a92830702271548g138dee6dp23c351475176aa81@mail.gmail.com>
	 <Pine.LNX.4.58.0702272127550.18243@hal.rescomp.berkeley.edu>
	 <359a92830702280524j660bdafav6e668166ccfd7d6a@mail.gmail.com>
	 <e994873a0702281206g3d68e2c7i7dba144d1b0e7e11@mail.gmail.com>
	 <359a92830702281336t3975875eh89c580cb7bb34a96@mail.gmail.com>
	 <359a92830703010431i28383ddcsd54204d5153de3b4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_26135_546682.1172755809068
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Erick,

I think you're right because you'd wouldn't know the max score before the
comparisons. I'm just thinking about a rounding algorithm that involves
comparing the raw scores to the theoretical maximum score, which I think
could be computed from the Similarity class and knowing the max boost value
used during indexing.

Peter

On 3/1/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> Peter:
>
> About a custom ScoreComparator. The problem I couldn't get past was that I
> needed to know the max score of all the docs in order to divide the raw
> scores into quintiles since I was dealing with raw scores. I didn't see
> how
> to make that work with ScoreComparator, but I confess that I didn't look
> very hard after someone on the list turned me on to
> FieldSortedHitQueue....
>
> Erick
>
> On 2/28/07, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > It may well be, but as I said this is efficient enough for my needs
> > so I didn't pursue it. One of my pet peeves is spending time making
> > things "more efficient" when there's no need, and my index isn't
> > going to grow enough larger to worry about that now <G>...
> >
> > Erick
> >
> > On 2/28/07, Peter Keegan < peterlkeegan@gmail.com> wrote:
> > >
> > > Erich,
> > >
> > > Yes, this seems to be the simplest way to implement score
> > > 'bucketization',
> > > but wouldn't it be more efficient to do this with a custom
> > > ScoreComparator?
> > > That way, you'd do the bucketizing and sorting in one 'step'
> > > (compare()).
> > > Maybe the savings isn't measurable, though. A comparator might also
> > > allow
> > > one to do a more sophisticated rounding or bucketizing since you'd be
> > > getting 2 scores at a time.
> > >
> > > Peter
> > >
> > >
> > > On 2/28/07, Erick Erickson <erickerickson@gmail.com > wrote:
> > > >
> > > > Empirically, when I insert the elements in the FieldSortedHitQueue
> > > > they get sorted according to the Sort object. The original query
> > > > that gives me a TopDocs applied
> > > > no secondary sorting, only relevancy. Since I normalized
> > > > all the scores into one of only 5 discrete values, and secondary
> > > > sorting was applied to all docs with the same score when I inserted
> > > > them in the FieldSortedHitQueue.
> > > >
> > > > Now popping things of the FieldSortedHitQueue is ordered the
> > > > way I want.
> > > >
> > > > You could just operate on the FieldSortedHitQueue at this point, but
> > > > I decided the rest of my code would be simpler if I stuffed them
> back
> > > > into the TopDocs, so there's some explanation below that you can
> > > > just skip if I've cleared things up already.....
> > > >
> > > > *****************
> > > > The step I left out is moving the documents from the
> > > > FIeldSortedHitQueue back to topDocs.scoreDocs.
> > > > So the steps are as follows..
> > > >
> > > > 1> "bucketize" the scores. That is, go through the
> > > > TopDocs.scoreDocs and adjust each raw score into
> > > > one of my buckets. This is made easy by the
> > > > existence of topDocs.getMaxScore . TopDocs has
> > > > had no sorting other than relevancy applied so far.
> > > >
> > > > 2> assemble the FieldSortedHitQueue by inserting
> > > > each element from scoreDocs into it, with a suitable
> > > > Sort object, relevance is the first field ( SortField.FIELD_SCORE).
> > > >
> > > > 3> pop the entries off the FieldSortedHitQueue, overwriting
> > > > the elements in topDocs.scoreDocs.
> > > >
> > > > I left out step <3>, although I suppose you could
> > > > operate directly on the FieldSortedHitQueue.
> > > >
> > > > NOTE: in my case, I just put everything back in the
> > > > scoreDocs without attempting any efficiencies. If I
> > > > needed more performance, I'd only put as many items
> > > > back as I needed to display. But as I wrote yesterday,
> > > > performance isn't an issue so there's no point. Although
> > > > I know one place to look if we need to squeeze more QPS.
> > > >
> > > > How efficient this is is an open question. But it's "fast enough"
> > > > and relatively simple so I stopped looking for more
> > > > efficiencies....
> > > >
> > > > Erick
> > > >
> > > > On 2/28/07, Chris Hostetter <hossman_lucene@fucit.org > wrote:
> > > > >
> > > > >
> > > > > : The first part was just to iterate through the TopDocs that's
> > > > available
> > > > > to
> > > > > : my and normalize the scores right in the ScoreDocs. Like this...
> > > > >
> > > > > Won't that be done after the Lucene does the
> hitcollecting/sorting?
> > > ...
> > > > he
> > > > > wants the "bucketing" to happen as part of hte scoring so that the
> > > > > secondary sort will determine the ordering within the bucket.
> > > > >
> > > > > (or am i missing something about your description?)
> > > > >
> > > > >
> > > > >
> > > > >
> > > > > -Hoss
> > > > >
> > > > >
> > > > >
> > > ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > > >
> > > > >
> > > >
> > >
> >
> >
>

------=_Part_26135_546682.1172755809068--

From java-user-return-26542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 14:15:08 2007
Return-Path: <java-user-return-26542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1789 invoked from network); 1 Mar 2007 14:15:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 14:15:08 -0000
Received: (qmail 71821 invoked by uid 500); 1 Mar 2007 14:15:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71789 invoked by uid 500); 1 Mar 2007 14:15:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71778 invoked by uid 99); 1 Mar 2007 14:15:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 06:15:09 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.243] (HELO web50310.mail.yahoo.com) (206.190.38.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Mar 2007 06:14:57 -0800
Received: (qmail 79812 invoked by uid 60001); 1 Mar 2007 14:14:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=uMO9DgGgSbEwyzQtLPOWUPwRVjM6YTnkbtXQ80rLTIeWwJoLglv4XtFhHDmL1/Ylg9dHzCz8sEgUGgi/uT/lg+HLPhXo/ReaniKXPwH2kuRVHrZ2R73VhRXJaAg/Yytmca3EAfz8msissKkuLBjEljlCQyX2LFpQmbCjUid2kkA=;
X-YMail-OSG: hDTSp9gVM1mgW_v6_9vJWZpkNAWACDqf7YVWiPXLgvRR7fVeomGrmHyPGucqcHVC5N.tVZAV2XOSpBX4dhq9uE22JjMa0R.6kv48tqczQ7s0n9xWoPGNSJRhosYv3380qYFNCBQTxqbNh2Q-
Received: from [58.63.145.127] by web50310.mail.yahoo.com via HTTP; Thu, 01 Mar 2007 06:14:35 PST
X-Mailer: YahooMailRC/468.1 YahooMailWebService/0.6.132.8
Date: Thu, 1 Mar 2007 06:14:35 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Spanned indexes
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <657496.79475.qm@web50310.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Sachin,=0AA lof of the questions you are asking are covered either in the F=
AQ or on the Lucene site somewhere, or in various Lucene articles or in LIA=
.  You should check those places first (the traffic on java-user is already=
 high!), you'll save yourself a lot of time.  For this particular question,=
 have a look at the File Formats page on Lucene's site.=0A=0AOtis=0A . . . =
. . . . . . . . . . . . . . . . . . . . . . . . . . .=0ASimpy -- http://www=
.simpy.com/  -  Tag  -  Search  -  Share=0A=0A----- Original Message ----=
=0AFrom: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>=0ATo: java-user@=
lucene.apache.org=0ASent: Thursday, March 1, 2007 7:21:52 AM=0ASubject: Spa=
nned indexes=0A=0AHi all,=0A=0AIs it possible in Lucene for an index to spa=
n multiple files?  If so=0Awhat is the recommendation in this case?  Is it =
better to span after the=0Aindex reaches a particular size?  Furthermore, d=
oes Lucene ever span a=0Asingle record between two or more index files in t=
his case or does it=0Aensure that a single record will only appear in one s=
panned file?=0A=0AMany thanks for your advice=0A=0ASachin=0A=0A=0AThis emai=
l and any attached files are confidential and copyright protected. If you a=
re not the addressee, any dissemination of this communication is strictly p=
rohibited. Unless otherwise expressly agreed in writing, nothing stated in =
this communication shall be legally binding.=0A=0AThe ultimate parent compa=
ny of the Atkins Group is WS Atkins plc.  Registered in England No. 1885586=
.  Registered Office Woodcote Grove, Ashley Road, Epsom, Surrey KT18 5BW.=
=0A=0AConsider the environment. Please don't print this e-mail unless you r=
eally need to. =0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 14:15:44 2007
Return-Path: <java-user-return-26543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2216 invoked from network); 1 Mar 2007 14:15:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 14:15:43 -0000
Received: (qmail 75979 invoked by uid 500); 1 Mar 2007 14:15:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75945 invoked by uid 500); 1 Mar 2007 14:15:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75908 invoked by uid 99); 1 Mar 2007 14:15:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 06:15:42 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 06:15:30 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HMm3q-0005p7-HH
	for java-user@lucene.apache.org; Thu, 01 Mar 2007 06:15:10 -0800
Message-ID: <9250330.post@talk.nabble.com>
Date: Thu, 1 Mar 2007 06:15:10 -0800 (PST)
From: matpil <pileggi@pitagora.it>
To: java-user@lucene.apache.org
Subject: retrieve term positions in query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: pileggi@pitagora.it
X-Virus-Checked: Checked by ClamAV on apache.org


Hi!
My problem is to retrieve the term positions in a "general" query with more
than one terms.
It seems that with the phrase query it's possible (with SpanQuery) but with
"AND" and "OR" query I can't get the position for each document I search.
I'm looking for a high level implementation because I don't want to use low
level lucene API (I'm a lucene newbie...) 

Thanx in advance,
Mat
-- 
View this message in context: http://www.nabble.com/retrieve-term-positions-in-query-tf3327146.html#a9250330
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 14:41:14 2007
Return-Path: <java-user-return-26544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17311 invoked from network); 1 Mar 2007 14:41:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 14:41:12 -0000
Received: (qmail 21686 invoked by uid 500); 1 Mar 2007 14:41:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21651 invoked by uid 500); 1 Mar 2007 14:41:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21640 invoked by uid 99); 1 Mar 2007 14:41:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 06:41:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [192.31.106.7] (HELO mailgw1a.lmco.com) (192.31.106.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 06:40:59 -0800
Received: from emss02g01.ems.lmco.com (relay2.ems.lmco.com [166.29.2.54])by mailgw1a.lmco.com  (LM-6) with ESMTP id l21Eeb2v019469for <java-user@lucene.apache.org>; Thu, 1 Mar 2007 07:40:38 -0700 (MST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.3-x3 #31239)
 id <0JE800I01BF1V8@lmco.com> for java-user@lucene.apache.org; Thu, 01 Mar 2007 07:40:24 -0700 (MST)
Received: from EMSS09I00.us.lmco.com ([158.183.26.31]) by lmco.com (PMDF V6.3-x3 #31239)
 with ESMTP id <0JE800EZGBF4YO@lmco.com> for java-user@lucene.apache.org; Thu, 01 Mar 2007 07:40:17 -0700 (MST)
Received: from emss10m02.us.lmco.com ([158.187.0.186]) by EMSS09I00.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Thu,
 01 Mar 2007 09:40:16 -0500
Date: Thu, 01 Mar 2007 09:40:15 -0500
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Performance in having Multiple Index files
In-reply-to: <118164.10897.qm@web30104.mail.mud.yahoo.com>
To: java-user@lucene.apache.org
Message-id: <A79A2D741A822A46B9F0BFF4F4585DDB3EC476@emss10m02.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Performance in having Multiple Index files
Thread-Index: Acdb1kst6bc1mELlQ3KjYK4wCPaGCQAOPjbQ
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <34b8543c0702282129l32c71e3i48f0502c4a22e08f@mail.gmail.com> <118164.10897.qm@web30104.mail.mud.yahoo.com>
X-OriginalArrivalTime: 01 Mar 2007 14:40:16.0166 (UTC) FILETIME=[86F29C60:01C75C0F]
X-Virus-Checked: Checked by ClamAV on apache.org

Yes, it will affect the search performance because you need to merge the
results from the different indexes. The best performance is from a
single index. The more indexes you have the more time it takes to
search.

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: Raaj [mailto:raajwizz@yahoo.com] 
Sent: Thursday, March 01, 2007 2:50 AM
To: java-user@lucene.apache.org
Subject: Performance in having Multiple Index files

hi all,

i have requirement where in i create an index file for each xml file . i
have over 100/150 xml files which are all related . 

if create 100/150 index files and query using these indices , will this
affect the performance of the search operation . 

bye
raaj



 
---------------------------------
Need a quick answer? Get one in minutes from people who know. Ask your
question on Yahoo! Answers.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 14:44:06 2007
Return-Path: <java-user-return-26545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18879 invoked from network); 1 Mar 2007 14:44:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 14:44:05 -0000
Received: (qmail 28537 invoked by uid 500); 1 Mar 2007 14:44:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28503 invoked by uid 500); 1 Mar 2007 14:44:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28492 invoked by uid 99); 1 Mar 2007 14:44:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 06:44:07 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.11.145.17] (HELO bobcat.webappcabaret.net) (209.11.145.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 06:43:55 -0800
Received: (qmail 18345 invoked by uid 98); 1 Mar 2007 06:43:27 -0800
Received: from unknown (HELO ?10.0.1.2?) (ulf@ulfdittmer.com@85.178.99.30)
  by 0 with SMTP; 1 Mar 2007 06:43:27 -0800
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: 7bit
Message-Id: <D1E30E6D-9B27-47F2-839B-359CB8EF643B@ulfdittmer.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Ulf Dittmer <ulf@ulfdittmer.com>
Subject: question about ScoreDocComparator
Date: Thu, 1 Mar 2007 15:43:45 +0100
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello-

One of the fields in my index is an ID, which maps to a full text  
description behind the scenes. Now I want to sort the search results  
alphabetically according to the description, not the ID. This can be  
done via SortComparatorSource and a ScoreDocComparator without  
problems. But the code needed to do this is quite complicated - it  
involves retrieving the document ID from the ScoreDoc, then looking  
up the Document through an IndexReader, and then retrieving the ID  
field from the document. It seems that there should be an easier way  
to get at the ID field, since that is the one being used for the  
sort. There is a related class FieldDoc, through which it seems  
possible to get at the field values, but that doesn't seem applicable  
here.

I went through the custom sorting example of "Lucene In Action", but  
that doesn't deal with this case. Am I missing something obvious?

Thanks in advance,
Ulf


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 15:22:17 2007
Return-Path: <java-user-return-26546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43114 invoked from network); 1 Mar 2007 15:22:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 15:22:16 -0000
Received: (qmail 10881 invoked by uid 500); 1 Mar 2007 15:22:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10843 invoked by uid 500); 1 Mar 2007 15:22:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10832 invoked by uid 99); 1 Mar 2007 15:22:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:22:17 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mskumar@gmail.com designates 64.233.184.226 as permitted sender)
Received: from [64.233.184.226] (HELO wr-out-0506.google.com) (64.233.184.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:22:06 -0800
Received: by wr-out-0506.google.com with SMTP id 36so319067wra
        for <java-user@lucene.apache.org>; Thu, 01 Mar 2007 07:21:45 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=J9ARngXPzHa+lCFBCeMtYCYyjcbWxF0rZgkC6vgWNwsMvphKVDa9dgHFCJwAfMhU2NAGMNCzg44e93yMBOtl4hVsHY4mEmi46fQnQZIkRszJ8Fn3L7VTMEIAQP2b+AbZB43MtI87QSaTYabIhxEuHlmvjpACL+ls0ZTtjbDjB+E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=De+m0thdFYs8mFRGSxmTJoh+eeLqNRu2QGchi9CbfvbAo/PsuEEXS0OXp4jvKvnRA/u0xCuQLxQcZk6NdLADx5bBk5Y147bexneYhFNP4j4/vighNpEgVXPSuosAGQ0qlMLxeodF7Cnq6JsvmEPHnySvteebXNhC7W7YGuP0dUM=
Received: by 10.114.205.1 with SMTP id c1mr598324wag.1172762438693;
        Thu, 01 Mar 2007 07:20:38 -0800 (PST)
Received: by 10.114.15.2 with HTTP; Thu, 1 Mar 2007 07:20:38 -0800 (PST)
Message-ID: <f514763f0703010720q10e8cbf2p99f012aac47559fd@mail.gmail.com>
Date: Thu, 1 Mar 2007 20:50:38 +0530
From: Saravana <mskumar@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: [Fwd: Re: indexing performance]
In-Reply-To: <45E6EA0C.1000700@adventnet.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_67832_18584574.1172762438652"
References: <45E6EA0C.1000700@adventnet.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_67832_18584574.1172762438652
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGksCgpZb3UgbmVlZCBqdXN0IHRoZSBjb3VudHM/IEFuZCB5b3Ugd2FudCB0byBkbyBqdXN0IHdo
b2xlLWZpZWxkIG1hdGNoaW5nLCBub3QKd29yZCBtYXRjaGluZz8gSW4gdGhhdCBjYXNlLCBMdWNl
bmUgbWlnaHQgYmUgYW4gb3ZlcmtpbGwgZm9yIHlvdS4gT3IsIGlmIHlvdQpkbyB1c2UgTHVjZW5l
LCBtYWtlIHN1cmUgdG8gdXNlICJrZXl3b3JkIiAodW50b2tlbml6ZWQpIGZpZWxkcywgbm90CiJ0
b2tlbml6ZWQiIGZpZWxkcy4KClNvcnJ5IGZvciBub3QgZWxhYm9yYXRpbmcgbXkgcmVxdWlyZW1l
bnQgbW9yZS4gQWN0dWFsbHkgSSBoYXZlIHNvbWUgZmllbGRzCnRoYXQgbmVlZCB3b3JkIG1hdGNo
aW5nIGFuZCBmb3Igc29tZSBmaWVsZHMgSSBkbyBub3QgbmVlZCB3b3JkIG1hdGNoaW5nLiBJCmhh
dmUgdXNlZCBOT19OT1JNUyBmb3Igd2hvbGUgZmllbGRzIGFuZCBUT0tFTklaRUQgZm9yIHRoZSBm
aWVsZHMgdGhhdCBuZWVkCm5vcm1hbGl6YXRpb24uIEkgbmVlZCBjb3VudCBhcyB3ZWxsIGFzIEkg
bmVlZCB0byBzaG93IHRoZSBmaWVsZHMgdGhhdCBhcmUKaW5kZXhlZC4KRm9yIGV4YW1wbGUgdGhl
IGZvbGxvd2luZyBjcml0ZXJpYSBjYW4gYmUgZ2l2ZW4gYnkgdGhlIHVzZXI7CgpVU0VSOmpvaG4g
QU5EIE1TRzpmdHAKCkhlcmUgVVNFUiBpcyBOT19OT1JNUyBmaWVsZCBhbmQgTVNHIHdpbGwgYmUg
dG9rZW5pemVkIGZpZWxkLiBPcmlnaW5hbCBsb2cKbWVzc2FnZSB3aWxsIGJlIGFzIGZvbGxvd3Mu
CgoyMDA3IEphbiAyNyAxMDoxMDowMSBVc2VyIEpvaG4gYWNjZXNzZWQgZnRwIHVybCBpbWFnZXMu
aHRtbAoKU28gaSBjYW5ub3QgaWRlbnRpZnkgdGhlIGNvdW50IGluIHRoZSBtZW1vcnkgYXMgdGhl
IGNyaXRlcmlhIHdpbGwgYmUKPiBzZWxlY3RlZCBieSB0aGUgdXNlciBvciBpdHMgbm90IHByZWRl
ZmluZWQuIE1vcmVvdmVyIEkgaGF2ZSByZWFkIHRoZQo+IGZvbGxvd2luZyB0aHJlYWQgZGF0ZWQg
MjAwMgoKClRocmVhZCBvbiAyMDAyOgoKbXkgZXhwZXJpZW5jZXMgYXJlIHRoYXQgdGhlIHdyaXRp
bmcgdG8gdGhlIGluZGV4IHRha2VzIHRoZSBtb3N0IHRpbWUgZXhjZXB0CmFueSBwYXJzaW5nIGRv
bmUgYnkgdGhlIHVzZXIuIEkgaGF2ZSBiZWVuIHdvcmtpbmcgb24geG1sIGluZGV4ZXMgYW5kIGhl
cmUKdGhlCmNvbGxlY3Rpb24gb2YgZGF0YSB0YWtlcyBqdXN0IGFzIG11Y2ggdGltZSBhcyB0byB3
cml0ZS4gdG8gaW5jcmVhc2UgKnNwZWVkKmkKaGF2ZSBkb25lIHRocmVlIHRoaW5ncyB0aGF0IHJl
ZHVjZWQgbXkgaW5kZXggdGltZSBmcm9tIDExaG91cnMgdG8gMiw1IGhvdXJzCmZvciB0aGUgc2Ft
ZSBkYXRhc2V0ICgxLDNnYiB4bWwgZG9jdW1lbnRzKS4KCjE6IGkgaW5kZXggNTAgZG9jdW1lbnRz
IGludG8gYSByYW1kaXIsIHRoZW4gd2hlbiB0aGUgbGltaXQgaXMgcmVhY2hlZCBpCm1lcmdlCnRo
aXMgcmFtZGlyIGludG8gYSBmc2RpciBhbmQgZmx1c2ggdGhlIHJhbWRpci4gdGhpcyBzcGVlZHMg
dXAgdGhpbmdzCmFzIGkgdGhlbiBkb24ndCBoYXZlIHRvIHVzZSB0aGUgZnNkaXIgYXMgbXVjaCBh
bmQgcmFtZGlyIGlzIG11Y2ggZmFzdGVyLgoKMjogbWVyZ2luZyBhIGxhcmdlIGluZGV4IGludG8g
YSBsYXJnZSBpbmRleCB0YWtlcyBuZWFybHkgYXMgbXVjaCB0aW1lIGFzCm1lcmdpbmcgYSBzbWFs
bCBpbmRleCBpbnRvIGEgbGFyZ2UgaW5kZXgsIHNvIGkgaGF2ZSA0IChhbnkgbnVtYmVyIHdpbGwg
ZG8pCmZzZGlycyB0aGF0IGkgd3JpdGUgcmFtZGlycyB0byBhbmQgdGhlbiBpIG1lcmdlIHRoZXNl
IGZzZGlycyBpbnRvIG9uZSBsYXJnZQpmc2RpciBhdCB0aGUgZW5kIG9mIGEgbGFyZ2UgaW5kZXhy
dW4uCgozOiBtdWx0aXRocmVhZGVkIG15IGFwcGxpY2F0aW9uLCBjcmVhdGUgd29ya2VydGhyZWFk
cyB0aGF0IGluZGV4ZXMgaW50byBpdHMKb3duIHNlcHBhcmF0ZSByYW1kaXIsIHRoZW4gZmx1c2hl
cyB0aGVzZSByYW1kaXJzIGludG8gZWFjaCBzZXBhcmF0ZSBmc2RpcgooaGVuY2ggaSBoYXZlIGEg
ZnNkaXIgZm9yIGVhY2ggd29ya2VydGhyZWFkKSwgdGhpcyBiZWNhdXNlIHlvdSBjYW4gb25seQp3
cml0ZQp0byBhIGRpciBieSBvbmUgdGhyZWFkLgoKaW4gdGhlIGVuZCB0aGlzIGltcG9ydmVkIG15
ICppbmRleGluZyogdGltZSBhIGxvdC4uLgoKaG9wZSBzb21lIG9mIHRoaXMgY2FuIGhlbHAgeW91
IQoKbXZoIGthcmwg77+9aWUKCgoKSXMgdGhpcyBzdGlsbCBob2xkIGdvb2Qgbm93ID8gVGhhbmtz
IGZvciB5b3VyIHJlcGx5LgoKcmVnYXJkcywKTVNLCgotLS0tLS0tLS0tIEZvcndhcmRlZCBtZXNz
YWdlIC0tLS0tLS0tLS0KPiBGcm9tOiAiTmFkYXYgSGFyJ0VsIiA8bnloQG1hdGgudGVjaG5pb24u
YWMuaWw+Cj4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZwo+IERhdGU6IFRodSwgMSBN
YXIgMjAwNyAxMDoyODowNyArMDIwMAo+IFN1YmplY3Q6IFJlOiBpbmRleGluZyBwZXJmb3JtYW5j
ZQo+IE9uIFR1ZSwgRmViIDI3LCAyMDA3LCBTYXJhdmFuYSB3cm90ZSBhYm91dCAiaW5kZXhpbmcg
cGVyZm9ybWFuY2UiOgo+ID4gSGksCj4gPgo+ID4gSXMgaXQgcG9zc2libGUgdG8gc2NhbGUgbHVj
ZW5lIGluZGV4aW5nIGxpa2UgMjAwMC8zMDAwIGRvY3VtZW50cyBwZXIKPiA+IHNlY29uZD8KPgo+
IEkgZG9uJ3Qga25vdyBhYm91dCB0aGUgYWN0dWFsIG51bWJlcnMsIGJ1dCBvbmUgdHJpY2sgSSd2
ZSB1c2VkIGluIHRoZSBwYXN0Cj4gdG8gZ2V0IHJlYWxseSBmYXN0IGluZGV4aW5nIHdhcyB0byBj
cmVhdGUgc2V2ZXJhbCBpbmRlcGVuZGVudCBpbmRleGVzIGluCj4gcGFyYWxsZWwuIFNpbXBseSwg
aWYgeW91IGhhdmUsIHNheSwgNCBDUFVzIGFuZCBwZXJoYXBzIGV2ZW4gc2V2ZXJhbAo+IHBoeXNp
Y2FsCj4gZGlza3MsIHJ1biA0IGluZGV4aW5nIHByb2Nlc3NlcyBlYWNoIGluZGV4aW5nIGEgMS80
IG9mIHRoZSBmaWxlcyBhbmQKPiBjcmVhdGluZwo+IGEgc2VwYXJhdGUgaW5kZXggKG9uIHNlcGFy
YXRlIGRpc2tzIG9uIHNlcGFyYXRlIElPIGNoYW5uZWxzLCBpZiBwb3NzaWJsZSkuCj4KPiBBdCB0
aGUgZW5kLCB5b3UgaGF2ZSA0IGluZGV4ZXMgd2hpY2ggeW91IGNhbiBhY3R1YWxseSBzZWFyY2gg
dG9nZXRoZXIKPiB3aXRob3V0Cj4gYW55IHJlYWwgbmVlZCB0byBtZXJnZSB0aGVtLCB1bmxlc3Mg
cXVlcnkgcGVyZm9ybWFuY2UgaXMgdmVyeSBpbXBvcnRhbnQgdG8KPiB5b3UgYXMgd2VsbC4KPgo+
ID4gSSBuZWVkIHRvIGluZGV4IDEwIGZpZWxkcyBlYWNoIHdpdGggMjAgYnl0ZXMgbG9uZy4gIEkg
c2hvdWxkIGJlCj4gPiBhYmxlIHRvIHNlYXJjaCBieSBqdXN0IGdpdmluZyBhbnkgb2YgdGhlIGZp
ZWxkIHZhbHVlcyBhcyBjcml0ZXJpYS4gSQo+IG5lZWQgdG8KPiA+IGdldCB0aGUgY291bnQgdGhh
dCBoYXMgc2FtZSBmaWVsZCB2YWx1ZXMuCj4KPiBZb3UgbmVlZCBqdXN0IHRoZSBjb3VudHM/IEFu
ZCB5b3Ugd2FudCB0byBkbyBqdXN0IHdob2xlLWZpZWxkIG1hdGNoaW5nLAo+IG5vdAo+IHdvcmQg
bWF0Y2hpbmc/IEluIHRoYXQgY2FzZSwgTHVjZW5lIG1pZ2h0IGJlIGFuIG92ZXJraWxsIGZvciB5
b3UuIE9yLCBpZgo+IHlvdQo+IGRvIHVzZSBMdWNlbmUsIG1ha2Ugc3VyZSB0byB1c2UgImtleXdv
cmQiICh1bnRva2VuaXplZCkgZmllbGRzLCBub3QKPiAidG9rZW5pemVkIiBmaWVsZHMuCj4KPiAt
LQo+IE5hZGF2IEhhcidFbCAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICBUaHVyc2RheSwg
TWFyICAxIDIwMDcsIDExIEFkYXIKPiA1NzY3Cj4gSUJNIEhhaWZhIFJlc2VhcmNoCj4gTGFiICAg
ICAgICAgICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8T3BlbiB5b3VyIGFybXMgdG8gY2hh
bmdlLCBidXQgZG9uJ3QKPiBsZXQKPiBodHRwOi8vbmFkYXYuaGFyZWwub3JnLmlsICAgICAgICAg
ICB8Z28gb2YgeW91ciB2YWx1ZXMuCj4KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBUbyB1bnN1YnNjcmliZSwg
ZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiBGb3IgYWRk
aXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9y
Zwo+Cj4KPgo=
------=_Part_67832_18584574.1172762438652--

From java-user-return-26547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 15:23:06 2007
Return-Path: <java-user-return-26547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43721 invoked from network); 1 Mar 2007 15:23:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 15:23:05 -0000
Received: (qmail 14037 invoked by uid 500); 1 Mar 2007 15:23:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14010 invoked by uid 500); 1 Mar 2007 15:23:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13999 invoked by uid 99); 1 Mar 2007 15:23:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:23:07 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:22:55 -0800
Received: from smtp-b.omnis.com (smtp-b.omnis.com [216.239.128.238])
	by smtp.omnis.com (Postfix) with ESMTP id 8C5CC1B8C1
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 07:22:33 -0800 (PST)
Received: from [192.168.6.223] (d-65-175-190-143.metrocast.net [65.175.190.143])
	(Authenticated sender: wataylor@as-st.com)
	by smtp-b.omnis.com (Postfix) with ESMTP id 7908A1C0086C
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 07:22:33 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
To: java-user@lucene.apache.org
Message-Id: <243DEDA2-B466-4BC9-A1F7-3BD7B01DC8BC@as-st.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-68--963415547
References: <994ABEDD-D55E-4B26-9A11-2A92668BB09D@as-st.com>
From: Bill Taylor <wataylor@as-st.com>
Subject: Re: TextMining.org Word extractor
Date: Thu, 1 Mar 2007 10:59:56 -0500
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-68--963415547
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed


On Feb 23, 2007, at 2:00 PM, java-user-digest-help@lucene.apache.org  
wrote:

> Re: TextMining.org Word extractor

Someone noted that textmining.org gets hacked.  There is test- 
mining.org which appears to be a commercial site.  Can someone tell  
me where to get the download of the original GPL textmining.org  
software?

Thanks.





--Apple-Mail-68--963415547--

From java-user-return-26548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 15:28:40 2007
Return-Path: <java-user-return-26548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47800 invoked from network); 1 Mar 2007 15:28:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 15:28:39 -0000
Received: (qmail 30346 invoked by uid 500); 1 Mar 2007 15:28:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30316 invoked by uid 500); 1 Mar 2007 15:28:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30305 invoked by uid 99); 1 Mar 2007 15:28:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:28:38 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [207.113.241.148] (HELO iss04.interliant.com) (207.113.241.148)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:28:26 -0800
Received: from EX-009.mail.navisite.com (ex-009.interliant.com [207.113.240.184])
	by iss04.interliant.com (8.10.2/8.10.2) with ESMTP id l21FS4g01529
	for <java-user@lucene.apache.org>; Thu, 1 Mar 2007 09:28:04 -0600 (CST)
Received: from EX-101.mail.navisite.com ([172.16.1.62]) by EX-009.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 1 Mar 2007 09:28:02 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: TextMining.org Word extractor
Date: Thu, 1 Mar 2007 09:28:02 -0600
Message-ID: <E1F190DAC247C64FAA46B38316FA151D05FDA59F@EX-101.mail.navisite.com>
In-Reply-To: <243DEDA2-B466-4BC9-A1F7-3BD7B01DC8BC@as-st.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: TextMining.org Word extractor
Thread-Index: AcdcFYD+8hYf6H4vTd+z43WauyfRNgAAIF+w
References: <994ABEDD-D55E-4B26-9A11-2A92668BB09D@as-st.com> <243DEDA2-B466-4BC9-A1F7-3BD7B01DC8BC@as-st.com>
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 01 Mar 2007 15:28:02.0451 (UTC) FILETIME=[3362FE30:01C75C16]
X-Virus-Checked: Checked by ClamAV on apache.org

I can't speak to where you can get a copy of the original code, but the
modified code I have is not GPL licenced - the license header in at
least one file is as follows:

/*  Copyright 2004 Ryan Ackley
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */


Regards,

Bruce Ritchie =20

> -----Original Message-----
> From: Bill Taylor [mailto:wataylor@as-st.com]=20
> Sent: Thursday, March 01, 2007 11:00 AM
> To: java-user@lucene.apache.org
> Subject: Re: TextMining.org Word extractor
>=20
>=20
> On Feb 23, 2007, at 2:00 PM, java-user-digest-help@lucene.apache.org
> wrote:
>=20
> > Re: TextMining.org Word extractor
>=20
> Someone noted that textmining.org gets hacked.  There is=20
> test- mining.org which appears to be a commercial site.  Can=20
> someone tell me where to get the download of the original GPL=20
> textmining.org software?
>=20
> Thanks.
>=20
>=20
>=20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 15:56:07 2007
Return-Path: <java-user-return-26549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65342 invoked from network); 1 Mar 2007 15:56:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 15:56:06 -0000
Received: (qmail 92800 invoked by uid 500); 1 Mar 2007 15:56:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92766 invoked by uid 500); 1 Mar 2007 15:56:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92755 invoked by uid 99); 1 Mar 2007 15:56:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:56:07 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of walt.stoneburner@gmail.com designates 64.233.184.237 as permitted sender)
Received: from [64.233.184.237] (HELO wr-out-0506.google.com) (64.233.184.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 07:55:56 -0800
Received: by wr-out-0506.google.com with SMTP id 36so332733wra
        for <java-user@lucene.apache.org>; Thu, 01 Mar 2007 07:55:34 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=SMT7Us1ipwTDK4JKCKZv5/6SaUo556WykZeWumcJG7twPT8JyvtRrk4v7MRibO7Dbh7za10Ow7z0CEJCPaFtGr2x0XDSvi7v4f12w6ES6ycUP8xpQnpZKtxtKqEQgDeMJhT4T1CtctPv6SfqpgH5BBDoZrw5MplUe/cu5eU7XdI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=c0eJRqafUKhRexc88+NbK+28TygIYYkQBZtCILOscoKE6a1jXpbcrq0cw/uT8HNKC43BbZBQvXHPdg6cWUYOiFibTN3zwsU+FrNXo1J4friFgbuGGLzkpuwqjftjrvDM2oGnz2pWeE8LMmIAbkBSlcQPh8kib0OZt7rrbXbrma4=
Received: by 10.115.32.1 with SMTP id k1mr90598waj.1172764421407;
        Thu, 01 Mar 2007 07:53:41 -0800 (PST)
Received: by 10.114.126.10 with HTTP; Thu, 1 Mar 2007 07:53:41 -0800 (PST)
Message-ID: <ae6f38f60703010753y54e97e5q33d687ae16fe1e07@mail.gmail.com>
Date: Thu, 1 Mar 2007 10:53:41 -0500
From: "Walt Stoneburner" <walt.stoneburner@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Soliciting Design Thoughts on Date Searching
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you all for the suggestions steering me down the right path.

As an aside, the easy part, at least for me, is extracting the dates
-- Peter was dead on about how doing that: heuristics, multiple
regular expressions, and data structures.  As Steve pointed out, this
isn't as trivial as it sounds - there are a lot of formats, some
ambiguous.

I love writing parsers (guess I'm sick in the head, eh?), so getting
the data isn't the problem, it's knowing what format to convert it
into and how to hand it to Lucene in a way that it'll find meaningful
for searching.

I had pondered making a single field with a value like:
document.add( Field.Text( "dates", "27-Feb-1968,04-Jul-1776,01-Mar-2007" ));
...but I wasn't convinced that the Lucene date Range was going to work
on anything other than a Date type, rather than a string of text that
just coincidently happened to contain dates.

Drawing back on my title example, I was under the incorrect impression
that if I had a field and provided another value that it replaced the
prior value.  Hoss is indicating this is not so, and that I'm safe
adding additional values.
document.add( Field.Text( "title", "Thanks Thomas" ));
document.add( Field.Text( "title", "Thanks Hoss" ) );  // Does not
stomp on Thomas. Yay!

If I can use this technique to pile in a ton of dates, then I'm
totally happy, you guys have pointed me in the right direction;
celebrations all around.

The brain scratcher, for me, was Peter's treating the dates like a
synonym -- a clever way of looking at the problem.  Unfortunately,
that'd be giving me too much credit, as I haven't played with that
feature set of Lucene.  So, without trying to, Peter's sent me
scrambling back to the API for something I wasn't aware was there.

Steve adds to the mystery by suggesting a delimited field list, much
like the example at the top of this message, and likewise doing some
trickery with the token stream and a position increment of zero --
again, a clever solution, and likewise beyond my limited Lucene
experience.

While I know, intellectually, that Lucene is digesting positioned
tokens, it is so well designed that fools like me can legitimately use
Lucene for long periods of time without actually being exposed to
what's happening under the hood.

The ponderance I now contemplate as a newbie (I've downgraded my self
assessment after this discussion) is knowing whether the token-stream
solution or the multiple-add solution is the pedantic one.  Are there
performance advantages to one way over the other?  I'll be totally
stunned if someone offers up that they're logically the same thing.

I swear, conversing with you guys is giving me a very deep sense of
appreciation for your skills and Lucene's capabilities.

-wls

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 16:02:00 2007
Return-Path: <java-user-return-26550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67337 invoked from network); 1 Mar 2007 16:01:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 16:01:59 -0000
Received: (qmail 5438 invoked by uid 500); 1 Mar 2007 16:02:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5408 invoked by uid 500); 1 Mar 2007 16:02:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5395 invoked by uid 99); 1 Mar 2007 16:02:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 08:02:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 08:01:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 925C730EFC1A; Thu,  1 Mar 2007 09:01:29 -0700 (MST)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.5.4.246] (outgoing.georgiacenter.uga.edu [128.192.37.10])
	by ehatchersolutions.com (Postfix) with ESMTP id CF5AE30EFC18
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 09:01:25 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <392521EA2692A2418DF48C331E61E32506ABFC@professorville.windows.esseff.org>
References: <8c9f7ec80702271152s43101cedx49add526def1049b@mail.gmail.com> <392521EA2692A2418DF48C331E61E32506ABF8@professorville.windows.esseff.org> <8c9f7ec80702272214k72a6156bu1dd7e137ed21ba4b@mail.gmail.com> <392521EA2692A2418DF48C331E61E32506ABFC@professorville.windows.esseff.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <11A14669-D51D-40EC-A9DA-0091E8380B40@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: document field updates
Date: Thu, 1 Mar 2007 05:47:21 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.1 required=5.0 tests=BAYES_00,DATE_IN_PAST_03_06 
	autolearn=ham version=3.1.1


On Feb 28, 2007, at 8:59 AM, Steven Parkes wrote:

> 	Are unindexed fields stored seperately from the main inverted
> index?
> 	If so then, one could implement the field value change as a
> delete and
> 	re-add of just that value?
>
> The short answer is that won't work. Field values are stored in a
> different data structure than the postings lists but docids are
> consistent across all contents of a segment. Deleting something and
> readding it is going to put it into a different segment which is going
> to keep this from working. (Not to mention that you want the postings
> lists updated if you want it to be searchable ...)
>
> 	Are you aware of some implementation of Lucene that solves this
> need
> 	well with a second index for 'tags' complete with multi-index
> boolean
> 	queries?
>
> I'm pretty sure this has been done, I'm just not 100% sure where. Does
> Nutch index link text?

Nutch does do this sort of thing, but I'm not quite sure how.  It  
isn't doing any operations to the Lucene index beyond what plain ol'  
Lucene does.

> I don't know if Solr has anything like this but
> if I remember correctly, Collex has tags but as far as I can tell,  
> it's
> not been open sourced (yet?)

Collex is quite open source, its just ugly source :)  We're the  
'patacriticism' project at SourceForge, under the "collex" directory  
in Subversion.

Collex implements tagging by implementing JOIN cross-references  
between user/tag documents and regular object documents.  It's  
scalability is not going to be good at bigger numbers in its current  
architecture, but it works quite well for our 60k or so objects at  
the moment.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 16:41:29 2007
Return-Path: <java-user-return-26551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82041 invoked from network); 1 Mar 2007 16:41:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 16:41:29 -0000
Received: (qmail 98638 invoked by uid 500); 1 Mar 2007 16:41:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98600 invoked by uid 500); 1 Mar 2007 16:41:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98568 invoked by uid 99); 1 Mar 2007 16:41:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 08:41:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 08:41:11 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id l21GexP00856
	for <java-user@lucene.apache.org>; Thu, 1 Mar 2007 10:40:59 -0600
Message-ID: <45E70214.50206@getopt.org>
Date: Thu, 01 Mar 2007 17:40:52 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: document field updates
References: <8c9f7ec80702271152s43101cedx49add526def1049b@mail.gmail.com> <392521EA2692A2418DF48C331E61E32506ABF8@professorville.windows.esseff.org> <8c9f7ec80702272214k72a6156bu1dd7e137ed21ba4b@mail.gmail.com> <392521EA2692A2418DF48C331E61E32506ABFC@professorville.windows.esseff.org> <11A14669-D51D-40EC-A9DA-0091E8380B40@ehatchersolutions.com>
In-Reply-To: <11A14669-D51D-40EC-A9DA-0091E8380B40@ehatchersolutions.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Erik Hatcher wrote:
>>
>> I'm pretty sure this has been done, I'm just not 100% sure where. Does
>> Nutch index link text?
>
> Nutch does do this sort of thing, but I'm not quite sure how.  It 
> isn't doing any operations to the Lucene index beyond what plain ol' 
> Lucene does.
>

Nutch maintains a set of separate DBs (using Hadoop 
MapFile/SequenceFile), where inlinks are stored (together with their 
anchor text). During indexing this data is pulled in from the DBs piece 
by piece using the URLs as "primary keys".

Nutch doesn't update _any_ data structures in-place - all "update" 
operations involve creating new data files and optionally deleting old 
data files. This includes also indexes - new indexes are being created 
from newly updated pages, and then only individual Lucene documents are 
deleted from older indexes to get rid of duplicates. After a while, 
really old indexes are removed completely, because their content is 
likely to be present in one of the newer indexes.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 18:36:24 2007
Return-Path: <java-user-return-26552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24590 invoked from network); 1 Mar 2007 18:36:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 18:36:23 -0000
Received: (qmail 12808 invoked by uid 500); 1 Mar 2007 18:36:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12778 invoked by uid 500); 1 Mar 2007 18:36:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12767 invoked by uid 99); 1 Mar 2007 18:36:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 10:36:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of nrichter@gmail.com designates 64.233.162.230 as permitted sender)
Received: from [64.233.162.230] (HELO nz-out-0506.google.com) (64.233.162.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 10:36:13 -0800
Received: by nz-out-0506.google.com with SMTP id i1so518960nzh
        for <java-user@lucene.apache.org>; Thu, 01 Mar 2007 10:35:52 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=mJrgIrK6UmgN6Fb0BdzYtzV1h7y2nSxoZtGAwdf2Rqc2w24y0GJTa1cz7gT9IsqNUKqLb18wZEnSJIOPsEe2oojfGObeHoJYxzVaN6R9GFAN0H0HfixU0HZDubK98B5jTDIIdYgMMxqOD0NooanA+KkG7K8JnO8VU7Lzn//0SrE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PRcv/0EG8Albb1FRaoHlSjbqiYQdbQOfsDXubq77kv4wZmDBjjXsRJFgFzYEh6CeohuLEZOcW53HzjLpEXlj3tTtwt7N2KUDHw85ZN17zdHfsC3rJSXhxapoK5c4oT6Ydvw+dDNg01IulOh7U/xqqtFszRB8+48ewOX8aFkRbw4=
Received: by 10.114.202.15 with SMTP id z15mr1232323waf.1172774152080;
        Thu, 01 Mar 2007 10:35:52 -0800 (PST)
Received: by 10.114.184.12 with HTTP; Thu, 1 Mar 2007 10:35:52 -0800 (PST)
Message-ID: <8c9f7ec80703011035m5edcd803p42b55b0a66787f3@mail.gmail.com>
Date: Thu, 1 Mar 2007 13:35:52 -0500
From: "Neal Richter" <nrichter@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: document field updates
In-Reply-To: <11A14669-D51D-40EC-A9DA-0091E8380B40@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <8c9f7ec80702271152s43101cedx49add526def1049b@mail.gmail.com>
	 <392521EA2692A2418DF48C331E61E32506ABF8@professorville.windows.esseff.org>
	 <8c9f7ec80702272214k72a6156bu1dd7e137ed21ba4b@mail.gmail.com>
	 <392521EA2692A2418DF48C331E61E32506ABFC@professorville.windows.esseff.org>
	 <11A14669-D51D-40EC-A9DA-0091E8380B40@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org

> Collex is quite open source, its just ugly source :)  We're the
> 'patacriticism' project at SourceForge, under the "collex" directory
> in Subversion.
>
> Collex implements tagging by implementing JOIN cross-references
> between user/tag documents and regular object documents.  It's
> scalability is not going to be good at bigger numbers in its current
> architecture, but it works quite well for our 60k or so objects at
> the moment.

Have you implemented and code that enforces a Boolean query across
these two indexes?
Has anyone implemented a BooleanQuery class that operates across a set
of Fields that may live in different Indexes?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 20:49:16 2007
Return-Path: <java-user-return-26553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82419 invoked from network); 1 Mar 2007 20:49:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 20:49:14 -0000
Received: (qmail 55097 invoked by uid 500); 1 Mar 2007 20:49:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55056 invoked by uid 500); 1 Mar 2007 20:49:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55038 invoked by uid 99); 1 Mar 2007 20:49:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 12:49:16 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mike.klaas@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 12:49:05 -0800
Received: by ug-out-1314.google.com with SMTP id k40so473191ugc
        for <java-user@lucene.apache.org>; Thu, 01 Mar 2007 12:48:44 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=k0wMf3UJdsDuQb/KaMOi+IxPQrWuDEGLanUS47bnI1/4Cd6Mzag1Dh9seUTHJIIGZkftnz4E72wDtrEjrZsA3Ztm6KqpSIFptdE16b3r5Gvv1w7f7CaM97sT6FmGN67huLvQ+ipFhfxKqGo9vqHZM0MIj1mYJIkz7GCRDkLz7MY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=XuIsuEtSND69HdHRqv2XwILqt7R+19Hbd5g8CDMbf1KQ4gyRlHhV7dB2sl8tDevPThD+blzGdhzhghT22CmRQVyoAODUTNKw+dRxembOhFXd/kgLyDXnDBb7JyT62ZqJnPJLWL34NC1GDrZrbQIkDN9F6y3pZ7cMKeLPRESDA3M=
Received: by 10.114.81.1 with SMTP id e1mr192427wab.1172782087685;
        Thu, 01 Mar 2007 12:48:07 -0800 (PST)
Received: by 10.114.198.18 with HTTP; Thu, 1 Mar 2007 12:48:07 -0800 (PST)
Message-ID: <3d2ce8cb0703011248o5554052dxeb93b071bb2ded70@mail.gmail.com>
Date: Thu, 1 Mar 2007 12:48:07 -0800
From: "Mike Klaas" <mike.klaas@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: [Fwd: Re: indexing performance]
In-Reply-To: <f514763f0703010720q10e8cbf2p99f012aac47559fd@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <45E6EA0C.1000700@adventnet.com>
	 <f514763f0703010720q10e8cbf2p99f012aac47559fd@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/1/07, Saravana <mskumar@gmail.com> wrote:

> Is this still hold good now ? Thanks for your reply.

Probably most of that still applies to some extent.  However, it is
unclear whether it will speed up your application.

First thing is to find out what your bottleneck is.  Looking at the
stats on your machine during indexing, is io-bound? cpu-bound? mixed?

There are various possible strategies, but they will come from
finely-tuning your proceed to meet the bottlenecks you are
experiencing.  If you are cpu-bound, then perhaps you can use less
intensive analyzers, or purchase a multi-cpu machine and index
threadedly.  If you are i/o bound, you could 1) buy faster disks, 2)
use a faster i/o backend (e.g. RAID-0), 3) created indexes on multiple
independent disks and merge later.

regards,
-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 21:11:03 2007
Return-Path: <java-user-return-26554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89864 invoked from network); 1 Mar 2007 21:11:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 21:11:02 -0000
Received: (qmail 9814 invoked by uid 500); 1 Mar 2007 21:11:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9417 invoked by uid 500); 1 Mar 2007 21:11:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9406 invoked by uid 99); 1 Mar 2007 21:11:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 13:11:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 13:10:51 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C7AF530EFC19; Thu,  1 Mar 2007 14:10:30 -0700 (MST)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.5.4.246] (outgoing.georgiacenter.uga.edu [128.192.37.10])
	by ehatchersolutions.com (Postfix) with ESMTP id 050A130EFC18
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 14:10:01 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <8c9f7ec80703011035m5edcd803p42b55b0a66787f3@mail.gmail.com>
References: <8c9f7ec80702271152s43101cedx49add526def1049b@mail.gmail.com> <392521EA2692A2418DF48C331E61E32506ABF8@professorville.windows.esseff.org> <8c9f7ec80702272214k72a6156bu1dd7e137ed21ba4b@mail.gmail.com> <392521EA2692A2418DF48C331E61E32506ABFC@professorville.windows.esseff.org> <11A14669-D51D-40EC-A9DA-0091E8380B40@ehatchersolutions.com> <8c9f7ec80703011035m5edcd803p42b55b0a66787f3@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B995AB63-7ADA-481A-9C1E-05592DC440B4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: document field updates
Date: Thu, 1 Mar 2007 16:09:58 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1


On Mar 1, 2007, at 1:35 PM, Neal Richter wrote:
>> Collex is quite open source, its just ugly source :)  We're the
>> 'patacriticism' project at SourceForge, under the "collex" directory
>> in Subversion.
>>
>> Collex implements tagging by implementing JOIN cross-references
>> between user/tag documents and regular object documents.  It's
>> scalability is not going to be good at bigger numbers in its current
>> architecture, but it works quite well for our 60k or so objects at
>> the moment.
>
> Have you implemented and code that enforces a Boolean query across
> these two indexes?

Actually its a single index, with a "type" field that separates the  
two different types of documents (archive objects, or collectable  
objects).

A pointer to this code is here: <http:// 
patacriticism.svn.sourceforge.net/viewvc/patacriticism/collex/trunk/ 
src/solr/org/nines/CollectableCache.java?view=markup>  It's a hack  
that leverages some of Solr's facilities (but not near enough!).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 21:21:27 2007
Return-Path: <java-user-return-26555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94133 invoked from network); 1 Mar 2007 21:21:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 21:21:26 -0000
Received: (qmail 29938 invoked by uid 500); 1 Mar 2007 21:21:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29909 invoked by uid 500); 1 Mar 2007 21:21:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29898 invoked by uid 99); 1 Mar 2007 21:21:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 13:21:28 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [204.115.178.55] (HELO saturn.local) (204.115.178.55)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 13:21:17 -0800
Received: from TRAVELLER ([192.168.1.70]) by saturn.local with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 1 Mar 2007 16:20:56 -0500
From: "Tim Johnson" <timothy.w.johnson@saic.com>
To: <java-user@lucene.apache.org>
Subject: More long running queries
Date: Thu, 1 Mar 2007 16:20:56 -0500
Message-ID: <006f01c75c47$80586aa0$4601a8c0@TRAVELLER>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: AcdcR4Amglu2NHrMQae7yQgwP7/Q0A==
X-OriginalArrivalTime: 01 Mar 2007 21:20:56.0178 (UTC) FILETIME=[7FE95520:01C75C47]
X-Virus-Checked: Checked by ClamAV on apache.org

I'm still having issues with long running queries. 

I'm using a custom HitCollector to bring back ALL docs that match a search
has suggested in a previous post/relpy (e.g. Nutch LuceneQueryOptimizer).

This solution works most of the time; however, in testing a very complex
query using several range queries and term queries, we're seeing times in
the 40 sec range with NO HITS returned.

The index contains approx. one million docs and the number of Boolean
expressions created is well over 100,000

Tim


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 01 22:38:39 2007
Return-Path: <java-user-return-26556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17822 invoked from network); 1 Mar 2007 22:38:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Mar 2007 22:38:39 -0000
Received: (qmail 19289 invoked by uid 500); 1 Mar 2007 22:38:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19247 invoked by uid 500); 1 Mar 2007 22:38:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19236 invoked by uid 99); 1 Mar 2007 22:38:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 14:38:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [198.144.201.51] (HELO esseff.org) (198.144.201.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 14:38:28 -0800
Received: from localhost (localhost [127.0.0.1])
	by esseff.org (Postfix) with ESMTP id E71CC5F681C
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 14:40:28 -0800 (PST)
X-Quarantine-ID: <qaVg92aRxNxR>
X-Virus-Scanned: amavisd-new at esseff.org
Received: from esseff.org ([127.0.0.1])
	by localhost (esseff.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qaVg92aRxNxR for <java-user@lucene.apache.org>;
	Thu,  1 Mar 2007 14:40:24 -0800 (PST)
Received: from professorville.windows.esseff.org (professorville.windows.esseff.org [10.0.1.16])
	by esseff.org (Postfix) with ESMTP id AF2FA5F67AB
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 14:40:24 -0800 (PST)
MIME-Version: 1.0
Subject: RE: Soliciting Design Thoughts on Date Searching
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-class: urn:content-classes:message
Date: Thu, 1 Mar 2007 14:38:01 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <392521EA2692A2418DF48C331E61E32506AC07@professorville.windows.esseff.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Soliciting Design Thoughts on Date Searching
Thread-Index: AcdcGiVXHuqrKNUURV+HWxR01NS0fAANTMAQ
References: <ae6f38f60703010753y54e97e5q33d687ae16fe1e07@mail.gmail.com>
From: "Steven Parkes" <steven_parkes@esseff.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

If all you want to do is find docs containing dates within a range, it
probably doesn't make much difference whether you give dates their own
field or put them into your content field. It'll probably be easier to
just add them into the token stream since that's the way the analyzer
architecture wants to work (analyzers generally don't know anything
about fields.) You can make the position increment work if you want, and
it'll make phrase/span queries work better, if you need those to work.

What is going to matter in either case is how you format dates.
Everything in Lucene is text, so if you want to do date ranges (which
you mentioned in your first e-mail), you need to be careful how you
format the dates and what kinds of queries you use. See, for example,
http://lucene.apache.org/java/docs/api/org/apache/lucene/document/DateTo
ols.html
(tinyurl: http://tinyurl.com/ejlvx)
and
http://wiki.apache.org/jakarta-lucene/LargeScaleDateRangeProcessing
(tinyurl: http://tinyurl.com/2pubaq)
There are also date filters (as opposed to date queries) that have
different tradeoffs.

Dates are kinda tricky in Lucene.

-----Original Message-----
From: Walt Stoneburner [mailto:walt.stoneburner@gmail.com]=20
Sent: Thursday, March 01, 2007 7:54 AM
To: java-user@lucene.apache.org
Subject: Re: Soliciting Design Thoughts on Date Searching

Thank you all for the suggestions steering me down the right path.

As an aside, the easy part, at least for me, is extracting the dates
-- Peter was dead on about how doing that: heuristics, multiple
regular expressions, and data structures.  As Steve pointed out, this
isn't as trivial as it sounds - there are a lot of formats, some
ambiguous.

I love writing parsers (guess I'm sick in the head, eh?), so getting
the data isn't the problem, it's knowing what format to convert it
into and how to hand it to Lucene in a way that it'll find meaningful
for searching.

I had pondered making a single field with a value like:
document.add( Field.Text( "dates", "27-Feb-1968,04-Jul-1776,01-Mar-2007"
));
...but I wasn't convinced that the Lucene date Range was going to work
on anything other than a Date type, rather than a string of text that
just coincidently happened to contain dates.

Drawing back on my title example, I was under the incorrect impression
that if I had a field and provided another value that it replaced the
prior value.  Hoss is indicating this is not so, and that I'm safe
adding additional values.
document.add( Field.Text( "title", "Thanks Thomas" ));
document.add( Field.Text( "title", "Thanks Hoss" ) );  // Does not
stomp on Thomas. Yay!

If I can use this technique to pile in a ton of dates, then I'm
totally happy, you guys have pointed me in the right direction;
celebrations all around.

The brain scratcher, for me, was Peter's treating the dates like a
synonym -- a clever way of looking at the problem.  Unfortunately,
that'd be giving me too much credit, as I haven't played with that
feature set of Lucene.  So, without trying to, Peter's sent me
scrambling back to the API for something I wasn't aware was there.

Steve adds to the mystery by suggesting a delimited field list, much
like the example at the top of this message, and likewise doing some
trickery with the token stream and a position increment of zero --
again, a clever solution, and likewise beyond my limited Lucene
experience.

While I know, intellectually, that Lucene is digesting positioned
tokens, it is so well designed that fools like me can legitimately use
Lucene for long periods of time without actually being exposed to
what's happening under the hood.

The ponderance I now contemplate as a newbie (I've downgraded my self
assessment after this discussion) is knowing whether the token-stream
solution or the multiple-add solution is the pedantic one.  Are there
performance advantages to one way over the other?  I'll be totally
stunned if someone offers up that they're logically the same thing.

I swear, conversing with you guys is giving me a very deep sense of
appreciation for your skills and Lucene's capabilities.

-wls

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 01:17:28 2007
Return-Path: <java-user-return-26557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74738 invoked from network); 2 Mar 2007 01:17:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 01:17:27 -0000
Received: (qmail 25997 invoked by uid 500); 2 Mar 2007 01:17:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25972 invoked by uid 500); 2 Mar 2007 01:17:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25961 invoked by uid 99); 2 Mar 2007 01:17:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 17:17:28 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 66.249.82.231 as permitted sender)
Received: from [66.249.82.231] (HELO wx-out-0506.google.com) (66.249.82.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 17:17:15 -0800
Received: by wx-out-0506.google.com with SMTP id i29so624186wxd
        for <java-user@lucene.apache.org>; Thu, 01 Mar 2007 17:16:54 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        b=abRIX8goWNNbrSSM/i1cRgjH/xDlLKra2NPKKTv2gbvyNgLRFm6XZxdzcOZ57ivUvxklqFYTCOvxEopYiIMoqoucyZK6L7mjPBOrcjnRae0fDKPL4zwpBrZOxgL3RSW8W/4bwFCmY5b1KM7hx25onbNv6bS2vY7jmpaMdMOIoMM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
        b=cJHDjdIRWKwqnjXZv3Y1ibeO8x/jBjpJvWHJg3/qLfE314jGISsrJK5/Rr98JkHx1wNdcg1yPTJ3qqG4aC9P9VD8N9PuoH7wTvPRybqAcXHfKD5CHAGvWI0Wj/AETapwbuDkxm0UG3hAYjxX+YY+5KwBAZXsektzuWmP8QJMRF8=
Received: by 10.70.65.5 with SMTP id n5mr1736402wxa.1172798214565;
        Thu, 01 Mar 2007 17:16:54 -0800 (PST)
Received: from ?192.168.1.105? ( [216.66.114.42])
        by mx.google.com with ESMTP id 15sm4646764wrl.2007.03.01.17.16.53;
        Thu, 01 Mar 2007 17:16:53 -0800 (PST)
Message-ID: <45E77AC3.5090901@gmail.com>
Date: Thu, 01 Mar 2007 20:15:47 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Field Selector in Searcher interface
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

What are the odds (or reasons against) bubbling up doc(int, 
fieldSeclector) to Searcher? I would love to take advantage of the 
selective field loading but I am working with MultiSearchers and 
Searchers so I cannot count on getReader (in IndexSearcher) for access.

- Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 03:45:25 2007
Return-Path: <java-user-return-26558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22382 invoked from network); 2 Mar 2007 03:45:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 03:45:24 -0000
Received: (qmail 96162 invoked by uid 500); 2 Mar 2007 03:45:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96125 invoked by uid 500); 2 Mar 2007 03:45:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96113 invoked by uid 99); 2 Mar 2007 03:45:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 19:45:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.119] (HELO spunkymail-a18.g.dreamhost.com) (208.97.132.119)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 19:45:13 -0800
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a18.g.dreamhost.com (Postfix) with ESMTP id E1DAF5B52D
	for <java-user@lucene.apache.org>; Thu,  1 Mar 2007 19:44:51 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <45E77AC3.5090901@gmail.com>
References: <45E77AC3.5090901@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DAA3135F-618E-4514-A446-29FC9D1C5826@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Field Selector in Searcher interface
Date: Thu, 1 Mar 2007 22:44:47 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

The odds increase significantly in correlation to patches  
submitted!  :-)  The odds increase slightly by at least filing an  
"enhancement" issue in JIRA.  They increase a tiny bit by bringing it  
up here!  I may have some time in the not too distant future for  
this, but we always appreciate the help.

Looking briefly at the Searchable interface, it does seem to make  
sense, but that is just my quick glance take on it.

-Grant

On Mar 1, 2007, at 8:15 PM, Mark Miller wrote:

> What are the odds (or reasons against) bubbling up doc(int,  
> fieldSeclector) to Searcher? I would love to take advantage of the  
> selective field loading but I am working with MultiSearchers and  
> Searchers so I cannot count on getReader (in IndexSearcher) for  
> access.
>
> - Mark
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 06:09:15 2007
Return-Path: <java-user-return-26559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48045 invoked from network); 2 Mar 2007 06:09:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 06:09:14 -0000
Received: (qmail 43236 invoked by uid 500); 2 Mar 2007 06:09:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43199 invoked by uid 500); 2 Mar 2007 06:09:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43188 invoked by uid 99); 2 Mar 2007 06:09:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 22:09:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 22:09:05 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 301A54A8157
	for <java-user@lucene.apache.org>; Fri,  2 Mar 2007 17:10:21 +1100 (EST)
Message-ID: <45E7BFC7.8070706@nuix.com>
Date: Fri, 02 Mar 2007 17:10:15 +1100
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: updating index
References: <OF82A22A82.39E67B2F-ON8825728F.002A733C-8825728F.002AAD88@il.ibm.com>
In-Reply-To: <OF82A22A82.39E67B2F-ON8825728F.002A733C-8825728F.002AAD88@il.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Doron Cohen wrote:
> Once indexing the database_id field this way, also the newly added
> API IndexWriter.updateDocument() may be useful.

Whoa, nice convenience method.

I don't suppose the new document happens to be given the same ID as the 
old one.  That would make many people's lives much easier. :-)

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 07:08:26 2007
Return-Path: <java-user-return-26560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60922 invoked from network); 2 Mar 2007 07:08:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 07:08:25 -0000
Received: (qmail 99487 invoked by uid 500); 2 Mar 2007 07:08:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99451 invoked by uid 500); 2 Mar 2007 07:08:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99440 invoked by uid 99); 2 Mar 2007 07:08:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 23:08:27 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Mar 2007 23:08:14 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2277qEx306478
	for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 07:07:52 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.2) with ESMTP id l2277qN61491150
	for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 08:07:52 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2277q8g030604
	for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 08:07:52 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2277qmD030599
	for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 08:07:52 +0100
In-Reply-To: <45E7BFC7.8070706@nuix.com>
Subject: Re: updating index
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFDFAF664F.034BF750-ON88257292.00264AC5-88257292.0026EE21@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 1 Mar 2007 23:05:13 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 02/03/2007 09:07:51
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


Daniel Noll <daniel@nuix.com> wrote on 01/03/2007 22:10:15:

> > API IndexWriter.updateDocument() may be useful.
>
> Whoa, nice convenience method.
>
> I don't suppose the new document happens to be given the same ID as the
> old one.  That would make many people's lives much easier. :-)

Oh no, this aspect is as it was - the document(s) is deleted, and re-added.
However due to the buffering of deletes in IndexWriter, the application no
longer needs to take care of batching the deletes for performance
considerations - this is taken care of by IndexWriter.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 10:45:42 2007
Return-Path: <java-user-return-26561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43262 invoked from network); 2 Mar 2007 10:45:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 10:45:42 -0000
Received: (qmail 49321 invoked by uid 500); 2 Mar 2007 10:45:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49293 invoked by uid 500); 2 Mar 2007 10:45:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49282 invoked by uid 99); 2 Mar 2007 10:45:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 02:45:43 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 02:45:31 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id l22Aj7mn009191
	for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 11:45:07 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200703021045.l22Aj7mn009191@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: How can I use SortComparator in my case?
Date: Fri, 2 Mar 2007 11:45:02 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0004_01C75CC0.39F1E9A0"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acdct9UH1Scv129FQSOI6USgH2Qnkw==
X-Scanned-By: MIMEDefang 2.57 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0004_01C75CC0.39F1E9A0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,
I have a requirement to sort search results in a round robin.
Ex:sorting results by field "customer" 
suppose following customers are found (number of results in brackets) and
results are sorted by customer.
 
Amazon(10)
Dell(2)
EBay(4)
Yahoo(20)
 
but I want to sort them in the following way,
Amazon(1)
Dell(1)
EBay(1)
Yahoo(1)
 
Amazon(1)
Dell(1)
EBay(1)
Yahoo(1)
 
Amazon(1)
EBay(1)
Yahoo(1)
  
Amazon(1)
EBay(1)
Yahoo(1)
 
etc.. etc..
 
 
You think I can use somehow SortComparator here? 
any suggestions?
 
Thx,
Jelda
 

------=_NextPart_000_0004_01C75CC0.39F1E9A0--


From java-user-return-26562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 11:37:13 2007
Return-Path: <java-user-return-26562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55952 invoked from network); 2 Mar 2007 11:37:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 11:37:13 -0000
Received: (qmail 7323 invoked by uid 500); 2 Mar 2007 11:37:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7280 invoked by uid 500); 2 Mar 2007 11:37:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7269 invoked by uid 99); 2 Mar 2007 11:37:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 03:37:14 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 66.249.82.230 as permitted sender)
Received: from [66.249.82.230] (HELO wx-out-0506.google.com) (66.249.82.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 03:37:01 -0800
Received: by wx-out-0506.google.com with SMTP id i29so749736wxd
        for <java-user@lucene.apache.org>; Fri, 02 Mar 2007 03:36:41 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ncGzAjNzwc/oZNihnoYMw1R5HibPP45Zl0mrv74RI44QA+f4vZzEHR0CBn4IpWIz5mV/6lrhFjog7yOAaf0I+exQuX5p9qpyOjVkEJWnhWZ2dB29oKd+1B6nD/r5fxwqUebAfklDLCOLBkJUYE1V5lmAkgCiwWN6XD7E9FZyCGM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=Y1ttAxuPtsGvi/an0s7fBxdxV9dnyKQsvprRNs02oPNJDXJVFCtipR2Am3+PHPQba1Qc0MTE4O8wo65VqHeCd3KAQgt6qVR/38mk5M72EqsIn5LWTNsWSg5UngY79zfMHHFGET4RzcwKgIXz7BrizbHkI4yEdR0F7yZ2G2wJKgk=
Received: by 10.90.100.2 with SMTP id x2mr1280479agb.1172835401216;
        Fri, 02 Mar 2007 03:36:41 -0800 (PST)
Received: from ?192.168.1.105? ( [216.66.114.42])
        by mx.google.com with ESMTP id 67sm4056931wra.2007.03.02.03.36.40;
        Fri, 02 Mar 2007 03:36:40 -0800 (PST)
Message-ID: <45E80C37.30703@gmail.com>
Date: Fri, 02 Mar 2007 06:36:23 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Field Selector in Searcher interface
References: <45E77AC3.5090901@gmail.com> <DAA3135F-618E-4514-A446-29FC9D1C5826@apache.org>
In-Reply-To: <DAA3135F-618E-4514-A446-29FC9D1C5826@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Grant,

I don't mind trying my hand at it or making an issue <g> Just wanted to 
make sure I wasn't all wet about it first.

- Mark

Grant Ingersoll wrote:
> The odds increase significantly in correlation to patches submitted!  
> :-)  The odds increase slightly by at least filing an "enhancement" 
> issue in JIRA.  They increase a tiny bit by bringing it up here!  I 
> may have some time in the not too distant future for this, but we 
> always appreciate the help.
>
> Looking briefly at the Searchable interface, it does seem to make 
> sense, but that is just my quick glance take on it.
>
> -Grant
>
> On Mar 1, 2007, at 8:15 PM, Mark Miller wrote:
>
>> What are the odds (or reasons against) bubbling up doc(int, 
>> fieldSeclector) to Searcher? I would love to take advantage of the 
>> selective field loading but I am working with MultiSearchers and 
>> Searchers so I cannot count on getReader (in IndexSearcher) for access.
>>
>> - Mark
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 12:23:42 2007
Return-Path: <java-user-return-26563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65686 invoked from network); 2 Mar 2007 12:23:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 12:23:41 -0000
Received: (qmail 49684 invoked by uid 500); 2 Mar 2007 12:23:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49646 invoked by uid 500); 2 Mar 2007 12:23:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49613 invoked by uid 99); 2 Mar 2007 12:23:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 04:23:19 -0800
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of dziadgba@googlemail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 04:23:07 -0800
Received: by nf-out-0910.google.com with SMTP id i2so1171513nfe
        for <java-user@lucene.apache.org>; Fri, 02 Mar 2007 04:22:46 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=googlemail.com; s=beta;
        h=domainkey-signature:received:received:to:subject:organization:content-type:mime-version:content-transfer-encoding:date:message-id:user-agent:from;
        b=ujMlUJaYd6RIJ0hd+Y5yhlYWV7bijdORWNCvLEWB30A1rWNmnTVCS+WgN05l3lpHjiJasGFmGH/bOhEisGOR3bLY9LjCz3PXpgpvZlBxA6Oc9oAbJt0xOjYkSl/NFb7O0XAA0Y8ySYaGB8tsxkiJzIllU1GFbwleYaauwaZ6Hl0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=beta;
        h=received:to:subject:organization:content-type:mime-version:content-transfer-encoding:date:message-id:user-agent:from;
        b=a+Gz97AfaYoQ5/gLbbdjzEiyC9+XViWnE6FMcthGw/8CTmotx0I34susx8zsZinJr8S+2qU9CY5vUdvBU8G7sglw3E2/LDVeFGv6MllsQn0aLEkIOU3w9OL02R3t5R+5dDTa+3E3JiMmHH4vgdDqBRhXBImQBg52pkgXP28LTfo=
Received: by 10.49.54.3 with SMTP id g3mr7667828nfk.1172838166131;
        Fri, 02 Mar 2007 04:22:46 -0800 (PST)
Received: from idefix.residential.fw ( [213.140.22.74])
        by mx.google.com with ESMTP id g8sm4850428muf.2007.03.02.04.22.45;
        Fri, 02 Mar 2007 04:22:45 -0800 (PST)
To: java-user@lucene.apache.org
Subject: calculate average distance between words
Organization: GMAIL
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Date: Fri, 02 Mar 2007 13:22:48 +0100
Message-ID: <op.toj90ao0329srq@idefix.residential.fw>
User-Agent: Opera Mail/9.10 (Win32)
From: dziadgba <dziadgba@googlemail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

hy,
We want to correlate words and construct a network which links give the
correleation strength.
We believe that if words occur very often very near to each other the
strenght of the link should be stronger.

I remember that somebody once told me that lucene has the capability of
doing that.
So given two terms and the common field (of a single document or all the
documents in which both words occur) it can give the average distance
between the two words.

anyone has any clue?
thanks for attention
dzi

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 13:23:15 2007
Return-Path: <java-user-return-26564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88498 invoked from network); 2 Mar 2007 13:23:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 13:23:13 -0000
Received: (qmail 39504 invoked by uid 500); 2 Mar 2007 13:23:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39477 invoked by uid 500); 2 Mar 2007 13:23:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39466 invoked by uid 99); 2 Mar 2007 13:23:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 05:23:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.2.70.1] (HELO bisystem.com) (194.2.70.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 05:23:04 -0800
Received: from bimela9inl01.bi.local (unknown [192.168.0.7])
	by bisystem.com ("Microsoft ESMTP MAIL Service") with ESMTP id 0B08F3381D
	for <java-user@lucene.apache.org>; Fri,  2 Mar 2007 14:36:57 +0100 (CET)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene 2.1: java.io.IOException: Lock obtain timed out:  SimpleFSLock@<path of index file>
Date: Fri, 2 Mar 2007 14:22:41 +0100
Message-ID: <A48E4B1E4A5829469F3ACB3DE313F2453D13AB@bimela9inl01.bi.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 2.1: java.io.IOException: Lock obtain timed out:  SimpleFSLock@<path of index file>
Thread-Index: Acdb65G9qBgJi5wNRxu8ENOQDngPVgA4XvEw
References: <A48E4B1E4A5829469F3ACB3DE313F2453D12D1@bimela9inl01.bi.local> <1172744545.26930.1177152915@webmail.messagingengine.com>
From: "Jerome Chauvin" <Jerome.Chauvin@businessinteractif.fr>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Michael for your answer, but following check of our processing, =
it
appears all the updates of the index are made in a single thread. =
Actually,
this kind of exception is thrown during a heavy batch processing. This
processing is not multi-threaded.

One other think I don't understand is: All the methods accessing the =
index in
Lucene are synchronized. How can a concurrent access to the index occur?

Thanks in advance,

-Jerome Chauvin-

-----Message d'origine-----
De : Michael McCandless [mailto:lucene@mikemccandless.com]=20
Envoy=E9 : jeudi 1 mars 2007 11:22
=C0 : java-user@lucene.apache.org
Objet : Re: Lucene 2.1: java.io.IOException: Lock obtain timed out:
SimpleFSLock@<path of index file>

"Jerome Chauvin" <Jerome.Chauvin@businessinteractif.fr> wrote:

> We encounter issues while updating the lucene index, here is the stack
> trace:
> =20
> Caused by: java.io.IOException: Lock obtain timed out:
> SimpleFSLock@/data/www/orcanta/lucene/store1/write.lock
>  at org.apache.lucene.store.Lock.obtain(Lock.java:69)
>  at
> =20
> org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:5
> 26)
>  at
> =20
> org.apache.lucene.index.IndexReader.deleteDocument(IndexReader.java:55
> 1)
>  at
> =20
> org.apache.lucene.index.IndexReader.deleteDocuments(IndexReader.java:5
> 78)
>  at
> com.bi.commerce.service.catalog.spring.lucene.LuceneIndex.deleteFromIn
> dex(Luc
> eneIndex.java:692)
>  ... 25 more

First off, you have to ensure only one writer (either IndexWriter or as =
in
this case IndexReader doing deletes) is trying to update the index at =
the
same time.  Lucene only allows one writer on an index, and if a second =
writer
tries to open it will receive exactly this exception.

(Note that as of 2.1 you can now do deletes with IndexWriter which =
simplifies
things because you can use a single IndexWriter for
adds/updates/deletes.)

If you are already doing that (single writer) correctly, the other =
common
cause is that this is a leftover lock file (for example if the JVM =
crashed or
was killed or even if you didn't close a previous writer before the JVM
exited).  There is a better locking implementation (NativeFSLockFactory) =
that
correctly frees the lock when the JVM crashes so you may want to use =
that one
instead if you hit this often (but first explain the root cause of your
crashes!).

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 13:28:23 2007
Return-Path: <java-user-return-26565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91462 invoked from network); 2 Mar 2007 13:28:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 13:28:22 -0000
Received: (qmail 56161 invoked by uid 500); 2 Mar 2007 13:28:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56117 invoked by uid 500); 2 Mar 2007 13:28:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56087 invoked by uid 99); 2 Mar 2007 13:28:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 05:28:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.74] (HELO spunkymail-a1.g.dreamhost.com) (208.97.132.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 05:28:09 -0800
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a1.g.dreamhost.com (Postfix) with ESMTP id C27C5FF934
	for <java-user@lucene.apache.org>; Fri,  2 Mar 2007 05:27:48 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <op.toj90ao0329srq@idefix.residential.fw>
References: <op.toj90ao0329srq@idefix.residential.fw>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7825A70C-0E1F-44D3-9E41-0D0B7D5A09CC@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: calculate average distance between words
Date: Fri, 2 Mar 2007 08:27:47 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Take a look at SpanNearQuery, it returns position information.   
You'll have to calculate the average based on the results, but that  
is pretty trivial.

-Grant

On Mar 2, 2007, at 7:22 AM, dziadgba wrote:

> hy,
> We want to correlate words and construct a network which links give  
> the
> correleation strength.
> We believe that if words occur very often very near to each other the
> strenght of the link should be stronger.
>
> I remember that somebody once told me that lucene has the  
> capability of
> doing that.
> So given two terms and the common field (of a single document or  
> all the
> documents in which both words occur) it can give the average distance
> between the two words.
>
> anyone has any clue?
> thanks for attention
> dzi
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 13:49:56 2007
Return-Path: <java-user-return-26566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2138 invoked from network); 2 Mar 2007 13:49:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 13:49:55 -0000
Received: (qmail 90496 invoked by uid 500); 2 Mar 2007 13:49:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90462 invoked by uid 500); 2 Mar 2007 13:49:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90451 invoked by uid 99); 2 Mar 2007 13:49:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 05:49:56 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_HOTMAIL_RCVD2,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 05:49:44 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HN88R-0004Pf-Nf
	for java-user@lucene.apache.org; Fri, 02 Mar 2007 05:49:23 -0800
Message-ID: <9269838.post@talk.nabble.com>
Date: Fri, 2 Mar 2007 05:49:23 -0800 (PST)
From: jreeman <mimounl@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Overriding Similarity
In-Reply-To: <EE38B784-267C-4224-9FB3-4974BC4910C7@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mimounl@hotmail.com
References: <EE38B784-267C-4224-9FB3-4974BC4910C7@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org


Hello

The original message explaining why I wanted to overide DefaultSimilarity is
here :

http://www.nabble.com/forum/ViewPost.jtp?post=9268781&framed=y
http://www.nabble.com/forum/ViewPost.jtp?post=9268781&framed=y 

Si I overided DefaultSimilarity like this :

package org.apache.lenya.lucene.index;

import org.apache.lucene.search.DefaultSimilarity;

public class PersonalSimilarity extends DefaultSimilarity {
        public float idf(int docFreq, int numDocs)
        {
                return 1;
        }

}

And I use it like this :

PersonalSimilarity ds = new PersonalSimilarity();
searcher.setSimilarity(ds);

After that, all the hit have the same score.

But my new question is : do I need to use this PersonalSimilarity for the
IndexWriter because currently it yet works fine only in the Searcher.

-- 
View this message in context: http://www.nabble.com/Overriding-Similarity-tf2128934.html#a9269838
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 14:09:25 2007
Return-Path: <java-user-return-26567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6549 invoked from network); 2 Mar 2007 14:09:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 14:09:24 -0000
Received: (qmail 15043 invoked by uid 500); 2 Mar 2007 14:09:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14999 invoked by uid 500); 2 Mar 2007 14:09:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14984 invoked by uid 99); 2 Mar 2007 14:09:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 06:09:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 06:09:14 -0800
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id 62D451F52F2
	for <java-user@lucene.apache.org>; Fri,  2 Mar 2007 09:08:52 -0500 (EST)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Fri, 02 Mar 2007 09:08:52 -0500
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 62FEA1662A8; Fri,  2 Mar 2007 09:08:52 -0500 (EST)
Message-Id: <1172844532.18049.1177379461@webmail.messagingengine.com>
X-Sasl-Enc: Uz18LL9ycqq/sfS/WucRc71f1xfxAXS/TG4oSiuqwoDv 1172844532
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <A48E4B1E4A5829469F3ACB3DE313F2453D12D1@bimela9inl01.bi.local>
   <1172744545.26930.1177152915@webmail.messagingengine.com>
   <A48E4B1E4A5829469F3ACB3DE313F2453D13AB@bimela9inl01.bi.local>
Subject: RE: Lucene 2.1: java.io.IOException: Lock obtain timed out: 
   SimpleFSLock@<path of index file>
In-Reply-To: <A48E4B1E4A5829469F3ACB3DE313F2453D13AB@bimela9inl01.bi.local>
Date: Fri, 02 Mar 2007 09:08:52 -0500
X-Virus-Checked: Checked by ClamAV on apache.org


"Jerome Chauvin" wrote:
> Thanks Michael for your answer, but following check of our processing, it
> appears all the updates of the index are made in a single thread.
> Actually,
> this kind of exception is thrown during a heavy batch processing. This
> processing is not multi-threaded.

Do you also have an IndexWriter open at the time that you try to the
do deletes through the IndexReader instance?

You have to close that writer before you try to use the IndexReader to
do deletes (and vice/versa).  Only one of these may be opened at a
time.

(This is rather confusing, and is one of reasons that
"deleteDocuments" method was added to IndexWriter in as of 2.1).

> One other think I don't understand is: All the methods accessing the
> index in
> Lucene are synchronized. How can a concurrent access to the index occur?

The synchronization protects Lucene when multiple threads are sharing
a single writer/reader instance (and this use case is totally fine &
correct).

To protect the Index against multiple writers (where an IndexReader
doing deletes is considered a "writer"), Lucene uses the write.lock.
Ie a single threaded program can incorrectly try to open multiple
writers against one index, which leads to exactly this exception.

Since writers can in general be on different JVMs or different
machines, Lucene must guard against that as well.  This is why the
"write.lock" [by default] is based in the filesystem and stored [by
default] in the index directory.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 14:21:00 2007
Return-Path: <java-user-return-26568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10785 invoked from network); 2 Mar 2007 14:20:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 14:20:59 -0000
Received: (qmail 45536 invoked by uid 500); 2 Mar 2007 14:21:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45366 invoked by uid 500); 2 Mar 2007 14:21:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 66657 invoked by uid 99); 2 Mar 2007 09:45:37 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ha.lund@gmail.com designates 66.249.92.168 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=XIrCOWlG0Wv4L8x1wudwSZoEPRsikq8W19zStWzpfyp0fUvtiDs/fT1tNmk3JciEFwC1juLLStE8DNcZ4MM4HBvY+o6HKIQpYryLjyGn/UamJKhWfjd5CWbReXBicZe8y/D+cvJspWRuwb5FE/zPZ/mHU4p04xhGNb+VsJwnhrM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=mpjDSE8y+BV0Y56Haj1ZW/xRyHdQW/+1m4gEh7RPep9pP28Ah15/+h0yOHhFJlSCh/lyAn7x+FZ5KtDWS2GHkodkmPs5ax3+pb3Jf7168mKtd+UNq32JvIAdkv9HAFs4ewMTOzZDhOhvk++f6VOpHWXaLauJVDDQxBUULh5RESg=
Message-ID: <df08f1c50703020145t66e970b2t7b377bf6dc213cee@mail.gmail.com>
Date: Fri, 2 Mar 2007 10:45:04 +0100
From: "Hans Lund" <ha.lund@gmail.com>
To: java-user@lucene.apache.org
Subject: similar contrib in lucene 2.1.0
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All

I'm in the process to upgrade from 2.0 to 2.1, but are missing the
similar contrib (the jar only contains a Manifest). is this a bug or
is that on purpose?

Cheers
Hans Lund

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 14:35:48 2007
Return-Path: <java-user-return-26569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23550 invoked from network); 2 Mar 2007 14:35:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 14:35:48 -0000
Received: (qmail 79532 invoked by uid 500); 2 Mar 2007 14:35:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79496 invoked by uid 500); 2 Mar 2007 14:35:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79485 invoked by uid 99); 2 Mar 2007 14:35:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 06:35:49 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mbraun@uni-hd.de designates 129.206.100.212 as permitted sender)
Received: from [129.206.100.212] (HELO relay.uni-heidelberg.de) (129.206.100.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 06:35:37 -0800
Received: from serv25.ub.uni-heidelberg.de (serv25.ub.uni-heidelberg.de [147.142.186.75])
	by relay.uni-heidelberg.de (8.13.4/8.13.1) with ESMTP id l22EZDa2008926
	for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 15:35:13 +0100
Received: from localhost (localhost [127.0.0.1])
	by serv25.ub.uni-heidelberg.de (Postfix) with ESMTP id 727918BFD6
	for <java-user@lucene.apache.org>; Fri,  2 Mar 2007 15:35:14 +0100 (CET)
Received: from serv25.ub.uni-heidelberg.de ([127.0.0.1])
 by localhost (serv25.ub.uni-heidelberg.de [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 09723-05 for <java-user@lucene.apache.org>;
 Fri,  2 Mar 2007 15:35:13 +0100 (CET)
Received: from [147.142.85.36] (pers16.ub.uni-heidelberg.de [147.142.85.36])
	by serv25.ub.uni-heidelberg.de (Postfix) with ESMTP id 5D1698BFD3
	for <java-user@lucene.apache.org>; Fri,  2 Mar 2007 15:35:13 +0100 (CET)
Message-ID: <45E83621.2050000@uni-hd.de>
Date: Fri, 02 Mar 2007 15:35:13 +0100
From: Martin Braun <mbraun@uni-hd.de>
Reply-To: mbraun@uni-hd.de
User-Agent: Thunderbird 1.5.0.10 (X11/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: similar contrib in lucene 2.1.0
References: <df08f1c50703020145t66e970b2t7b377bf6dc213cee@mail.gmail.com>
In-Reply-To: <df08f1c50703020145t66e970b2t7b377bf6dc213cee@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at ub.uni-heidelberg.de
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Hans,
> 
> I'm in the process to upgrade from 2.0 to 2.1, but are missing the
> similar contrib (the jar only contains a Manifest). is this a bug or
> is that on purpose?

Take a look in:
 lucene-2.1.0/contrib/queries/
this is the new home, it is explained in the changelog why the code moved...

hth,
martin


> 
> Cheers
> Hans Lund
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 16:18:04 2007
Return-Path: <java-user-return-26570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69449 invoked from network); 2 Mar 2007 16:18:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 16:18:03 -0000
Received: (qmail 65334 invoked by uid 500); 2 Mar 2007 16:18:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65302 invoked by uid 500); 2 Mar 2007 16:18:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65290 invoked by uid 99); 2 Mar 2007 16:18:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 08:18:04 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Andreas.Guther@markettools.com designates 72.5.112.150 as permitted sender)
Received: from [72.5.112.150] (HELO mvmail04.markettools.com) (72.5.112.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 08:17:53 -0800
Received: from WDCCPMAIL01.markettools.com ([10.64.64.33]) by mvmail04.markettools.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 2 Mar 2007 08:17:31 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C75CE6.47792A58"
Subject: Can Highlighter handle multiple word terms?
Date: Fri, 2 Mar 2007 08:17:29 -0800
Message-ID: <3FB08D6A21B3EC4D8749EF6D9E626278F6F145@WDCCPMAIL01.markettools.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can Highlighter handle multiple word terms?
thread-index: Acdc5kY+rBNcLUUnSYmTxNjc80s9vQ==
From: "Andreas Guther" <Andreas.Guther@markettools.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 02 Mar 2007 16:17:31.0826 (UTC) FILETIME=[47AF6920:01C75CE6]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C75CE6.47792A58
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I am using the Highlighter class to highlight my search results.  So far
my observation is that the Highlighter does not highlight terms with
multiple words in it.

=20

For example if I have a text like "This is an example text for the
highlighter" and my search term is "example highlighter" than I would
expect to get back from the Highlighter the following: "This is an
<B>example</B> text for the <B>highlighter</B>".  So far the highlighter
only returns an empty String.  I am passing in the StandardAnalyzer.

=20

It also looks to me as if the Highlighter cannot handle a term like
"contents:example".

=20

=20

I wonder if I am missing here something or if this is a limitation of
the Highlighter.

=20

=20

Can some one enlighten me?

=20

Andreas

=20

=20

=20

=20


------_=_NextPart_001_01C75CE6.47792A58--

From java-user-return-26571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 18:07:59 2007
Return-Path: <java-user-return-26571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3250 invoked from network); 2 Mar 2007 18:07:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 18:07:58 -0000
Received: (qmail 60015 invoked by uid 500); 2 Mar 2007 18:07:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59972 invoked by uid 500); 2 Mar 2007 18:07:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59961 invoked by uid 99); 2 Mar 2007 18:07:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 10:07:58 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 66.249.82.235 as permitted sender)
Received: from [66.249.82.235] (HELO wx-out-0506.google.com) (66.249.82.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 10:07:45 -0800
Received: by wx-out-0506.google.com with SMTP id i29so854559wxd
        for <java-user@lucene.apache.org>; Fri, 02 Mar 2007 10:07:25 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=f2ojAQHJve72egv6PtMuT+m4JROEYxDGDWxOtht0RQEZ+QmuBjOpevpCW0xpotj1otzDtSY+TxgU+Gy0vG1sLSauOQH1JCIi5tPqY5lyivCY0ifXmZFwZU+QiLxrCTkWO2gm3Ne23VAcqLfoSdPGNggLOggH59ZYIFCVmo7bGbg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ZFPhIkvJW1SiVyZ1BifEJBBkcKcU1/bNbIODC47HKzNJyZ8qa1smGiFPuWHTuBq+7qGHS+EWCTbnXUGqB8bKGJYj1xUvdJE4Z3lVLdR22bijIP8pKUTC7/MJqUES5JJhb3Zwmw37kBqSQroZ5zwiPoDN8yq1+Q2Sdj8M2GRo8kI=
Received: by 10.90.75.10 with SMTP id x10mr3205795aga.1172858844937;
        Fri, 02 Mar 2007 10:07:24 -0800 (PST)
Received: from ?192.168.1.105? ( [216.66.114.42])
        by mx.google.com with ESMTP id 3sm4632864wrh.2007.03.02.10.07.23;
        Fri, 02 Mar 2007 10:07:24 -0800 (PST)
Message-ID: <45E867B5.60406@gmail.com>
Date: Fri, 02 Mar 2007 13:06:45 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Can Highlighter handle multiple word terms?
References: <3FB08D6A21B3EC4D8749EF6D9E626278F6F145@WDCCPMAIL01.markettools.com>
In-Reply-To: <3FB08D6A21B3EC4D8749EF6D9E626278F6F145@WDCCPMAIL01.markettools.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

What fragment size are you using? Have you tried the null fragmenter? 
Are you using the QueryScorer that you can pass a field name to restrict 
highlighting to a certain field? Do you have any example code of what 
you are attempting? Have you looked at the test code for examples of how 
to use the Highlighter?

- Mark

Andreas Guther wrote:
> Hi,
>
>  
>
> I am using the Highlighter class to highlight my search results.  So far
> my observation is that the Highlighter does not highlight terms with
> multiple words in it.
>
>  
>
> For example if I have a text like "This is an example text for the
> highlighter" and my search term is "example highlighter" than I would
> expect to get back from the Highlighter the following: "This is an
> <B>example</B> text for the <B>highlighter</B>".  So far the highlighter
> only returns an empty String.  I am passing in the StandardAnalyzer.
>
>  
>
> It also looks to me as if the Highlighter cannot handle a term like
> "contents:example".
>
>  
>
>  
>
> I wonder if I am missing here something or if this is a limitation of
> the Highlighter.
>
>  
>
>  
>
> Can some one enlighten me?
>
>  
>
> Andreas
>
>  
>
>  
>
>  
>
>  
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 19:02:26 2007
Return-Path: <java-user-return-26572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15454 invoked from network); 2 Mar 2007 19:02:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 19:02:25 -0000
Received: (qmail 36830 invoked by uid 500); 2 Mar 2007 19:02:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36272 invoked by uid 500); 2 Mar 2007 19:02:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36261 invoked by uid 99); 2 Mar 2007 19:02:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 11:02:27 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [128.218.33.11] (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 11:02:15 -0800
Received: from CKMPC08 (tikal.library.ucsf.edu [128.218.15.151])
	by gossamer.ckm.ucsf.edu (8.13.8/8.13.8) with ESMTP id l22J1o8k018690
	for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 11:01:53 -0800 (PST)
From: "Renaud Waldura" <renaud.waldura@library.ucsf.edu>
To: <java-user@lucene.apache.org>
Subject: RE: More Precise Highlighting
Date: Fri, 2 Mar 2007 11:01:44 -0800
Message-ID: <002201c75cfd$3ba85f80$970fda80@libraria.ucsf.edu>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <45D248A6.1080803@yahoo.co.uk>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: AcdPxiqW8AEi9fjrQ7qa87WhN1dP3gNNTciw
X-Filter-Version: 1.15 (gossamer)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Mark:

I apologize for not responding earlier, more urgent stuff took over. I
really appreciate your help with this. Since my first message was somewhat
terse, let me explain again.

My index includes both "regular" fields (stored, indexed, tokenized) and
"search-only" fields used for searching only (unstored, indexed, tokenized).
In particular, I have one such field called "metadata" that's the
accumulation of all metadata about the document (title, authors, date,
etc.). Using this field, I can easily query "all metadata" without searching
the document text (that's a separate field). It has no meaning other than
making this kind of query possible.

Say I query "+metadata:apple +banana". I would like to have the term "apple"
highlighted in all metadata fields; if Fiona Apple authored a document, her
lastname should be highlighted in the "author" field, but not in the
document text.

>From what I've experienced, when I pass NULL as fieldname to the
QueryTermExtractor, "apple" gets highlighted everywhere, both in any
metadata AND the document text. When I pass "author" as fieldname, it
doesn't highlight that field at all -- because the query was actually for
"metadata" not "author". It's not correct in either case, and I'm not sure
what to do. 

Thanks again for your help,

--Renaud


 

-----Original Message-----
From: markharw00d [mailto:markharw00d@yahoo.co.uk] 
Sent: Tuesday, February 13, 2007 3:24 PM
To: java-user@lucene.apache.org
Subject: Re: More Precise Highlighting

Not sure I fully understand the problem. The query is effectively
"allContent:someTitleText" and you want to highlight the string
"someTitleText" in the title field?
If you pass null as a fieldname to the QueryTermExtractor it will use all
term values, regardless of field, as string to highlight.
If you pass a fieldname it will only select highlight term values for that
field.
If you want, you can use QueryTermExtractor to extract just the "allContent"
field values and pass a TokenStream for the "title" field to the highlighter
and it would highlight the appropriate values in the title.

Do any of these options work?



Renaud Waldura wrote:
> The old highlighter code used to highlight found terms in any field 
> (too broad). The new highlighter lets one specify a field when 
> highlighting, but it highlights that field only (too narrow).
>  
> In my case we have an "all" field that is the concatenation of all 
> data about the document. When I highlight e.g. the "title" field, 
> nothing happens, because the Highlighter doesn't know the title is 
> included in this "all" field.
>  
> How can I tell the highlighter that my query fields can map to some 
> document fields? It looks like I'd change the QueryTermExtractor, but 
> it's conveniently all-static and final.
>  
> --Renaud
>  
>
>   



	
	
		
___________________________________________________________
All new Yahoo! Mail "The new Interface is stunning in its simplicity and
ease of use." - PC Magazine http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 02 19:04:11 2007
Return-Path: <java-user-return-26573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15990 invoked from network); 2 Mar 2007 19:04:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 2 Mar 2007 19:04:09 -0000
Received: (qmail 39561 invoked by uid 500); 2 Mar 2007 19:04:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39524 invoked by uid 500); 2 Mar 2007 19:04:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39513 invoked by uid 99); 2 Mar 2007 19:04:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 11:04:12 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [192.31.106.7] (HELO mailgw1a.lmco.com) (192.31.106.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 11:04:00 -0800
Received: from emss02g01.ems.lmco.com (relay2.ems.lmco.com [166.29.2.54])by mailgw1a.lmco.com  (LM-6) with ESMTP id l22J3cUf019240for <java-user@lucene.apache.org>; Fri, 2 Mar 2007 12:03:39 -0700 (MST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.3-x3 #31239)
 id <0JEA00M01I75Z7@lmco.com> for java-user@lucene.apache.org; Fri, 02 Mar 2007 12:01:53 -0700 (MST)
Received: from EMSS09I00.us.lmco.com ([158.183.26.31]) by lmco.com (PMDF V6.3-x3 #31239)
 with ESMTP id <0JEA00M08I6YWV@lmco.com> for java-user@lucene.apache.org; Fri, 02 Mar 2007 12:01:48 -0700 (MST)
Received: from emss10m02.us.lmco.com ([158.187.0.186]) by EMSS09I00.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Fri,
 02 Mar 2007 14:01:47 -0500
Date: Fri, 02 Mar 2007 14:01:47 -0500
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: How can I use SortComparator in my case?
In-reply-to: <200703021045.l22Aj7mn009191@pigeon.ciao.com>
To: java-user@lucene.apache.org
Message-id: <A79A2D741A822A46B9F0BFF4F4585DDB3EC478@emss10m02.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: How can I use SortComparator in my case?
Thread-Index: Acdct9UH1Scv129FQSOI6USgH2QnkwARTH8w
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <200703021045.l22Aj7mn009191@pigeon.ciao.com>
X-OriginalArrivalTime: 02 Mar 2007 19:01:47.0411 (UTC) FILETIME=[3A125630:01C75CFD]
X-Virus-Checked: Checked by ClamAV on apache.org

You'll need to do it manually and not with Lucene.

Just grab all the results from Lucene and process them yourself.

Aviran
http://aviransplace.com 

-----Original Message-----
From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com] 
Sent: Friday, March 02, 2007 5:45 AM
To: java-user@lucene.apache.org
Subject: How can I use SortComparator in my case?

Hi,
I have a requirement to sort search results in a round robin.
Ex:sorting results by field "customer" 
suppose following customers are found (number of results in brackets)
and results are sorted by customer.
 
Amazon(10)
Dell(2)
EBay(4)
Yahoo(20)
 
but I want to sort them in the following way,
Amazon(1)
Dell(1)
EBay(1)
Yahoo(1)
 
Amazon(1)
Dell(1)
EBay(1)
Yahoo(1)
 
Amazon(1)
EBay(1)
Yahoo(1)
  
Amazon(1)
EBay(1)
Yahoo(1)
 
etc.. etc..
 
 
You think I can use somehow SortComparator here? 
any suggestions?
 
Thx,
Jelda
 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 00:33:43 2007
Return-Path: <java-user-return-26574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37112 invoked from network); 3 Mar 2007 00:33:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 00:33:42 -0000
Received: (qmail 45994 invoked by uid 500); 3 Mar 2007 00:33:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45958 invoked by uid 500); 3 Mar 2007 00:33:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45947 invoked by uid 99); 3 Mar 2007 00:33:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 16:33:44 -0800
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,HTML_OBFUSCATE_10_20
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.18.177.56] (HELO alnrmhc16.comcast.net) (206.18.177.56)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 16:33:32 -0800
Received: from xpsoleary (failure[24.19.171.50])
          by comcast.net (alnrmhc16) with SMTP
          id <20070303003311b1600jmvtke>; Sat, 3 Mar 2007 00:33:11 +0000
Reply-To: <tm-oleary@comcast.net>
From: "Mike O'Leary" <tm-oleary@comcast.net>
To: "Lucene Java User List" <java-user@lucene.apache.org>
Subject: Indexing single words and marked phrases
Date: Fri, 2 Mar 2007 16:32:07 -0800
Message-ID: <00c501c75d2b$6e7f93a0$0302a8c0@xpsoleary>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00C6_01C75CE8.605EC4A0"
X-Mailer: Microsoft Office Outlook 11
thread-index: AcddK17SU4irggppTGy0Yvsq4V1DwA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_00C6_01C75CE8.605EC4A0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I am working on a project with team that is developing a named entity
recognizer. I need to configure Lucene indexing so that it indexes the
individual words in the text that the named entity recognizer outputs as
well as the phrases that it marks. For example, in a string like

 

<BODY>"The population of <CITY>New York City</CITY> is not as large as that
of <CITY>Mexico City</CITY>."</BODY>

 

I would want to index the words "New", "York" and "City" and "Mexico" and
"City" as well as the phrases "New York City" and "Mexico City", along with
the other non-stopwords in the string in a field labeled "BODY". Would it be
better to write an Analyzer that can do this, or to adjust the XML parser
that I am using so that it adds the text within tag pairs like <CITY> and
</CITY> to the field that corresponds to the tag that is one level up. If it
is better to write an Analyzer, could someone point me to information on how
to do this? Thanks.

Mike O'Leary


------=_NextPart_000_00C6_01C75CE8.605EC4A0--


From java-user-return-26575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 02:44:07 2007
Return-Path: <java-user-return-26575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68851 invoked from network); 3 Mar 2007 02:44:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 02:44:06 -0000
Received: (qmail 57518 invoked by uid 500); 3 Mar 2007 02:44:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56979 invoked by uid 500); 3 Mar 2007 02:44:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56968 invoked by uid 99); 3 Mar 2007 02:44:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 18:44:08 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 18:43:55 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l232hXZx102026
	for <java-user@lucene.apache.org>; Sat, 3 Mar 2007 02:43:33 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l232hXxp2080780
	for <java-user@lucene.apache.org>; Sat, 3 Mar 2007 03:43:33 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l232hXdE018129
	for <java-user@lucene.apache.org>; Sat, 3 Mar 2007 03:43:33 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l232hXob018124
	for <java-user@lucene.apache.org>; Sat, 3 Mar 2007 03:43:33 +0100
In-Reply-To: <9269838.post@talk.nabble.com>
Subject: Re: [ANN] Overriding Similarity
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFCF3F1CB9.7B4E44D2-ON88257293.000DAB6A-88257293.000E786C@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Fri, 2 Mar 2007 18:38:03 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 03/03/2007 04:43:32
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

If you modify all scores to 100%, why can't you just ignore them?

Anyhow, if all you want to modify is idf(), using the modified similarity
class only at search time is ok. For further pointers and explanations take
a look at http://lucene.apache.org/java/docs/scoring.html

Regards,
Doron

jreeman <mimounl@hotmail.com> wrote on 02/03/2007 05:49:23:

>
> Hello
>
> The original message explaining why I wanted to overide DefaultSimilarity
is
> here :
>
> http://www.nabble.com/forum/ViewPost.jtp?post=9268781&framed=y
> http://www.nabble.com/forum/ViewPost.jtp?post=9268781&framed=y
>
> Si I overided DefaultSimilarity like this :
>
> package org.apache.lenya.lucene.index;
>
> import org.apache.lucene.search.DefaultSimilarity;
>
> public class PersonalSimilarity extends DefaultSimilarity {
>         public float idf(int docFreq, int numDocs)
>         {
>                 return 1;
>         }
>
> }
>
> And I use it like this :
>
> PersonalSimilarity ds = new PersonalSimilarity();
> searcher.setSimilarity(ds);
>
> After that, all the hit have the same score.
>
> But my new question is : do I need to use this PersonalSimilarity for the
> IndexWriter because currently it yet works fine only in the Searcher.
>
> --
> View this message in context: http://www.nabble.com/Overriding-
> Similarity-tf2128934.html#a9269838
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 02:54:19 2007
Return-Path: <java-user-return-26576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70729 invoked from network); 3 Mar 2007 02:54:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 02:54:18 -0000
Received: (qmail 60883 invoked by uid 500); 3 Mar 2007 02:54:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60848 invoked by uid 500); 3 Mar 2007 02:54:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60837 invoked by uid 99); 3 Mar 2007 02:54:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 18:54:21 -0800
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_HOTMAIL_RCVD2,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Mar 2007 18:54:09 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HNKNZ-0003Iv-69
	for java-user@lucene.apache.org; Fri, 02 Mar 2007 18:53:49 -0800
Message-ID: <9281357.post@talk.nabble.com>
Date: Fri, 2 Mar 2007 18:53:49 -0800 (PST)
From: jreeman <mimounl@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Overriding Similarity
In-Reply-To: <OFCF3F1CB9.7B4E44D2-ON88257293.000DAB6A-88257293.000E786C@il.ibm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mimounl@hotmail.com
References: <EE38B784-267C-4224-9FB3-4974BC4910C7@syr.edu> <9269838.post@talk.nabble.com> <OFCF3F1CB9.7B4E44D2-ON88257293.000DAB6A-88257293.000E786C@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org


> If you modify all scores to 100%, why can't you just ignore them?
Because in this case only, the scores will be all 100% but in other case
not. The fact is I don't want the the score depends on the frequency. I
don't want this "smart" feature.

> Anyhow, if all you want to modify is idf(), using the modified similarity
class only at search time is ok. For further pointers and explanations take
a look at http://lucene.apache.org/java/docs/scoring.html

thanks a lot.
-- 
View this message in context: http://www.nabble.com/Overriding-Similarity-tf2128934.html#a9281357
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 09:24:38 2007
Return-Path: <java-user-return-26577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56079 invoked from network); 3 Mar 2007 09:24:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 09:24:37 -0000
Received: (qmail 91471 invoked by uid 500); 3 Mar 2007 09:24:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91433 invoked by uid 500); 3 Mar 2007 09:24:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91421 invoked by uid 99); 3 Mar 2007 09:24:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 01:24:39 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 01:24:27 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id l239O8l14144
	for <java-user@lucene.apache.org>; Sat, 3 Mar 2007 03:24:08 -0600
Message-ID: <45E93EB9.4050602@getopt.org>
Date: Sat, 03 Mar 2007 10:24:09 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Indexing single words and marked phrases
References: <00c501c75d2b$6e7f93a0$0302a8c0@xpsoleary>
In-Reply-To: <00c501c75d2b$6e7f93a0$0302a8c0@xpsoleary>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mike O'Leary wrote:
> I am working on a project with team that is developing a named entity
> recognizer. I need to configure Lucene indexing so that it indexes the
> individual words in the text that the named entity recognizer outputs as
> well as the phrases that it marks. For example, in a string like
>
>  
>
> <BODY>"The population of <CITY>New York City</CITY> is not as large as that
> of <CITY>Mexico City</CITY>."</BODY>
>
>  
>
> I would want to index the words "New", "York" and "City" and "Mexico" and
> "City" as well as the phrases "New York City" and "Mexico City", along with
> the other non-stopwords in the string in a field labeled "BODY". Would it be
> better to write an Analyzer that can do this, or to adjust the XML parser
> that I am using so that it adds the text within tag pairs like <CITY> and
> </CITY> to the field that corresponds to the tag that is one level up. If it
> is better to write an Analyzer, could someone point me to information on how
> to do this? Thanks.
>   

Please take a look at the analyzer implementation that Nutch uses 
(org.apache.nutch.analysis.NutchDocumentAnalyzer), which uses 
CommonGrams to detect which tokens need to be output as phrases. In your 
case you already know what are the phrases you want to output as tokens, 
but the idea is still the same - the original token stream is modified 
to output both individual terms and phrases.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 12:55:05 2007
Return-Path: <java-user-return-26578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15664 invoked from network); 3 Mar 2007 12:55:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 12:55:04 -0000
Received: (qmail 744 invoked by uid 500); 3 Mar 2007 12:55:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 711 invoked by uid 500); 3 Mar 2007 12:55:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 700 invoked by uid 99); 3 Mar 2007 12:55:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 04:55:06 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 04:54:54 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HNTkv-0003lj-Pz
	for java-user@lucene.apache.org; Sat, 03 Mar 2007 04:54:33 -0800
Message-ID: <9284757.post@talk.nabble.com>
Date: Sat, 3 Mar 2007 04:54:33 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Subject: Printing lucene index content
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: farag_ahmed@yahoo.com
X-Virus-Checked: Checked by ClamAV on apache.org


hi all,

How i can print the index content in order to use them for some application.
I did use
TermEnum terms=ir.terms();
while (terms.next()) { 
    	     	  System.out.println(terms.term().text()); 
      }

I still need to print the document id and the term frequency inside each
document.

thanks
-- 
View this message in context: http://www.nabble.com/Printing-lucene-index-content-tf3338412.html#a9284757
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 13:34:43 2007
Return-Path: <java-user-return-26579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20250 invoked from network); 3 Mar 2007 13:34:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 13:34:42 -0000
Received: (qmail 23070 invoked by uid 500); 3 Mar 2007 13:34:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23021 invoked by uid 500); 3 Mar 2007 13:34:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23010 invoked by uid 99); 3 Mar 2007 13:34:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 05:34:44 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 209.85.134.188 as permitted sender)
Received: from [209.85.134.188] (HELO mu-out-0910.google.com) (209.85.134.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 05:34:32 -0800
Received: by mu-out-0910.google.com with SMTP id i10so1149728mue
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 05:34:10 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=CZL1NR10eqvFKg/qc1Jlr50/KDREHqSX3L+mCn97r+Dw/I0f0WGElBOMYguVEJoGzAjYNa7cCzs+IhYHGgKr37g+Ss11/AFnVXpnxOszQJkaBEdxBiax7krWzDUb12bKaHqJeRyohTKerPaOa5iQ4lOWbS77tnMbGWVgOOEjSGg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Wog7M+SMq/jXBRX4IN4Jf69i/5DkcKzcyk5F75DnqgpiDsfRTdzbwO5fuP7du1L0HBrHKcMiQlzRajCY+9F9rW3ey1xWRHdaik1p1Y+9mPfq66FjsPImX17LZtUZghjpKZoDIQmwnQ8P5daXRg9sGSkHVLCuN2Fxl6gWjhcWzVc=
Received: by 10.82.138.6 with SMTP id l6mr1775357bud.1172928850824;
        Sat, 03 Mar 2007 05:34:10 -0800 (PST)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id u9sm16942640muf.2007.03.03.05.34.08;
        Sat, 03 Mar 2007 05:34:09 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <9284757.post@talk.nabble.com>
References: <9284757.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Printing lucene index content
Date: Sat, 3 Mar 2007 14:31:59 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


3 mar 2007 kl. 13.54 skrev starz10de:

> How i can print the index content in order to use them for some  
> application.
> I did use
> TermEnum terms=ir.terms();
> while (terms.next()) {
>     	     	  System.out.println(terms.term().text());
>       }
>
> I still need to print the document id and the term frequency inside  
> each
> document.

See TermDocs:

<http://lucene.apache.org/java/docs/api/org/apache/lucene/index/ 
TermDocs.html>

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 14:26:37 2007
Return-Path: <java-user-return-26580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32806 invoked from network); 3 Mar 2007 14:26:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 14:26:36 -0000
Received: (qmail 55670 invoked by uid 500); 3 Mar 2007 14:26:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55638 invoked by uid 500); 3 Mar 2007 14:26:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55624 invoked by uid 99); 3 Mar 2007 14:26:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 06:26:38 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 06:26:27 -0800
Received: by ug-out-1314.google.com with SMTP id k40so928510ugc
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 06:26:06 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Jihgwb//LCMbrbTbgxHvjAXN5D0OPiXw1dDJ5pePONsDVS+wgpntOLnAFHtNSGbODXejyMplbw82eBvxfa7C7pbT59Cb8L76ve5WE8Y7AG1+msCB0NVkqptHcgzWMBAPRSz6AT6KeitXpkrFdYQrKEK++07H0NQqsX006rGQKmk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iG5iSMgL5YmYXnIjYIsGXQYMIhHHSRFAYrbq3NdieSAyKURRbfldAPwmpg7u45lv0Da4sV2RTvna/WrU/fhACSGE+N18+KOP2YFAQTyYwX7m6oaPorMx2w9zPv7owqeRmJsefmurdHuZcukifRd5JKZEdvnoK7pHuiPMh60JbyU=
Received: by 10.114.122.2 with SMTP id u2mr645835wac.1172931964918;
        Sat, 03 Mar 2007 06:26:04 -0800 (PST)
Received: by 10.114.58.3 with HTTP; Sat, 3 Mar 2007 06:26:04 -0800 (PST)
Message-ID: <359a92830703030626h4ce2516pf0389689460d0b61@mail.gmail.com>
Date: Sat, 3 Mar 2007 09:26:04 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: retrieve term positions in query
In-Reply-To: <9250330.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_116777_19116295.1172931964845"
References: <9250330.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_116777_19116295.1172931964845
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

There is a long thread in the archive where Mark and I talked about a
SpansExtractor class that might do what you want. See the thread
titled "*Multiword
Highlighting"*

Erick



On 3/1/07, matpil <pileggi@pitagora.it> wrote:
>
>
> Hi!
> My problem is to retrieve the term positions in a "general" query with
> more
> than one terms.
> It seems that with the phrase query it's possible (with SpanQuery) but
> with
> "AND" and "OR" query I can't get the position for each document I search.
> I'm looking for a high level implementation because I don't want to use
> low
> level lucene API (I'm a lucene newbie...)
>
> Thanx in advance,
> Mat
> --
> View this message in context:
> http://www.nabble.com/retrieve-term-positions-in-query-tf3327146.html#a9250330
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_116777_19116295.1172931964845--

From java-user-return-26581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 16:06:50 2007
Return-Path: <java-user-return-26581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65901 invoked from network); 3 Mar 2007 16:06:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 16:06:50 -0000
Received: (qmail 99426 invoked by uid 500); 3 Mar 2007 16:06:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99230 invoked by uid 500); 3 Mar 2007 16:06:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99214 invoked by uid 99); 3 Mar 2007 16:06:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 08:06:51 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 08:06:39 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HNWkU-0002mZ-FV
	for java-user@lucene.apache.org; Sat, 03 Mar 2007 08:06:18 -0800
Message-ID: <9286625.post@talk.nabble.com>
Date: Sat, 3 Mar 2007 08:06:18 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Printing lucene index content
In-Reply-To: <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: farag_ahmed@yahoo.com
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org



karl wettin-3 wrote:
> 
> 
> 3 mar 2007 kl. 13.54 skrev starz10de:
> 
>> How i can print the index content in order to use them for some  
>> application.
>> I did use
>> TermEnum terms=ir.terms();
>> while (terms.next()) {
>>     	     	  System.out.println(terms.term().text());
>>       }
>>
>> I still need to print the document id and the term frequency inside  
>> each
>> document.
> 
> See TermDocs:
> 
> <http://lucene.apache.org/java/docs/api/org/apache/lucene/index/ 
> TermDocs.html>
> 
> -- 
> karl
> 
> I did try this but it is still not working
> 
> IndexReader ir = IndexReader.open("index"); 
>       
>       TermDocs dok=ir.termDocs();
>  while (dok.next()) { 
>     	  System.out.println("doc nr: "+dok.doc()+ " term freq
> :"+dok.freq()); 
>       }
> 
> any help
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Printing-lucene-index-content-tf3338412.html#a9286625
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 17:30:08 2007
Return-Path: <java-user-return-26582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82261 invoked from network); 3 Mar 2007 17:30:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 17:30:08 -0000
Received: (qmail 62558 invoked by uid 500); 3 Mar 2007 17:30:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62535 invoked by uid 500); 3 Mar 2007 17:30:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62524 invoked by uid 99); 3 Mar 2007 17:30:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 09:30:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 09:29:57 -0800
Received: by nf-out-0910.google.com with SMTP id g2so60345nfe
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 09:29:36 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=M+PQnHncg5ntlj5vznYV9uN5Hkngpp+2E2G2UFo5XJGX8Akschfc6X25tSunu5Zqf9Fv0ea9y/KSpeMUSvjQV2uLPD9rVC458MR3mQ7pjWrjc4tUSd5zwbYz4RMH7Cz1Q7lpWHDaucd5j2EWqT9f8rtZjntqGgNlRtfnHyA9KhE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=uuRxOjsGJ1ZZOTf8+r/nv2eOirhH2C+kANx98zliqePwdzPLNzB53w4csnafgEF/bYQ1fKKbYp2+dtapKhT9sPG9n4E+PK6KX9eYk0CTmfQ315pf4Cspak9AqQAa1DzCDK5id6Jwz1lb/MiqjO9TEmM9V4cVQxqcJyuvR3C0b5A=
Received: by 10.82.163.13 with SMTP id l13mr2167545bue.1172942975706;
        Sat, 03 Mar 2007 09:29:35 -0800 (PST)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id i5sm17666971mue.2007.03.03.09.29.34;
        Sat, 03 Mar 2007 09:29:34 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <9286625.post@talk.nabble.com>
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: [ANN] Printing lucene index content
Date: Sat, 3 Mar 2007 18:27:24 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


3 mar 2007 kl. 17.06 skrev starz10de:

>
> I did try this but it is still not working
>
> IndexReader ir = IndexReader.open("index");
>
>       TermDocs dok=ir.termDocs();
>  while (dok.next()) {
>     	  System.out.println("doc nr: "+dok.doc()+ " term freq
> :"+dok.freq());
>       }

TermEnum termEnum = aprioriIndex.getReader().terms();
while (termEnum.next()) {
   TermDocs dok = aprioriIndex.getReader().termDocs();
   dok.seek(termEnum);
   while (dok.next()) {
     System.out.println(dok.doc() + "\t" + dok.freq() + "\t" +  
termEnum.term());
   }
}


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 20:25:56 2007
Return-Path: <java-user-return-26583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19855 invoked from network); 3 Mar 2007 20:25:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 20:25:54 -0000
Received: (qmail 93612 invoked by uid 500); 3 Mar 2007 20:25:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93583 invoked by uid 500); 3 Mar 2007 20:25:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93572 invoked by uid 99); 3 Mar 2007 20:25:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 12:25:56 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 12:25:47 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HNanG-00022f-GD
	for java-user@lucene.apache.org; Sat, 03 Mar 2007 12:25:26 -0800
Message-ID: <9289319.post@talk.nabble.com>
Date: Sat, 3 Mar 2007 12:25:26 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Printing lucene index content
In-Reply-To: <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: farag_ahmed@yahoo.com
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com> <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org




karl wettin-3 wrote:
> 
> 
> 3 mar 2007 kl. 17.06 skrev starz10de:
> 
>>
>> I did try this but it is still not working
>>
>> IndexReader ir = IndexReader.open("index");
>>
>>       TermDocs dok=ir.termDocs();
>>  while (dok.next()) {
>>     	  System.out.println("doc nr: "+dok.doc()+ " term freq
>> :"+dok.freq());
>>       }
> 
> TermEnum termEnum = aprioriIndex.getReader().terms();
> while (termEnum.next()) {
>    TermDocs dok = aprioriIndex.getReader().termDocs();
>    dok.seek(termEnum);
>    while (dok.next()) {
>      System.out.println(dok.doc() + "\t" + dok.freq() + "\t" +  
> termEnum.term());
>    }
> }
> 
> 
> -- 
> karl
> 
> hi Karl ,
> 
> how i can implement aprioriIndex ?
> 
> thanks
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Printing-lucene-index-content-tf3338412.html#a9289319
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 20:47:30 2007
Return-Path: <java-user-return-26584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29183 invoked from network); 3 Mar 2007 20:47:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 20:47:29 -0000
Received: (qmail 14179 invoked by uid 500); 3 Mar 2007 20:47:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14149 invoked by uid 500); 3 Mar 2007 20:47:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14138 invoked by uid 99); 3 Mar 2007 20:47:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 12:47:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 12:47:22 -0800
Received: by nf-out-0910.google.com with SMTP id g2so93195nfe
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 12:47:01 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=WTd7b2gRRoEAWolB/Twqp3U/TGS7BWjbBrFghgIG+0nwJFT9yvospff6Z4HimvQXwLVt9Gc4LPrP251PJGuWHNcAHO8I8XNZ9LnqHGofyf+eJAcNYD8i48onXPKA4LDyOLtu3VB0JCMvDKtak3bhpFLzBlRwfUi8/VA/S9g9uk8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=I7t89YNFfwa1SfZ8uSryC/KQJIIsm9VZqXZmyfMJjcbMZQf/lV9bJXYoNxPNJmvytERNFbDj0UeJkjJZrO7lK7FFDgownxb/mDRShHTvSSSs05sRC3T9MQLKfVLTDbFS7zqK9piBskBYIWz0xhi0vVMwhndVfZCPQhkdvzldYos=
Received: by 10.82.136.4 with SMTP id j4mr2525150bud.1172954821039;
        Sat, 03 Mar 2007 12:47:01 -0800 (PST)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id g1sm11533131muf.2007.03.03.12.46.59;
        Sat, 03 Mar 2007 12:47:00 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <9289319.post@talk.nabble.com>
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com> <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com> <9289319.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2DC18F74-B9F9-4454-877D-AFB901DFB26E@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: [ANN] Printing lucene index content
Date: Sat, 3 Mar 2007 21:44:49 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


3 mar 2007 kl. 21.25 skrev starz10de:
>> how i can implement aprioriIndex ?

Oh sorry. That should just be your IndexReader.

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 21:31:51 2007
Return-Path: <java-user-return-26585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40230 invoked from network); 3 Mar 2007 21:31:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 21:31:50 -0000
Received: (qmail 50459 invoked by uid 500); 3 Mar 2007 21:31:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50420 invoked by uid 500); 3 Mar 2007 21:31:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50409 invoked by uid 99); 3 Mar 2007 21:31:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 13:31:52 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 13:31:42 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HNbp4-0008D8-4d
	for java-user@lucene.apache.org; Sat, 03 Mar 2007 13:31:22 -0800
Message-ID: <9289911.post@talk.nabble.com>
Date: Sat, 3 Mar 2007 13:31:22 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Printing lucene index content
In-Reply-To: <2DC18F74-B9F9-4454-877D-AFB901DFB26E@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: farag_ahmed@yahoo.com
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com> <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com> <9289319.post@talk.nabble.com> <2DC18F74-B9F9-4454-877D-AFB901DFB26E@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org




karl wettin-3 wrote:
> 
> 
> 3 mar 2007 kl. 21.25 skrev starz10de:
>>> how i can implement aprioriIndex ?
> 
> Oh sorry. That should just be your IndexReader.
> 
> -- 
> karl
> 
> hi Karl ,
> 
> but the problem is that the getReader is not defined for type indexReader
> !!
> 
> this is my code
> 
>  IndexReader ir = IndexReader.open("index");  
>       
>       TermEnum terms=ir.terms(); 
>      
>       TermEnum termEnum = ir.getReader().terms(); 
>       while (termEnum.next()) { 
>          TermDocs dok = ir.getReader().termDocs(); 
>          dok.seek(termEnum); 
>          while (dok.next()) { 
>            System.out.println(dok.doc() + "\t" + dok.freq() + "\t" +   
>       termEnum.term()); 
>          } 
>       } 
> 
> thnaks
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Printing-lucene-index-content-tf3338412.html#a9289911
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 21:48:53 2007
Return-Path: <java-user-return-26586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43438 invoked from network); 3 Mar 2007 21:48:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 21:48:52 -0000
Received: (qmail 67751 invoked by uid 500); 3 Mar 2007 21:48:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67709 invoked by uid 500); 3 Mar 2007 21:48:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67698 invoked by uid 99); 3 Mar 2007 21:48:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 13:48:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 13:48:44 -0800
Received: by ug-out-1314.google.com with SMTP id k40so980739ugc
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 13:48:23 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=EMjLwzdsSmc2tvJM/jBXa8NjS3kWZTXcjW4zi8p726vcnWoQh33t4u5u1jXuBCDdrosShibesWTByumn5j+/YklOmGulch6bk8ILep76WAXsWuVGkjO8t4UHVdJWpqEsa1ZMR2RpvdCsyEqwTyad6eBp1OKS/U2HREkRGilxOYg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=F2Asm6qNz/KHTck5st7VG1XlDGOSvJAZgAbEhMiFP6DO6H0CZZNN9jFwPttV2d/hmoZCf4VUAg+rxpojmHnRPs19+/tX7FzY1I3OYK6p+1f7fnACR0vOh2+TR+5CArvNc+NqoQijP2xJSbbX7kor47R0tgjYW+yRU+Mkc+M7pCY=
Received: by 10.67.40.12 with SMTP id s12mr6333464ugj.1172958503054;
        Sat, 03 Mar 2007 13:48:23 -0800 (PST)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id j9sm7494167mue.2007.03.03.13.48.20;
        Sat, 03 Mar 2007 13:48:21 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <9289911.post@talk.nabble.com>
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com> <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com> <9289319.post@talk.nabble.com> <2DC18F74-B9F9-4454-877D-AFB901DFB26E@gmail.com> <9289911.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E6048F5F-FEF1-4446-82C5-35F058C6EE06@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: [ANN] Printing lucene index content
Date: Sat, 3 Mar 2007 22:46:11 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


3 mar 2007 kl. 22.31 skrev starz10de:

>>
>> hi Karl ,
>>
>> but the problem is that the getReader is not defined for type  
>> indexReader
>> !!
>>
>> this is my code
>>
>>  IndexReader ir = IndexReader.open("index");
>>
>>       TermEnum terms=ir.terms();
>>
>>       TermEnum termEnum = ir.getReader().terms();
>>       while (termEnum.next()) {
>>          TermDocs dok = ir.getReader().termDocs();
>>          dok.seek(termEnum);
>>          while (dok.next()) {
>>            System.out.println(dok.doc() + "\t" + dok.freq() + "\t" +
>>       termEnum.term());
>>          }
>>       }
>>


Just skip the getReader(). That code I gave you accessed the  
IndexReader from an aggregation.

-- 
karl



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 21:50:19 2007
Return-Path: <java-user-return-26587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43689 invoked from network); 3 Mar 2007 21:50:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 21:50:19 -0000
Received: (qmail 70966 invoked by uid 500); 3 Mar 2007 21:50:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69939 invoked by uid 500); 3 Mar 2007 21:50:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69925 invoked by uid 99); 3 Mar 2007 21:50:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 13:50:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [129.97.152.11] (HELO services04.student.cs.uwaterloo.ca) (129.97.152.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 13:50:11 -0800
Received: from cpu22.student.cs.uwaterloo.ca (daemon@cpu22.student.cs.uwaterloo.ca [129.97.152.122])
	by services04.student.cs.uwaterloo.ca (8.13.8/8.13.8) with ESMTP id l23LnnIx007797
	for <java-user@lucene.apache.org>; Sat, 3 Mar 2007 16:49:49 -0500 (EST)
Received: (from pgwillia@localhost)
	by cpu22.student.cs.uwaterloo.ca (8.13.4/8.13.4) id l23Lni5L008170;
	Sat, 3 Mar 2007 16:49:44 -0500 (EST)
Date: Sat, 3 Mar 2007 16:49:44 -0500 (EST)
From: Tricia Williams <pgwillia@student.cs.uwaterloo.ca>
To: java-user@lucene.apache.org
Subject: IndexReader.FieldOptions
Message-ID: <Pine.GSO.4.64.0703031645180.7933@cpu22.student.cs.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-2.0 (services04.student.cs.uwaterloo.ca [129.97.152.11]); Sat, 03 Mar 2007 16:49:50 -0500 (EST)
X-Miltered: at psyche with ID 45E9ED7D.001 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Virus-Scanned: ClamAV version 0.90.1, clamav-milter version 0.90.1 on localhost
X-Virus-Status: Clean
X-UUID: f924b2c9-1227-48ca-b593-cead2ff9f1a8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

   I'm wondering why Stored isn't one of the IndexReader.FieldOption(s)? 
Stored is created at the same time and place as the other options 
(FieldOption.INDEXED and FieldOption.TERMVECTOR) so it doesn't make sense 
that it isn't retrieved in the same way.

Tricia

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 22:18:41 2007
Return-Path: <java-user-return-26588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48556 invoked from network); 3 Mar 2007 22:18:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 22:18:40 -0000
Received: (qmail 6212 invoked by uid 500); 3 Mar 2007 22:18:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6188 invoked by uid 500); 3 Mar 2007 22:18:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6177 invoked by uid 99); 3 Mar 2007 22:18:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 14:18:42 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 14:18:33 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HNcYO-000281-WD
	for java-user@lucene.apache.org; Sat, 03 Mar 2007 14:18:13 -0800
Message-ID: <9290367.post@talk.nabble.com>
Date: Sat, 3 Mar 2007 14:18:12 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Printing lucene index content
In-Reply-To: <E6048F5F-FEF1-4446-82C5-35F058C6EE06@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: farag_ahmed@yahoo.com
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com> <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com> <9289319.post@talk.nabble.com> <2DC18F74-B9F9-4454-877D-AFB901DFB26E@gmail.com> <9289911.post@talk.nabble.com> <E6048F5F-FEF1-4446-82C5-35F058C6EE06@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org



karl wettin-3 wrote:
> 
> 
> 3 mar 2007 kl. 22.31 skrev starz10de:
> 
>>>
>>> hi Karl ,
>>>
>>> but the problem is that the getReader is not defined for type  
>>> indexReader
>>> !!
>>>
>>> this is my code
>>>
>>>  IndexReader ir = IndexReader.open("index");
>>>
>>>       TermEnum terms=ir.terms();
>>>
>>>       TermEnum termEnum = ir.getReader().terms();
>>>       while (termEnum.next()) {
>>>          TermDocs dok = ir.getReader().termDocs();
>>>          dok.seek(termEnum);
>>>          while (dok.next()) {
>>>            System.out.println(dok.doc() + "\t" + dok.freq() + "\t" +
>>>       termEnum.term());
>>>          }
>>>       }
>>>
> 
> 
> Just skip the getReader(). That code I gave you accessed the  
> IndexReader from an aggregation.
> 
> -- 
> karl
> 
> Hi Karl,
> 
> thanks alot for your kind help, just last simple question
> my text file is " hello every one"
> i successed to display the text file  but with :
> -
> -
> modified:0eyulpzyg
> path:c:\test\1.txt
> 
> which i don't need to access ,how i can avoid printing that.  
>  
> 
> which i dont need to access.
> 
> thanks in advance.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Printing-lucene-index-content-tf3338412.html#a9290367
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 22:51:33 2007
Return-Path: <java-user-return-26589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55076 invoked from network); 3 Mar 2007 22:51:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 22:51:32 -0000
Received: (qmail 45430 invoked by uid 500); 3 Mar 2007 22:51:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45399 invoked by uid 500); 3 Mar 2007 22:51:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45388 invoked by uid 99); 3 Mar 2007 22:51:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 14:51:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 14:51:20 -0800
Received: by ug-out-1314.google.com with SMTP id k40so984834ugc
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 14:50:59 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=T8nM4fTev7L6ZKDvOVwg3XrZB2NUGq4hKY8eibmN+TPepQDZYpwuaN800kdzCef8kFVs6TG7pQc9XWQ41Lirv7J7QBGDqh4vWXkN1wqAajTE+FhpIv6O0Q2UaFUovZDm5Eabr3NXL61K+jfNtgHkKPzFYyfOqH/wJq1Z2kZhB5M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=WgfeFkKDwEokIPZ/eKX9tvdveNLvXAv6mfCaWdH15CBB1lC48R5K7ehchRYANjcCnOzunyybKEszT+5I2jBRYc6t5ALtoI6maVjvMyZHn1Ifa/3ZTHFnDVb2o2YHeG6sbU2LwHCH0X1UhJgsi2KWOTgG8YPDh6NTvb+MY2eLpL0=
Received: by 10.67.119.13 with SMTP id w13mr6539853ugm.1172962259439;
        Sat, 03 Mar 2007 14:50:59 -0800 (PST)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id j9sm7706125mue.2007.03.03.14.50.57;
        Sat, 03 Mar 2007 14:50:58 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <9290367.post@talk.nabble.com>
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com> <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com> <9289319.post@talk.nabble.com> <2DC18F74-B9F9-4454-877D-AFB901DFB26E@gmail.com> <9289911.post@talk.nabble.com> <E6048F5F-FEF1-4446-82C5-35F058C6EE06@gmail.com> <9290367.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B379D555-3A7C-4233-A0E2-0F97305B5BDD@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: [ANN] Printing lucene index content
Date: Sat, 3 Mar 2007 23:48:47 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


3 mar 2007 kl. 23.18 skrev starz10de:

>>>>
>>>>  IndexReader ir = IndexReader.open("index");
>>>>
>>>>       TermEnum terms=ir.terms();
>>>>
>>>>       TermEnum termEnum = ir.getReader().terms();
>>>>       while (termEnum.next()) {
>>>>          TermDocs dok = ir.getReader().termDocs();
>>>>          dok.seek(termEnum);
>>>>          while (dok.next()) {
>>>>            System.out.println(dok.doc() + "\t" + dok.freq() +  
>>>> "\t" +
>>>>       termEnum.term());
>>>>          }
>>>>       }

>> my text file is " hello every one"
>> i successed to display the text file  but with :
>> -
>> -
>> modified:0eyulpzyg
>> path:c:\test\1.txt
>>
>> which i don't need to access ,how i can avoid printing that.

if (!"modified".equals(termEnum.term().field() && !"path".equals 
(termEnum.term().field()) {

?

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 03 23:00:09 2007
Return-Path: <java-user-return-26590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56882 invoked from network); 3 Mar 2007 23:00:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 3 Mar 2007 23:00:08 -0000
Received: (qmail 53250 invoked by uid 500); 3 Mar 2007 23:00:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52280 invoked by uid 500); 3 Mar 2007 23:00:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52269 invoked by uid 99); 3 Mar 2007 23:00:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 15:00:11 -0800
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 15:00:01 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HNdCW-0003Ni-Fp
	for java-user@lucene.apache.org; Sat, 03 Mar 2007 14:59:40 -0800
Message-ID: <9290735.post@talk.nabble.com>
Date: Sat, 3 Mar 2007 14:59:40 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Subject: Re: [ANN] Printing lucene index content
In-Reply-To: <B379D555-3A7C-4233-A0E2-0F97305B5BDD@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: farag_ahmed@yahoo.com
References: <9284757.post@talk.nabble.com> <6B9FC836-6102-44C7-AC30-15811CC4EE8B@gmail.com> <9286625.post@talk.nabble.com> <F756D57F-96A7-42E7-B1D4-5CA603C92F96@gmail.com> <9289319.post@talk.nabble.com> <2DC18F74-B9F9-4454-877D-AFB901DFB26E@gmail.com> <9289911.post@talk.nabble.com> <E6048F5F-FEF1-4446-82C5-35F058C6EE06@gmail.com> <9290367.post@talk.nabble.com> <B379D555-3A7C-4233-A0E2-0F97305B5BDD@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org




karl wettin-3 wrote:
> 
> 
> 3 mar 2007 kl. 23.18 skrev starz10de:
> 
>>>>>
>>>>>  IndexReader ir = IndexReader.open("index");
>>>>>
>>>>>       TermEnum terms=ir.terms();
>>>>>
>>>>>       TermEnum termEnum = ir.getReader().terms();
>>>>>       while (termEnum.next()) {
>>>>>          TermDocs dok = ir.getReader().termDocs();
>>>>>          dok.seek(termEnum);
>>>>>          while (dok.next()) {
>>>>>            System.out.println(dok.doc() + "\t" + dok.freq() +  
>>>>> "\t" +
>>>>>       termEnum.term());
>>>>>          }
>>>>>       }
> 
>>> my text file is " hello every one"
>>> i successed to display the text file  but with :
>>> -
>>> -
>>> modified:0eyulpzyg
>>> path:c:\test\1.txt
>>>
>>> which i don't need to access ,how i can avoid printing that.
> 
> if (!"modified".equals(termEnum.term().field() && !"path".equals 
> (termEnum.term().field()) {
> 
> ?
> 
> -- 
> karl
> 
> hi karl,
> 
> thank you very much !!!
> that what i wanted :)
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Printing-lucene-index-content-tf3338412.html#a9290735
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 03:11:35 2007
Return-Path: <java-user-return-26591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18048 invoked from network); 4 Mar 2007 03:11:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 03:11:34 -0000
Received: (qmail 45708 invoked by uid 500); 4 Mar 2007 03:11:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45662 invoked by uid 500); 4 Mar 2007 03:11:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45651 invoked by uid 99); 4 Mar 2007 03:11:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 19:11:37 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Andreas.Guther@markettools.com designates 72.5.112.150 as permitted sender)
Received: from [72.5.112.150] (HELO mvmail04.markettools.com) (72.5.112.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 19:11:28 -0800
Received: from WDCCPMAIL01.markettools.com ([10.64.64.33]) by mvmail04.markettools.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Sat, 3 Mar 2007 19:11:06 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Can Highlighter handle multiple word terms?
Date: Sat, 3 Mar 2007 19:11:04 -0800
Message-ID: <3FB08D6A21B3EC4D8749EF6D9E626278F6F4F5@WDCCPMAIL01.markettools.com>
In-Reply-To: <45E867B5.60406@gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can Highlighter handle multiple word terms?
thread-index: Acdc9bQtFcwbOvo7Q1+lPkunAuKwLwBFOkDg
References: <3FB08D6A21B3EC4D8749EF6D9E626278F6F145@WDCCPMAIL01.markettools.com> <45E867B5.60406@gmail.com>
From: "Andreas Guther" <Andreas.Guther@markettools.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 04 Mar 2007 03:11:06.0000 (UTC) FILETIME=[BF914100:01C75E0A]
X-Virus-Checked: Checked by ClamAV on apache.org

Mark,

Thank you for your answer.

Andreas



-----Original Message-----
From: Mark Miller [mailto:markrmiller@gmail.com]=20
Sent: Friday, March 02, 2007 10:07 AM
To: java-user@lucene.apache.org
Subject: Re: Can Highlighter handle multiple word terms?

What fragment size are you using? Have you tried the null fragmenter?=20
Are you using the QueryScorer that you can pass a field name to restrict

highlighting to a certain field? Do you have any example code of what=20
you are attempting? Have you looked at the test code for examples of how

to use the Highlighter?

- Mark

Andreas Guther wrote:
> Hi,
>
> =20
>
> I am using the Highlighter class to highlight my search results.  So
far
> my observation is that the Highlighter does not highlight terms with
> multiple words in it.
>
> =20
>
> For example if I have a text like "This is an example text for the
> highlighter" and my search term is "example highlighter" than I would
> expect to get back from the Highlighter the following: "This is an
> <B>example</B> text for the <B>highlighter</B>".  So far the
highlighter
> only returns an empty String.  I am passing in the StandardAnalyzer.
>
> =20
>
> It also looks to me as if the Highlighter cannot handle a term like
> "contents:example".
>
> =20
>
> =20
>
> I wonder if I am missing here something or if this is a limitation of
> the Highlighter.
>
> =20
>
> =20
>
> Can some one enlighten me?
>
> =20
>
> Andreas
>
> =20
>
> =20
>
> =20
>
> =20
>
>
>  =20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 06:24:58 2007
Return-Path: <java-user-return-26592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40976 invoked from network); 4 Mar 2007 06:24:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 06:24:56 -0000
Received: (qmail 51476 invoked by uid 500); 4 Mar 2007 06:24:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51434 invoked by uid 500); 4 Mar 2007 06:24:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51423 invoked by uid 99); 4 Mar 2007 06:24:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 22:24:58 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 209.85.134.184 as permitted sender)
Received: from [209.85.134.184] (HELO mu-out-0910.google.com) (209.85.134.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 22:24:49 -0800
Received: by mu-out-0910.google.com with SMTP id i10so1346034mue
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 22:24:27 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=H4tmQEl0mb4PS1NAt9xgQU1p5fveKTV7ngK85oRKXcSFCU9sKe4vhe6td94a8p5YRUmVaev9XJNe7W82QIA+KU2UcmZGL7fpG1fgnD7PGhJWejta0dPKDi25TQEQZW6Wmk7vK+ST5iTwuNH9aV+QMy2iXqJnhxUNdM1EjZPcUxw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Q/Tgvmee8o1eb7S1OqGsIiLz7aesKXxVlMbiH2wjTrjcyPZcSAa8OFn9liYxV8ugWivx5BspJoWuEJoH6vGhyc6x6fgRCA+sQtwqPexNdbPKSjecCS3RK72eQlVDmO2aeKZmU6gT3y9nOUS5pUyqjvJYJ39Wgu+TNLgmi1J1P34=
Received: by 10.82.120.14 with SMTP id s14mr3181611buc.1172989467547;
        Sat, 03 Mar 2007 22:24:27 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Sat, 3 Mar 2007 22:24:27 -0800 (PST)
Message-ID: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com>
Date: Sun, 4 Mar 2007 10:54:27 +0430
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: searching a date range
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_53206_10858658.1172989467508"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_53206_10858658.1172989467508
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
I want to search through lucene's index from a start date to end date.
when I pass this query it works, say, admitDate:1978/05/05
however, when I use a range syntax it return no records:
admitDate:[1978/05/05 TO 2005/05/05]

I even tried this: admitDate:["1978/05/05" TO "2005/05/05"]
but still not works

is there any way to make it possible searching by range?

-- 
Regards,
Mohammad

------=_Part_53206_10858658.1172989467508--

From java-user-return-26593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 07:41:56 2007
Return-Path: <java-user-return-26593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57140 invoked from network); 4 Mar 2007 07:41:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 07:41:55 -0000
Received: (qmail 9573 invoked by uid 500); 4 Mar 2007 07:41:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9537 invoked by uid 500); 4 Mar 2007 07:41:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9526 invoked by uid 99); 4 Mar 2007 07:41:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 23:41:57 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 209.85.134.187 as permitted sender)
Received: from [209.85.134.187] (HELO mu-out-0910.google.com) (209.85.134.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Mar 2007 23:41:47 -0800
Received: by mu-out-0910.google.com with SMTP id i10so1361411mue
        for <java-user@lucene.apache.org>; Sat, 03 Mar 2007 23:41:26 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BqVBD2OyRWP0D0M3Oh74d8JpdI0sZBeGmBHmTXgnJde26BmhpreAJPpHaz9eh2vFGyunACXUhZpHAnuy5LYt3Q7wSV9iXpxsLPmzI2sAFFB5v7QKAg8JsIEDQGadLBmuFi0R8rnDmr4dhvCa2iCqTCUd6HxW5DXtfYL14xqutfA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TRej37GBmax2Hxe2+Dur/XO1Gemaf5q9qswiHjeaOjXz+nZcHFda3Lbmv7SZSaoOn691g4sXCGPopG8bGrhTYUqlNE/N5r/lIvE+a7+kevz0lcA8vgg0WSqerBPrFj+Yawacyqmcw+VEYuvmCJAKQTGCWw6diff7uw17acHpPaE=
Received: by 10.82.113.6 with SMTP id l6mr3207948buc.1172994085905;
        Sat, 03 Mar 2007 23:41:25 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Sat, 3 Mar 2007 23:41:25 -0800 (PST)
Message-ID: <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com>
Date: Sun, 4 Mar 2007 12:11:25 +0430
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: searching a date range
In-Reply-To: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_53314_106871.1172994085871"
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_53314_106871.1172994085871
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi again
I even removed "/" from my query but still not working good.
Do I have to index dates issues without "/"?
now in the index I have 1978/05/05 should I change it to 19780505?

On 3/4/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
>
> Hi
> I want to search through lucene's index from a start date to end date.
> when I pass this query it works, say, admitDate:1978/05/05
> however, when I use a range syntax it return no records:
> admitDate:[1978/05/05 TO 2005/05/05]
>
> I even tried this: admitDate:["1978/05/05" TO "2005/05/05"]
> but still not works
>
> is there any way to make it possible searching by range?
>
> --
> Regards,
> Mohammad




-- 
Regards,
Mohammad

------=_Part_53314_106871.1172994085871--

From java-user-return-26594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 09:59:27 2007
Return-Path: <java-user-return-26594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86125 invoked from network); 4 Mar 2007 09:59:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 09:59:26 -0000
Received: (qmail 69467 invoked by uid 500); 4 Mar 2007 09:59:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69428 invoked by uid 500); 4 Mar 2007 09:59:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69417 invoked by uid 99); 4 Mar 2007 09:59:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 01:59:28 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [136.173.162.228] (HELO SMTP35.europarl.europa.eu) (136.173.162.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 01:59:17 -0800
Received: from EMAILBRUSV42.ep.parl.union.eu (unverified) by SMTP35.europarl.europa.eu
 (European Parliament) with ESMTP id <T7e290174c288ada2e41f54@SMTP35.europarl.europa.eu> for <java-user@lucene.apache.org>;
 Sun, 4 Mar 2007 10:57:20 +0100
Received: from epbrusex02.ep.parl.union.eu ([136.173.156.27]) by EMAILBRUSV42.ep.parl.union.eu with Microsoft SMTPSVC(6.0.3790.1830);
	 Sun, 4 Mar 2007 10:58:54 +0100
Received: from EPLUXSEX01.ep.parl.union.eu ([136.173.56.16]) by epbrusex02.ep.parl.union.eu with Microsoft SMTPSVC(5.0.2195.6713);
	 Sun, 4 Mar 2007 10:58:54 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C75E43.B7A80E54"
Subject: Package org.apache.lucene.search.highlight
Date: Sun, 4 Mar 2007 10:58:54 +0100
Message-ID: <CA7398CB8402E445AABF081C51E43ACB059EDD@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Package org.apache.lucene.search.highlight
Thread-Index: AcdeQ7cMf1QqeHBWTC6nPEYuae5ZcA==
From: "WATHELET Thomas" <thomas.wathelet@europarl.europa.eu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 04 Mar 2007 09:58:54.0424 (UTC) FILETIME=[B7E27580:01C75E43]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C75E43.B7A80E54
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

SG93IGNhbiBJIGFkZCB0aGUgUGFja2FnZSBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guaGlnaGxp
Z2h0IGludG8gbXkgcHJvamVjdHMgYmVjYXVzZSB0aGUgc3RhbmRhcnQgTHVjZW5lIGFwaSAyLjEu
MCBkbyBub3QgY29udGVudCB0aGlzIHBhY2thZ2U/DQo=

------_=_NextPart_001_01C75E43.B7A80E54--

From java-user-return-26595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 10:36:53 2007
Return-Path: <java-user-return-26595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90445 invoked from network); 4 Mar 2007 10:36:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 10:36:52 -0000
Received: (qmail 82133 invoked by uid 500); 4 Mar 2007 10:36:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82095 invoked by uid 500); 4 Mar 2007 10:36:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82084 invoked by uid 99); 4 Mar 2007 10:36:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 02:36:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.11.145.17] (HELO bobcat.webappcabaret.net) (209.11.145.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 02:36:44 -0800
Received: (qmail 12504 invoked by uid 98); 4 Mar 2007 02:36:18 -0800
Received: from unknown (HELO ?10.0.1.2?) (ulf@ulfdittmer.com@85.178.126.192)
  by 0 with SMTP; 4 Mar 2007 02:36:18 -0800
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <CA7398CB8402E445AABF081C51E43ACB059EDD@EPLUXSEX01.ep.parl.union.eu>
References: <CA7398CB8402E445AABF081C51E43ACB059EDD@EPLUXSEX01.ep.parl.union.eu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <79B116B4-6816-4D68-A65C-060FEF1B22FE@ulfdittmer.com>
Content-Transfer-Encoding: 7bit
From: Ulf Dittmer <ulf@ulfdittmer.com>
Subject: Re: Package org.apache.lucene.search.highlight
Date: Sun, 4 Mar 2007 11:36:38 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

The contrib/highlighter directory contains the jar file that is needed.

Ulf


On 04.03.2007, at 10:58, WATHELET Thomas wrote:

> How can I add the Package org.apache.lucene.search.highlight into  
> my projects because the standart Lucene api 2.1.0 do not content  
> this package?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 11:29:17 2007
Return-Path: <java-user-return-26596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95766 invoked from network); 4 Mar 2007 11:29:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 11:29:16 -0000
Received: (qmail 13948 invoked by uid 500); 4 Mar 2007 11:29:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12877 invoked by uid 500); 4 Mar 2007 11:29:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12865 invoked by uid 99); 4 Mar 2007 11:29:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 03:29:16 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [136.173.162.228] (HELO SMTP35.europarl.europa.eu) (136.173.162.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 03:29:06 -0800
Received: from EMAILBRUSV42.ep.parl.union.eu (unverified) by SMTP35.europarl.europa.eu
 (European Parliament) with ESMTP id <T7e2953a75c88ada2e41f54@SMTP35.europarl.europa.eu>;
 Sun, 4 Mar 2007 12:27:07 +0100
Received: from EPBRUSEX01.ep.parl.union.eu ([136.173.156.28]) by EMAILBRUSV42.ep.parl.union.eu with Microsoft SMTPSVC(6.0.3790.1830);
	 Sun, 4 Mar 2007 12:28:41 +0100
Received: from EPLUXSEX01.ep.parl.union.eu ([136.173.56.16]) by EPBRUSEX01.ep.parl.union.eu with Microsoft SMTPSVC(5.0.2195.6713);
	 Sun, 4 Mar 2007 12:28:39 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C75E50.412A00C7"
Subject: RE: Package org.apache.lucene.search.highlight
Date: Sun, 4 Mar 2007 12:28:38 +0100
Message-ID: <CA7398CB8402E445AABF081C51E43ACB059EE1@EPLUXSEX01.ep.parl.union.eu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Package org.apache.lucene.search.highlight
Thread-Index: AcdeSQhdRp9S02PhT9SRsp2Jixz0PAABxQlq
From: "WATHELET Thomas" <thomas.wathelet@europarl.europa.eu>
To: <java-user@lucene.apache.org>
Cc: <ulf@ulfdittmer.com>
X-OriginalArrivalTime: 04 Mar 2007 11:28:39.0076 (UTC) FILETIME=[41632640:01C75E50]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C75E50.412A00C7
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

Q291bGQgeW91IHNlbmQgbWUgdGhlIGNvbXBsZXRlIHVybCBwbGVhc2UuDQpUaGFua3MgaW4gYWR2
ZW5jZS4NCg0KCS0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tIA0KCUZyb206IFVsZiBEaXR0bWVy
IFttYWlsdG86dWxmQHVsZmRpdHRtZXIuY29tXSANCglTZW50OiBTdW4gMy80LzIwMDcgMTE6MzYg
QU0gDQoJVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZyANCglDYzogDQoJU3ViamVjdDog
UmU6IFBhY2thZ2Ugb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLmhpZ2hsaWdodA0KCQ0KCQ0KDQoJ
VGhlIGNvbnRyaWIvaGlnaGxpZ2h0ZXIgZGlyZWN0b3J5IGNvbnRhaW5zIHRoZSBqYXIgZmlsZSB0
aGF0IGlzIG5lZWRlZC4NCgkNCglVbGYNCgkNCgkNCglPbiAwNC4wMy4yMDA3LCBhdCAxMDo1OCwg
V0FUSEVMRVQgVGhvbWFzIHdyb3RlOg0KCQ0KCT4gSG93IGNhbiBJIGFkZCB0aGUgUGFja2FnZSBv
cmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guaGlnaGxpZ2h0IGludG8gDQoJPiBteSBwcm9qZWN0cyBi
ZWNhdXNlIHRoZSBzdGFuZGFydCBMdWNlbmUgYXBpIDIuMS4wIGRvIG5vdCBjb250ZW50IA0KCT4g
dGhpcyBwYWNrYWdlPw0KCQ0KCQ0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KCVRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KCUZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQoJ
DQoJDQoNCg==

------_=_NextPart_001_01C75E50.412A00C7--

From java-user-return-26597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 21:25:30 2007
Return-Path: <java-user-return-26597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44091 invoked from network); 4 Mar 2007 21:25:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 21:25:29 -0000
Received: (qmail 40898 invoked by uid 500); 4 Mar 2007 21:25:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40860 invoked by uid 500); 4 Mar 2007 21:25:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40849 invoked by uid 99); 4 Mar 2007 21:25:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 13:25:31 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [204.127.192.85] (HELO rwcrmhc15.comcast.net) (204.127.192.85)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 13:25:22 -0800
Received: from smtp.goodstockimages.com (c-66-41-125-163.hsd1.mn.comcast.net[66.41.125.163])
          by comcast.net (rwcrmhc15) with ESMTP
          id <20070304212501m15002brvue>; Sun, 4 Mar 2007 21:25:01 +0000
Received: from [192.168.1.103] (unknown [192.168.1.103])
	by smtp.goodstockimages.com (Postfix) with ESMTP id D244C83C9CE
	for <java-user@lucene.apache.org>; Sun,  4 Mar 2007 15:25:09 -0600 (CST)
Message-ID: <45EB3954.5040906@comcast.net>
Date: Sun, 04 Mar 2007 15:25:40 -0600
From: MC Moisei <mcmoisei@comcast.net>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: IndexSearcher cache
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi to all members of the user group!

Let me get to my problem. I use Lucene in two different parts of the
application. One is the SearchService and one is an AOP interceptor that
intercepts any changes in the Searcheable entities. This last part is
removing the document from the index and add the document again.

That being said, here's my test case.

My searcheable item has in content "apple banana" if I search for apple
or banana I get it back amoung the results.
If I modify it and remove banana from content when I search for apple or
banana I get same results as above (!?)
If I restart my application so the IndexSearcher is recreated, I run the
test above I only get my document if I search for apple - that leads me
to conclude that the IndexSearcher caches the results.

Is there a way to clear IndexSeacher when I do the reindexing ( I use
IndexModifer for the AOP interceptor) ?

MC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 21:29:24 2007
Return-Path: <java-user-return-26598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44515 invoked from network); 4 Mar 2007 21:29:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 21:29:22 -0000
Received: (qmail 45921 invoked by uid 500); 4 Mar 2007 21:29:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45876 invoked by uid 500); 4 Mar 2007 21:29:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45865 invoked by uid 99); 4 Mar 2007 21:29:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 13:29:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.18.177.54] (HELO alnrmhc14.comcast.net) (206.18.177.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 13:29:15 -0800
Received: from smtp.goodstockimages.com (c-66-41-125-163.hsd1.mn.comcast.net[66.41.125.163])
          by comcast.net (alnrmhc14) with ESMTP
          id <20070304212854b1400fs21te>; Sun, 4 Mar 2007 21:28:54 +0000
Received: from [192.168.1.103] (unknown [192.168.1.103])
	by smtp.goodstockimages.com (Postfix) with ESMTP id 9845E83C9CE
	for <java-user@lucene.apache.org>; Sun,  4 Mar 2007 15:29:02 -0600 (CST)
Message-ID: <45EB3A3D.50803@comcast.net>
Date: Sun, 04 Mar 2007 15:29:33 -0600
From: MC Moisei <mcmoisei@comcast.net>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Clearing locks
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Is there a easy way to clear locks ?

If I redeploy my war file and it happens that there is an indexing
happening the lock is not cleared. I know I can tell JVM to run the
finalizers before it exits but in this case the JVM is not exiting being
a hot deploy.

Any ideas ?
MC
 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 21:47:35 2007
Return-Path: <java-user-return-26599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46525 invoked from network); 4 Mar 2007 21:47:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 21:47:34 -0000
Received: (qmail 55904 invoked by uid 500); 4 Mar 2007 21:47:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55860 invoked by uid 500); 4 Mar 2007 21:47:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55848 invoked by uid 99); 4 Mar 2007 21:47:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 13:47:35 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 13:47:25 -0800
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l24Lku0x021735
	for <java-user@lucene.apache.org>; Sun, 4 Mar 2007 23:46:56 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m34na3wq; 4 Mar 2007 23:46:00 +0200
Message-ID: <45EB3E3E.2020906@teamware.com>
Date: Mon, 05 Mar 2007 08:46:38 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: TextMining.org Word extractor
References: <994ABEDD-D55E-4B26-9A11-2A92668BB09D@as-st.com> <243DEDA2-B466-4BC9-A1F7-3BD7B01DC8BC@as-st.com> <E1F190DAC247C64FAA46B38316FA151D05FDA59F@EX-101.mail.navisite.com>
In-Reply-To: <E1F190DAC247C64FAA46B38316FA151D05FDA59F@EX-101.mail.navisite.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Sun, 04 Mar 2007 23:46:56 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

The Nutch sources contain Ryan Ackley's Word6Extractor which has the header

/*  Copyright 2004 Ryan Ackley
  *
  *  Licensed under the Apache License, Version 2.0 (the "License");
  *  you may not use this file except in compliance with the License.
  *  You may obtain a copy of the License at
  *
  *      http://www.apache.org/licenses/LICENSE-2.0
  *
  *  Unless required by applicable law or agreed to in writing, software
  *  distributed under the License is distributed on an "AS IS" BASIS,
  *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  *  See the License for the specific language governing permissions and
  *  limitations under the License.
  */

followed by the interesting Javadoc comment

/**
  * This class is used to extract text from Word 6 documents only. It should
  * only be called from the org.textmining.text.extraction.WordExtractor because
  * it will automatically determine the version.
  *
  * @author Ryan Ackley
  */

Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 22:31:13 2007
Return-Path: <java-user-return-26600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52837 invoked from network); 4 Mar 2007 22:31:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 22:31:11 -0000
Received: (qmail 98548 invoked by uid 500); 4 Mar 2007 22:31:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98427 invoked by uid 500); 4 Mar 2007 22:31:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98415 invoked by uid 99); 4 Mar 2007 22:31:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:31:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:31:03 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 87F824A8157
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 09:32:22 +1100 (EST)
Message-ID: <45EB48F5.7080601@nuix.com>
Date: Mon, 05 Mar 2007 09:32:21 +1100
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: searching a date range
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com> <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com>
In-Reply-To: <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mohammad Norouzi wrote:
> Hi again
> I even removed "/" from my query but still not working good.
> Do I have to index dates issues without "/"?
> now in the index I have 1978/05/05 should I change it to 19780505?

Unless I'm mistaken (and it's been ages since I looked at the date stuff 
myself) this sort of thing only works if you use DateField to format the 
field values.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 22:33:50 2007
Return-Path: <java-user-return-26601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53542 invoked from network); 4 Mar 2007 22:33:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 22:33:49 -0000
Received: (qmail 3975 invoked by uid 500); 4 Mar 2007 22:33:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3941 invoked by uid 500); 4 Mar 2007 22:33:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3930 invoked by uid 99); 4 Mar 2007 22:33:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:33:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:33:42 -0800
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 2288D4A8158
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 09:35:01 +1100 (EST)
Message-ID: <45EB4994.7070103@nuix.com>
Date: Mon, 05 Mar 2007 09:35:00 +1100
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
References: <45EB3954.5040906@comcast.net>
In-Reply-To: <45EB3954.5040906@comcast.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

MC Moisei wrote:
> Hi to all members of the user group!
> 
> Let me get to my problem. I use Lucene in two different parts of the
> application. One is the SearchService and one is an AOP interceptor that
> intercepts any changes in the Searcheable entities. This last part is
> removing the document from the index and add the document again.
> 
> That being said, here's my test case.
> 
> My searcheable item has in content "apple banana" if I search for apple
> or banana I get it back amoung the results.
> If I modify it and remove banana from content when I search for apple or
> banana I get same results as above (!?)
> If I restart my application so the IndexSearcher is recreated, I run the
> test above I only get my document if I search for apple - that leads me
> to conclude that the IndexSearcher caches the results.

It doesn't "cache" the results, but what happens is the underlying 
IndexReader effectively sees no changes for its lifetime (this is 
presumably for safety; since usually you don't want the index changing 
underneath while trying to do queries.)

> Is there a way to clear IndexSeacher when I do the reindexing ( I use
> IndexModifer for the AOP interceptor) ?

Yep.  Close the IndexSearcher and the IndexReader, and reopen them.

If you need to do queries quite often then it probably makes sense to do 
this only every now and then.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 22:35:20 2007
Return-Path: <java-user-return-26602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53783 invoked from network); 4 Mar 2007 22:35:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 22:35:20 -0000
Received: (qmail 8514 invoked by uid 500); 4 Mar 2007 22:35:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8482 invoked by uid 500); 4 Mar 2007 22:35:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8471 invoked by uid 99); 4 Mar 2007 22:35:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:35:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:35:13 -0800
Received: from [192.168.222.102] (host102.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id EF27A4A8158
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 09:36:32 +1100 (EST)
Message-ID: <45EB49EF.40409@nuix.com>
Date: Mon, 05 Mar 2007 09:36:31 +1100
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Clearing locks
References: <45EB3A3D.50803@comcast.net>
In-Reply-To: <45EB3A3D.50803@comcast.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

MC Moisei wrote:
> Is there a easy way to clear locks ?
> 
> If I redeploy my war file and it happens that there is an indexing
> happening the lock is not cleared. I know I can tell JVM to run the
> finalizers before it exits but in this case the JVM is not exiting being
> a hot deploy.
> 
> Any ideas ?

Runtime.getRuntime().addShutdownHook(new Thread() { ... }) ?

That's supposed to be run at any time the JVM shuts down normally.  I 
doubt it runs in the event of a segfault or similar, but it might help.

Daniel

-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 22:41:25 2007
Return-Path: <java-user-return-26603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54208 invoked from network); 4 Mar 2007 22:41:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 22:41:25 -0000
Received: (qmail 11432 invoked by uid 500); 4 Mar 2007 22:41:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11401 invoked by uid 500); 4 Mar 2007 22:41:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11390 invoked by uid 99); 4 Mar 2007 22:41:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:41:27 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:41:16 -0800
Received: by nf-out-0910.google.com with SMTP id g2so280545nfe
        for <java-user@lucene.apache.org>; Sun, 04 Mar 2007 14:40:55 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=f0DMSydhYU3/EE8yRrTHnDsSoGyJvidtN7RMZhiPcRoHZbhne8diCP5w9kZzVB5J7H56CmEaVn+TF9Hkm2hX7bX9+erugwSP8B87svWajt4xqnXENuzgE3lcc4OvLsKZZxZXBCwA/HK6r6RvPWtWHSaywxu/XqUBS+Wo7G3wAd0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=sI+7HIXlPhfcXT3rDQp+K1TQs0RPzc2VSF/gciTLq0VUvK5uJzJ77ADwgJ/hoKMpzXEQJ+L/uurMy7qlRyCEMvZkzsm/Nys4UcU9bzsDXfYosx+Z20h9twWttOU1gaeTWPQ4t0wIVSWQ9KvCXwTQeWQV3G8884ysEEjMu5sFn5Y=
Received: by 10.82.172.15 with SMTP id u15mr4253075bue.1173048054323;
        Sun, 04 Mar 2007 14:40:54 -0800 (PST)
Received: by 10.82.166.7 with HTTP; Sun, 4 Mar 2007 14:40:54 -0800 (PST)
Message-ID: <6e3ae6310703041440u572f6318ge04b663fdf3a1b87@mail.gmail.com>
Date: Sun, 4 Mar 2007 14:40:54 -0800
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Clearing locks
In-Reply-To: <45EB3A3D.50803@comcast.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <45EB3A3D.50803@comcast.net>
X-Virus-Checked: Checked by ClamAV on apache.org

A safe way to do this is to clear the locks just before starting your war file.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com

On 3/4/07, MC Moisei <mcmoisei@comcast.net> wrote:
> Is there a easy way to clear locks ?
>
> If I redeploy my war file and it happens that there is an indexing
> happening the lock is not cleared. I know I can tell JVM to run the
> finalizers before it exits but in this case the JVM is not exiting being
> a hot deploy.
>
> Any ideas ?
> MC
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 22:56:11 2007
Return-Path: <java-user-return-26604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56039 invoked from network); 4 Mar 2007 22:56:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 22:56:10 -0000
Received: (qmail 22974 invoked by uid 500); 4 Mar 2007 22:56:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22939 invoked by uid 500); 4 Mar 2007 22:56:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22928 invoked by uid 99); 4 Mar 2007 22:56:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:56:13 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.162.237 as permitted sender)
Received: from [64.233.162.237] (HELO nz-out-0506.google.com) (64.233.162.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 14:56:03 -0800
Received: by nz-out-0506.google.com with SMTP id i1so1452237nzh
        for <java-user@lucene.apache.org>; Sun, 04 Mar 2007 14:55:43 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Fw0S+jMJ6fJr2bLZ9usq/Qg2i0y03cVxDLOUS47ZKvj4f7mKUSbTnuzvvQauR9nod9bR4qXB9lmZMl9nq5DPZ9yXvwmYLCYWQSeK/wQZGj5Mpchmqm24244fPUdNEwbX1ieSY806oF8t9gKneAcRdsSqYut8Sj+Hvx3N01xLTN0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rjmo4e2oPlVemQ2SSupbCDe7ulvmyHB8ORwTXXC1VkrarqdF6veYa5Vf/ea3TYBPGrXqkedyhe1uidSxNsLV1FVNG9nsq7JSUUXWEpYjWI9Hh5mgpzd2oIwK8kn5m+5lgkj8/0Y/CHAgB3MYU4VomxwQe/cn/DhGrruoFeGT8Gc=
Received: by 10.115.47.1 with SMTP id z1mr1060744waj.1173048942721;
        Sun, 04 Mar 2007 14:55:42 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Sun, 4 Mar 2007 14:55:42 -0800 (PST)
Message-ID: <359a92830703041455g79ac36d7gfa0975b2a518a5aa@mail.gmail.com>
Date: Sun, 4 Mar 2007 17:55:42 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexReader.FieldOptions
In-Reply-To: <Pine.GSO.4.64.0703031645180.7933@cpu22.student.cs.uwaterloo.ca>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_141106_29867129.1173048942430"
References: <Pine.GSO.4.64.0703031645180.7933@cpu22.student.cs.uwaterloo.ca>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_141106_29867129.1173048942430
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

OK, I'm working from memory here, so....
Indexed is orthogonal to stored. Stored fields aren't in necessarily the
index (that is, serachable fields), but are associated with the document.
Stored fields are accessible through the document interface instead, see the
the methods on Fieldable.


Erick


On 3/3/07, Tricia Williams <pgwillia@student.cs.uwaterloo.ca> wrote:
>
> Hi,
>
>   I'm wondering why Stored isn't one of the IndexReader.FieldOption(s)?
> Stored is created at the same time and place as the other options
> (FieldOption.INDEXED and FieldOption.TERMVECTOR) so it doesn't make sense
> that it isn't retrieved in the same way.
>
> Tricia
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_141106_29867129.1173048942430--

From java-user-return-26605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 23:05:34 2007
Return-Path: <java-user-return-26605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57099 invoked from network); 4 Mar 2007 23:05:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 23:05:33 -0000
Received: (qmail 30261 invoked by uid 500); 4 Mar 2007 23:05:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30227 invoked by uid 500); 4 Mar 2007 23:05:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30216 invoked by uid 99); 4 Mar 2007 23:05:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:05:36 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.162.239 as permitted sender)
Received: from [64.233.162.239] (HELO nz-out-0506.google.com) (64.233.162.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:05:26 -0800
Received: by nz-out-0506.google.com with SMTP id i1so1453981nzh
        for <java-user@lucene.apache.org>; Sun, 04 Mar 2007 15:05:05 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=S5Z539vcFl3AeeN3nzSVluLTCyTV9WVaseSYNn2k/ur7YpUsZdhcsrC4eqUtGsFXrEXhOS5tGU/0ifAGk6qZTjq0yZoVu9gr9R16ywX4FHWhWcBHmgVNRIYAsUN1IRDT/4OkJ25t+eOedpBfV1MnAFbODo8UPrcGXgLosu+TJoM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=IboU0jJ/CqmnEkCwqkPJVyT0P8Oj0KVvwEUT/lLTQigF4QIf3FTkg86AM5sbuJ3SKpBsqhW+8XLctS0VKKqUjbMSqkWOK4WjX5qKbjSLv5PtYq/Le+el0Xa101rxvRKQOm/LMORlfy0ewbmMB77CrKvdNfd4205hBTxVWUQRyo4=
Received: by 10.114.181.1 with SMTP id d1mr1017906waf.1173049505282;
        Sun, 04 Mar 2007 15:05:05 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Sun, 4 Mar 2007 15:05:05 -0800 (PST)
Message-ID: <359a92830703041505y45c0883en2f647cd9cbd9dee9@mail.gmail.com>
Date: Sun, 4 Mar 2007 18:05:05 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: question about ScoreDocComparator
In-Reply-To: <D1E30E6D-9B27-47F2-839B-359CB8EF643B@ulfdittmer.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_141238_4066389.1173049505243"
References: <D1E30E6D-9B27-47F2-839B-359CB8EF643B@ulfdittmer.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_141238_4066389.1173049505243
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Maybe I'm missing something in turn, but why not just use a Sort object at
search time?  You can have a Hits object or TopFIeldDocs object returned
(the Filter in some of these calls can be null).

Best
Erick


On 3/1/07, Ulf Dittmer <ulf@ulfdittmer.com> wrote:
>
> Hello-
>
> One of the fields in my index is an ID, which maps to a full text
> description behind the scenes. Now I want to sort the search results
> alphabetically according to the description, not the ID. This can be
> done via SortComparatorSource and a ScoreDocComparator without
> problems. But the code needed to do this is quite complicated - it
> involves retrieving the document ID from the ScoreDoc, then looking
> up the Document through an IndexReader, and then retrieving the ID
> field from the document. It seems that there should be an easier way
> to get at the ID field, since that is the one being used for the
> sort. There is a related class FieldDoc, through which it seems
> possible to get at the field values, but that doesn't seem applicable
> here.
>
> I went through the custom sorting example of "Lucene In Action", but
> that doesn't deal with this case. Am I missing something obvious?
>
> Thanks in advance,
> Ulf
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_141238_4066389.1173049505243--

From java-user-return-26606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 23:44:48 2007
Return-Path: <java-user-return-26606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65301 invoked from network); 4 Mar 2007 23:44:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 23:44:47 -0000
Received: (qmail 56980 invoked by uid 500); 4 Mar 2007 23:44:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56696 invoked by uid 500); 4 Mar 2007 23:44:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56679 invoked by uid 99); 4 Mar 2007 23:44:48 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of erickerickson@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:44:47 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1098760ugc
        for <java-user@lucene.apache.org>; Sun, 04 Mar 2007 15:43:05 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=p51aw57fIxluAagzxrCvjX1AP8SZ7Ayh7jTsH9KWM77OrSx9WIduTg9nbJfPg4KpgKuk2iPWMiz0TNuBCVzOCwX23usbKhYaQ8gLMuo7mYFzjnpQ0RsCEn2ymnM4qWqimm2HICdXGXKyaZPp8+0H/HKi0YEfGetZNiHygpsJj9I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NHImgwopKiCDrMA2u3B1DsiocatPqr1plEFUvmUaER05GldyFCtxz7yrkrAGkQFz7r5vNaauyZ2CIBV8ziW57Tf2EZSko3I0O3menNEQLmssLlpZMChXq/OQEv3JkSeB499qkOwIoGl75/Ipdl4Ibbv3CqDx9/0AyVeqLOPYkJU=
Received: by 10.115.93.16 with SMTP id v16mr1048128wal.1173051418070;
        Sun, 04 Mar 2007 15:36:58 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Sun, 4 Mar 2007 15:36:58 -0800 (PST)
Message-ID: <359a92830703041536l13417d41va8ec9a706574bfc3@mail.gmail.com>
Date: Sun, 4 Mar 2007 18:36:58 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Soliciting Design Thoughts on Date Searching
In-Reply-To: <392521EA2692A2418DF48C331E61E32506AC07@professorville.windows.esseff.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_141606_26232701.1173051418010"
References: <ae6f38f60703010753y54e97e5q33d687ae16fe1e07@mail.gmail.com>
	 <392521EA2692A2418DF48C331E61E32506AC07@professorville.windows.esseff.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_141606_26232701.1173051418010
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

The only thing I'd add to Steve's mail is that it's probably easier
on a conceptual basis to add the dates in as a separate field.
The muliple add method should be simpler. Consider if you just insert
dates as YYYYMMDD, into your token stream and have, say
19990715, 20070122, and 2go. a range from July 15, 1999 to
January 22, 2007 would hit on 2go. I think you'd be far better off to
have a field that contained only dates (multply added) and use
that for your searches. Transform the dates using the DateTools
class so they are lexically ordered. In fact, DateField is
deprecated in Lucene 2.1 (don't know about earlier). All
DateTools really does is transform dates into lexically
orderable strings for indexing, not a separate data type....

If you've figured out the parsing rules (and you're right, you're
certifiable if you like writing parsers <G>) then stuffing them into
a Date object and using DateTools is not going to persent a
challenge.

And I completely agree with you that Lucene is written in a way
that allows me to ignore 99% of what's going on under the covers
and just get on with solving my problems. I'd add that so far, each
time I need some other tweak, what I usually have to do is stare
at the documentation for a while longer and good things happen, and
if that fails, the guys have been enormously helpful.

Best
Erick


On 3/1/07, Steven Parkes <steven_parkes@esseff.org> wrote:
>
> If all you want to do is find docs containing dates within a range, it
> probably doesn't make much difference whether you give dates their own
> field or put them into your content field. It'll probably be easier to
> just add them into the token stream since that's the way the analyzer
> architecture wants to work (analyzers generally don't know anything
> about fields.) You can make the position increment work if you want, and
> it'll make phrase/span queries work better, if you need those to work.
>
> What is going to matter in either case is how you format dates.
> Everything in Lucene is text, so if you want to do date ranges (which
> you mentioned in your first e-mail), you need to be careful how you
> format the dates and what kinds of queries you use. See, for example,
> http://lucene.apache.org/java/docs/api/org/apache/lucene/document/DateTo
> ols.html
> (tinyurl: http://tinyurl.com/ejlvx)
> and
> http://wiki.apache.org/jakarta-lucene/LargeScaleDateRangeProcessing
> (tinyurl: http://tinyurl.com/2pubaq)
> There are also date filters (as opposed to date queries) that have
> different tradeoffs.
>
> Dates are kinda tricky in Lucene.
>
> -----Original Message-----
> From: Walt Stoneburner [mailto:walt.stoneburner@gmail.com]
> Sent: Thursday, March 01, 2007 7:54 AM
> To: java-user@lucene.apache.org
> Subject: Re: Soliciting Design Thoughts on Date Searching
>
> Thank you all for the suggestions steering me down the right path.
>
> As an aside, the easy part, at least for me, is extracting the dates
> -- Peter was dead on about how doing that: heuristics, multiple
> regular expressions, and data structures.  As Steve pointed out, this
> isn't as trivial as it sounds - there are a lot of formats, some
> ambiguous.
>
> I love writing parsers (guess I'm sick in the head, eh?), so getting
> the data isn't the problem, it's knowing what format to convert it
> into and how to hand it to Lucene in a way that it'll find meaningful
> for searching.
>
> I had pondered making a single field with a value like:
> document.add( Field.Text( "dates", "27-Feb-1968,04-Jul-1776,01-Mar-2007"
> ));
> ...but I wasn't convinced that the Lucene date Range was going to work
> on anything other than a Date type, rather than a string of text that
> just coincidently happened to contain dates.
>
> Drawing back on my title example, I was under the incorrect impression
> that if I had a field and provided another value that it replaced the
> prior value.  Hoss is indicating this is not so, and that I'm safe
> adding additional values.
> document.add( Field.Text( "title", "Thanks Thomas" ));
> document.add( Field.Text( "title", "Thanks Hoss" ) );  // Does not
> stomp on Thomas. Yay!
>
> If I can use this technique to pile in a ton of dates, then I'm
> totally happy, you guys have pointed me in the right direction;
> celebrations all around.
>
> The brain scratcher, for me, was Peter's treating the dates like a
> synonym -- a clever way of looking at the problem.  Unfortunately,
> that'd be giving me too much credit, as I haven't played with that
> feature set of Lucene.  So, without trying to, Peter's sent me
> scrambling back to the API for something I wasn't aware was there.
>
> Steve adds to the mystery by suggesting a delimited field list, much
> like the example at the top of this message, and likewise doing some
> trickery with the token stream and a position increment of zero --
> again, a clever solution, and likewise beyond my limited Lucene
> experience.
>
> While I know, intellectually, that Lucene is digesting positioned
> tokens, it is so well designed that fools like me can legitimately use
> Lucene for long periods of time without actually being exposed to
> what's happening under the hood.
>
> The ponderance I now contemplate as a newbie (I've downgraded my self
> assessment after this discussion) is knowing whether the token-stream
> solution or the multiple-add solution is the pedantic one.  Are there
> performance advantages to one way over the other?  I'll be totally
> stunned if someone offers up that they're logically the same thing.
>
> I swear, conversing with you guys is giving me a very deep sense of
> appreciation for your skills and Lucene's capabilities.
>
> -wls
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_141606_26232701.1173051418010--

From java-user-return-26607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 23:46:27 2007
Return-Path: <java-user-return-26607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65769 invoked from network); 4 Mar 2007 23:46:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 23:46:27 -0000
Received: (qmail 58323 invoked by uid 500); 4 Mar 2007 23:46:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58281 invoked by uid 500); 4 Mar 2007 23:46:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58267 invoked by uid 99); 4 Mar 2007 23:46:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:46:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:46:15 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CA4F95B763; Sun,  4 Mar 2007 15:45:43 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C107B7F403
	for <java-user@lucene.apache.org>; Sun,  4 Mar 2007 15:45:43 -0800 (PST)
Date: Sun, 4 Mar 2007 15:45:43 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: searching a date range
In-Reply-To: <45EB48F5.7080601@nuix.com>
Message-ID: <Pine.LNX.4.58.0703041542140.12184@hal.rescomp.berkeley.edu>
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com>
 <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com>
 <45EB48F5.7080601@nuix.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: > I even removed "/" from my query but still not working good.
: > Do I have to index dates issues without "/"?
: > now in the index I have 1978/05/05 should I change it to 19780505?
:
: Unless I'm mistaken (and it's been ages since I looked at the date stuff
: myself) this sort of thing only works if you use DateField to format the
: field values.

correct ... please consult the class level javadocs for the QUeryParser
which talk somewhat extensively about dates in range queries nad using
DateField vs DateTools.

in general, if searhing on "admitDate:1978/05/05" is working ofr you, then
a range search with the same format probably won't work for you ...
becuase when query parser sees a the range syntax on something that it can
parse as a date, it's going to expect the indexed format to be in a very
specific format .. you have a lot of control over what format it expects,
but "1978/05/05" isn't one of them.

looking at the query.toString() from the QueryParser result will help you
understand what it's trying to search on.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 23:53:20 2007
Return-Path: <java-user-return-26608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68473 invoked from network); 4 Mar 2007 23:53:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 23:53:18 -0000
Received: (qmail 71060 invoked by uid 500); 4 Mar 2007 23:53:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70810 invoked by uid 500); 4 Mar 2007 23:53:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70798 invoked by uid 99); 4 Mar 2007 23:53:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:53:19 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.236 as permitted sender)
Received: from [64.233.184.236] (HELO wr-out-0506.google.com) (64.233.184.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:53:10 -0800
Received: by wr-out-0506.google.com with SMTP id 36so1412483wra
        for <java-user@lucene.apache.org>; Sun, 04 Mar 2007 15:52:49 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=S/IhAMx9/YRxZRtZQDpcVrMFwM7/qTk3aQXoRRYzzCLnhGG+hAqCq661diJWS8NODaqK6pZXbFUs8iJRJAOJqmZL3650TZxgb/Q0rpg/CymA1h1ORfKxbiyMQT5LfqbFjgWAXslHy/arggE1sU9PwNM6/l9eMtsycdHiH4TkGt0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=RHQKpBetW2CVPNn/7wrXm1EuEwvgVLU6aOR1B24dBgHKVySis2bdIlXhUQMaIWsSrpJD7wkLP5yZf6JKzvzRwkr04B1eOoEtBpkl0ASzuQ4yrbRj0+5ABAgCVtN4yAcRJvfn9C0bmW46ynNUL9NYBeiYIVYJDgglIRtQeiNVjRE=
Received: by 10.114.81.1 with SMTP id e1mr1030418wab.1173052368709;
        Sun, 04 Mar 2007 15:52:48 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Sun, 4 Mar 2007 15:52:48 -0800 (PST)
Message-ID: <359a92830703041552j296616dag36d9e89fc59b3879@mail.gmail.com>
Date: Sun, 4 Mar 2007 18:52:48 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: More Precise Highlighting
In-Reply-To: <002201c75cfd$3ba85f80$970fda80@libraria.ucsf.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_141858_6752310.1173052368668"
References: <45D248A6.1080803@yahoo.co.uk>
	 <002201c75cfd$3ba85f80$970fda80@libraria.ucsf.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_141858_6752310.1173052368668
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

A copule of possibilities come to mind, whether they're suitable
or not.....

First, you could re-form your query to cover all the meta-data fields.
If I read your description correctly, you have, say, author, city, title
fields. You search over metadata but want to highlight
in author,  city and title for "apple". So you could re-form your
highlight query as author:apple city:apple title:apple (note
the implied or) when you highlight.

You could use MemoryIndex, which is intended for very fast
on-the-fly indexing of a presumed single document. Just add
the meta-data fields of your document to that, and go ahead and
highlight. Repeat if you wanted to highlight different hits in
your document text and return the results combined however
makes sense.

I must admit that my use of Highlighter is not the most experienced,
but I found MemoryIndex extremely usefule for solving highlighting
in my situation.

Best
Erick


On 3/2/07, Renaud Waldura <renaud.waldura@library.ucsf.edu> wrote:
>
> Hello Mark:
>
> I apologize for not responding earlier, more urgent stuff took over. I
> really appreciate your help with this. Since my first message was somewhat
> terse, let me explain again.
>
> My index includes both "regular" fields (stored, indexed, tokenized) and
> "search-only" fields used for searching only (unstored, indexed,
> tokenized).
> In particular, I have one such field called "metadata" that's the
> accumulation of all metadata about the document (title, authors, date,
> etc.). Using this field, I can easily query "all metadata" without
> searching
> the document text (that's a separate field). It has no meaning other than
> making this kind of query possible.
>
> Say I query "+metadata:apple +banana". I would like to have the term
> "apple"
> highlighted in all metadata fields; if Fiona Apple authored a document,
> her
> lastname should be highlighted in the "author" field, but not in the
> document text.
>
> From what I've experienced, when I pass NULL as fieldname to the
> QueryTermExtractor, "apple" gets highlighted everywhere, both in any
> metadata AND the document text. When I pass "author" as fieldname, it
> doesn't highlight that field at all -- because the query was actually for
> "metadata" not "author". It's not correct in either case, and I'm not sure
> what to do.
>
> Thanks again for your help,
>
> --Renaud
>
>
>
>
> -----Original Message-----
> From: markharw00d [mailto:markharw00d@yahoo.co.uk]
> Sent: Tuesday, February 13, 2007 3:24 PM
> To: java-user@lucene.apache.org
> Subject: Re: More Precise Highlighting
>
> Not sure I fully understand the problem. The query is effectively
> "allContent:someTitleText" and you want to highlight the string
> "someTitleText" in the title field?
> If you pass null as a fieldname to the QueryTermExtractor it will use all
> term values, regardless of field, as string to highlight.
> If you pass a fieldname it will only select highlight term values for that
> field.
> If you want, you can use QueryTermExtractor to extract just the
> "allContent"
> field values and pass a TokenStream for the "title" field to the
> highlighter
> and it would highlight the appropriate values in the title.
>
> Do any of these options work?
>
>
>
> Renaud Waldura wrote:
> > The old highlighter code used to highlight found terms in any field
> > (too broad). The new highlighter lets one specify a field when
> > highlighting, but it highlights that field only (too narrow).
> >
> > In my case we have an "all" field that is the concatenation of all
> > data about the document. When I highlight e.g. the "title" field,
> > nothing happens, because the Highlighter doesn't know the title is
> > included in this "all" field.
> >
> > How can I tell the highlighter that my query fields can map to some
> > document fields? It looks like I'd change the QueryTermExtractor, but
> > it's conveniently all-static and final.
> >
> > --Renaud
> >
> >
> >
>
>
>
>
>
>
> ___________________________________________________________
> All new Yahoo! Mail "The new Interface is stunning in its simplicity and
> ease of use." - PC Magazine http://uk.docs.yahoo.com/nowyoucan.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_141858_6752310.1173052368668--

From java-user-return-26609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 04 23:54:15 2007
Return-Path: <java-user-return-26609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68931 invoked from network); 4 Mar 2007 23:54:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 4 Mar 2007 23:54:14 -0000
Received: (qmail 73591 invoked by uid 500); 4 Mar 2007 23:54:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73561 invoked by uid 500); 4 Mar 2007 23:54:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73549 invoked by uid 99); 4 Mar 2007 23:54:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:54:17 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 15:54:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AFD6D5B763; Sun,  4 Mar 2007 15:53:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A72207F403;
	Sun,  4 Mar 2007 15:53:47 -0800 (PST)
Date: Sun, 4 Mar 2007 15:53:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Cc: ulf@ulfdittmer.com
Subject: RE: Package org.apache.lucene.search.highlight
In-Reply-To: <CA7398CB8402E445AABF081C51E43ACB059EE1@EPLUXSEX01.ep.parl.union.eu>
Message-ID: <Pine.LNX.4.58.0703041552470.12184@hal.rescomp.berkeley.edu>
References: <CA7398CB8402E445AABF081C51E43ACB059EE1@EPLUXSEX01.ep.parl.union.eu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Could you send me the complete url please.
: Thanks in advence.

it's part of the lucene release, it's just not in the core jar .. it is
in a jar in the directory mentioned...

: 	The contrib/highlighter directory contains the jar file that is needed.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 00:13:49 2007
Return-Path: <java-user-return-26610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76570 invoked from network); 5 Mar 2007 00:13:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 00:13:48 -0000
Received: (qmail 99933 invoked by uid 500); 5 Mar 2007 00:13:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99891 invoked by uid 500); 5 Mar 2007 00:13:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99880 invoked by uid 99); 5 Mar 2007 00:13:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 16:13:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 16:13:41 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CA1D65B763; Sun,  4 Mar 2007 16:13:20 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id BE33B7F403
	for <java-user@lucene.apache.org>; Sun,  4 Mar 2007 16:13:20 -0800 (PST)
Date: Sun, 4 Mar 2007 16:13:20 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: IndexReader.FieldOptions
In-Reply-To: <359a92830703041455g79ac36d7gfa0975b2a518a5aa@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703041606480.12184@hal.rescomp.berkeley.edu>
References: <Pine.GSO.4.64.0703031645180.7933@cpu22.student.cs.uwaterloo.ca>
 <359a92830703041455g79ac36d7gfa0975b2a518a5aa@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Indexed is orthogonal to stored. Stored fields aren't in necessarily the
: index (that is, serachable fields), but are associated with the document.
: Stored fields are accessible through the document interface instead, see the
: the methods on Fieldable.

all true, but slightly orthoginal i believe to the heart of hte issue ...
things like "INDEXED" and "TERMVECTOR" are expressable both in terms of
IndexReader.FieldOption instances and in terms of
Field.Index/Field.TermVector instances ... but there is no FieldOption
equivilent to the Field.Store instances -- the reason comes up because of
the intended usage.

FieldOptions instances come into play when calling
IndexReader.getFieldNames, the Field.Stoe/Field.Index/Field.TermVector
options come into play when adding a document

if i recall correctly, termvector-ness and index-ness affect the entire
segment, while stored-ness only affects the individual documents ... so
there is a need to know what field names have termvectors across an entire
indexreader -- but it doesn't really matter what fields are stored.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 03:52:55 2007
Return-Path: <java-user-return-26611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35736 invoked from network); 5 Mar 2007 03:52:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 03:52:53 -0000
Received: (qmail 35093 invoked by uid 500); 5 Mar 2007 03:52:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35059 invoked by uid 500); 5 Mar 2007 03:52:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35047 invoked by uid 99); 5 Mar 2007 03:52:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 19:52:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [216.148.227.151] (HELO rwcrmhc11.comcast.net) (216.148.227.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 19:52:45 -0800
Received: from smtp.goodstockimages.com (c-66-41-125-163.hsd1.mn.comcast.net[66.41.125.163])
          by comcast.net (rwcrmhc11) with ESMTP
          id <20070305035224m11009m28te>; Mon, 5 Mar 2007 03:52:24 +0000
Received: from [192.168.1.103] (unknown [192.168.1.103])
	by smtp.goodstockimages.com (Postfix) with ESMTP id 14E3183C9CE
	for <java-user@lucene.apache.org>; Sun,  4 Mar 2007 21:52:33 -0600 (CST)
Message-ID: <45EB9409.3050708@comcast.net>
Date: Sun, 04 Mar 2007 21:52:41 -0600
From: MC Moisei <mcmoisei@comcast.net>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
References: <45EB3954.5040906@comcast.net> <45EB4994.7070103@nuix.com>
In-Reply-To: <45EB4994.7070103@nuix.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Daniel,

Thanks for replying. THe only reason I don't close my indexSearcher is
that I got the "Too Many File Open Exception" and I decided to make my
searcher static in the SearchService.

If I do go and close then open a new one I may expose myself to some
concurent access issues while people can update their files other can do
the searches for those files ( My searcheables are files entities)

Since the IndexSearcher has an underlying IndexReader I should use that
one to handle the reads in the Interceptor but that won't do me too much
good since I need certain methods that are no in IndexReader ( and  BTW
i thought I've mentioned that I use the IndexModifier that is a mixture
of the IndexReader and IndexWriter ).

Any ideas ?

MC



Daniel Noll wrote:
> MC Moisei wrote:
>> Hi to all members of the user group!
>>
>> Let me get to my problem. I use Lucene in two different parts of the
>> application. One is the SearchService and one is an AOP interceptor that
>> intercepts any changes in the Searcheable entities. This last part is
>> removing the document from the index and add the document again.
>>
>> That being said, here's my test case.
>>
>> My searcheable item has in content "apple banana" if I search for apple
>> or banana I get it back amoung the results.
>> If I modify it and remove banana from content when I search for apple or
>> banana I get same results as above (!?)
>> If I restart my application so the IndexSearcher is recreated, I run the
>> test above I only get my document if I search for apple - that leads me
>> to conclude that the IndexSearcher caches the results.
>
> It doesn't "cache" the results, but what happens is the underlying
> IndexReader effectively sees no changes for its lifetime (this is
> presumably for safety; since usually you don't want the index changing
> underneath while trying to do queries.)
>
>> Is there a way to clear IndexSeacher when I do the reindexing ( I use
>> IndexModifer for the AOP interceptor) ?
>
> Yep.  Close the IndexSearcher and the IndexReader, and reopen them.
>
> If you need to do queries quite often then it probably makes sense to
> do this only every now and then.
>
> Daniel
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 05:16:42 2007
Return-Path: <java-user-return-26612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51277 invoked from network); 5 Mar 2007 05:16:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 05:16:41 -0000
Received: (qmail 98369 invoked by uid 500); 5 Mar 2007 05:16:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98332 invoked by uid 500); 5 Mar 2007 05:16:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98321 invoked by uid 99); 5 Mar 2007 05:16:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 21:16:41 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [204.127.200.82] (HELO sccrmhc12.comcast.net) (204.127.200.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 21:16:31 -0800
Received: from smtp.goodstockimages.com (c-66-41-125-163.hsd1.mn.comcast.net[66.41.125.163])
          by comcast.net (sccrmhc12) with ESMTP
          id <2007030505161001200acp0le>; Mon, 5 Mar 2007 05:16:10 +0000
Received: from [192.168.1.103] (unknown [192.168.1.103])
	by smtp.goodstockimages.com (Postfix) with ESMTP id 6C4F983C9CE
	for <java-user@lucene.apache.org>; Sun,  4 Mar 2007 23:16:15 -0600 (CST)
Message-ID: <45EBA7A3.8090005@comcast.net>
Date: Sun, 04 Mar 2007 23:16:19 -0600
From: MC Moisei <mcmoisei@comcast.net>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Clearing locks
References: <45EB3A3D.50803@comcast.net> <6e3ae6310703041440u572f6318ge04b663fdf3a1b87@mail.gmail.com>
In-Reply-To: <6e3ae6310703041440u572f6318ge04b663fdf3a1b87@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

How do I clear the locks ? THey have unique names and the name changes
everytime...

Chris Lu wrote:
> A safe way to do this is to clear the locks just before starting your
> war file.
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 05:27:29 2007
Return-Path: <java-user-return-26613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52272 invoked from network); 5 Mar 2007 05:27:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 05:27:28 -0000
Received: (qmail 7796 invoked by uid 500); 5 Mar 2007 05:27:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7747 invoked by uid 500); 5 Mar 2007 05:27:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7730 invoked by uid 99); 5 Mar 2007 05:27:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 21:27:30 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [194.217.242.90] (HELO anchor-post-32.mail.demon.net) (194.217.242.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 21:27:20 -0800
Received: from rselvaraj.demon.co.uk ([83.104.137.62] helo=Taurus)
	by anchor-post-32.mail.demon.net with esmtp (Exim 4.42)
	id 1HO5is-0009hx-8d; Mon, 05 Mar 2007 05:26:58 +0000
Reply-To: <rselvaraj@searchblox.com>
From: "Robert Selvaraj" <rselvaraj@searchblox.com>
To: <java-dev@lucene.apache.org>,
	<java-user@lucene.apache.org>
Subject: SearchBlox Content Search Software Version 4.0 released
Date: Mon, 5 Mar 2007 05:26:53 -0000
Organization: SearchBlox Software, Inc.
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acde5uGs9j2z5G/+SUO3xlZIOggAsg==
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20070305052721.1337310FB016@herse.apache.org>


SearchBlox Software has released Version 4.0 of its Content Search Software.
 
SearchBlox uses the Lucene Search API and delivers out-of-the-box search
functionality for quick and easy integration with websites, intranets and
portals. SearchBlox incorporates integrated HTTP/HTTPS, File System and Feed
crawlers, support for various document formats including HTML, Word, PDF,
PowerPoint and Excel, support for indexing and searching content in 37
languages and customizable search results, all controlled from a
browser-based Admin Console. SearchBlox also provides a REST-API for
integration with custom search applications.

New features in Version 4.0: 
=============================
- AJAX-based Admin Console
- Replication (ENTERPRISE Edition Only) - keeps search indexes in multiple
instances of SearchBlox synchronized. No special network configurations are
required as all communications and data downloads between the SearchBlox
instances are over HTTP   
- Hit highlighting of search terms in HTML and PDF documents

SearchBlox is platform-independent. It is available as a Web Archive (WAR)
and has been tested with all major Java Application Servers.  It is also
available as standalone servers for Windows, Linux/Unix and Mac OS X
platforms. 

The SearchBlox FREE Edition is available free of charge and can index up to
1000 documents. 

The software can be downloaded from http://www.searchblox.com





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 05:35:24 2007
Return-Path: <java-user-return-26614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54673 invoked from network); 5 Mar 2007 05:35:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 05:35:23 -0000
Received: (qmail 16005 invoked by uid 500); 5 Mar 2007 05:35:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15769 invoked by uid 500); 5 Mar 2007 05:35:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15758 invoked by uid 99); 5 Mar 2007 05:35:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 21:35:25 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 21:35:15 -0800
Received: by nf-out-0910.google.com with SMTP id g2so344824nfe
        for <java-user@lucene.apache.org>; Sun, 04 Mar 2007 21:34:54 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=aMExHmRjYTSL9WLWKTQtRvaXU8GYdKZUPWpfpaQ4yblfqevWS46EpbwL9c/po+aPNm2xZ8juVIoEDa0jXTNLHdoROwo56YoU+dOcwKgzbkjLICb9U6XOz59n9+rVb6zt2BlPsApFTedBYwUg0C4VACvQa/7iDhC3qxjmFZmZOnc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=KqZY9325yPrzZ1CRetbBBfWPm0bYhac8JggarmVJHUKVFQ34Oj9GIlYSANWYSp8EwbxLUnPh7L5od8WlN0USk4chL04lu30yC6jBVqEPSw6IIdkbD/YuolA1dmHHokJJjzPZrTH5bKR1eB9Anp5RdOQIrhI8+n9M5oNDH9Vxkbk=
Received: by 10.82.114.3 with SMTP id m3mr4399925buc.1173072892972;
        Sun, 04 Mar 2007 21:34:52 -0800 (PST)
Received: by 10.82.166.7 with HTTP; Sun, 4 Mar 2007 21:34:52 -0800 (PST)
Message-ID: <6e3ae6310703042134i55867e97p5787b7e189bd1bde@mail.gmail.com>
Date: Sun, 4 Mar 2007 21:34:52 -0800
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Clearing locks
In-Reply-To: <45EBA7A3.8090005@comcast.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <45EB3A3D.50803@comcast.net>
	 <6e3ae6310703041440u572f6318ge04b663fdf3a1b87@mail.gmail.com>
	 <45EBA7A3.8090005@comcast.net>
X-Virus-Checked: Checked by ClamAV on apache.org

They are not really unique. Here are my code to unlock the directory.
Notice there are two locks.

    public static void unlockDirectory(Directory dir) {
        Lock dirLock = dir.makeLock(IndexWriter.WRITE_LOCK_NAME);
        if (dirLock.isLocked()) {
            logger.debug("unlocking " + dirLock);
            dirLock.release();
            logger.info("unlocked directory " + dir);
        }
        dirLock = dir.makeLock(IndexWriter.COMMIT_LOCK_NAME);
        if (dirLock.isLocked()) {
            logger.debug("unlocking " + dirLock);
            dirLock.release();
            logger.info("unlocked directory " + dir);
        }
    }

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com

On 3/4/07, MC Moisei <mcmoisei@comcast.net> wrote:
> How do I clear the locks ? THey have unique names and the name changes
> everytime...
>
> Chris Lu wrote:
> > A safe way to do this is to clear the locks just before starting your
> > war file.
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 06:52:01 2007
Return-Path: <java-user-return-26615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68570 invoked from network); 5 Mar 2007 06:52:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 06:52:00 -0000
Received: (qmail 83630 invoked by uid 500); 5 Mar 2007 06:52:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83309 invoked by uid 500); 5 Mar 2007 06:52:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83298 invoked by uid 99); 5 Mar 2007 06:52:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 22:52:01 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Mar 2007 22:51:52 -0800
Received: by nf-out-0910.google.com with SMTP id g2so357705nfe
        for <java-user@lucene.apache.org>; Sun, 04 Mar 2007 22:51:31 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=S5eTuW8YHyH8nFiBBtMD/QUboR6wgE7ChFlnW7dTUwqcWVAfT77Z6ykQ0zUmtXi+bTUU41niDBVGzJ9miAbPXF5px6S+xMKgSvdT5rFchfXdRu7knKrz6qmewGtRzp9Hhb0h5bcQDf0NrPndLuk+Az2ypj1pAgD+/zwbUmAMp7Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lZj4MAHfVkz+Fo4N7S1XrwmDNYgijd+b19gQgmoc4Eq7rwLP0MPfx+cGzu548XMor8W/zJ0VNR+15FwWh4fajI4fzWlXGNVD/DLTok7gZXSs3cWHyTVXzzF9bPhFuDotZXtVKKwXcXzbMq15T3iyiuBNOCBEjRBVUkctmu5LVJA=
Received: by 10.82.114.3 with SMTP id m3mr4460154buc.1173077491011;
        Sun, 04 Mar 2007 22:51:31 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Sun, 4 Mar 2007 22:51:30 -0800 (PST)
Message-ID: <34b8543c0703042251td219781r505885cae7e6debe@mail.gmail.com>
Date: Mon, 5 Mar 2007 10:21:30 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: searching a date range
In-Reply-To: <Pine.LNX.4.58.0703041542140.12184@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_60247_573476.1173077490979"
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com>
	 <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com>
	 <45EB48F5.7080601@nuix.com>
	 <Pine.LNX.4.58.0703041542140.12184@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_60247_573476.1173077490979
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
you know, actually we dont indexed this field as Date. we always use string
instead of Date type because we use both Hijri date and Gregorian date so if
we put a Hijri date the DateField not work properly. that is why we index
such this field as String.

as I read the javadoc for QueryParser, it is said to inherits a class from
QueryParser and override its setQueryRange() method. I think in my case I
should do it. what do you think?

On 3/5/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : > I even removed "/" from my query but still not working good.
> : > Do I have to index dates issues without "/"?
> : > now in the index I have 1978/05/05 should I change it to 19780505?
> :
> : Unless I'm mistaken (and it's been ages since I looked at the date stuff
> : myself) this sort of thing only works if you use DateField to format the
> : field values.
>
> correct ... please consult the class level javadocs for the QUeryParser
> which talk somewhat extensively about dates in range queries nad using
> DateField vs DateTools.
>
> in general, if searhing on "admitDate:1978/05/05" is working ofr you, then
> a range search with the same format probably won't work for you ...
> becuase when query parser sees a the range syntax on something that it can
> parse as a date, it's going to expect the indexed format to be in a very
> specific format .. you have a lot of control over what format it expects,
> but "1978/05/05" isn't one of them.
>
> looking at the query.toString() from the QueryParser result will help you
> understand what it's trying to search on.
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
Mohammad

------=_Part_60247_573476.1173077490979--

From java-user-return-26616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 09:32:28 2007
Return-Path: <java-user-return-26616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28316 invoked from network); 5 Mar 2007 09:32:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 09:32:26 -0000
Received: (qmail 63382 invoked by uid 500); 5 Mar 2007 09:32:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63181 invoked by uid 500); 5 Mar 2007 09:32:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63169 invoked by uid 99); 5 Mar 2007 09:32:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 01:32:28 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 01:32:18 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id l259Vr5Z013657
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 10:31:53 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200703050931.l259Vr5Z013657@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: How can I use SortComparator in my case?
Date: Mon, 5 Mar 2007 10:31:48 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <A79A2D741A822A46B9F0BFF4F4585DDB3EC478@emss10m02.us.lmco.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acdct9UH1Scv129FQSOI6USgH2QnkwARTH8wAIL8ntA=
X-Scanned-By: MIMEDefang 2.57 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org

This will then be a big hastle. The results are in 100s and sometimes in
1000s.
Hum.. No other better way?

Jelda

> -----Original Message-----
> From: Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com] 
> Sent: Friday, March 02, 2007 8:02 PM
> To: java-user@lucene.apache.org
> Subject: RE: How can I use SortComparator in my case?
> 
> You'll need to do it manually and not with Lucene.
> 
> Just grab all the results from Lucene and process them yourself.
> 
> Aviran
> http://aviransplace.com 
> 
> -----Original Message-----
> From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]
> Sent: Friday, March 02, 2007 5:45 AM
> To: java-user@lucene.apache.org
> Subject: How can I use SortComparator in my case?
> 
> Hi,
> I have a requirement to sort search results in a round robin.
> Ex:sorting results by field "customer" 
> suppose following customers are found (number of results in 
> brackets) and results are sorted by customer.
>  
> Amazon(10)
> Dell(2)
> EBay(4)
> Yahoo(20)
>  
> but I want to sort them in the following way,
> Amazon(1)
> Dell(1)
> EBay(1)
> Yahoo(1)
>  
> Amazon(1)
> Dell(1)
> EBay(1)
> Yahoo(1)
>  
> Amazon(1)
> EBay(1)
> Yahoo(1)
>   
> Amazon(1)
> EBay(1)
> Yahoo(1)
>  
> etc.. etc..
>  
>  
> You think I can use somehow SortComparator here? 
> any suggestions?
>  
> Thx,
> Jelda
>  
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 10:03:23 2007
Return-Path: <java-user-return-26617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36226 invoked from network); 5 Mar 2007 10:03:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 10:03:22 -0000
Received: (qmail 3231 invoked by uid 500); 5 Mar 2007 10:03:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3189 invoked by uid 500); 5 Mar 2007 10:03:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3178 invoked by uid 99); 5 Mar 2007 10:03:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 02:03:23 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.221] (HELO web26010.mail.ukl.yahoo.com) (217.12.10.221)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Mar 2007 02:03:12 -0800
Received: (qmail 16825 invoked by uid 60001); 5 Mar 2007 10:02:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=Sv1vP8qlFMfAhOprH3tI3v4RN/lTFiicaAPxx+KqVusECgEJaKrJMmL1X+QuiwHdDgmKH0pa/yfkT6rQAa+FLnAnNQbBfJMoDd+xU1nlWUctcbrE/HOQcOfKwGf8vIvUXwguLVYkyN3lOzqa6ouqxjmGgDDNCC0JCj4jU/qp4zY=;
X-YMail-OSG: WFptnvMVM1nYNG1YCevKy7RgAYofgfvdhhzyCV_vN03d_TwwGSMemBHH28rxGXoyospUOHumCDToskSSZ2ZCnr3v6V4GetQZBQPihuGeYmlFLUFgFkKe2z0qVG736ksIL3oykU8aj07w9vukS4YANT8-
Received: from [193.36.230.96] by web26010.mail.ukl.yahoo.com via HTTP; Mon, 05 Mar 2007 10:02:50 GMT
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Mon, 5 Mar 2007 10:02:50 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: More Precise Highlighting
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <250995.14520.qm@web26010.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

I think the solution is fairly simple.=0APass the "metadata" fieldname to t=
he QueryTermExtractor - not the fieldname "author". QueryTermExtractor effe=
ctively provides just a list of strings (no fieldnames) which are then matc=
hed against strings found in the tokenStream which represents your content.=
=0ABecause your query did not contain any "author:apple" clauses QueryTermE=
xtractor produced no strings for highlighting when you asked for the field.=
=0A=0ACheers=0AMark =0A=0A=0A=0AOn 3/2/07, Renaud Waldura <renaud.waldura@l=
ibrary.ucsf.edu> wrote:=0A>=0A> Hello Mark:=0A>=0A> I apologize for not res=
ponding earlier, more urgent stuff took over. I=0A> really appreciate your =
help with this. Since my first message was somewhat=0A> terse, let me expla=
in again.=0A>=0A> My index includes both "regular" fields (stored, indexed,=
 tokenized) and=0A> "search-only" fields used for searching only (unstored,=
 indexed,=0A> tokenized).=0A> In particular, I have one such field called "=
metadata" that's the=0A> accumulation of all metadata about the document (t=
itle, authors, date,=0A> etc.). Using this field, I can easily query "all m=
etadata" without=0A> searching=0A> the document text (that's a separate fie=
ld). It has no meaning other than=0A> making this kind of query possible.=
=0A>=0A> Say I query "+metadata:apple +banana". I would like to have the te=
rm=0A> "apple"=0A> highlighted in all metadata fields; if Fiona Apple autho=
red a document,=0A> her=0A> lastname should be highlighted in the "author" =
field, but not in the=0A> document text.=0A>=0A> From what I've experienced=
, when I pass NULL as fieldname to the=0A> QueryTermExtractor, "apple" gets=
 highlighted everywhere, both in any=0A> metadata AND the document text. Wh=
en I pass "author" as fieldname, it=0A> doesn't highlight that field at all=
 -- because the query was actually for=0A> "metadata" not "author". It's no=
t correct in either case, and I'm not sure=0A> what to do.=0A>=0A> Thanks a=
gain for your help,=0A>=0A> --Renaud=0A>=0A>=0A>=0A>=0A> -----Original Mess=
age-----=0A> From: markharw00d [mailto:markharw00d@yahoo.co.uk]=0A> Sent: T=
uesday, February 13, 2007 3:24 PM=0A> To: java-user@lucene.apache.org=0A> S=
ubject: Re: More Precise Highlighting=0A>=0A> Not sure I fully understand t=
he problem. The query is effectively=0A> "allContent:someTitleText" and you=
 want to highlight the string=0A> "someTitleText" in the title field?=0A> I=
f you pass null as a fieldname to the QueryTermExtractor it will use all=0A=
> term values, regardless of field, as string to highlight.=0A> If you pass=
 a fieldname it will only select highlight term values for that=0A> field.=
=0A> If you want, you can use QueryTermExtractor to extract just the=0A> "a=
llContent"=0A> field values and pass a TokenStream for the "title" field to=
 the=0A> highlighter=0A> and it would highlight the appropriate values in t=
he title.=0A>=0A> Do any of these options work?=0A>=0A>=0A>=0A> Renaud Wald=
ura wrote:=0A> > The old highlighter code used to highlight found terms in =
any field=0A> > (too broad). The new highlighter lets one specify a field w=
hen=0A> > highlighting, but it highlights that field only (too narrow).=0A>=
 >=0A> > In my case we have an "all" field that is the concatenation of all=
=0A> > data about the document. When I highlight e.g. the "title" field,=0A=
> > nothing happens, because the Highlighter doesn't know the title is=0A> =
> included in this "all" field.=0A> >=0A> > How can I tell the highlighter =
that my query fields can map to some=0A> > document fields? It looks like I=
'd change the QueryTermExtractor, but=0A> > it's conveniently all-static an=
d final.=0A> >=0A> > --Renaud=0A> >=0A> >=0A> >=0A>=0A>=0A>=0A>=0A>=0A>=0A>=
 ___________________________________________________________=0A> All new Ya=
hoo! Mail "The new Interface is stunning in its simplicity and=0A> ease of =
use." - PC Magazine http://uk.docs.yahoo.com/nowyoucan.html=0A>=0A> -------=
--------------------------------------------------------------=0A> To unsub=
scribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> For additional =
commands, e-mail: java-user-help@lucene.apache.org=0A>=0A>=0A>=0A> --------=
-------------------------------------------------------------=0A> To unsubs=
cribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> For additional c=
ommands, e-mail: java-user-help@lucene.apache.org=0A>=0A>=0A=0A=0A=0A=0A=0A=
=09=0A=09=0A=09=09=0A______________________________________________________=
_____ =0ANew Yahoo! Mail is the ultimate force in competitive emailing. Fin=
d out more at the Yahoo! Mail Championships. Plus: play games and win prize=
s. =0Ahttp://uk.rd.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 10:08:16 2007
Return-Path: <java-user-return-26618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37014 invoked from network); 5 Mar 2007 10:08:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 10:08:15 -0000
Received: (qmail 12445 invoked by uid 500); 5 Mar 2007 10:08:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12416 invoked by uid 500); 5 Mar 2007 10:08:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12405 invoked by uid 99); 5 Mar 2007 10:08:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 02:08:17 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [193.71.38.25] (HELO smtp.intility.com) (193.71.38.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 02:08:08 -0800
Received: from mail2.i04.info ([10.1.6.21]) by VSMTP with InterScan Message Security Suite; Mon, 05 Mar 2007 11:04:56 +0100
Received: from 80.203.147.10 ([80.203.147.10]) by i2-e2k3-001.i04.local ([10.1.6.21]) via Exchange Front-End Server www.i04.info ([10.1.6.23]) with Microsoft Exchange Server HTTP-DAV ;
 Mon,  5 Mar 2007 10:07:34 +0000
Received: from morten-laptop by www.i04.info; 05 Mar 2007 11:07:31 +0100
Subject: SELECT * FROM Index-file
From: Morten Simonsen <morten.simonsen@owera.com>
To: java-user@lucene.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Owera
Date: Mon, 05 Mar 2007 11:07:31 +0100
Message-Id: <1173089251.5397.17.camel@morten-laptop>
Mime-Version: 1.0
X-Mailer: Evolution 2.8.1 
X-Virus-Checked: Checked by ClamAV on apache.org

Hi

I'm about to convert from Lucene index-files into a MySQL (sorry about
that:) I thought I would run a "SELECT *" on the index-file, then read
through all the "rows" (hits?) and process each of them into my new
database. 

So I wrote this code: 

----
WildcardQuery query = new WildcardQuery(new Term("UnitID", "*"));
Hits hits = ism.searchUnits(query);
----

Then I receive "Something failed: org.apache.lucene.search.BooleanQuery
$TooManyClauses"

I tried to set 
BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
but then I ran out of memory, so this is clearly not a good solution. 

I have tried using several different fields as well, also fields which
has only a limited set of values (the field are then not unique in the
index-file).

Any suggestions?

Morten Simonsen

(And yes, I'm a newbie. Didn't find anything useful during my searches
on the Internet, mailing-lists or in the book, maybe because this is a
pretty infrequent thing to do?)







---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 10:58:03 2007
Return-Path: <java-user-return-26619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50871 invoked from network); 5 Mar 2007 10:57:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 10:57:39 -0000
Received: (qmail 75126 invoked by uid 500); 5 Mar 2007 10:57:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75083 invoked by uid 500); 5 Mar 2007 10:57:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75065 invoked by uid 99); 5 Mar 2007 10:57:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 02:57:40 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 02:57:30 -0800
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id 9D9641F56E0
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 05:57:09 -0500 (EST)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Mon, 05 Mar 2007 05:57:09 -0500
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id C6A8E16238E; Mon,  5 Mar 2007 05:57:09 -0500 (EST)
Message-Id: <1173092229.17337.1177746883@webmail.messagingengine.com>
X-Sasl-Enc: 6RA+i0GgWJ4vrP+0qXY5kyp63uWgfC5fYPDO+5yS2FiI 1173092229
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <45EB3A3D.50803@comcast.net>
   <6e3ae6310703041440u572f6318ge04b663fdf3a1b87@mail.gmail.com>
   <45EBA7A3.8090005@comcast.net>
   <6e3ae6310703042134i55867e97p5787b7e189bd1bde@mail.gmail.com>
Subject: Re: Clearing locks
In-Reply-To: <6e3ae6310703042134i55867e97p5787b7e189bd1bde@mail.gmail.com>
Date: Mon, 05 Mar 2007 05:57:09 -0500
X-Virus-Checked: Checked by ClamAV on apache.org


"Chris Lu" <chris.lu@gmail.com> wrote:
> They are not really unique. Here are my code to unlock the directory.
> Notice there are two locks.
> 
>     public static void unlockDirectory(Directory dir) {
>         Lock dirLock = dir.makeLock(IndexWriter.WRITE_LOCK_NAME);
>         if (dirLock.isLocked()) {
>             logger.debug("unlocking " + dirLock);
>             dirLock.release();
>             logger.info("unlocked directory " + dir);
>         }
>         dirLock = dir.makeLock(IndexWriter.COMMIT_LOCK_NAME);
>         if (dirLock.isLocked()) {
>             logger.debug("unlocking " + dirLock);
>             dirLock.release();
>             logger.info("unlocked directory " + dir);
>         }
>     }

Note that as of 2.1, there is only the write.lock (no more commit
lock), and this means readers are read-only (they don't write to the
write lock).  And the write lock filename is stored in the index
directory and doesn't have the big prefix in front of it (by default).

Also as of 2.1, the locking implementation is decoupled from the
Directory implementation, so you can switch to example "in-process"
locking if you know all writers are in the same JVM, or, native file
locking (better than the default "simple" locks because lock files
will be release by the OS if the JVM crashes).  Look at the
*LockFactory javadocs for details.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 12:35:14 2007
Return-Path: <java-user-return-26620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93966 invoked from network); 5 Mar 2007 12:35:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 12:35:14 -0000
Received: (qmail 34416 invoked by uid 500); 5 Mar 2007 12:35:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33343 invoked by uid 500); 5 Mar 2007 12:35:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33329 invoked by uid 99); 5 Mar 2007 12:35:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:35:16 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.233 as permitted sender)
Received: from [64.233.184.233] (HELO wr-out-0506.google.com) (64.233.184.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:35:05 -0800
Received: by wr-out-0506.google.com with SMTP id 36so1662119wra
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 04:34:44 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fTkRKZM9makOD1zwDAMeD8BEAxcMyonG81DUpPv6GEBWl95npnTuMn7op+SyCn1YfBxOmdt3WFKF6d5sPI+gev6mKKEu3LQb1fLsTu1+VU4174DZ6w3h+7eOXTfuXqQLcqcJ55wqD1z7yO7iFA6NNrJYHeV2pYQ5bT3ZOE8+6ys=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=aKKuqP6lm4ehEHClGC3Ot5BX2wJWB8tMxCdmIa5U+14ZvVjOznAvt9fna9pAebXKgP5zBzykwCn7A08XE5FF1Os77XLQcbIpkzD/31XdJtyV8RMuKD+uSIH7Sx340L2OwiARJU8UphFyXJ21ao01u4yQx5YGGztIxG6/NE0hc7Q=
Received: by 10.114.211.1 with SMTP id j1mr1225184wag.1173098084058;
        Mon, 05 Mar 2007 04:34:44 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Mon, 5 Mar 2007 04:34:38 -0800 (PST)
Message-ID: <359a92830703050434j4c0a9a41xfd98f86bc59cef0b@mail.gmail.com>
Date: Mon, 5 Mar 2007 07:34:38 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
In-Reply-To: <45EB9409.3050708@comcast.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_151983_1981944.1173098078754"
References: <45EB3954.5040906@comcast.net> <45EB4994.7070103@nuix.com>
	 <45EB9409.3050708@comcast.net>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_151983_1981944.1173098078754
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

There was quite a long discussion thread on this topic relatively
recently, try searching the archive for concurrence, perhaps
IndexReader, etc.

The short take-away is that you should share a single instance
of the reader, since opening one is an expensive operation, and
the first searches you perform will incur some overhead while
underlying caches are built. You have to build in some mechanisms
for gracefully shutting it down when you need to re-open them if they
are being shared....

Erick


On 3/4/07, MC Moisei <mcmoisei@comcast.net> wrote:
>
> Daniel,
>
> Thanks for replying. THe only reason I don't close my indexSearcher is
> that I got the "Too Many File Open Exception" and I decided to make my
> searcher static in the SearchService.
>
> If I do go and close then open a new one I may expose myself to some
> concurent access issues while people can update their files other can do
> the searches for those files ( My searcheables are files entities)
>
> Since the IndexSearcher has an underlying IndexReader I should use that
> one to handle the reads in the Interceptor but that won't do me too much
> good since I need certain methods that are no in IndexReader ( and  BTW
> i thought I've mentioned that I use the IndexModifier that is a mixture
> of the IndexReader and IndexWriter ).
>
> Any ideas ?
>
> MC
>
>
>
> Daniel Noll wrote:
> > MC Moisei wrote:
> >> Hi to all members of the user group!
> >>
> >> Let me get to my problem. I use Lucene in two different parts of the
> >> application. One is the SearchService and one is an AOP interceptor
> that
> >> intercepts any changes in the Searcheable entities. This last part is
> >> removing the document from the index and add the document again.
> >>
> >> That being said, here's my test case.
> >>
> >> My searcheable item has in content "apple banana" if I search for apple
> >> or banana I get it back amoung the results.
> >> If I modify it and remove banana from content when I search for apple
> or
> >> banana I get same results as above (!?)
> >> If I restart my application so the IndexSearcher is recreated, I run
> the
> >> test above I only get my document if I search for apple - that leads me
> >> to conclude that the IndexSearcher caches the results.
> >
> > It doesn't "cache" the results, but what happens is the underlying
> > IndexReader effectively sees no changes for its lifetime (this is
> > presumably for safety; since usually you don't want the index changing
> > underneath while trying to do queries.)
> >
> >> Is there a way to clear IndexSeacher when I do the reindexing ( I use
> >> IndexModifer for the AOP interceptor) ?
> >
> > Yep.  Close the IndexSearcher and the IndexReader, and reopen them.
> >
> > If you need to do queries quite often then it probably makes sense to
> > do this only every now and then.
> >
> > Daniel
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_151983_1981944.1173098078754--

From java-user-return-26621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 12:43:04 2007
Return-Path: <java-user-return-26621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95623 invoked from network); 5 Mar 2007 12:43:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 12:43:03 -0000
Received: (qmail 41636 invoked by uid 500); 5 Mar 2007 12:43:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41391 invoked by uid 500); 5 Mar 2007 12:43:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41380 invoked by uid 99); 5 Mar 2007 12:43:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:43:05 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:42:55 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1213991ugc
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 04:42:33 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=MJ83V76Gpz+JdOGkGZwDeER1vBGUy3CvUEi4t87y+xVN46vWq6t+7SVHEJ5a45FodOJZ3zDx+WPldz3AsFXVUpUjBwgNDJurOkqcr22hCielutgRY625/EPdEcFe2bTZZHB63c7MV0+nG4xhKx1jDSskLpoHyokph7wSD/3x4gE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kvae5CrPBSTbern06rnIlOWmwmn2BDKm26Y9cDAOSeo0kVG3yiXpU0R1/yjpNBTCq8NVk6c9VxSc3tO8xkH9xBc1eHVE+qaBJkYskp1Aplqd2daaYizRBftOweC8ybiSaEEuQajr+pq86h5JQOXxZAxzfEFmggY/BSaybiw3FF8=
Received: by 10.114.210.2 with SMTP id i2mr1220672wag.1173098552449;
        Mon, 05 Mar 2007 04:42:32 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Mon, 5 Mar 2007 04:42:32 -0800 (PST)
Message-ID: <359a92830703050442v4c312c9bid02650469a373dd7@mail.gmail.com>
Date: Mon, 5 Mar 2007 07:42:32 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: searching a date range
In-Reply-To: <34b8543c0703042251td219781r505885cae7e6debe@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_152104_19303677.1173098552295"
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com>
	 <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com>
	 <45EB48F5.7080601@nuix.com>
	 <Pine.LNX.4.58.0703041542140.12184@hal.rescomp.berkeley.edu>
	 <34b8543c0703042251td219781r505885cae7e6debe@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_152104_19303677.1173098552295
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think you should search the archive for DateTools. There have been
very extensive discussions of this topic that will give you answers
far more quickly.

Dates are strings in Lucene. There's no magic here. You don't need
to override anything to get them to work, all you need to do is make
sure that you index and query for them as searchable strings. For
example, 20070122. If you have different formats for dates, decide
on an underlying format that allows them to be sorted lexically (that
is, by String comparison).

Inspect your index with Luke to see if they're being stored as you
expect. Use QueryParser.toString to see how the query string
is broken up. Don't override anything until you do this or you'll waste
much effort <G>.

Best
Erick


On 3/5/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> Hi
> you know, actually we dont indexed this field as Date. we always use
> string
> instead of Date type because we use both Hijri date and Gregorian date so
> if
> we put a Hijri date the DateField not work properly. that is why we index
> such this field as String.
>
> as I read the javadoc for QueryParser, it is said to inherits a class from
> QueryParser and override its setQueryRange() method. I think in my case I
> should do it. what do you think?
>
> On 3/5/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> >
> >
> > : > I even removed "/" from my query but still not working good.
> > : > Do I have to index dates issues without "/"?
> > : > now in the index I have 1978/05/05 should I change it to 19780505?
> > :
> > : Unless I'm mistaken (and it's been ages since I looked at the date
> stuff
> > : myself) this sort of thing only works if you use DateField to format
> the
> > : field values.
> >
> > correct ... please consult the class level javadocs for the QUeryParser
> > which talk somewhat extensively about dates in range queries nad using
> > DateField vs DateTools.
> >
> > in general, if searhing on "admitDate:1978/05/05" is working ofr you,
> then
> > a range search with the same format probably won't work for you ...
> > becuase when query parser sees a the range syntax on something that it
> can
> > parse as a date, it's going to expect the indexed format to be in a very
> > specific format .. you have a lot of control over what format it
> expects,
> > but "1978/05/05" isn't one of them.
> >
> > looking at the query.toString() from the QueryParser result will help
> you
> > understand what it's trying to search on.
> >
> >
> > -Hoss
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> --
> Regards,
> Mohammad
>

------=_Part_152104_19303677.1173098552295--

From java-user-return-26622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 12:48:40 2007
Return-Path: <java-user-return-26622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97033 invoked from network); 5 Mar 2007 12:48:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 12:48:40 -0000
Received: (qmail 50340 invoked by uid 500); 5 Mar 2007 12:48:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50310 invoked by uid 500); 5 Mar 2007 12:48:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50299 invoked by uid 99); 5 Mar 2007 12:48:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:48:42 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.231 as permitted sender)
Received: from [64.233.184.231] (HELO wr-out-0506.google.com) (64.233.184.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:48:32 -0800
Received: by wr-out-0506.google.com with SMTP id 36so1667601wra
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 04:48:11 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZbXIcx6v8vrGY8HoIPTukrS8WdtLBoviHs0FFp8xW5ixx9/Mvi1HwyIOAhmMTU6RvtYcTJ2XxpKtzVdNLa8C6Yw5CGqGC4mRyHsw2v7TJN3ezUuNw8YgBzGvdoLZ0n8xvV0hi0tNqmLe85vUkMv+R/Ykae3xJxH/klPSUNprzLg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UX7ogThnyu7p+WCj0r7OS1ZxS7JSJIs7ji7KYEwsSL5CtrIRIOAchQcLmXLHOlHmIzFAmca701Y3RbVkCOGCUnIB//WdCdqwNzk0t7oy2fGLBwiurIVFOYdIXeAT3PubU/dMP/SIY9NlUH8MZXhSsrxLPSO6lxMbvhc46+8ZkuU=
Received: by 10.114.94.1 with SMTP id r1mr1198138wab.1173098890725;
        Mon, 05 Mar 2007 04:48:10 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Mon, 5 Mar 2007 04:48:10 -0800 (PST)
Message-ID: <359a92830703050448v73349b61pfeca425d72924989@mail.gmail.com>
Date: Mon, 5 Mar 2007 07:48:10 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How can I use SortComparator in my case?
In-Reply-To: <200703050931.l259Vr5Z013657@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_152180_1665181.1173098890690"
References: <A79A2D741A822A46B9F0BFF4F4585DDB3EC478@emss10m02.us.lmco.com>
	 <200703050931.l259Vr5Z013657@pigeon.ciao.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_152180_1665181.1173098890690
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

There's a discussion recently where someone pointed me to
FieldSortedHitQueue, you might trysearchinng for that. Also, try
"buckets" which was the header of that discussion.

You can also think about clever indexing schemes with fields that
allow you to sort however you really need to, although I confess
nothing jumps out at me given your example.

Best
Erick


On 3/5/07, Ramana Jelda <ramana.jelda@ciao-group.com> wrote:
>
> This will then be a big hastle. The results are in 100s and sometimes in
> 1000s.
> Hum.. No other better way?
>
> Jelda
>
> > -----Original Message-----
> > From: Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
> > Sent: Friday, March 02, 2007 8:02 PM
> > To: java-user@lucene.apache.org
> > Subject: RE: How can I use SortComparator in my case?
> >
> > You'll need to do it manually and not with Lucene.
> >
> > Just grab all the results from Lucene and process them yourself.
> >
> > Aviran
> > http://aviransplace.com
> >
> > -----Original Message-----
> > From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]
> > Sent: Friday, March 02, 2007 5:45 AM
> > To: java-user@lucene.apache.org
> > Subject: How can I use SortComparator in my case?
> >
> > Hi,
> > I have a requirement to sort search results in a round robin.
> > Ex:sorting results by field "customer"
> > suppose following customers are found (number of results in
> > brackets) and results are sorted by customer.
> >
> > Amazon(10)
> > Dell(2)
> > EBay(4)
> > Yahoo(20)
> >
> > but I want to sort them in the following way,
> > Amazon(1)
> > Dell(1)
> > EBay(1)
> > Yahoo(1)
> >
> > Amazon(1)
> > Dell(1)
> > EBay(1)
> > Yahoo(1)
> >
> > Amazon(1)
> > EBay(1)
> > Yahoo(1)
> >
> > Amazon(1)
> > EBay(1)
> > Yahoo(1)
> >
> > etc.. etc..
> >
> >
> > You think I can use somehow SortComparator here?
> > any suggestions?
> >
> > Thx,
> > Jelda
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_152180_1665181.1173098890690--

From java-user-return-26623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 12:53:31 2007
Return-Path: <java-user-return-26623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97772 invoked from network); 5 Mar 2007 12:53:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 12:53:30 -0000
Received: (qmail 54487 invoked by uid 500); 5 Mar 2007 12:53:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54029 invoked by uid 500); 5 Mar 2007 12:53:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54017 invoked by uid 99); 5 Mar 2007 12:53:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:53:30 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 04:53:21 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1216670ugc
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 04:52:59 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Boi46V9CTN2Qs2lDxU3ZkRh0kUau1Se62IteS7aXXxl1lju2hv6YwZCurcb9woNYK+GT2ojRFn5g10ILbyb62HWehPw8+ptI1NWYtQCrW57oXyU+Nl3Xf8UFt1zPLI7LRKLNArU6hFrO9G0LGDOSr315tYmCee60jtgcT8pj/2Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rf82T38MsFOWolCunJECpeMJ/wOv0eV/uSYuZzy8XXoSEF9wtUIHHQmrbqobMF+8PjC+oL4zQ/yKvxGNtaxmUihh4cJQvQvprt9rGu/pjC7hXm4ajeBI2ecbfAbMFRotJ0VJtk2sPUQ2Kj4MEjXDMyTPq91nfmOMGADz56mbDF0=
Received: by 10.115.14.1 with SMTP id r1mr1209945wai.1173099178511;
        Mon, 05 Mar 2007 04:52:58 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Mon, 5 Mar 2007 04:52:58 -0800 (PST)
Message-ID: <359a92830703050452y333e3a76jfc1eb45dad23d9f8@mail.gmail.com>
Date: Mon, 5 Mar 2007 07:52:58 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SELECT * FROM Index-file
In-Reply-To: <1173089251.5397.17.camel@morten-laptop>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_152376_1128142.1173099178473"
References: <1173089251.5397.17.camel@morten-laptop>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_152376_1128142.1173099178473
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Why not just call IndexReader.document(idx) where idx ranges
from 0 to IndexReader.maxDoc()? I believe if your index has some
deleted documents you'll have to handle null returns though....

Sorry to lose you to the dark side <G>...

Best
Erick


On 3/5/07, Morten Simonsen <morten.simonsen@owera.com> wrote:
>
> Hi
>
> I'm about to convert from Lucene index-files into a MySQL (sorry about
> that:) I thought I would run a "SELECT *" on the index-file, then read
> through all the "rows" (hits?) and process each of them into my new
> database.
>
> So I wrote this code:
>
> ----
> WildcardQuery query = new WildcardQuery(new Term("UnitID", "*"));
> Hits hits = ism.searchUnits(query);
> ----
>
> Then I receive "Something failed: org.apache.lucene.search.BooleanQuery
> $TooManyClauses"
>
> I tried to set
> BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
> but then I ran out of memory, so this is clearly not a good solution.
>
> I have tried using several different fields as well, also fields which
> has only a limited set of values (the field are then not unique in the
> index-file).
>
> Any suggestions?
>
> Morten Simonsen
>
> (And yes, I'm a newbie. Didn't find anything useful during my searches
> on the Internet, mailing-lists or in the book, maybe because this is a
> pretty infrequent thing to do?)
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_152376_1128142.1173099178473--

From java-user-return-26624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 13:10:15 2007
Return-Path: <java-user-return-26624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3132 invoked from network); 5 Mar 2007 13:10:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 13:10:10 -0000
Received: (qmail 89880 invoked by uid 500); 5 Mar 2007 13:10:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89841 invoked by uid 500); 5 Mar 2007 13:10:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89829 invoked by uid 99); 5 Mar 2007 13:10:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:10:10 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [130.238.164.5] (HELO elvira.its.uu.se) (130.238.164.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:09:57 -0800
Received: by elvira.its.uu.se (Postfix, from userid 204)
	id DC2526AA; Mon,  5 Mar 2007 14:09:33 +0100 (MEZ)
Received: from elvira.its.uu.se(127.0.0.1) by elvira.its.uu.se via virus-scan 
	id s276511; Mon, 5 Mar 07 14:09:28 +0100
Received: from [130.238.171.116] (pc171-116.ub.uu.se [130.238.171.116])
	by elvira.its.uu.se (Postfix) with ESMTP id D132E6AA
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 14:09:27 +0100 (MEZ)
Message-ID: <45EC1687.7040104@ub.uu.se>
Date: Mon, 05 Mar 2007 14:09:27 +0100
From: Ronnie Kolehmainen <ronnie.kolehmainen@ub.uu.se>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20060330)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: SELECT * FROM Index-file
References: <1173089251.5397.17.camel@morten-laptop> <359a92830703050452y333e3a76jfc1eb45dad23d9f8@mail.gmail.com>
In-Reply-To: <359a92830703050452y333e3a76jfc1eb45dad23d9f8@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Or MatchAllDocsQuery.

/Ronnie

Erick Erickson wrote:
> Why not just call IndexReader.document(idx) where idx ranges
> from 0 to IndexReader.maxDoc()? I believe if your index has some
> deleted documents you'll have to handle null returns though....
> 
> Sorry to lose you to the dark side <G>...
> 
> Best
> Erick
> 
> 
> On 3/5/07, Morten Simonsen <morten.simonsen@owera.com> wrote:
> 
>>
>> Hi
>>
>> I'm about to convert from Lucene index-files into a MySQL (sorry about
>> that:) I thought I would run a "SELECT *" on the index-file, then read
>> through all the "rows" (hits?) and process each of them into my new
>> database.
>>
>> So I wrote this code:
>>
>> ----
>> WildcardQuery query = new WildcardQuery(new Term("UnitID", "*"));
>> Hits hits = ism.searchUnits(query);
>> ----
>>
>> Then I receive "Something failed: org.apache.lucene.search.BooleanQuery
>> $TooManyClauses"
>>
>> I tried to set
>> BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
>> but then I ran out of memory, so this is clearly not a good solution.
>>
>> I have tried using several different fields as well, also fields which
>> has only a limited set of values (the field are then not unique in the
>> index-file).
>>
>> Any suggestions?
>>
>> Morten Simonsen
>>
>> (And yes, I'm a newbie. Didn't find anything useful during my searches
>> on the Internet, mailing-lists or in the book, maybe because this is a
>> pretty infrequent thing to do?)
>>
>>
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 13:11:48 2007
Return-Path: <java-user-return-26625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4323 invoked from network); 5 Mar 2007 13:11:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 13:11:48 -0000
Received: (qmail 95719 invoked by uid 500); 5 Mar 2007 13:11:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95692 invoked by uid 500); 5 Mar 2007 13:11:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95681 invoked by uid 99); 5 Mar 2007 13:11:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:11:50 -0800
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [193.71.38.25] (HELO smtp.intility.com) (193.71.38.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:11:38 -0800
Received: from mail2.i04.info ([10.1.6.21]) by VSMTP with InterScan Message Security Suite; Mon, 05 Mar 2007 14:07:38 +0100
Received: from 80.203.147.10 ([80.203.147.10]) by i2-e2k3-001.i04.local ([10.1.6.21]) via Exchange Front-End Server www.i04.info ([10.1.6.23]) with Microsoft Exchange Server HTTP-DAV ;
 Mon,  5 Mar 2007 13:10:13 +0000
Received: from morten-laptop by www.i04.info; 05 Mar 2007 14:10:10 +0100
Subject: Re: SELECT * FROM Index-file
From: Morten Simonsen <morten.simonsen@owera.com>
To: java-user@lucene.apache.org
In-Reply-To: <359a92830703050452y333e3a76jfc1eb45dad23d9f8@mail.gmail.com>
References: <1173089251.5397.17.camel@morten-laptop>
	 <359a92830703050452y333e3a76jfc1eb45dad23d9f8@mail.gmail.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Owera
Date: Mon, 05 Mar 2007 14:10:10 +0100
Message-Id: <1173100210.5397.29.camel@morten-laptop>
Mime-Version: 1.0
X-Mailer: Evolution 2.8.1 
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, 2007-03-05 at 07:52 -0500, Erick Erickson wrote:
> Why not just call IndexReader.document(idx) where idx ranges
> from 0 to IndexReader.maxDoc()? I believe if your index has some
> deleted documents you'll have to handle null returns though....

That was exactly what I was looking for. Thanks.

> Sorry to lose you to the dark side <G>...

:) You know, Darth Vader actually saved all of them in the end, so hope
is not lost entirely;)

Morten Simonsen

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 13:24:33 2007
Return-Path: <java-user-return-26626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8805 invoked from network); 5 Mar 2007 13:24:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 13:24:33 -0000
Received: (qmail 11566 invoked by uid 500); 5 Mar 2007 13:24:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11539 invoked by uid 500); 5 Mar 2007 13:24:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11527 invoked by uid 99); 5 Mar 2007 13:24:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:24:34 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:24:23 -0800
Received: by nf-out-0910.google.com with SMTP id g2so439212nfe
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 05:24:02 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=k6akB1XYzspmgscQeXCkA/Iwd7xh3uo46gg6rqB/onZqA2qwjsXK8RHPbFnkk9wf5T6olYMCSNrisYWsVmmvRTnAUz5RHGXyyFtEmG7Bv6gFRjkFsGPdp3XnsobTF7wEnrE+E0Du3C+96EbjOzJThDl81vMwH821l7tT2G5ed2g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kDOOHmjeDhHbnrkqilPZS7InpIb6n8zyN1yhG/yIDoWdvZTYWKns0BbZ3Eq3/y80hoxWv9q+UcTW9HF7KjwrBx+O0fWcQ2BH7W6XTL0n1VrkaCp/XgztvzHAuTKdIjavYa7RDeU9NX7kduoPv5K2VF7MgAZPt1KiQB7Yqvr+4OA=
Received: by 10.82.116.15 with SMTP id o15mr5015665buc.1173101041983;
        Mon, 05 Mar 2007 05:24:01 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Mon, 5 Mar 2007 05:24:01 -0800 (PST)
Message-ID: <34b8543c0703050524kf1ba2a9ibee8bc4e2e289486@mail.gmail.com>
Date: Mon, 5 Mar 2007 16:54:01 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
In-Reply-To: <359a92830703050434j4c0a9a41xfd98f86bc59cef0b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_64335_27457128.1173101041860"
References: <45EB3954.5040906@comcast.net> <45EB4994.7070103@nuix.com>
	 <45EB9409.3050708@comcast.net>
	 <359a92830703050434j4c0a9a41xfd98f86bc59cef0b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_64335_27457128.1173101041860
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Erick
I am completely confused about this IndexReader.
in my case, I have to keep the reader opened because of pagination of the
result so I have to had a reader per session. the thing that baffled me is
can only one reader service all the session at the same time?

I mean
1- having one reader for all sessions and having a Hits for each session.
2- one reader per session.
which one is right?

On 3/5/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> There was quite a long discussion thread on this topic relatively
> recently, try searching the archive for concurrence, perhaps
> IndexReader, etc.
>
> The short take-away is that you should share a single instance
> of the reader, since opening one is an expensive operation, and
> the first searches you perform will incur some overhead while
> underlying caches are built. You have to build in some mechanisms
> for gracefully shutting it down when you need to re-open them if they
> are being shared....
>
> Erick
>
>
> On 3/4/07, MC Moisei <mcmoisei@comcast.net> wrote:
> >
> > Daniel,
> >
> > Thanks for replying. THe only reason I don't close my indexSearcher is
> > that I got the "Too Many File Open Exception" and I decided to make my
> > searcher static in the SearchService.
> >
> > If I do go and close then open a new one I may expose myself to some
> > concurent access issues while people can update their files other can do
> > the searches for those files ( My searcheables are files entities)
> >
> > Since the IndexSearcher has an underlying IndexReader I should use that
> > one to handle the reads in the Interceptor but that won't do me too much
> > good since I need certain methods that are no in IndexReader ( and  BTW
> > i thought I've mentioned that I use the IndexModifier that is a mixture
> > of the IndexReader and IndexWriter ).
> >
> > Any ideas ?
> >
> > MC
> >
> >
> >
> > Daniel Noll wrote:
> > > MC Moisei wrote:
> > >> Hi to all members of the user group!
> > >>
> > >> Let me get to my problem. I use Lucene in two different parts of the
> > >> application. One is the SearchService and one is an AOP interceptor
> > that
> > >> intercepts any changes in the Searcheable entities. This last part is
> > >> removing the document from the index and add the document again.
> > >>
> > >> That being said, here's my test case.
> > >>
> > >> My searcheable item has in content "apple banana" if I search for
> apple
> > >> or banana I get it back amoung the results.
> > >> If I modify it and remove banana from content when I search for apple
> > or
> > >> banana I get same results as above (!?)
> > >> If I restart my application so the IndexSearcher is recreated, I run
> > the
> > >> test above I only get my document if I search for apple - that leads
> me
> > >> to conclude that the IndexSearcher caches the results.
> > >
> > > It doesn't "cache" the results, but what happens is the underlying
> > > IndexReader effectively sees no changes for its lifetime (this is
> > > presumably for safety; since usually you don't want the index changing
> > > underneath while trying to do queries.)
> > >
> > >> Is there a way to clear IndexSeacher when I do the reindexing ( I use
> > >> IndexModifer for the AOP interceptor) ?
> > >
> > > Yep.  Close the IndexSearcher and the IndexReader, and reopen them.
> > >
> > > If you need to do queries quite often then it probably makes sense to
> > > do this only every now and then.
> > >
> > > Daniel
> > >
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>



-- 
Regards,
Mohammad

------=_Part_64335_27457128.1173101041860--

From java-user-return-26627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 13:35:43 2007
Return-Path: <java-user-return-26627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11056 invoked from network); 5 Mar 2007 13:35:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 13:35:42 -0000
Received: (qmail 27964 invoked by uid 500); 5 Mar 2007 13:35:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27748 invoked by uid 500); 5 Mar 2007 13:35:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27737 invoked by uid 99); 5 Mar 2007 13:35:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:35:43 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:35:32 -0800
Received: by nf-out-0910.google.com with SMTP id g2so442123nfe
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 05:35:10 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=uDqsBwlsAOjAVP8YH+tUaGKk+kKk63l76Nv6EDn7d7hAHu2+jZC+G2LG8ZOjpj24hv2QZ5kAHg5ZGELn9fVK033/r3psdYPj255tV9bQTNQGd7FgPKZPLy14MnLdweRuVl3io/N0yfKffn0mW9ZQoZ+PLvyuGCyLhOg7Aux7+/s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=cgmhLbrRqB/v5w3ZtYvdPawr5Oo9x8DSs+trsxeNM5PFan015xRjhHAk26mOMHCIEhF3rTbwV0ehIVBj7PR1G9YHh91Vu4qcKSoju2t6yh2LSO3V5P7I9tmEHNP7G3DPxbfxY8qpdV6lXzdJrk6IaMpnZhPjkzgPPAoiN9pc9/0=
Received: by 10.82.107.15 with SMTP id f15mr5039001buc.1173101710584;
        Mon, 05 Mar 2007 05:35:10 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Mon, 5 Mar 2007 05:35:10 -0800 (PST)
Message-ID: <34b8543c0703050535n423129eam8a357a71510b774d@mail.gmail.com>
Date: Mon, 5 Mar 2007 17:05:10 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: searching a date range
In-Reply-To: <359a92830703050442v4c312c9bid02650469a373dd7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_64579_13571175.1173101710424"
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com>
	 <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com>
	 <45EB48F5.7080601@nuix.com>
	 <Pine.LNX.4.58.0703041542140.12184@hal.rescomp.berkeley.edu>
	 <34b8543c0703042251td219781r505885cae7e6debe@mail.gmail.com>
	 <359a92830703050442v4c312c9bid02650469a373dd7@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_64579_13571175.1173101710424
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Erick,
I take a look at your source codes and I saw in the getRangeQuery() method
you put a DateFormat as this:
DateFormat df = DateFormat.getDateInstance(DateFormat.SHORT, locale);
...
Date d1 = df.parse(part1);

the last line of code doesnt work with our localed format. for example I put
the '1328/01/01'
and the df.parse(part1) will returns a wrong value that is in Gregorian
format and not Hijri.
I override that method and just remove the try/catch block in which you put
codes with Date stuffs and now it works fine

my overridden method only return new RangeQuery(...);

now Did I make mistake by that?


On 3/5/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> I think you should search the archive for DateTools. There have been
> very extensive discussions of this topic that will give you answers
> far more quickly.
>
> Dates are strings in Lucene. There's no magic here. You don't need
> to override anything to get them to work, all you need to do is make
> sure that you index and query for them as searchable strings. For
> example, 20070122. If you have different formats for dates, decide
> on an underlying format that allows them to be sorted lexically (that
> is, by String comparison).
>
> Inspect your index with Luke to see if they're being stored as you
> expect. Use QueryParser.toString to see how the query string
> is broken up. Don't override anything until you do this or you'll waste
> much effort <G>.
>
> Best
> Erick
>
>
> On 3/5/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> >
> > Hi
> > you know, actually we dont indexed this field as Date. we always use
> > string
> > instead of Date type because we use both Hijri date and Gregorian date
> so
> > if
> > we put a Hijri date the DateField not work properly. that is why we
> index
> > such this field as String.
> >
> > as I read the javadoc for QueryParser, it is said to inherits a class
> from
> > QueryParser and override its setQueryRange() method. I think in my case
> I
> > should do it. what do you think?
> >
> > On 3/5/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> > >
> > >
> > > : > I even removed "/" from my query but still not working good.
> > > : > Do I have to index dates issues without "/"?
> > > : > now in the index I have 1978/05/05 should I change it to 19780505?
> > > :
> > > : Unless I'm mistaken (and it's been ages since I looked at the date
> > stuff
> > > : myself) this sort of thing only works if you use DateField to format
> > the
> > > : field values.
> > >
> > > correct ... please consult the class level javadocs for the
> QUeryParser
> > > which talk somewhat extensively about dates in range queries nad using
> > > DateField vs DateTools.
> > >
> > > in general, if searhing on "admitDate:1978/05/05" is working ofr you,
> > then
> > > a range search with the same format probably won't work for you ...
> > > becuase when query parser sees a the range syntax on something that it
> > can
> > > parse as a date, it's going to expect the indexed format to be in a
> very
> > > specific format .. you have a lot of control over what format it
> > expects,
> > > but "1978/05/05" isn't one of them.
> > >
> > > looking at the query.toString() from the QueryParser result will help
> > you
> > > understand what it's trying to search on.
> > >
> > >
> > > -Hoss
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >
> > --
> > Regards,
> > Mohammad
> >
>



-- 
Regards,
Mohammad

------=_Part_64579_13571175.1173101710424--

From java-user-return-26628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 13:53:53 2007
Return-Path: <java-user-return-26628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15563 invoked from network); 5 Mar 2007 13:53:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 13:53:52 -0000
Received: (qmail 55151 invoked by uid 500); 5 Mar 2007 13:53:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55118 invoked by uid 500); 5 Mar 2007 13:53:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55107 invoked by uid 99); 5 Mar 2007 13:53:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:53:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.81] (HELO spunkymail-a18.g.dreamhost.com) (208.97.132.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 05:53:41 -0800
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a18.g.dreamhost.com (Postfix) with ESMTP id A58D45B53A
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 05:53:22 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: quoted-printable
Message-Id: <AE138630-5AB8-44CF-B60B-F24CE8DE9D7E@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Grant Ingersoll <gsingers@apache.org>
Subject: ApacheCon Promo
Date: Mon, 5 Mar 2007 08:53:18 -0500
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Little shameless self promotion here:

If your not aware, there will be several Lucene related talks at =20
ApacheCon Europe (in Amsterdam) the first week in May.  ApacheCon =20
info is available at http://www.eu.apachecon.com

Here is the current schedule for the talks:
     *  May 1: Lucene Boot Camp by Grant Ingersoll  - This is a full-=20
day tutorial.  Outline of topics is available at http://=20
lucene.grantingersoll.com/apachecon-europe-2007-talk-and-tutorial-=20
information/

     * May 2:
           o Full-Text Search with Lucene at 10:30 am by Yonik Seeley
           o Advanced Lucene at 11:30 am by Grant Ingersoll
     * May 3:
           o Beyond full-text searches with Solr and Lucene at 2 pm =20
by Bertrand Delacr=E9taz
           o Introduction to Hadoop at 3 pm by Owen O'Malley

-Grant


--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/=20
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 14:59:47 2007
Return-Path: <java-user-return-26629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42882 invoked from network); 5 Mar 2007 14:59:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 14:59:46 -0000
Received: (qmail 76412 invoked by uid 500); 5 Mar 2007 14:59:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76369 invoked by uid 500); 5 Mar 2007 14:59:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76345 invoked by uid 99); 5 Mar 2007 14:59:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 06:59:44 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of walt.stoneburner@gmail.com designates 64.233.162.234 as permitted sender)
Received: from [64.233.162.234] (HELO nz-out-0506.google.com) (64.233.162.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 06:59:33 -0800
Received: by nz-out-0506.google.com with SMTP id i1so1658741nzh
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 06:59:12 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=NtNqbXxQaWVSTU3IDCQpn9BGIFREDsA0t4FGF9YMbBU73N4feBjdfSaYgm2kIVwl0mBNQ4mxvIxxT8wnOgPDcqPb/trmziQO4Vyvny5C9m/69A0D7LNok0Y3QkY5oLtapD7oFdWhvrodtusxIlgpRKX3gRWbQZvKaE389SSzSNk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=YuwKyllztmHDf+X6zTZS20u5lSs8H0dvIWgFmn6W+U/PkHRCYsfqKF+2vz7rvql/kCPSieSdHNXW4+qmSPyhD899AbvButy3Xe07pADIZ1QgwIXhinRYU8UK21cizUp2qvmqoH2HCSQBm3HaaIwRVVsq/fZjOz5ghDjFJrNPzew=
Received: by 10.114.53.1 with SMTP id b1mr1258404waa.1173106752314;
        Mon, 05 Mar 2007 06:59:12 -0800 (PST)
Received: by 10.114.126.10 with HTTP; Mon, 5 Mar 2007 06:59:12 -0800 (PST)
Message-ID: <ae6f38f60703050659x39c1deedr47f1ab96ae064022@mail.gmail.com>
Date: Mon, 5 Mar 2007 09:59:12 -0500
From: "Walt Stoneburner" <walt.stoneburner@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Soliciting Design Thoughts on Date Searching
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_123395_4884944.1173106752047"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_123395_4884944.1173106752047
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Erick / Steve,

  Thank you both (as well as everyone else who weighed in) on helping get to
a far more optimal solution well before any code was ever slung.

  Since we all know that someone else is going to find this in the archives
some day, I'd like to unveil the rest of my ignorance and misconceptions, on
the off chance that others following in these footsteps may be under the
same delusions about how Lucene operates under the hood.  Please forgive any
moronic questions, no matter how gross in error.

  First, the very existence of the DateField in past versions of Lucene
subtly gave me the impression that Lucene was actually data-type aware.  So
its sudden deprecation was a shocking loss.  What I quickly gathered was
that DateField was nothing more than a helper class, and that it's only
function in the universe was to inject properly formatted text dates into
the token stream.  If I'm mistaken or have a nuance wrong, please correct
me, as big errors compound from little misunderstandings.

  Second, and along the same lines because of the data-type goof, I was
operating under the impression that a document hand a single token stream
and that the meta data (the other fields) that were added to the documents
were name/value pairs (e.g. creation date, version number, author name).
What I'm picking up is that each field is its own token stream, and this is
why I can have a list of dates.  Am I still on track so far?

  Third, I read from the documentation that the .add() method is simply
appending.  At this point, I'm wondering if add is doing tokenizing at each
add(), or when the document is indexed.  This is a matter of slight
importance, especially if one's understanding of the token stream is a
little shaky.

  Document's add() method is described like this:  "Several fields may be
added with the same name. In this case, if the fields are indexed, their
text is treated as though appended for the purposes of search."  The catch
here is in understanding the behavior of "append".  Lucene's documentation
would benefit from an example.

document.add( Field.Text("somefield", "hot" ) );
document.add( Field.Text("somefield", "dog" ) );

  Did I just add "hotdog" to my document, or two tokens, "hot" and "dog"?

  The reason this is important to wrap one's mind around is when adding
multiple dates.  It had been suggested that I add dates with a separator.

document.add( Field.Text("interestingdates", "17760704,20010911,20070305" )
);

  If add() is tokening up front, then three calls would be the logical
equivalent, and I wouldn't need to artificially add separators while doing a
looping construct.

document.add( Field.Text("interestingdates", "17760704" ) );
document.add( Field.Text("interestingdates", "20010911" ) );
document.add( Field.Text("interestingdates", "20070305" ) );

  Are the three adds shown here the same as the one large add above `with
commas to Lucene?


   And finally, the question that pulls all three of these diverse issues
together:  If Lucene is really just looking a stream of tokenified text, and
dates/text are tokens no different from one another, and I can inject
properly formatted dates into the stream without requiring an honest to
goodness data type or artificial list -- what would prevent one from
detecting a date looking "thing" in a stream and injecting a date-looking
token at that place in the document?

  For example, if "December 25th, 2007" was in the text stream, replace that
block of text with "20071225" and let the tokenizer do its thing as normal,
none the wiser.  In theory, wouldn't this let the user be able to search the
regular text body for words and dates at the same time?

  What I'm hoping you'll say is, yes, you could do that, ...but you wouldn't
want to for performance reasons.

Thanks again,
-wls

------=_Part_123395_4884944.1173106752047--

From java-user-return-26630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 17:44:22 2007
Return-Path: <java-user-return-26630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9623 invoked from network); 5 Mar 2007 17:44:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 17:44:21 -0000
Received: (qmail 22777 invoked by uid 500); 5 Mar 2007 17:44:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22735 invoked by uid 500); 5 Mar 2007 17:44:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22724 invoked by uid 99); 5 Mar 2007 17:44:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 09:44:22 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.233 as permitted sender)
Received: from [64.233.184.233] (HELO wr-out-0506.google.com) (64.233.184.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 09:44:10 -0800
Received: by wr-out-0506.google.com with SMTP id 36so1811344wra
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 09:43:49 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qctMBibVHyOBVS0fng5Ifk/hYMA5X0KIq2sRfbYmNj0habnaCQX1oCNgSl0xp93HwoijSeheupEKzpiJGPQhFL/B38ZNPqVHXORMNjEqm/rrmeB6WsMOn5gSEeamUBActvBvwwRnmiw6ruYnbRa8zWrafE3z/QXdYCFhjuN82Qk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DmWFlXYMf2JHKSRzmYwrfcToNuGq8FaNsYTmDcwOvKLfx7vKVbvYsk11Z62YdMCDePcbffAo8Oq9jpOf9AnECG+ZefbG4SnktgQX6FbDWYylOxPVXAyYQyXDokutu6oguA9zH2GMuf0uScLCVE+kmAQG52RmzvCHUoNLkNUwkcU=
Received: by 10.115.60.1 with SMTP id n1mr1384089wak.1173116628284;
        Mon, 05 Mar 2007 09:43:48 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Mon, 5 Mar 2007 09:43:47 -0800 (PST)
Message-ID: <359a92830703050943s3a84cd1fk6026e19c8ca985d8@mail.gmail.com>
Date: Mon, 5 Mar 2007 12:43:47 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
In-Reply-To: <34b8543c0703050524kf1ba2a9ibee8bc4e2e289486@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_160394_11133516.1173116627904"
References: <45EB3954.5040906@comcast.net> <45EB4994.7070103@nuix.com>
	 <45EB9409.3050708@comcast.net>
	 <359a92830703050434j4c0a9a41xfd98f86bc59cef0b@mail.gmail.com>
	 <34b8543c0703050524kf1ba2a9ibee8bc4e2e289486@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_160394_11133516.1173116627904
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<1>. Every time you close/open a reader, you pay a significant penalty
to warm up caches, etc. You may have to do some tricky dancing
to coordinate among the sessions to be able to close/reopen
the reader to allow updates to show up though.

Erick


On 3/5/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> Hi Erick
> I am completely confused about this IndexReader.
> in my case, I have to keep the reader opened because of pagination of the
> result so I have to had a reader per session. the thing that baffled me is
> can only one reader service all the session at the same time?
>
> I mean
> 1- having one reader for all sessions and having a Hits for each session.
> 2- one reader per session.
> which one is right?
>
> On 3/5/07, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > There was quite a long discussion thread on this topic relatively
> > recently, try searching the archive for concurrence, perhaps
> > IndexReader, etc.
> >
> > The short take-away is that you should share a single instance
> > of the reader, since opening one is an expensive operation, and
> > the first searches you perform will incur some overhead while
> > underlying caches are built. You have to build in some mechanisms
> > for gracefully shutting it down when you need to re-open them if they
> > are being shared....
> >
> > Erick
> >
> >
> > On 3/4/07, MC Moisei <mcmoisei@comcast.net> wrote:
> > >
> > > Daniel,
> > >
> > > Thanks for replying. THe only reason I don't close my indexSearcher is
> > > that I got the "Too Many File Open Exception" and I decided to make my
> > > searcher static in the SearchService.
> > >
> > > If I do go and close then open a new one I may expose myself to some
> > > concurent access issues while people can update their files other can
> do
> > > the searches for those files ( My searcheables are files entities)
> > >
> > > Since the IndexSearcher has an underlying IndexReader I should use
> that
> > > one to handle the reads in the Interceptor but that won't do me too
> much
> > > good since I need certain methods that are no in IndexReader (
> and  BTW
> > > i thought I've mentioned that I use the IndexModifier that is a
> mixture
> > > of the IndexReader and IndexWriter ).
> > >
> > > Any ideas ?
> > >
> > > MC
> > >
> > >
> > >
> > > Daniel Noll wrote:
> > > > MC Moisei wrote:
> > > >> Hi to all members of the user group!
> > > >>
> > > >> Let me get to my problem. I use Lucene in two different parts of
> the
> > > >> application. One is the SearchService and one is an AOP interceptor
> > > that
> > > >> intercepts any changes in the Searcheable entities. This last part
> is
> > > >> removing the document from the index and add the document again.
> > > >>
> > > >> That being said, here's my test case.
> > > >>
> > > >> My searcheable item has in content "apple banana" if I search for
> > apple
> > > >> or banana I get it back amoung the results.
> > > >> If I modify it and remove banana from content when I search for
> apple
> > > or
> > > >> banana I get same results as above (!?)
> > > >> If I restart my application so the IndexSearcher is recreated, I
> run
> > > the
> > > >> test above I only get my document if I search for apple - that
> leads
> > me
> > > >> to conclude that the IndexSearcher caches the results.
> > > >
> > > > It doesn't "cache" the results, but what happens is the underlying
> > > > IndexReader effectively sees no changes for its lifetime (this is
> > > > presumably for safety; since usually you don't want the index
> changing
> > > > underneath while trying to do queries.)
> > > >
> > > >> Is there a way to clear IndexSeacher when I do the reindexing ( I
> use
> > > >> IndexModifer for the AOP interceptor) ?
> > > >
> > > > Yep.  Close the IndexSearcher and the IndexReader, and reopen them.
> > > >
> > > > If you need to do queries quite often then it probably makes sense
> to
> > > > do this only every now and then.
> > > >
> > > > Daniel
> > > >
> > > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>
>
>
> --
> Regards,
> Mohammad
>

------=_Part_160394_11133516.1173116627904--

From java-user-return-26631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 18:18:22 2007
Return-Path: <java-user-return-26631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22952 invoked from network); 5 Mar 2007 18:18:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 18:18:20 -0000
Received: (qmail 90536 invoked by uid 500); 5 Mar 2007 18:18:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90321 invoked by uid 500); 5 Mar 2007 18:18:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90307 invoked by uid 99); 5 Mar 2007 18:18:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 10:18:19 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 10:18:07 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1317017ugc
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 10:17:44 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Xqskn7s10voqCmMxp5pNxbTXXkVGTUTYO2Jza0EecWpOaqermxIszNroNYtTNsX3U3fEpe4dsOMEGXX3W/fC/KlIQD4E7T/gnkg+PYfkhKY9XPeeQm95Cxqlod+N7+xcKH9mmPuDsSOxv7fRN9NpAS6o/RJUk0fNWOAaZQoajMA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sZmcccmUKrPqEy5X1Kj3kiJJ8lDIwavF07H2RIJGOk6x1b0sgKsXUa9zITWuiAH8k/5gNdaEGR5ThOslhnZStjf/jhmPRb75L4rCtaRlkO4uAeTltc/08jTLnmREKpmq2KdzXPzSDVqXGhY962l+jHR1ZNN71H45oh6wBW8QlW0=
Received: by 10.115.61.1 with SMTP id o1mr1394728wak.1173118662928;
        Mon, 05 Mar 2007 10:17:42 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Mon, 5 Mar 2007 10:17:42 -0800 (PST)
Message-ID: <359a92830703051017s272510dv50b4c899bed766be@mail.gmail.com>
Date: Mon, 5 Mar 2007 13:17:42 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Soliciting Design Thoughts on Date Searching
In-Reply-To: <ae6f38f60703050659x39c1deedr47f1ab96ae064022@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_161506_22524029.1173118662617"
References: <ae6f38f60703050659x39c1deedr47f1ab96ae064022@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_161506_22524029.1173118662617
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

See below...

On 3/5/07, Walt Stoneburner <walt.stoneburner@gmail.com> wrote:

> Erick / Steve,
>
> Thank you both (as well as everyone else who weighed in) on helping get to
> a far more optimal solution well before any code was ever slung.
>
> Since we all know that someone else is going to find this in the archives
> some day, I'd like to unveil the rest of my ignorance and misconceptions,
> on
> the off chance that others following in these footsteps may be under the
> same delusions about how Lucene operates under the hood.  Please forgive
> any
> moronic questions, no matter how gross in error.
>
> First, the very existence of the DateField in past versions of Lucene
> subtly gave me the impression that Lucene was actually data-type
> aware.  So
> its sudden deprecation was a shocking loss.  What I quickly gathered was
> that DateField was nothing more than a helper class, and that it's only
> function in the universe was to inject properly formatted text dates into
> the token stream.  If I'm mistaken or have a nuance wrong, please correct
> me, as big errors compound from little misunderstandings.


Right on as far as I understand. And DateTools is the preferred class now.




> Second, and along the same lines because of the data-type goof, I was
> operating under the impression that a document hand a single token stream
> and that the meta data (the other fields) that were added to the documents
> were name/value pairs (e.g. creation date, version number, author name).
> What I'm picking up is that each field is its own token stream, and this
> is
> why I can have a list of dates.  Am I still on track so far?


Sure looks good to me. This notion goes pretty deep. For instance, have
you looked at PerFieldAnalyzerWrapper? With that class, you can
specify different analyzers for each field (and establish a default Analyzer
for fields you don't specify). Both at index time and query time. So you
can specify, say, your customized DateAnalyzer for field a, StandardAnalyzer
for field b and by specifying WhitespaceAnalyzer as a default have that
used for fields c, d, e, ..... I mention this as another window into how
many token streams you can think of in a document. One per field works
for me.

And then there are stored but not indexed fields. So your comment about
field/data pairs is almost right, but not in the way you meant. If I add
a field to a document as Field.Store.YES, Field.Index.NO, I can't search
on the field, but I can get the value back from the document. Skipping
COMPRESSED, UN_TOKENIZED, etc and just thinking of the 2x2
matrix of Stored.YES/NO, Indexed.TOKENIZED/NO, you can see
that there are four kinds of data.
Stored.YES Index.TOKENIZED you can search AND retrieve from the doc
NO/TOKENIZED search but the document won't have it
YES/NO you can't search,but you can get it from a document. Say a properly
capitalized title.
NO/NO really doesn't make much sense.



> Third, I read from the documentation that the .add() method is simply
> appending.  At this point, I'm wondering if add is doing tokenizing at
> each
> add(), or when the document is indexed.  This is a matter of slight
> importance, especially if one's understanding of the token stream is a
> little shaky.
>
> Document's add() method is described like this:  "Several fields may be
> added with the same name. In this case, if the fields are indexed, their
> text is treated as though appended for the purposes of search."  The catch
> here is in understanding the behavior of "append".  Lucene's documentation
> would benefit from an example.
>
> document.add( Field.Text("somefield", "hot" ) );
> document.add( Field.Text("somefield", "dog" ) );
>
> Did I just add "hotdog" to my document, or two tokens, "hot" and "dog"?


You just added "hot" at offset 0 and "dog" at offset 1. You won't get a hit
for
"hotdog". There is one subtlte point here though, just to confuse you. Each
time you call call to document.add() you have the chance (but not the
obligation) to affect the offset. See getPositionIncrementGap(). So, in your
example, you have the chance to have "hot" at postion 0 and "dog" at postion
10,000. Why should you care? Because sometimes it's useful <G>. Imagine
indexing the contents of a book and using SpanNear queries to find Erick
and Erickson within 10 terms of each other. I can call document.add for each
page
of text and find Erick as the last term on one page and Erickson on the
first line of the next page. But it doesn't fit my desired behavior to have
Erick as the last term in a chapter, and Erickson as the first term of the
next chapter be a hit. So I can set the IncrementGap to 1,000 for the first
page of each chapter at index time.



> The reason this is important to wrap one's mind around is when adding
> multiple dates.  It had been suggested that I add dates with a separator.
>
> document.add( Field.Text("interestingdates", "17760704,20010911,20070305"
> )
> );
>
> If add() is tokening up front, then three calls would be the logical
> equivalent, and I wouldn't need to artificially add separators while doing
> a
> looping construct.
>
> document.add( Field.Text("interestingdates", "17760704" ) );
> document.add( Field.Text("interestingdates", "20010911" ) );
> document.add( Field.Text("interestingdates", "20070305" ) );
>
> Are the three adds shown here the same as the one large add above `with
> commas to Lucene?


Yes, ASSUMING you use a tokenizer that splits the input stream for
that field on commas. And throws them away.
This last may seem nit-picking, but it's actually
important. WhitspaceAnalyzer would NOT produce equivalent indexing
for instance since (let's assume that there are no spaces in your example)
WhitespaceAnalyzer would produce only one token. Or if there is a space
after each comma, WhitespaceAnalyzer would produce
17760704,
20010911,
20070305
as tokens (note the comma in the first two). Which would actually
work at least part of the time but you'd sort kinda weird <G>...

Really, really, really get a copy of Luke and play around with examining
the effects of different analyzers on your index (google Luke Lucene). It'll
also help you see how queries parse using different analyzers. It's
invaluable.





>   And finally, the question that pulls all three of these diverse issues
> together:  If Lucene is really just looking a stream of tokenified text,
> and
> dates/text are tokens no different from one another, and I can inject
> properly formatted dates into the stream without requiring an honest to
> goodness data type or artificial list -- what would prevent one from
> detecting a date looking "thing" in a stream and injecting a date-looking
> token at that place in the document?


Nothing.


For example, if "December 25th, 2007" was in the text stream, replace that
> block of text with "20071225" and let the tokenizer do its thing as
> normal,
> none the wiser.  In theory, wouldn't this let the user be able to search
> the
> regular text body for words and dates at the same time?


Yes, assuming you did the same thing with the query string. You'd have
to transform December 25th, 2007 into 20071225 at query time as well.

But, letting it stay in the text stream and not putting it in a separate
date
field would give you some trouble with ranges because things that
weren't dates could mess you up. But that's a question of intended
behavior of the app that only you can answer. For instance, the token
1weird would be in the range of dates between 1900 and 2000. So a
search on date ranges would generate a false hit.


What I'm hoping you'll say is, yes, you could do that, ...but you wouldn't
> want to for performance reasons.


Performance, well, only measurement can tell. But I predict you don't
want to do such a thing for behavior reasons, so performance doesn't
even enter into it yet <G>.

But I suspect you're at the point more design will get in your way.
I think you can put together simple index/search applications in
1/2 day, get Luke (google Luke, lucene), and experiment and
get a much better feel for what all this means now that you have
noodled on it for a while. Much of what people have said still probably
sounds like gibberish, but looking at the results will generate
"ahhhh, *that's* what they meant" moments...

Best
Erick


Thanks again,
> -wls
>

------=_Part_161506_22524029.1173118662617--

From java-user-return-26632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 18:26:24 2007
Return-Path: <java-user-return-26632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25538 invoked from network); 5 Mar 2007 18:26:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 18:26:23 -0000
Received: (qmail 8725 invoked by uid 500); 5 Mar 2007 18:26:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8692 invoked by uid 500); 5 Mar 2007 18:26:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8681 invoked by uid 99); 5 Mar 2007 18:26:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 10:26:24 -0800
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,MIME_BOUND_NEXTPART
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.190.206.154] (HELO srs2na11.bgl.lu) (212.190.206.154)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Mar 2007 10:26:13 -0800
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e2ffa938a0aaf150a11a@srs2na12.domain> for <java-user@lucene.apache.org>;
 Mon, 5 Mar 2007 19:27:10 +0100
Received: from SPMWB01L.luinternal.fortis.bank ([10.172.252.139]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 5 Mar 2007 19:25:36 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-6de9f217-d993-49e6-8d42-71159491a309"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: Using Stemmers
Date: Mon, 5 Mar 2007 19:25:47 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248809A2BC9A@SPMWB02L.luinternal.fortis.bank>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Using Stemmers
Thread-Index: AcdfU6ujPGuqfb4VRgKDNpzJYBpylQ==
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 05 Mar 2007 18:25:36.0866 (UTC) FILETIME=[AB90B420:01C75F53]
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPartTM-000-6de9f217-d993-49e6-8d42-71159491a309
Content-Type: multipart/alternative; 
	boundary="----_=_NextPart_001_01C75F53.B1FE497D"

------_=_NextPart_001_01C75F53.B1FE497D
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi,=20
This is a very simple question, but I just can't find the ressources I
need ...=20
I am using the StandardAnalyzer :=20
StandardAnalyzer stdAnalyzer;=20
if ((stopWordList !=3D null) && (stopWordList.length !=3D 0)) {=20
stdAnalyzer =3D new StandardAnalyzer(stopWordList);=20
} else {=20
stdAnalyzer =3D new StandardAnalyzer();=20
}=20
What I want to achive is be able to use an englsih stemmer,=20
But I can't find any methods to associate my stemmer to my Analayzer.=20
I appreciate any help, thank u.=20

__________________________________

   Mathieu Decaffmeyer
   Web Developer
   Fortis Banque Luxembourg
   50, avenue J. F. Kennedy
   L-2951 Luxembourg
   IS Retail Banking - Web Content Management
   Mobile : 0032  479 / 69 . 42 . 96



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


------_=_NextPart_001_01C75F53.B1FE497D
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version 6.5.7651.52">
<TITLE>Using Stemmers</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->
<BR>

<P><SPAN LANG=3D"fr"><FONT SIZE=3D2 FACE=3D"Arial">Hi,</FONT><FONT FACE=3D"=
Times New Roman"> </FONT></SPAN>

<BR><SPAN LANG=3D"fr"><FONT SIZE=3D2 FACE=3D"Arial">This is a very simple q=
uestion, but I just can't find the ressources I need ...</FONT><FONT FACE=
=3D"Times New Roman"> </FONT></SPAN>

<BR><SPAN LANG=3D"fr"><FONT SIZE=3D2 FACE=3D"Arial">I am using the Standard=
Analyzer :</FONT><FONT FACE=3D"Times New Roman"> </FONT></SPAN>

<BR><SPAN LANG=3D"fr"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New"=
>StandardAnalyzer</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">stdAnalyzer;</FONT><FONT FAC=
E=3D"Times New Roman"><BR>
<B></B></FONT><B><FONT COLOR=3D"#800080" SIZE=3D2 FACE=3D"Courier New">if</=
FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000=
" SIZE=3D2 FACE=3D"Courier New">((stopWordList</FONT><FONT SIZE=3D2 FACE=3D=
"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New"=
>!=3D</FONT><B></B><B></B><B><FONT FACE=3D"Times New Roman"></FONT> <FONT C=
OLOR=3D"#800080" SIZE=3D2 FACE=3D"Courier New">null</FONT></B><FONT COLOR=
=3D"#000000" SIZE=3D2 FACE=3D"Courier New">)</FONT><FONT SIZE=3D2 FACE=3D"C=
ourier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">&=
amp;&amp;</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"=
#000000" SIZE=3D2 FACE=3D"Courier New">(stopWordList.length</FONT><FONT SIZ=
E=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D=
"Courier New">!=3D</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT =
COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">0))</FONT><FONT SIZE=3D2 FA=
CE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier=
 New">{</FONT><FONT FACE=3D"Times New Roman"><BR>
</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">stdAnalyzer</F=
ONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZ=
E=3D2 FACE=3D"Courier New">=3D</FONT><B></B><B></B><B><FONT FACE=3D"Times N=
ew Roman"></FONT> <FONT COLOR=3D"#800080" SIZE=3D2 FACE=3D"Courier New">new=
</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#0000=
00" SIZE=3D2 FACE=3D"Courier New">StandardAnalyzer(stopWordList);</FONT><FO=
NT FACE=3D"Times New Roman"><BR>
</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT><B></B=
><B></B><B><FONT FACE=3D"Times New Roman"></FONT> <FONT COLOR=3D"#800080" S=
IZE=3D2 FACE=3D"Courier New">else</FONT></B><FONT SIZE=3D2 FACE=3D"Courier =
New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT>=
<FONT FACE=3D"Times New Roman"><BR>
</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">stdAnalyzer</F=
ONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZ=
E=3D2 FACE=3D"Courier New">=3D</FONT><B></B><B></B><B><FONT FACE=3D"Times N=
ew Roman"></FONT> <FONT COLOR=3D"#800080" SIZE=3D2 FACE=3D"Courier New">new=
</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#0000=
00" SIZE=3D2 FACE=3D"Courier New">StandardAnalyzer();</FONT><FONT FACE=3D"T=
imes New Roman"><BR>
</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT><FONT =
FACE=3D"Times New Roman"> </FONT></SPAN>

<BR><SPAN LANG=3D"fr"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">What =
I want to achive is be able to use an englsih stemmer,</FONT><FONT FACE=3D"=
Times New Roman"> </FONT></SPAN>

<BR><SPAN LANG=3D"fr"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">But I=
 can't find any methods to associate my stemmer to my Analayzer.</FONT><FON=
T FACE=3D"Times New Roman"> </FONT></SPAN>

<BR><SPAN LANG=3D"fr"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">I app=
reciate any help, thank u.</FONT><FONT FACE=3D"Times New Roman"> </FONT></S=
PAN>
</P>

<P><B><SPAN LANG=3D"fr"><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><=
WBR><WBR><WBR><WBR><WBR><WBR><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verda=
na">__________________________________</FONT></SPAN></B>
</P>

<P><B><SPAN LANG=3D"fr"><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verdana">&=
nbsp;&nbsp; Mathieu Decaffmeyer</FONT></SPAN></B>

<BR><B><SPAN LANG=3D"fr"><FONT COLOR=3D"#ED1941" SIZE=3D1 FACE=3D"Verdana">=
&nbsp;&nbsp; Web Developer</FONT></SPAN></B>

<BR><B><SPAN LANG=3D"fr"><FONT COLOR=3D"#ED1941" SIZE=3D1 FACE=3D"Verdana">=
&nbsp;&nbsp; Fortis Banque Luxembourg</FONT></SPAN></B>

<BR><SPAN LANG=3D"fr"><FONT SIZE=3D1 FACE=3D"Verdana">&nbsp;&nbsp;</FONT></=
SPAN><SPAN LANG=3D"en-us"> <FONT SIZE=3D1 FACE=3D"Verdana">50, avenue J. F.=
 Kennedy</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D1 FACE=3D"Verdana">&nbsp;&nbsp; L-295=
1 Luxembourg</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D1 FACE=3D"Verdana">&nbsp;&nbsp; IS Re=
tail Banking - Web Content Management</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><I><FONT SIZE=3D1 FACE=3D"Verdana">&nbsp;&nbsp; Mo=
bile : 0032&nbsp; 479 / 69 . 42 . 96</FONT></I></SPAN>
</P>

<CODE><FONT SIZE=3D3><BR>
<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
</FONT></CODE>
</BODY>
</HTML>
------_=_NextPart_001_01C75F53.B1FE497D--


------=_NextPartTM-000-6de9f217-d993-49e6-8d42-71159491a309
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPartTM-000-6de9f217-d993-49e6-8d42-71159491a309--


From java-user-return-26633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 19:03:08 2007
Return-Path: <java-user-return-26633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42294 invoked from network); 5 Mar 2007 19:03:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 19:03:07 -0000
Received: (qmail 78768 invoked by uid 500); 5 Mar 2007 19:03:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78746 invoked by uid 500); 5 Mar 2007 19:03:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78735 invoked by uid 99); 5 Mar 2007 19:03:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 11:03:08 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [63.240.77.84] (HELO sccrmhc14.comcast.net) (63.240.77.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 11:02:56 -0800
Received: from smailcenter68.comcast.net ([204.127.205.168])
          by comcast.net (sccrmhc14) with SMTP
          id <2007030519023401400rui9me>; Mon, 5 Mar 2007 19:02:35 +0000
Received: from [198.246.149.100] by smailcenter68.comcast.net;
	Mon, 05 Mar 2007 19:02:34 +0000
From: mcmoisei@comcast.net
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
Date: Mon, 05 Mar 2007 19:02:34 +0000
Message-Id: <030520071902.21969.45EC694A00007431000055D12207020653070A9C0701030C03@comcast.net>
X-Mailer: AT&T Message Center Version 1 (Oct  4 2006)
X-Authenticated-Sender: bWNtb2lzZWlAY29tY2FzdC5uZXQ=
X-Virus-Checked: Checked by ClamAV on apache.org

That part is self understood. However as I describe the problem initially - and the use case is a very practical way of dealing with documents in real live - they change, we edit them, I don't want to run a batch re-indexing thing every night... I just wanted done on the spot. One instance IndexerSeacher it's the way to go I today agree but because it's reader doesn't detect the changes in the files because is not being used to do them it's pretty anoying don't you all thing ?

 -------------- Original message ----------------------
From: "Erick Erickson" <erickerickson@gmail.com>
> <1>. Every time you close/open a reader, you pay a significant penalty
> to warm up caches, etc. You may have to do some tricky dancing
> to coordinate among the sessions to be able to close/reopen
> the reader to allow updates to show up though.
> 
> Erick
> 
> 
> On 3/5/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> >
> > Hi Erick
> > I am completely confused about this IndexReader.
> > in my case, I have to keep the reader opened because of pagination of the
> > result so I have to had a reader per session. the thing that baffled me is
> > can only one reader service all the session at the same time?
> >
> > I mean
> > 1- having one reader for all sessions and having a Hits for each session.
> > 2- one reader per session.
> > which one is right?
> >
> > On 3/5/07, Erick Erickson <erickerickson@gmail.com> wrote:
> > >
> > > There was quite a long discussion thread on this topic relatively
> > > recently, try searching the archive for concurrence, perhaps
> > > IndexReader, etc.
> > >
> > > The short take-away is that you should share a single instance
> > > of the reader, since opening one is an expensive operation, and
> > > the first searches you perform will incur some overhead while
> > > underlying caches are built. You have to build in some mechanisms
> > > for gracefully shutting it down when you need to re-open them if they
> > > are being shared....
> > >
> > > Erick
> > >
> > >
> > > On 3/4/07, MC Moisei <mcmoisei@comcast.net> wrote:
> > > >
> > > > Daniel,
> > > >
> > > > Thanks for replying. THe only reason I don't close my indexSearcher is
> > > > that I got the "Too Many File Open Exception" and I decided to make my
> > > > searcher static in the SearchService.
> > > >
> > > > If I do go and close then open a new one I may expose myself to some
> > > > concurent access issues while people can update their files other can
> > do
> > > > the searches for those files ( My searcheables are files entities)
> > > >
> > > > Since the IndexSearcher has an underlying IndexReader I should use
> > that
> > > > one to handle the reads in the Interceptor but that won't do me too
> > much
> > > > good since I need certain methods that are no in IndexReader (
> > and  BTW
> > > > i thought I've mentioned that I use the IndexModifier that is a
> > mixture
> > > > of the IndexReader and IndexWriter ).
> > > >
> > > > Any ideas ?
> > > >
> > > > MC
> > > >
> > > >
> > > >
> > > > Daniel Noll wrote:
> > > > > MC Moisei wrote:
> > > > >> Hi to all members of the user group!
> > > > >>
> > > > >> Let me get to my problem. I use Lucene in two different parts of
> > the
> > > > >> application. One is the SearchService and one is an AOP interceptor
> > > > that
> > > > >> intercepts any changes in the Searcheable entities. This last part
> > is
> > > > >> removing the document from the index and add the document again.
> > > > >>
> > > > >> That being said, here's my test case.
> > > > >>
> > > > >> My searcheable item has in content "apple banana" if I search for
> > > apple
> > > > >> or banana I get it back amoung the results.
> > > > >> If I modify it and remove banana from content when I search for
> > apple
> > > > or
> > > > >> banana I get same results as above (!?)
> > > > >> If I restart my application so the IndexSearcher is recreated, I
> > run
> > > > the
> > > > >> test above I only get my document if I search for apple - that
> > leads
> > > me
> > > > >> to conclude that the IndexSearcher caches the results.
> > > > >
> > > > > It doesn't "cache" the results, but what happens is the underlying
> > > > > IndexReader effectively sees no changes for its lifetime (this is
> > > > > presumably for safety; since usually you don't want the index
> > changing
> > > > > underneath while trying to do queries.)
> > > > >
> > > > >> Is there a way to clear IndexSeacher when I do the reindexing ( I
> > use
> > > > >> IndexModifer for the AOP interceptor) ?
> > > > >
> > > > > Yep.  Close the IndexSearcher and the IndexReader, and reopen them.
> > > > >
> > > > > If you need to do queries quite often then it probably makes sense
> > to
> > > > > do this only every now and then.
> > > > >
> > > > > Daniel
> > > > >
> > > > >
> > > >
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
> >
> >
> > --
> > Regards,
> > Mohammad
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 19:20:26 2007
Return-Path: <java-user-return-26634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50267 invoked from network); 5 Mar 2007 19:20:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 19:20:26 -0000
Received: (qmail 1890 invoked by uid 500); 5 Mar 2007 19:20:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1865 invoked by uid 500); 5 Mar 2007 19:20:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1854 invoked by uid 99); 5 Mar 2007 19:20:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 11:20:27 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tpatton@dealcatcher.com designates 63.238.173.3 as permitted sender)
Received: from [63.238.173.3] (HELO mail.netvation.com) (63.238.173.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 11:20:15 -0800
DKIM-Signature: t=1173104503; a=RSA-SHA1; q=dns; s=mail; d=dealcatcher.com;
  i=@dealcatcher.com; c=relaxed/simple;
  bh=6nm6Ipb17knL3O8jExnKZRkkbFE=; h=DomainKey-Signature:Received:Message-I
  D:Date:From:User-Agent:MIME-Version:To:Subject:Content-Type:Content-Trans
  fer-Encoding; b=HxRZsATW7e/r/1oNNG3b0xQ5wqyxhb6UesWOCWw5QhW6pJ1pdjUG6Mb4F
  W5d2YS++mp9ndZSp5EDzE5rt4ecksBpjKSYMdzw2VIn9K+QkPoUvTP5VB/5gril8diZ2gr6
DomainKey-Signature: a=rsa-sha1; q=dns; s=mail; d=dealcatcher.com; c=nofws;
  h=Return-Path:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Su
  bject:Content-Type:Content-Transfer-Encoding; b=AQUBvA914cPNloUGZTkJUynTd
  JZ8Ku8KdnObjWCmGgCiyiHnAMl1DAwpv28nBz+REmdy1uax/JN3NITBxCiSslDawAe2NEtQ44
  +sntNO3wCN4KRehMnad+a+s8NkHyxB;
Received: from static-63-238-173-100.t1.cavtel.net [63.238.173.100] by mail.netvation.com with SMTP;
   Mon, 5 Mar 2007 14:21:26 -0500
Message-ID: <45EC6DB6.6010102@dealcatcher.com>
Date: Mon, 05 Mar 2007 14:21:26 -0500
From: Tim Patton <tpatton@dealcatcher.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Missing .tii File
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I'm not sure how, but in moving an index over from 2.0 to 2.1 and 
changing my own code one of the .tii files got deleted.  I still have 
the .tis file though, can I rebuild the missing file so I can open my 
index?  Luke won't open it now and I just want to make sure everything 
is ok before opening a writer and possibly doing some permanent damage.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 20:53:24 2007
Return-Path: <java-user-return-26635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88892 invoked from network); 5 Mar 2007 20:53:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 20:53:23 -0000
Received: (qmail 50607 invoked by uid 500); 5 Mar 2007 20:53:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50573 invoked by uid 500); 5 Mar 2007 20:53:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50562 invoked by uid 99); 5 Mar 2007 20:53:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 12:53:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [198.144.201.51] (HELO esseff.org) (198.144.201.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 12:53:13 -0800
Received: from localhost (localhost [127.0.0.1])
	by esseff.org (Postfix) with ESMTP id 3F4145E5D8D
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 12:55:45 -0800 (PST)
X-Quarantine-ID: <d7YVJSkLRE17>
X-Virus-Scanned: amavisd-new at esseff.org
Received: from esseff.org ([127.0.0.1])
	by localhost (esseff.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id d7YVJSkLRE17 for <java-user@lucene.apache.org>;
	Mon,  5 Mar 2007 12:55:42 -0800 (PST)
Received: from professorville.windows.esseff.org (professorville.windows.esseff.org [10.0.1.16])
	by esseff.org (Postfix) with ESMTP id 5AEE35E5D8A
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 12:55:42 -0800 (PST)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Subject: RE: Soliciting Design Thoughts on Date Searching
Content-Transfer-Encoding: quoted-printable
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Mon, 5 Mar 2007 12:52:48 -0800
Message-ID: <392521EA2692A2418DF48C331E61E32506AC1E@professorville.windows.esseff.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Soliciting Design Thoughts on Date Searching
Thread-Index: AcdfUqnw9xe1z8pFR9aDoQP4/Ha7pgAFHUlg
References: <ae6f38f60703050659x39c1deedr47f1ab96ae064022@mail.gmail.com> <359a92830703051017s272510dv50b4c899bed766be@mail.gmail.com>
From: "Steven Parkes" <steven_parkes@esseff.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

	But, letting it stay in the text stream and not putting it in a
separate
	date
	field would give you some trouble with ranges because things
that
	weren't dates could mess you up.

This is why Chris suggested putting a prefix on the token. For example,
leading underscores: something your analyzer won't emit, so there's no
intersection between your date tokens and "normal" tokens.

I think I'm reiterating, but putting the dates in your "normal" field
allows more phrase and span queries to work. If you put the tokens into
a separate field, the positioning information won't be there.

That said, if you have a different number of tokens, e.g., December
25th, 2007 turning into 20071225, this will impact phrase and span
queries anyway so even if they are in the same field, there will be a
difference between using a date token and not.

To a first order, there should be no difference in performance, I don't
think. A posting list is a posting list, regardless of the field it
represents (again, assuming you have some prefix so normal tokens don't
end up in the middle of a date range.)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 21:14:00 2007
Return-Path: <java-user-return-26636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95104 invoked from network); 5 Mar 2007 21:13:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 21:13:59 -0000
Received: (qmail 87981 invoked by uid 500); 5 Mar 2007 21:14:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87947 invoked by uid 500); 5 Mar 2007 21:14:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87934 invoked by uid 99); 5 Mar 2007 21:14:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 13:14:01 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 13:13:49 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 524F25B766; Mon,  5 Mar 2007 13:13:29 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4459D7F403
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 13:13:29 -0800 (PST)
Date: Mon, 5 Mar 2007 13:13:29 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Clearing locks
In-Reply-To: <6e3ae6310703042134i55867e97p5787b7e189bd1bde@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703051311080.27905@hal.rescomp.berkeley.edu>
References: <45EB3A3D.50803@comcast.net>  <6e3ae6310703041440u572f6318ge04b663fdf3a1b87@mail.gmail.com>
  <45EBA7A3.8090005@comcast.net> <6e3ae6310703042134i55867e97p5787b7e189bd1bde@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


there are also the static IndexReder.isLocked(Directory) and
IndexReder.unlock(Directory) methods that encapsulate this logic for you
... they've been around since at least 1.4.3.


: Date: Sun, 4 Mar 2007 21:34:52 -0800
: From: Chris Lu <chris.lu@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: Clearing locks
:
: They are not really unique. Here are my code to unlock the directory.
: Notice there are two locks.
:
:     public static void unlockDirectory(Directory dir) {
:         Lock dirLock = dir.makeLock(IndexWriter.WRITE_LOCK_NAME);
:         if (dirLock.isLocked()) {
:             logger.debug("unlocking " + dirLock);
:             dirLock.release();
:             logger.info("unlocked directory " + dir);
:         }
:         dirLock = dir.makeLock(IndexWriter.COMMIT_LOCK_NAME);
:         if (dirLock.isLocked()) {
:             logger.debug("unlocking " + dirLock);
:             dirLock.release();
:             logger.info("unlocked directory " + dir);
:         }
:     }
:
: --
: Chris Lu
: -------------------------
: Instant Full-Text Search On Any Database/Application
: site: http://www.dbsight.net
: demo: http://search.dbsight.com
:
: On 3/4/07, MC Moisei <mcmoisei@comcast.net> wrote:
: > How do I clear the locks ? THey have unique names and the name changes
: > everytime...
: >
: > Chris Lu wrote:
: > > A safe way to do this is to clear the locks just before starting your
: > > war file.
: > >
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 21:24:10 2007
Return-Path: <java-user-return-26637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6010 invoked from network); 5 Mar 2007 21:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 21:24:09 -0000
Received: (qmail 27290 invoked by uid 500); 5 Mar 2007 21:24:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27258 invoked by uid 500); 5 Mar 2007 21:24:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27247 invoked by uid 99); 5 Mar 2007 21:24:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 13:24:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 13:23:57 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CD6895B76C; Mon,  5 Mar 2007 13:23:36 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C9A2B7F403
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 13:23:36 -0800 (PST)
Date: Mon, 5 Mar 2007 13:23:36 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: searching a date range
In-Reply-To: <34b8543c0703050535n423129eam8a357a71510b774d@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703051321280.27905@hal.rescomp.berkeley.edu>
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com> 
 <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com> 
 <45EB48F5.7080601@nuix.com>  <Pine.LNX.4.58.0703041542140.12184@hal.rescomp.berkeley.edu>
  <34b8543c0703042251td219781r505885cae7e6debe@mail.gmail.com> 
 <359a92830703050442v4c312c9bid02650469a373dd7@mail.gmail.com>
 <34b8543c0703050535n423129eam8a357a71510b774d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I override that method and just remove the try/catch block in which you put
: codes with Date stuffs and now it works fine
:
: my overridden method only return new RangeQuery(...);

subclassing QueryParser to override getRangeQuery and eliminate the
special Date code sounds like it would work just fine for you (and is in
fact mentioned in the javadocs for QueryParser)

i would however highly recomend you use ConstantScoreRangeQuery ... the
javadocs for RangeQuery explain why this is a good idea.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 21:33:59 2007
Return-Path: <java-user-return-26638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9733 invoked from network); 5 Mar 2007 21:33:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 21:33:58 -0000
Received: (qmail 24901 invoked by uid 500); 5 Mar 2007 21:33:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24868 invoked by uid 500); 5 Mar 2007 21:33:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24840 invoked by uid 99); 5 Mar 2007 21:33:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 13:33:41 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 13:33:27 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l25LQvao124690
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 21:27:15 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l25LQoLi2244674
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 22:26:50 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l25LQnYt029668
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 22:26:49 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l25LQnip029665
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 22:26:49 +0100
In-Reply-To: <359a92830703050448v73349b61pfeca425d72924989@mail.gmail.com>
Subject: Re: How can I use SortComparator in my case?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF85C3D49A.6BF44787-ON88257295.007396BC-88257295.007556E0@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Mon, 5 Mar 2007 13:21:39 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 05/03/2007 23:26:49
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

I too cannot think of an indexing configuration that would help this.

However it seems that all the required information exists at search time,
more precisely at hits collection time:
- the doc-id and doc-score are known, and used when hits are collected.
- The value of that certain field of interested can be computed - similar
to how it is computed for sorting by a field - but its use is different -
sorting should not be by the value of the field, but rather by how many
docs with the same value for this field were "collected" so far.

This seems to call for a tailored hit collector. The search API allows for
providing a customized hit collector, where this counting logic could be
added. (The challenge is in avoiding calling
reader.document(id,fieldSelector) in collect() because this would be quite
bad for performance in a large collection - see javadocs for
HitCollector.collect() - but it must be a large collection, otherwise, for
a small collection, the post process approach proposed here would do.)

Doron

"Erick Erickson" <erickerickson@gmail.com> wrote on 05/03/2007 04:48:10:

> There's a discussion recently where someone pointed me to
> FieldSortedHitQueue, you might trysearchinng for that. Also, try
> "buckets" which was the header of that discussion.
>
> You can also think about clever indexing schemes with fields that
> allow you to sort however you really need to, although I confess
> nothing jumps out at me given your example.
>
> Best
> Erick
>
>
> On 3/5/07, Ramana Jelda <ramana.jelda@ciao-group.com> wrote:
> >
> > This will then be a big hastle. The results are in 100s and sometimes
in
> > 1000s.
> > Hum.. No other better way?
> >
> > Jelda
> >
> > > -----Original Message-----
> > > From: Mordo, Aviran (EXP N-NANNATEK) [mailto:aviran.mordo@lmco.com]
> > > Sent: Friday, March 02, 2007 8:02 PM
> > > To: java-user@lucene.apache.org
> > > Subject: RE: How can I use SortComparator in my case?
> > >
> > > You'll need to do it manually and not with Lucene.
> > >
> > > Just grab all the results from Lucene and process them yourself.
> > >
> > > Aviran
> > > http://aviransplace.com
> > >
> > > -----Original Message-----
> > > From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]
> > > Sent: Friday, March 02, 2007 5:45 AM
> > > To: java-user@lucene.apache.org
> > > Subject: How can I use SortComparator in my case?
> > >
> > > Hi,
> > > I have a requirement to sort search results in a round robin.
> > > Ex:sorting results by field "customer"
> > > suppose following customers are found (number of results in
> > > brackets) and results are sorted by customer.
> > >
> > > Amazon(10)
> > > Dell(2)
> > > EBay(4)
> > > Yahoo(20)
> > >
> > > but I want to sort them in the following way,
> > > Amazon(1)
> > > Dell(1)
> > > EBay(1)
> > > Yahoo(1)
> > >
> > > Amazon(1)
> > > Dell(1)
> > > EBay(1)
> > > Yahoo(1)
> > >
> > > Amazon(1)
> > > EBay(1)
> > > Yahoo(1)
> > >
> > > Amazon(1)
> > > EBay(1)
> > > Yahoo(1)
> > >
> > > etc.. etc..
> > >
> > >
> > > You think I can use somehow SortComparator here?
> > > any suggestions?
> > >
> > > Thx,
> > > Jelda
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 22:44:36 2007
Return-Path: <java-user-return-26639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78169 invoked from network); 5 Mar 2007 22:44:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 22:44:36 -0000
Received: (qmail 9094 invoked by uid 500); 5 Mar 2007 22:44:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8979 invoked by uid 500); 5 Mar 2007 22:44:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8917 invoked by uid 99); 5 Mar 2007 22:44:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 14:44:35 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.207] (HELO spunkymail-a16.dreamhost.com) (208.97.132.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 14:44:23 -0800
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a16.dreamhost.com (Postfix) with ESMTP id 1A4557CC4F
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 14:43:59 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248809A2BC9A@SPMWB02L.luinternal.fortis.bank>
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BC9A@SPMWB02L.luinternal.fortis.bank>
Content-Type: multipart/alternative; boundary=Apple-Mail-1--593574286
Message-Id: <65096940-8F78-4BCA-B040-E8A361954F73@apache.org>
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Using Stemmers
Date: Mon, 5 Mar 2007 17:43:57 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-1--593574286
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

Hi Mathieu,

You can't add TokenFilters to an existing Analyzer.  However,  
implementing an Analyzer that acts just like the StandardAnalyzer  
plus your Stemmer is pretty straightforward.   
StandardAnalzyer.tokenStream() looks like:
/** Constructs a {@link StandardTokenizer} filtered by a {@link
   StandardFilter}, a {@link LowerCaseFilter} and a {@link  
StopFilter}. */
   public TokenStream tokenStream(String fieldName, Reader reader) {
     TokenStream result = new StandardTokenizer(reader);
     result = new StandardFilter(result);
     result = new LowerCaseFilter(result);
     result = new StopFilter(result, stopSet);
//ADD your Stemming Filter here, or one line above if your Stop word  
list works off of stemmed words
     return result;
   }

So just create a new Analyzer that has these same filters, plus your  
stemming TokenFilter.  Looking at the source of SnowballAnalyzer  
(contrib/snowball) may also be useful.

FWIW, it is not that hard to make a "configurable" analyzer similar  
to what Solr does, if you find you need to change the filters in your  
analyzer a lot.

Cheers,
Grant


On Mar 5, 2007, at 1:25 PM, DECAFFMEYER MATHIEU wrote:

>
> Hi,
> This is a very simple question, but I just can't find the  
> ressources I need ...
> I am using the StandardAnalyzer :
> StandardAnalyzer stdAnalyzer;
> if ((stopWordList != null) && (stopWordList.length != 0)) {
> stdAnalyzer = new StandardAnalyzer(stopWordList);
> } else {
> stdAnalyzer = new StandardAnalyzer();
> }
> What I want to achive is be able to use an englsih stemmer,
> But I can't find any methods to associate my stemmer to my Analayzer.
> I appreciate any help, thank u.
>
> __________________________________
>
>    Mathieu Decaffmeyer
>    Web Developer
>    Fortis Banque Luxembourg
>    50, avenue J. F. Kennedy
>    L-2951 Luxembourg
>    IS Retail Banking - Web Content Management
>    Mobile : 0032  479 / 69 . 42 . 96
>
>
>
> ============================================
> Internet communications are not secure and therefore Fortis Banque  
> Luxembourg S.A. does not accept legal responsibility for the  
> contents of this message. The information contained in this e-mail  
> is confidential and may be legally privileged. It is intended  
> solely for the addressee. If you are not the intended recipient,  
> any disclosure, copying, distribution or any action taken or  
> omitted to be taken in reliance on it, is prohibited and may be  
> unlawful. Nothing in the message is capable or intended to create  
> any legally binding obligations on either party and it is not  
> intended to provide legal advice.
> ============================================
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



--Apple-Mail-1--593574286--

From java-user-return-26640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 22:48:36 2007
Return-Path: <java-user-return-26640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19008 invoked from network); 5 Mar 2007 22:48:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 22:48:35 -0000
Received: (qmail 46399 invoked by uid 500); 5 Mar 2007 22:48:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46359 invoked by uid 500); 5 Mar 2007 22:48:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46348 invoked by uid 99); 5 Mar 2007 22:48:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 14:48:37 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.156 as permitted sender)
Received: from [195.212.29.156] (HELO mtagate7.de.ibm.com) (195.212.29.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 14:48:24 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate7.de.ibm.com (8.13.8/8.13.8) with ESMTP id l25Mm3lH184196
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 22:48:03 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l25Mm2xZ1671380
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 23:48:03 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l25Mm2qR007092
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 23:48:02 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l25Mm26R007089
	for <java-user@lucene.apache.org>; Mon, 5 Mar 2007 23:48:02 +0100
In-Reply-To: <030520071902.21969.45EC694A00007431000055D12207020653070A9C0701030C03@comcast.net>
Subject: Re: IndexSearcher cache
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF7FFF1F6E.A12BFA9C-ON88257295.007BF874-88257295.007CF2F8@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Mon, 5 Mar 2007 14:44:46 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 06/03/2007 00:48:01
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Indeed, having to re-open a searcher/reader in order for searches
to reflect index modification, can sometimes not best fit with the
logic of a certain application.

But see the features made possible with this design:
(+) searches do not feel index modifications until desired.
(++) no need to synchronize/interfere between searchers and index updates.
(+++) stable non-corruptable index without duplicating index data.

Doron

mcmoisei@comcast.net wrote on 05/03/2007 11:02:34:
> That part is self understood. However as I describe the problem
> initially - and the use case is a very practical way of dealing with
> documents in real live - they change, we edit them, I don't want to
> run a batch re-indexing thing every night... I just wanted done on
> the spot. One instance IndexerSeacher it's the way to go I today
> agree but because it's reader doesn't detect the changes in the
> files because is not being used to do them it's pretty anoying don't
> you all thing ?
>
>  -------------- Original message ----------------------
> From: "Erick Erickson" <erickerickson@gmail.com>
> > <1>. Every time you close/open a reader, you pay a significant penalty
> > to warm up caches, etc. You may have to do some tricky dancing
> > to coordinate among the sessions to be able to close/reopen
> > the reader to allow updates to show up though.
> >
> > Erick
> >
> >
> > On 3/5/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> > >
> > > Hi Erick
> > > I am completely confused about this IndexReader.
> > > in my case, I have to keep the reader opened because of pagination of
the
> > > result so I have to had a reader per session. the thing that baffled
me is
> > > can only one reader service all the session at the same time?
> > >
> > > I mean
> > > 1- having one reader for all sessions and having a Hits for each
session.
> > > 2- one reader per session.
> > > which one is right?
> > >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 23:29:42 2007
Return-Path: <java-user-return-26641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69472 invoked from network); 5 Mar 2007 23:29:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 23:29:40 -0000
Received: (qmail 5347 invoked by uid 500); 5 Mar 2007 23:29:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5305 invoked by uid 500); 5 Mar 2007 23:29:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5294 invoked by uid 99); 5 Mar 2007 23:29:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 15:29:43 -0800
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [63.240.77.84] (HELO sccrmhc14.comcast.net) (63.240.77.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 15:29:31 -0800
Received: from smailcenter57.comcast.net ([204.127.205.157])
          by comcast.net (sccrmhc14) with SMTP
          id <2007030523291001400s00n8e>; Mon, 5 Mar 2007 23:29:10 +0000
Received: from [198.246.149.100] by smailcenter57.comcast.net;
	Mon, 05 Mar 2007 23:29:08 +0000
From: mcmoisei@comcast.net
To: java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
Date: Mon, 05 Mar 2007 23:29:08 +0000
Message-Id: <030520072329.4876.45ECA7C4000D31C20000130C2205886014070A9C0701030C03@comcast.net>
X-Mailer: AT&T Message Center Version 1 (Oct  4 2006)
X-Authenticated-Sender: bWNtb2lzZWlAY29tY2FzdC5uZXQ=
X-Virus-Checked: Checked by ClamAV on apache.org

I agree those are benefits when you batch process the indexes once or once in a while.

The beauty of AOP is that I can intercept writes and do change the index on the spot. At that point I'd need to let the search know or drop it. If I do that that will face issues on the search side since this should be a thread safe environment . It's possible that while some one tries to search the IndexSearcher will be dropper or not yet fully initialized... I tried to create a seacher everytime but that lead me to the Too-Many-Files-Open exception. So no matter what I do I face a show stopper. 


 -------------- Original message ----------------------
From: Doron Cohen <DORONC@il.ibm.com>
> Indeed, having to re-open a searcher/reader in order for searches
> to reflect index modification, can sometimes not best fit with the
> logic of a certain application.
> 
> But see the features made possible with this design:
> (+) searches do not feel index modifications until desired.
> (++) no need to synchronize/interfere between searchers and index updates.
> (+++) stable non-corruptable index without duplicating index data.
> 
> Doron
> 
> mcmoisei@comcast.net wrote on 05/03/2007 11:02:34:
> > That part is self understood. However as I describe the problem
> > initially - and the use case is a very practical way of dealing with
> > documents in real live - they change, we edit them, I don't want to
> > run a batch re-indexing thing every night... I just wanted done on
> > the spot. One instance IndexerSeacher it's the way to go I today
> > agree but because it's reader doesn't detect the changes in the
> > files because is not being used to do them it's pretty anoying don't
> > you all thing ?
> >
> >  -------------- Original message ----------------------
> > From: "Erick Erickson" <erickerickson@gmail.com>
> > > <1>. Every time you close/open a reader, you pay a significant penalty
> > > to warm up caches, etc. You may have to do some tricky dancing
> > > to coordinate among the sessions to be able to close/reopen
> > > the reader to allow updates to show up though.
> > >
> > > Erick
> > >
> > >
> > > On 3/5/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> > > >
> > > > Hi Erick
> > > > I am completely confused about this IndexReader.
> > > > in my case, I have to keep the reader opened because of pagination of
> the
> > > > result so I have to had a reader per session. the thing that baffled
> me is
> > > > can only one reader service all the session at the same time?
> > > >
> > > > I mean
> > > > 1- having one reader for all sessions and having a Hits for each
> session.
> > > > 2- one reader per session.
> > > > which one is right?
> > > >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 05 23:37:53 2007
Return-Path: <java-user-return-26642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83521 invoked from network); 5 Mar 2007 23:37:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 5 Mar 2007 23:37:52 -0000
Received: (qmail 12979 invoked by uid 500); 5 Mar 2007 23:37:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12953 invoked by uid 500); 5 Mar 2007 23:37:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12942 invoked by uid 99); 5 Mar 2007 23:37:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 15:37:53 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 66.249.82.239 as permitted sender)
Received: from [66.249.82.239] (HELO wx-out-0506.google.com) (66.249.82.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 15:37:42 -0800
Received: by wx-out-0506.google.com with SMTP id i29so1744367wxd
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 15:37:22 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=fISoz7KLgyHCuZqGt/wR685RrfUiunFCxr/FEVuQrgiiP6574a46P3TrzZy5T0YsjU357kFeWVm8UQawMZfskqWE76A2J2v7edJ7nxrtB4HqcvR7H8DASk+gyIPvnyrUREBDTSp5+pa6IvHGqnLWhmbe5Myul36nLIcikxo+hSc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=SKGYS//MJgxFUGQA+VJDtgBvJiUP2NNMd3ohTq64biSueq3TkYJt8lUkRrafSbco/R6OYn6iLGYwGkYgx2F49vfk9U25k9TZiulZJ0xKAbWDGY5uhqFQ9Y2Xm9JHAahOtTnrkejRJWdr4PH4utfv0xizV3HUuiD+cNQQHk+F2GY=
Received: by 10.70.67.10 with SMTP id p10mr6813337wxa.1173137842024;
        Mon, 05 Mar 2007 15:37:22 -0800 (PST)
Received: from ?192.168.1.100? ( [216.66.114.42])
        by mx.google.com with ESMTP id 38sm13375500wrl.2007.03.05.15.37.19;
        Mon, 05 Mar 2007 15:37:20 -0800 (PST)
Message-ID: <45ECA9AA.2000406@gmail.com>
Date: Mon, 05 Mar 2007 18:37:14 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IndexSearcher cache
References: <OF7FFF1F6E.A12BFA9C-ON88257295.007BF874-88257295.007CF2F8@il.ibm.com>
In-Reply-To: <OF7FFF1F6E.A12BFA9C-ON88257295.007BF874-88257295.007CF2F8@il.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

My two cents:

Lucene often offers the least common denominator...for example: out of 
the box, Lucene best handles either a single user / single thread 
experience or a mostly 'read only' experience. I believe that the main 
reason for this is that it serves the greatest variety uses. You can, 
and people have, put a layer on top of Lucene's simple abstractions to 
handle a very interactive index that must serve many threads.

One of your best options is Solr. Solr (among many, many other things) 
handles opening and closing Readers and Searchers for you in order to 
maintain a lively index. Throw in all of the caching, distribution, and 
schema options and its hard to argue that you shouldn't always use this 
for a multi user interactive index.

Another option is: http://issues.apache.org/jira/browse/LUCENE-390

I don't think this option has gotten the attention it deserves. If you 
are not interested in Solr, or your requirements are not quite as steep, 
390 is a great tool. 390 will correctly manage Directories, Readers, 
Writers, and Searchers in a way that allows any index modifications to 
trigger the reopening of Readers. Making sure there is only one Writer 
and so forth is handled for you. There are a lot of enhancements you can 
make to this cool little issue and it is also very easy to integrate 
into a current solution.

- Mark

Doron Cohen wrote:
> Indeed, having to re-open a searcher/reader in order for searches
> to reflect index modification, can sometimes not best fit with the
> logic of a certain application.
>
> But see the features made possible with this design:
> (+) searches do not feel index modifications until desired.
> (++) no need to synchronize/interfere between searchers and index updates.
> (+++) stable non-corruptable index without duplicating index data.
>
> Doron
>
> mcmoisei@comcast.net wrote on 05/03/2007 11:02:34:
>   
>> That part is self understood. However as I describe the problem
>> initially - and the use case is a very practical way of dealing with
>> documents in real live - they change, we edit them, I don't want to
>> run a batch re-indexing thing every night... I just wanted done on
>> the spot. One instance IndexerSeacher it's the way to go I today
>> agree but because it's reader doesn't detect the changes in the
>> files because is not being used to do them it's pretty anoying don't
>> you all thing ?
>>
>>  -------------- Original message ----------------------
>> From: "Erick Erickson" <erickerickson@gmail.com>
>>     
>>> <1>. Every time you close/open a reader, you pay a significant penalty
>>> to warm up caches, etc. You may have to do some tricky dancing
>>> to coordinate among the sessions to be able to close/reopen
>>> the reader to allow updates to show up though.
>>>
>>> Erick
>>>
>>>
>>> On 3/5/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>>>       
>>>> Hi Erick
>>>> I am completely confused about this IndexReader.
>>>> in my case, I have to keep the reader opened because of pagination of
>>>>         
> the
>   
>>>> result so I have to had a reader per session. the thing that baffled
>>>>         
> me is
>   
>>>> can only one reader service all the session at the same time?
>>>>
>>>> I mean
>>>> 1- having one reader for all sessions and having a Hits for each
>>>>         
> session.
>   
>>>> 2- one reader per session.
>>>> which one is right?
>>>>
>>>>         
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 00:07:14 2007
Return-Path: <java-user-return-26643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79189 invoked from network); 6 Mar 2007 00:07:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 00:07:13 -0000
Received: (qmail 39248 invoked by uid 500); 6 Mar 2007 00:07:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39210 invoked by uid 500); 6 Mar 2007 00:07:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39199 invoked by uid 99); 6 Mar 2007 00:07:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 16:07:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 16:07:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 9EBCD5B766; Mon,  5 Mar 2007 16:06:46 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 80CBE7F403
	for <java-user@lucene.apache.org>; Mon,  5 Mar 2007 16:06:46 -0800 (PST)
Date: Mon, 5 Mar 2007 16:06:46 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: IndexSearcher cache
In-Reply-To: <030520072329.4876.45ECA7C4000D31C20000130C2205886014070A9C0701030C03@comcast.net>
Message-ID: <Pine.LNX.4.58.0703051601180.9814@hal.rescomp.berkeley.edu>
References: <030520072329.4876.45ECA7C4000D31C20000130C2205886014070A9C0701030C03@comcast.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: initialized... I tried to create a seacher everytime but that lead me to
: the Too-Many-Files-Open exception. So no matter what I do I face a show
: stopper.

were you closing the old searcher before opening the new one?

even if that was the cause of your problem, i still wouldn't recomend
reopening the IndexSearcher on every single operation -- at least not
unless you are dealing with a single user application ... the performance
issues involved with opening a new IndexSearcher for every search may be
just as bad as opening a new IndexSearcher on every modification if you
are getting modifications often enough.

use a timed model where you reopen a new INdexSearcher every N seconds if
the index has been modified since the current one was opened.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 00:08:34 2007
Return-Path: <java-user-return-26644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86418 invoked from network); 6 Mar 2007 00:08:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 00:08:33 -0000
Received: (qmail 40996 invoked by uid 500); 6 Mar 2007 00:08:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40962 invoked by uid 500); 6 Mar 2007 00:08:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40951 invoked by uid 99); 6 Mar 2007 00:08:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 16:08:36 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of philippn@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 16:08:26 -0800
Received: by an-out-0708.google.com with SMTP id c3so1392369ana
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 16:08:05 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=o5WuzJnZgdRVR1MKjJCYCMUJCaSDlJIAt0CBHcPTTwZFnkAvgXc9qXiZjqDj4oM7sCdcFHvLcur+GeAh4MyUSnCIWh3/jGedQW7mvJSteIXhHuGFOa67YtPay+dT6TuGiX6h9BYv8y5E8wxqQ5rPAAOyGJZzL2zOBxyTzemV+Mw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=s9YSOeIxZqWJiMvn8QFFc2/b7GlsliLOlqM2PALjl9N2pdOhCzy/AO9OalGHobbRq+DJRfK0VBaY4W6IDNbSHy6Eue1V4xKyaqSpd6cmujyXIJmy1TYax2W10Dsd/Nm8aQuCSv/ddb1DkwMBlOJ19ikTlHWOR3JfFV+1645p1QY=
Received: by 10.100.94.3 with SMTP id r3mr2997586anb.1173139685319;
        Mon, 05 Mar 2007 16:08:05 -0800 (PST)
Received: by 10.100.12.14 with HTTP; Mon, 5 Mar 2007 16:08:05 -0800 (PST)
Message-ID: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com>
Date: Tue, 6 Mar 2007 01:08:05 +0100
From: "Philipp Nanz" <philippn@gmail.com>
To: java-user@lucene.apache.org
Subject: alternative scoring algorithm for PhraseQuery
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hello folks,

Maybe one of you can help me with this (sorry, long read).

I have implemented a FuzzyPhraseQuery that works similar to Lucene's
native PhraseQuery.
I.e. it can retrieve phrases for a query, with respect to insertions
and term order.
But in addition it can also find matches with terms missing (deletions).

Scoring is implemented as described here:
http://www.gossamer-threads.com/lists/lucene/java-user/33558#33558

So the scorer uses the total error rather than the maximum error for
insertions and out-of-order. That part works all fine (eventhough the
total errors I'm observing quickly lead to very low frequencies
returned by sloppyFreq() )

Now my problem is with scoring the deletion cases.

My initial idea was to penalize a missing term position with its maximum error.

Consider this:

Query:  a b c d

Document A: b c d

Term a is missing, score it as if it was at the worst position possible

result:       b c d a
pos. diffs: -1 -1 -1 +3

It can be observed that the max error for the nth missing term is 2n - 2
If you have a query given with 100 terms and say 10 of them are not
found, I would have a penalty of 190 + 192 + 194 etc.

for extreme cases, this is rather simple to calculate. in the middle
of a phrase, things get tricky though. Also the penalty becomes higher
as the number of terms increases.

So I think this is no viable solution for my problem.

Does anyone know a better solution for scoring deletion cases?

Thanks for your input,
Philipp

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 00:45:23 2007
Return-Path: <java-user-return-26645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58806 invoked from network); 6 Mar 2007 00:45:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 00:45:22 -0000
Received: (qmail 73088 invoked by uid 500); 6 Mar 2007 00:45:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72136 invoked by uid 500); 6 Mar 2007 00:45:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72125 invoked by uid 99); 6 Mar 2007 00:45:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 16:45:24 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 16:45:15 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HONct-0006La-RD
	for java-user@lucene.apache.org; Mon, 05 Mar 2007 16:33:59 -0800
Message-ID: <9323617.post@talk.nabble.com>
Date: Mon, 5 Mar 2007 16:33:59 -0800 (PST)
From: Gavin <johnlas@optusnet.com.au>
To: java-user@lucene.apache.org
Subject: QueryParser and auto wildcard searches
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: johnlas@optusnet.com.au
X-Virus-Checked: Checked by ClamAV on apache.org


Hello,

I am new to Lucene and I am trying to customise the query parser to default
to wildcard searches.
For example, if the user types in "fenc", it should find "fence" and
"fencing" and "fences" and "fenced".

I can not find a way to modify / extend the QueryParser to automatically
create wildcard queries.

Note that the query will have multiple fields, grouping and all the other
good stuff Lucene give us.

Thanks

Gavin


-- 
View this message in context: http://www.nabble.com/QueryParser-and-auto-wildcard-searches-tf3352711.html#a9323617
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 02:30:36 2007
Return-Path: <java-user-return-26646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20158 invoked from network); 6 Mar 2007 02:30:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 02:30:35 -0000
Received: (qmail 32358 invoked by uid 500); 6 Mar 2007 02:30:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32317 invoked by uid 500); 6 Mar 2007 02:30:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32305 invoked by uid 99); 6 Mar 2007 02:30:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 18:30:38 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of patrek@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 18:30:29 -0800
Received: by nf-out-0910.google.com with SMTP id g2so644777nfe
        for <java-user@lucene.apache.org>; Mon, 05 Mar 2007 18:30:07 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oZCkZ/tboszYFIgkytw/PtHmUcW/f2FiykS01Yg2RxYzS/GI6oDX8KgFSGqkJm/sqQFomwyyU2ZNw53/87W+oOq85JkbVhzHib73z3qtqmjBgYHzpMPV0wjzZchNl/63i1YXc2PP+wCL814hm+1MyIZ77I5n/dIpvxpbUxPih1E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=aVHISvvGUDagVkDCQlbN/Pt3krhevKm3ROgogs0igyXHnbyPgivOebkMCJLk1B370mP/CQNkrVCqitbfC7GXAQdBoKKSvREBRFLC8oeTS0gCKYH7508B3v2aHHeLb+SIonY4MqJoszPPKZhPR04dpD0ynL0QxZd60RdzSqFF6TM=
Received: by 10.78.151.3 with SMTP id y3mr732842hud.1173148207738;
        Mon, 05 Mar 2007 18:30:07 -0800 (PST)
Received: by 10.78.51.18 with HTTP; Mon, 5 Mar 2007 18:30:07 -0800 (PST)
Message-ID: <48b038c60703051830n2ee67539sf6cd1508bdc0680d@mail.gmail.com>
Date: Mon, 5 Mar 2007 21:30:07 -0500
From: "Patrick Turcotte" <patrek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: QueryParser and auto wildcard searches
In-Reply-To: <9323617.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_116403_10306094.1173148207698"
References: <9323617.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_116403_10306094.1173148207698
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi!

I am new to Lucene and I am trying to customise the query parser to default
> to wildcard searches.
> For example, if the user types in "fenc", it should find "fence" and
> "fencing" and "fences" and "fenced".


 Looks like stemming to me! Maybe you should consider using a stemming
analyzer instead. Look for stemmer filter/analyzer in contrib.

Patrick

------=_Part_116403_10306094.1173148207698--

From java-user-return-26647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 04:03:56 2007
Return-Path: <java-user-return-26647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33536 invoked from network); 6 Mar 2007 04:03:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 04:03:56 -0000
Received: (qmail 98355 invoked by uid 500); 6 Mar 2007 04:03:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98324 invoked by uid 500); 6 Mar 2007 04:03:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98313 invoked by uid 99); 6 Mar 2007 04:03:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 20:03:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 20:03:47 -0800
Received: from Monolith (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 7393C4A8161
	for <java-user@lucene.apache.org>; Tue,  6 Mar 2007 15:05:08 +1100 (EST)
Message-ID: <8F694F2E2AE7417CBEC698075962701A@Monolith>
From: "Daniel Noll" <daniel@nuix.com>
To: <java-user@lucene.apache.org>
References: <34b8543c0703032224r409e6b0aqe6ba3224c696fc0d@mail.gmail.com> <34b8543c0703032341g5fa4b60bnfe10a2eac2036c06@mail.gmail.com> <45EB48F5.7080601@nuix.com> <Pine.LNX.4.58.0703041542140.12184@hal.rescomp.berkeley.edu> <34b8543c0703042251td219781r505885cae7e6debe@mail.gmail.com>
In-Reply-To: <34b8543c0703042251td219781r505885cae7e6debe@mail.gmail.com>
Subject: Re: searching a date range
Date: Tue, 6 Mar 2007 15:01:39 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="UTF-8";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Windows Mail 6.0.6000.16386
X-MimeOLE: Produced By Microsoft MimeOLE V6.0.6000.16386
X-Virus-Checked: Checked by ClamAV on apache.org

Mohammad Norouzi wrote:
> Hi
> you know, actually we dont indexed this field as Date. we always use 
> string
> instead of Date type because we use both Hijri date and Gregorian date so 
> if
> we put a Hijri date the DateField not work properly. that is why we index
> such this field as String.

What DateField does is to convert the date to milliseconds and then to a 
base 36 number, and then it pads the string out so that all date strings are 
the same length.  So no matter what Calendar you happen to have used to 
build up your Date, it would work correctly and sort in the correct fashion.

Strings on the other hand would never work since when you search a date 
range in one calendar it wouldn't correctly return results in the other 
calendar, which would generally be undesirable behaviour (but maybe in your 
application you need it to omit results when they're in the wrong calendar.)

Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 07:04:21 2007
Return-Path: <java-user-return-26648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69434 invoked from network); 6 Mar 2007 07:04:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 07:04:20 -0000
Received: (qmail 73069 invoked by uid 500); 6 Mar 2007 07:04:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73022 invoked by uid 500); 6 Mar 2007 07:04:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73007 invoked by uid 99); 6 Mar 2007 07:04:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 23:04:21 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Mar 2007 23:04:12 -0800
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2673iJE011018
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 09:03:44 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m369372n; 6 Mar 2007 09:03:00 +0200
Message-ID: <45ED124E.9060903@teamware.com>
Date: Tue, 06 Mar 2007 18:03:42 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Caching of BitSets from filters and Query.equals()
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Tue, 06 Mar 2007 09:03:45 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Not sure if I'm going about this the right way, but I want to use Query 
instances as a key to a HashMap to cache BitSet instances from filtering 
operations.  They are all for the same reader.

That means equals() for any instance of the same generic Query would have to 
return true if the terms, boost and other factors of the Query would result in 
the same BitSet.  Most of the Query instances override equals and return true 
based on the Query.  At least BooleanQuery would not give true, because it does 
not base the equals on the encapsulated clauses, but in practice that is not a 
problem as BooleanQuery will not be used as a Filter.

It looks like it will work in the main, but I was wondering if there was any 
unwritten, but exepected, contract for a Query's equals()?

Thanks
Antony


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 09:37:34 2007
Return-Path: <java-user-return-26649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42886 invoked from network); 6 Mar 2007 09:37:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 09:37:32 -0000
Received: (qmail 43772 invoked by uid 500); 6 Mar 2007 09:37:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43743 invoked by uid 500); 6 Mar 2007 09:37:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43732 invoked by uid 99); 6 Mar 2007 09:37:33 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 01:37:33 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of kumaranjove@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 01:37:23 -0800
Received: by nf-out-0910.google.com with SMTP id g2so725948nfe
        for <java-user@lucene.apache.org>; Tue, 06 Mar 2007 01:37:02 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=COBjLTW9GdRdV+F5y5EhdKCkaMpcvhRVPWvZHz9YKh+MGJ/2dQhaGDK0EA5lgSyDFbWm3H9ffiJnZHI0zkPZ15SOWSppEbNmlbOR8AIf/3293N/toNDxzBTGXz3nCnmtn3Qwm2xoSaIK33VV+u4uhXiYVQZUcJE6rfLP7x7s/ik=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=BxbL6YS1ipyBivEDXCzCvckUZo6KtXQDm8F5Eio6OXJM5yNwYa/zMkaS/Pnk5p9Zg+A4h6ylTPnKQpySOdFxi1C/1s19hjHeY3pEpHd4rD84Tm/hNPLwn5oFhR8DUIKvTw2HPfIk5R56EU4/iYBx2A+ASjDVFiAU38/kMx0dVO4=
Received: by 10.78.160.2 with SMTP id i2mr755243hue.1173173822277;
        Tue, 06 Mar 2007 01:37:02 -0800 (PST)
Received: by 10.78.39.2 with HTTP; Tue, 6 Mar 2007 01:37:01 -0800 (PST)
Message-ID: <21e234c60703060137q1db5457fu8fc72a9205af7627@mail.gmail.com>
Date: Tue, 6 Mar 2007 15:07:01 +0530
From: "senthil kumaran" <kumaranjove@gmail.com>
To: java-user@lucene.apache.org
Subject: Indexing & search?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_84821_17536718.1173173821987"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_84821_17536718.1173173821987
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
    I've indexed 4 among 5 fields with Field.Store.YES & Field.Index.NO. And
indexed the remaining one, say it's Field Name is *content*, with
Field.Store.YES & Field.Index.Tokenized(It's value is collective value of
other 4 fields and some more values).So my search always based on
*content*field.
    I've indexed 2 douments . In 1st doc, f1:mybook, f2:contains, f3:all,
f4:information, content:mybook contains all information that you need
and in 2nd   f1:somebody, f2:want, f3:search, f4:information,
content:somebody want search information of mybook
    I want to get search results of all docs where field1's value is
"mybook".My query is content:mybook.But it returns 2 matching documents
instead of 1.
    Any filters can i use for this??
    Is there any possible way other than changing f1 to
Field.Index.tokenized???Because i want to avoid duplication in index.

------=_Part_84821_17536718.1173173821987--

From java-user-return-26650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 10:09:50 2007
Return-Path: <java-user-return-26650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51269 invoked from network); 6 Mar 2007 10:09:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 10:09:49 -0000
Received: (qmail 77887 invoked by uid 500); 6 Mar 2007 10:09:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77852 invoked by uid 500); 6 Mar 2007 10:09:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77841 invoked by uid 99); 6 Mar 2007 10:09:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 02:09:52 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.11.145.17] (HELO bobcat.webappcabaret.net) (209.11.145.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 02:09:41 -0800
Received: (qmail 8541 invoked by uid 5169); 6 Mar 2007 02:09:15 -0800
Received: from 85.178.78.116 by bobcat (envelope-from <ulf@ulfdittmer.com>, uid 98) with qmail-scanner-1.23st 
 (spamassassin: 3.0.2. perlscan: 1.23st.  
 Clear:RC:0(85.178.78.116):SA:0(-1.6/6.0):. 
 Processed in 0.994814 secs); 06 Mar 2007 10:09:15 -0000
X-Qmail-Scanner-Mail-From: ulf@ulfdittmer.com via bobcat
X-Qmail-Scanner: 1.23st (Clear:RC:0(85.178.78.116):SA:0(-1.6/6.0):. Processed in 0.994814 secs Process 8533)
Received: from unknown (HELO ?10.0.1.2?) (ulf@ulfdittmer.com@85.178.78.116)
  by 0 with SMTP; 6 Mar 2007 02:09:14 -0800
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <359a92830703041505y45c0883en2f647cd9cbd9dee9@mail.gmail.com>
References: <D1E30E6D-9B27-47F2-839B-359CB8EF643B@ulfdittmer.com> <359a92830703041505y45c0883en2f647cd9cbd9dee9@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <95030811-4A4E-43BF-9968-29E1FB4C3686@ulfdittmer.com>
Content-Transfer-Encoding: 7bit
From: Ulf Dittmer <ulf@ulfdittmer.com>
Subject: Re: question about ScoreDocComparator
Date: Tue, 6 Mar 2007 11:09:37 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-1.6 required=6.0

Well, I am using a Sort object ("Hits = Search.search(Query, Filter,  
Sort)" actually).
In setting up the SortField array for that Sort object with a  
SortComparatorSource the issue comes up that I need to access the  
field value that is being used for sorting.

Maybe that's just the way Lucene works, but it seems that there  
should be an easy way to get at the field value without having to  
retrieve the document from the index.

Cheers,
Ulf


On 05.03.2007, at 00:05, Erick Erickson wrote:

> Maybe I'm missing something in turn, but why not just use a Sort  
> object at
> search time?  You can have a Hits object or TopFIeldDocs object  
> returned
> (the Filter in some of these calls can be null).
>
> Best
> Erick
>
>
> On 3/1/07, Ulf Dittmer <ulf@ulfdittmer.com> wrote:
>>
>> Hello-
>>
>> One of the fields in my index is an ID, which maps to a full text
>> description behind the scenes. Now I want to sort the search results
>> alphabetically according to the description, not the ID. This can be
>> done via SortComparatorSource and a ScoreDocComparator without
>> problems. But the code needed to do this is quite complicated - it
>> involves retrieving the document ID from the ScoreDoc, then looking
>> up the Document through an IndexReader, and then retrieving the ID
>> field from the document. It seems that there should be an easier way
>> to get at the ID field, since that is the one being used for the
>> sort. There is a related class FieldDoc, through which it seems
>> possible to get at the field values, but that doesn't seem  
>> applicable here.
>>
>> I went through the custom sorting example of "Lucene In Action", but
>> that doesn't deal with this case. Am I missing something obvious?
>>
>> Thanks in advance,
>> Ulf


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 10:23:10 2007
Return-Path: <java-user-return-26651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54766 invoked from network); 6 Mar 2007 10:23:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 10:23:09 -0000
Received: (qmail 93066 invoked by uid 500); 6 Mar 2007 10:23:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92890 invoked by uid 500); 6 Mar 2007 10:23:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92879 invoked by uid 99); 6 Mar 2007 10:23:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 02:23:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 02:23:01 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l26AMb39011578
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 10:22:37 GMT
Received: from [10.11.108.231] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.2.15)
    via ESMTP; Tue, 06 Mar 2007 10:22:36 +0000 (GMT)
Date: Tue, 6 Mar 2007 10:22:35 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <45ED40EB.6070405@scalix.com>
In-Reply-To: <45EB3A3D.50803@comcast.net>
References: <45EB3A3D.50803@comcast.net>
Subject: Re: Clearing locks
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

MC Moisei wrote:
> Is there a easy way to clear locks ?
>
> If I redeploy my war file and it happens that there is an indexing
> happening the lock is not cleared. I know I can tell JVM to run the
> finalizers before it exits but in this case the JVM is not exiting being
> a hot deploy.
>   
I'd do this by having a destroy() method in the servlet to explicitly 
shut down any operations.  Tomcat (or whatever the servlet is) will call 
destroy() for you when it shuts down the servlet.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 10:38:52 2007
Return-Path: <java-user-return-26652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59007 invoked from network); 6 Mar 2007 10:38:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 10:38:50 -0000
Received: (qmail 11203 invoked by uid 500); 6 Mar 2007 10:38:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11021 invoked by uid 500); 6 Mar 2007 10:38:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11010 invoked by uid 99); 6 Mar 2007 10:38:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 02:38:53 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 02:38:44 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5BF2730EFC18; Tue,  6 Mar 2007 03:38:23 -0700 (MST)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-71-53-203-135.dhcp.embarqhsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id E42D630EFC16
	for <java-user@lucene.apache.org>; Tue,  6 Mar 2007 03:38:11 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <45ED124E.9060903@teamware.com>
References: <45ED124E.9060903@teamware.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Caching of BitSets from filters and Query.equals()
Date: Tue, 6 Mar 2007 05:38:10 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.3 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.1.1

Have a look at the CachingWrappingFilter:

	<http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
CachingWrapperFilter.html>

It caches filters by IndexReader instance.

	Erik


On Mar 6, 2007, at 2:03 AM, Antony Bowesman wrote:

> Not sure if I'm going about this the right way, but I want to use  
> Query instances as a key to a HashMap to cache BitSet instances  
> from filtering operations.  They are all for the same reader.
>
> That means equals() for any instance of the same generic Query  
> would have to return true if the terms, boost and other factors of  
> the Query would result in the same BitSet.  Most of the Query  
> instances override equals and return true based on the Query.  At  
> least BooleanQuery would not give true, because it does not base  
> the equals on the encapsulated clauses, but in practice that is not  
> a problem as BooleanQuery will not be used as a Filter.
>
> It looks like it will work in the main, but I was wondering if  
> there was any unwritten, but exepected, contract for a Query's  
> equals()?
>
> Thanks
> Antony
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 11:36:13 2007
Return-Path: <java-user-return-26653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74560 invoked from network); 6 Mar 2007 11:36:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 11:36:13 -0000
Received: (qmail 80449 invoked by uid 500); 6 Mar 2007 11:36:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80305 invoked by uid 500); 6 Mar 2007 11:36:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80266 invoked by uid 99); 6 Mar 2007 11:36:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 03:36:09 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 03:35:59 -0800
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l26BZVqS027563
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 13:35:31 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m36d_ff1; 6 Mar 2007 13:35:00 +0200
Message-ID: <45ED51F2.30507@teamware.com>
Date: Tue, 06 Mar 2007 22:35:14 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Caching of BitSets from filters and Query.equals()
References: <45ED124E.9060903@teamware.com> <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com>
In-Reply-To: <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Tue, 06 Mar 2007 13:35:32 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Erik Hatcher wrote:
> Have a look at the CachingWrappingFilter:
> 
>     <http://lucene.apache.org/java/docs/api/org/apache/lucene/search/CachingWrapperFilter.html> 
> 
> 
> It caches filters by IndexReader instance.

Doesn't that still have the same issue in terms of equality of conditions that 
created the filter.  If I have conditions that filter Term X, then the cached 
Filter is only valid for new requests for Term X.  Term equality is defined by 
the Javadocs as having the same Field and Text, but to cache a Query, its 
equality must be deterministic in a similar way, but it isn't.

I was hoping that Query.equals() would be defined so that equality would be 
based on the results that Query generates for a given reader.

I'm hosting an indexing framework, so I've no idea what searches or filters a 
caller will want to perform.

Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 13:10:03 2007
Return-Path: <java-user-return-26654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99087 invoked from network); 6 Mar 2007 13:10:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 13:10:03 -0000
Received: (qmail 79414 invoked by uid 500); 6 Mar 2007 13:10:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79177 invoked by uid 500); 6 Mar 2007 13:10:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79166 invoked by uid 99); 6 Mar 2007 13:10:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 05:10:04 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 05:09:54 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 75BE930EFC18; Tue,  6 Mar 2007 06:09:33 -0700 (MST)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 9500630EFC16
	for <java-user@lucene.apache.org>; Tue,  6 Mar 2007 06:09:32 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <45ED51F2.30507@teamware.com>
References: <45ED124E.9060903@teamware.com> <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com> <45ED51F2.30507@teamware.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A581BD39-4F1B-4520-AE77-2B70176D568F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Caching of BitSets from filters and Query.equals()
Date: Tue, 6 Mar 2007 08:09:31 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1


On Mar 6, 2007, at 6:35 AM, Antony Bowesman wrote:
> Erik Hatcher wrote:
>> Have a look at the CachingWrappingFilter:
>>     <http://lucene.apache.org/java/docs/api/org/apache/lucene/ 
>> search/CachingWrapperFilter.html> It caches filters by IndexReader  
>> instance.
>
> Doesn't that still have the same issue in terms of equality of  
> conditions that created the filter.  If I have conditions that  
> filter Term X, then the cached Filter is only valid for new  
> requests for Term X.  Term equality is defined by the Javadocs as  
> having the same Field and Text, but to cache a Query, its equality  
> must be deterministic in a similar way, but it isn't.

A Query's equality is defined as having the same structure and order  
as another Query.

> I was hoping that Query.equals() would be defined so that equality  
> would be based on the results that Query generates for a given reader.

That is certainly not the case, as stated above.  query1.equals 
(query2) when all the nested clauses also report back they  
are .equals one another.  This is very important in our unit tests -  
to construct a query through the QueryParser and then through the API  
and compare them.

> I'm hosting an indexing framework, so I've no idea what searches or  
> filters a caller will want to perform.

Have a look at Solr's caching mechanisms for filters, queries, and  
documents.  Very slick and scalable stuff.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 16:03:12 2007
Return-Path: <java-user-return-26655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82878 invoked from network); 6 Mar 2007 16:03:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 16:03:11 -0000
Received: (qmail 18075 invoked by uid 500); 6 Mar 2007 16:03:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17744 invoked by uid 500); 6 Mar 2007 16:03:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17732 invoked by uid 99); 6 Mar 2007 16:03:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 08:03:12 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.235 as permitted sender)
Received: from [64.233.184.235] (HELO wr-out-0506.google.com) (64.233.184.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 08:03:00 -0800
Received: by wr-out-0506.google.com with SMTP id 36so2366124wra
        for <java-user@lucene.apache.org>; Tue, 06 Mar 2007 08:02:38 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=azr08KztXNO2CN9VJNhNUu+2CBvu+DrgfIwNyKFcqz/5fPN7pKcBXO5mvbkrxN1K+GiOLDToQDcRi7ilI4/eal2YrUg7Um9D+OBcfKyKR51WdpM5ysme2Ebo2cEzEdWDzoUtKtjYskauZv+wE1Kv40TR0ze53cXTsBBn03TD6b4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=E67gRf+4G3F2ZPuuF24RK0L+ax4QEXaUPaxsJszQf6Nk22N9HOM1PizSWrJm++aa0yGRYMtKjld0bsOs7UiiNu7beEeuoLxr0wBy3yO2+1ZO8KoPN5yVinREETu9xxbpahoZBydah/QDwo1VfEnM/uEppeAYaD/6FET94O4Hy2g=
Received: by 10.115.14.1 with SMTP id r1mr1766996wai.1173196946715;
        Tue, 06 Mar 2007 08:02:26 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Tue, 6 Mar 2007 08:02:26 -0800 (PST)
Message-ID: <359a92830703060802vd3684a6x5310fed495b0dcb4@mail.gmail.com>
Date: Tue, 6 Mar 2007 11:02:26 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Indexing & search?
In-Reply-To: <21e234c60703060137q1db5457fu8fc72a9205af7627@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_186793_5116106.1173196946673"
References: <21e234c60703060137q1db5457fu8fc72a9205af7627@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_186793_5116106.1173196946673
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You could analyze all the documents returned in your query to see
if the "other fields" match. That is, could cycle through each
document returned in, say, a hits object to see if f1 actually matches.

This is almost certainly NOT what you want to do. Do you have any
clue whether saving the space is actually worth it? How big to
you expect your index to be? Disk space is cheap, and Lucene
handles pretty big indexes well. For instance, I've found that the
search time in a 4G index is, maybe, 10-15% faster than an 8G
index. So unless and until you *know*
there's a problem, you should index all the fields you want to search
on, keeping the design as simple as possible. Only after you *know*
there's a problem should you consider efficiencies....

Best
Erick

On 3/6/07, senthil kumaran <kumaranjove@gmail.com> wrote:
>
> Hi,
>     I've indexed 4 among 5 fields with Field.Store.YES & Field.Index.NO.
> And
> indexed the remaining one, say it's Field Name is *content*, with
> Field.Store.YES & Field.Index.Tokenized(It's value is collective value of
> other 4 fields and some more values).So my search always based on
> *content*field.
>     I've indexed 2 douments . In 1st doc, f1:mybook, f2:contains, f3:all,
> f4:information, content:mybook contains all information that you need
> and in 2nd   f1:somebody, f2:want, f3:search, f4:information,
> content:somebody want search information of mybook
>     I want to get search results of all docs where field1's value is
> "mybook".My query is content:mybook.But it returns 2 matching documents
> instead of 1.
>     Any filters can i use for this??
>     Is there any possible way other than changing f1 to
> Field.Index.tokenized???Because i want to avoid duplication in index.
>

------=_Part_186793_5116106.1173196946673--

From java-user-return-26656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 16:07:05 2007
Return-Path: <java-user-return-26656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84084 invoked from network); 6 Mar 2007 16:07:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 16:07:05 -0000
Received: (qmail 24707 invoked by uid 500); 6 Mar 2007 16:07:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24673 invoked by uid 500); 6 Mar 2007 16:07:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24662 invoked by uid 99); 6 Mar 2007 16:07:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 08:07:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 08:06:54 -0800
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1600A4E1@mailer.syr.edu>; Tue, 6 Mar 2007 11:06:33 -0500
Message-ID: <45ED9189.8050805@syr.edu>
Date: Tue, 06 Mar 2007 11:06:33 -0500
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Indexing & search?
References: <21e234c60703060137q1db5457fu8fc72a9205af7627@mail.gmail.com>
In-Reply-To: <21e234c60703060137q1db5457fu8fc72a9205af7627@mail.gmail.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi senthil,

senthil kumaran wrote:
>    I've indexed 4 among 5 fields with Field.Store.YES & Field.Index.NO. And
> indexed the remaining one, say it's Field Name is *content*, with
> Field.Store.YES & Field.Index.Tokenized(It's value is collective value of
> other 4 fields and some more values).So my search always based on
> *content*field.
>    I've indexed 2 douments . In 1st doc, f1:mybook, f2:contains, f3:all,
> f4:information, content:mybook contains all information that you need
> and in 2nd   f1:somebody, f2:want, f3:search, f4:information,
> content:somebody want search information of mybook
>    I want to get search results of all docs where field1's value is
> "mybook".My query is content:mybook.But it returns 2 matching documents
> instead of 1.
>    Any filters can i use for this??
>    Is there any possible way other than changing f1 to
> Field.Index.tokenized???Because i want to avoid duplication in index.

Your query is behaving as it should - since the "content" field in both
docs contains "mybook", they both match.

Although you say you want to avoid duplication in the index, I think you
already know what to do (you wrote "I want to get search results of all
docs where field1's value is 'mybook'") - index "field1" to make it
directly queryable.  If the information really needs to be distinct to
query properly, then make it so.

And if the index gets too large, you can try removing the duplication
from the "content" field, and include the other fields in your queries.

Steve

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 16:16:49 2007
Return-Path: <java-user-return-26657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88079 invoked from network); 6 Mar 2007 16:16:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 16:16:47 -0000
Received: (qmail 47334 invoked by uid 500); 6 Mar 2007 16:16:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47303 invoked by uid 500); 6 Mar 2007 16:16:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47291 invoked by uid 99); 6 Mar 2007 16:16:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 08:16:49 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.58] (HELO web50304.mail.re2.yahoo.com) (206.190.38.58)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 06 Mar 2007 08:16:37 -0800
Received: (qmail 98756 invoked by uid 60001); 6 Mar 2007 16:16:16 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=w91anh7wffuuDmLQsA7z6UTFvaHOMvu+fQXDTcPeKLR9jd67AXyPEsjkGw/X38CVFK8B52+c8C4LAePPKeZtw5zlIUc8DbKWvaFsZaob0jNxDOYsVZvHADHeIDqdir4GONIIDK8Yg6ZadmjJCKLjRqv2B/T1TmKslf/eZvhjIao=  ;
Message-ID: <20070306161616.98754.qmail@web50304.mail.re2.yahoo.com>
X-YMail-OSG: 7ikkX1IVM1m81FJ7zHSuam0ycDbfChjBbYT3gjdh10goQRhS8HBMnfhgAO73VYhnxw--
Received: from [58.63.152.150] by web50304.mail.re2.yahoo.com via HTTP; Tue, 06 Mar 2007 08:16:16 PST
X-Mailer: YahooMailRC/468.1 YahooMailWebService/0.6.132.8
Date: Tue, 6 Mar 2007 08:16:16 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Search benchmark: 2.0 vs. 2.2-dev and heap sizing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,=0A=0AI'm doing some Lucene search benchmarking (got to love massive que=
ry logs :)) and have 2 questions:=0A=0A1) Has anyone compared Lucene 2.0 an=
d 2.2-dev?  My benchmarks found 2.2-dev (freshly baked) to be somewhat slow=
er than 2.0, despite all those performance improvements (see CHANGES.txt)..=
. Has anyone else done the comparison?  My queries are a mixture of 2-3 req=
uired keywords (majority) and phrase queries with 2-3 keywords.=0A=0ATo giv=
e you an idea about how much slower 2.2-dev is for me, here are some counts=
 for queries I considered slow (> 1s latency) during my benchmark with 8 co=
ncurrent search threads and then 64 threads:=0A=0A=0A$ grep -c SLOW 5-shard=
-log-2.0/8.log =0A1183=0A$ grep -c SLOW 5-shard-log-2.2-dev/8.log =0A5479=
=0A=0A$ grep -c SLOW 5-shard-log-2.0/64.log =0A28657=0A$ grep -c SLOW 5-sha=
rd-log-2.2-dev/64.log =0A33459=0A=0AThis is of a total of 100K queries.=0A=
=0A2) My benchmark was against 5 optimized compound Lucene indices, about 9=
GB each, on a box with 32GB of RAM and several CPUs.  I gave the JVM 22GB w=
ith Xms and Xmx.  However, I am wondering if giving it that much is actuall=
y smart.  While I'm letting JVM use more RAM, I'm taking it away from the O=
S for FS caching.  So, I'm now thinking about running the same benchmark, b=
ut with a smaller max heap.  But how much should I give it?  I'm thinking a=
bout adding up sizes of all .tii files, adding some padding for the JVM, GC=
, etc., and using that.  Is there anything else I should consider here?=0A=
=0ASo I looked at one of the .cfs files:=0A=0A_0.f0: 11164467 bytes=0A... o=
ther fields, same size, of course=0A_0.fdt: 381343723 bytes=0A_0.fdx: 89315=
736 bytes=0A_0.fnm: 78 bytes=0A_0.frq: 4591955197 bytes=0A_0.prx: 424280726=
6 bytes=0A_0.tii: 11498861 bytes=0A_0.tis: 829868070 bytes=0A=0A=0AHere, th=
e .tii file is only about 11 MB.  That looks awfully small!  There is no wa=
y 5 x 11 MB + padding will be enough.  Should I be adding the size of some =
other file(s)?  .tis perhaps?=0A=0AThanks,=0AOtis=0A=0A. . . . . . . . . . =
. . . . . . . . . . . . . . . . . . . .=0ASimpy -- http://www.simpy.com/  -=
  Tag  -  Search  -  Share=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 18:07:17 2007
Return-Path: <java-user-return-26658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31836 invoked from network); 6 Mar 2007 18:07:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 18:07:16 -0000
Received: (qmail 55350 invoked by uid 500); 6 Mar 2007 18:07:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55320 invoked by uid 500); 6 Mar 2007 18:07:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55291 invoked by uid 99); 6 Mar 2007 18:07:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 10:07:17 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 10:07:03 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l26I6fRg085818
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 18:06:42 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l26I6fvG2072640
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 19:06:41 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l26I6f6D007507
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 19:06:41 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l26I6fAk007504
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 19:06:41 +0100
In-Reply-To: <20070306161616.98754.qmail@web50304.mail.re2.yahoo.com>
Subject: Re: Search benchmark: 2.0 vs. 2.2-dev and heap sizing
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFA5B42FAE.4113F0F5-ON88257296.00605103-88257296.0062F6F0@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 6 Mar 2007 10:00:57 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 06/03/2007 20:06:41
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

This is interesting.

Very large heaps can sometimes cause an expensive gc cycle ("Can heap be
too big?" - http://www.javaperformancetuning.com/news/qotm045.shtml) and
different memory allocation patterns between 2.0 and 2.2 could I think play
in too, so it would be interesting to know the numbers with smaller heap
sizes.

A few more questions:
- Readers reuse: Are all searches of the same thread sharing
searchers/readers? Are different threads sharing searchers/readers?
- What happens with a single thread?
- Is this degradation visible also by single queries, or are some queries
faster in 2.0 and some in 2.2?

Thanks,
Doron

Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote on 06/03/2007 08:16:16:

> Hi,
>
> I'm doing some Lucene search benchmarking (got to love massive query
> logs :)) and have 2 questions:
>
> 1) Has anyone compared Lucene 2.0 and 2.2-dev?  My benchmarks found
> 2.2-dev (freshly baked) to be somewhat slower than 2.0, despite all
> those performance improvements (see CHANGES.txt)... Has anyone else
> done the comparison?  My queries are a mixture of 2-3 required
> keywords (majority) and phrase queries with 2-3 keywords.
>
> To give you an idea about how much slower 2.2-dev is for me, here
> are some counts for queries I considered slow (> 1s latency) during
> my benchmark with 8 concurrent search threads and then 64 threads:
>
>
> $ grep -c SLOW 5-shard-log-2.0/8.log
> 1183
> $ grep -c SLOW 5-shard-log-2.2-dev/8.log
> 5479
>
> $ grep -c SLOW 5-shard-log-2.0/64.log
> 28657
> $ grep -c SLOW 5-shard-log-2.2-dev/64.log
> 33459
>
> This is of a total of 100K queries.
>
> 2) My benchmark was against 5 optimized compound Lucene indices,
> about 9GB each, on a box with 32GB of RAM and several CPUs.  I gave
> the JVM 22GB with Xms and Xmx.  However, I am wondering if giving it
> that much is actually smart.  While I'm letting JVM use more RAM,
> I'm taking it away from the OS for FS caching.  So, I'm now thinking
> about running the same benchmark, but with a smaller max heap.  But
> how much should I give it?  I'm thinking about adding up sizes of
> all .tii files, adding some padding for the JVM, GC, etc., and using
> that.  Is there anything else I should consider here?
>
> So I looked at one of the .cfs files:
>
> _0.f0: 11164467 bytes
> ... other fields, same size, of course
> _0.fdt: 381343723 bytes
> _0.fdx: 89315736 bytes
> _0.fnm: 78 bytes
> _0.frq: 4591955197 bytes
> _0.prx: 4242807266 bytes
> _0.tii: 11498861 bytes
> _0.tis: 829868070 bytes
>
>
> Here, the .tii file is only about 11 MB.  That looks awfully small!
> There is no way 5 x 11 MB + padding will be enough.  Should I be
> adding the size of some other file(s)?  .tis perhaps?
>
> Thanks,
> Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 18:24:10 2007
Return-Path: <java-user-return-26659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38708 invoked from network); 6 Mar 2007 18:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 18:24:09 -0000
Received: (qmail 83249 invoked by uid 500); 6 Mar 2007 18:24:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83219 invoked by uid 500); 6 Mar 2007 18:24:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83208 invoked by uid 99); 6 Mar 2007 18:24:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 10:24:11 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.109.24.36] (HELO smtp-vbr16.xs4all.nl) (194.109.24.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 10:23:59 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr16.xs4all.nl (8.13.8/8.13.8) with ESMTP id l26INatF069791
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 19:23:37 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: alternative scoring algorithm for PhraseQuery
Date: Tue, 6 Mar 2007 19:23:29 +0100
User-Agent: KMail/1.8.2
References: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com>
In-Reply-To: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200703061923.31734.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

Philipp,

First off: I have no solutions, just some existing things that might
be useful.

On Tuesday 06 March 2007 01:08, Philipp Nanz wrote:
> Hello folks,
> 
...
> 
> Now my problem is with scoring the deletion cases.
> 
> My initial idea was to penalize a missing term position with its maximum 
error.
> 
...
> 
> Does anyone know a better solution for scoring deletion cases?

The closest existing thing is coord() factor from Similarity.
But using that will only allow you to delay the implementation.

You can also use the sloppyFreq() from Similarity, but then
you still need a way to determine the sloppiness for any possible
term order. Span queries to that by just taking the distance
between the first and last matched "term".

Would your implementation also generalize to a SpanQuery?

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 18:36:15 2007
Return-Path: <java-user-return-26660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44282 invoked from network); 6 Mar 2007 18:36:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 18:36:14 -0000
Received: (qmail 8220 invoked by uid 500); 6 Mar 2007 18:36:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8193 invoked by uid 500); 6 Mar 2007 18:36:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8182 invoked by uid 99); 6 Mar 2007 18:36:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 10:36:16 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tpatton@dealcatcher.com designates 63.238.173.3 as permitted sender)
Received: from [63.238.173.3] (HELO mail.netvation.com) (63.238.173.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 10:36:03 -0800
DKIM-Signature: t=1173188253; a=RSA-SHA1; q=dns; s=mail; d=dealcatcher.com;
  i=@dealcatcher.com; c=relaxed/simple;
  bh=bkj+Fec4HQTuZRx0ltEV8MyC1K4=; h=DomainKey-Signature:Received:Message-I
  D:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Con
  tent-Type:Content-Transfer-Encoding; b=Nd3BtGjKE7KXbDwAnblV9gPhmpLDvY7iOY
  lD1yN6UQY8xEmnn8nhbexHWQ5+wBy2Yd4P1C+ZbCtuj0vKy1ng5cL3DGrKg4509hYEmeLvq+y
  ijC1tFZkfN8HrGSJsZgpj
DomainKey-Signature: a=rsa-sha1; q=dns; s=mail; d=dealcatcher.com; c=nofws;
  h=Return-Path:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Su
  bject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=V6
  c8GtWX+gKo+DEqqDAL0Sfb68Eaf1/bD510lr7a9R0DPGguRw6EpdXgNtu6gdwtnhgcJK3KpGR
  UJdwBCp58UeH24P1Z4KWyJyX7G4STa/jRkwRzFLHji61lmNCZGLEC;
Received: from static-63-238-173-100.t1.cavtel.net [63.238.173.100] by mail.netvation.com with SMTP;
   Tue, 6 Mar 2007 13:37:14 -0500
Message-ID: <45EDB4DA.1080903@dealcatcher.com>
Date: Tue, 06 Mar 2007 13:37:14 -0500
From: Tim Patton <tpatton@dealcatcher.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Missing .tii File
References: <45EC6DB6.6010102@dealcatcher.com>
In-Reply-To: <45EC6DB6.6010102@dealcatcher.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



Tim Patton wrote:
> I'm not sure how, but in moving an index over from 2.0 to 2.1 and 
> changing my own code one of the .tii files got deleted.  I still have 
> the .tis file though, can I rebuild the missing file so I can open my 
> index?  Luke won't open it now and I just want to make sure everything 
> is ok before opening a writer and possibly doing some permanent damage.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
In the interest if helping out the next person with this problem, here 
is all my code to recover the missing .tii file when I still had the 
rest of the index.

Of course now I am also missing one .fN norm file so I will be trying to 
figure out how to recover that.  Looks like everything else is there, I 
have no idea how this happened.

package org.apache.lucene.index;

import java.util.Iterator;
import java.util.LinkedList;
import java.util.List;
import org.apache.lucene.index.TermInfo;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.FSDirectory;

public class TIIRecover
{
	public static void main(String[] args)
	{
		try
		{
			String segment="_aginr";
			Directory cfsDir=FSDirectory.getDirectory("c:/java/lib/lucene/recover");
			FieldInfos fieldInfos = new FieldInfos(cfsDir, segment + ".fnm");
			SegmentTermEnum origEnum = new 
SegmentTermEnum(cfsDir.openInput(segment + ".tis"), fieldInfos, false);

			List<Term> termList = new LinkedList<Term>();
			List<TermInfo> termInfoList = new LinkedList<TermInfo>();
			int count=0;
			while(origEnum.next())
			{
				Term term = origEnum.term();
				TermInfo ti = origEnum.termInfo();
				termList.add(term);
				termInfoList.add(ti);
				count++;
			}
			origEnum.close();
			System.out.println("Copied: "+count);
			count=0;

			TermInfosWriter termWriter = new TermInfosWriter(cfsDir, segment, 
fieldInfos, 128);//128 taken from TermInfosWriter.java
			Iterator<Term> termItr = termList.iterator();
			Iterator<TermInfo> termInfoItr = termInfoList.iterator();
			while(termItr.hasNext())
			{
				Term term =termItr.next();
				TermInfo ti = termInfoItr.next();
				termWriter.add(term, ti);
				count++;
			}
			termWriter.close();
			System.out.println("Saved: "+count);

		}
		catch(Throwable e)
		{
			System.err.println(e);
		}
	}
}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 19:41:20 2007
Return-Path: <java-user-return-26661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73094 invoked from network); 6 Mar 2007 19:41:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 19:41:19 -0000
Received: (qmail 5179 invoked by uid 500); 6 Mar 2007 19:41:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5147 invoked by uid 500); 6 Mar 2007 19:41:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5136 invoked by uid 99); 6 Mar 2007 19:41:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 11:41:21 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 11:41:10 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 127FD5B766; Tue,  6 Mar 2007 11:40:50 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0F78B7F403
	for <java-user@lucene.apache.org>; Tue,  6 Mar 2007 11:40:50 -0800 (PST)
Date: Tue, 6 Mar 2007 11:40:50 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: alternative scoring algorithm for PhraseQuery
In-Reply-To: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703061138500.22293@hal.rescomp.berkeley.edu>
References: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: My initial idea was to penalize a missing term position with its maximum error.
:
: Consider this:
: Query:  a b c d
: Document A: b c d
:
: Term a is missing, score it as if it was at the worst position possible
:
: result:       b c d a
: pos. diffs: -1 -1 -1 +3

side comment: this doesn't sound very useful, a document containing "b c
d" matches equally to a doc containing "b c d a" ? ... shouldn't a doc
containing "b c d a" be considered a much better match since it at least
contains all of the terms close together?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 19:52:48 2007
Return-Path: <java-user-return-26662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78945 invoked from network); 6 Mar 2007 19:52:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 19:52:47 -0000
Received: (qmail 36345 invoked by uid 500); 6 Mar 2007 19:52:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36311 invoked by uid 500); 6 Mar 2007 19:52:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36300 invoked by uid 99); 6 Mar 2007 19:52:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 11:52:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 11:52:37 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EBEDB5B766; Tue,  6 Mar 2007 11:52:16 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E421D7F403
	for <java-user@lucene.apache.org>; Tue,  6 Mar 2007 11:52:16 -0800 (PST)
Date: Tue, 6 Mar 2007 11:52:16 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Caching of BitSets from filters and Query.equals()
In-Reply-To: <45ED51F2.30507@teamware.com>
Message-ID: <Pine.LNX.4.58.0703061144180.22293@hal.rescomp.berkeley.edu>
References: <45ED124E.9060903@teamware.com> <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com>
 <45ED51F2.30507@teamware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I was hoping that Query.equals() would be defined so that equality would be
: based on the results that Query generates for a given reader.

if query1.equals(query2) then the results of query1 on an
indexreader should be identical to the results of query2 on the same
indexreader ... but there inverse can not be garunteed: if query1 and
query2 generate identical results when queried against an indexreader that
says absolutely nothing about wether query1.equals(query2).

if you think about it, there's no possible way it ever could, because a
critical piece of information isn't available when testing the
.equals()ness of those queries: the indexreader.  if i have a completley
empty index then the queries "foo:bar" and "yak:wak"will both have the
exact same results, but those same queries on an index with a single
document added might now generate different results -- so how could an
algorithm like you describe possibly be implemented in a Query.equals()
method when the IndexReader isn't known?

in general, what you describe really isn't needed for caching query result
sets ... what matters is that if you've already seen the query before
(which you can tell using q1.equals(q2)) then you don't need to execute it
.. wether or not it results in the same set of docs as a completley
unrelated query doesn't really tell you much (i suppose you could save
some space by reusing the same BitSet object ... but that can be done by
testing hte equality of hte resulting BitSet)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 20:23:23 2007
Return-Path: <java-user-return-26663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98747 invoked from network); 6 Mar 2007 20:23:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 20:23:21 -0000
Received: (qmail 84328 invoked by uid 500); 6 Mar 2007 20:23:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84288 invoked by uid 500); 6 Mar 2007 20:23:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84272 invoked by uid 99); 6 Mar 2007 20:23:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 12:23:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 12:23:12 -0800
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l26KMiYo026516
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 22:22:44 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m36mm66e; 6 Mar 2007 22:22:00 +0200
Message-ID: <45EDCD91.8030900@teamware.com>
Date: Wed, 07 Mar 2007 07:22:41 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Caching of BitSets from filters and Query.equals()
References: <45ED124E.9060903@teamware.com> <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com> <45ED51F2.30507@teamware.com> <Pine.LNX.4.58.0703061144180.22293@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703061144180.22293@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Tue, 06 Mar 2007 22:22:44 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Hostetter wrote:
> : I was hoping that Query.equals() would be defined so that equality would be
> : based on the results that Query generates for a given reader.
> 
> if query1.equals(query2) then the results of query1 on an
> indexreader should be identical to the results of query2 on the same
> indexreader 

Thanks Hoss and Erik.  This is the case I wanted, but re-reading my desire 
above, I see it looks more like the inverse.  Sorry for the confusion.

> ... but there inverse can not be garunteed: if query1 and
> query2 generate identical results when queried against an indexreader that
> says absolutely nothing about wether query1.equals(query2).

Yes, that's not what I was after - As you say, it's not possible to implement.

> in general, what you describe really isn't needed for caching query result
> sets ... what matters is that if you've already seen the query before
> (which you can tell using q1.equals(q2)) then you don't need to execute it

Exactly, and to be sure of that you have to be able to rely on an overridden 
equals to get q1.equals(q2).  The core Lucene Query implementations do override 
equals() to satisfy that test, but some of the contrib Query implementations do 
not override equals, so you would never see the same Query twice and caching 
BitSets for those Query instances would be a waste of time.

Antony





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 20:32:22 2007
Return-Path: <java-user-return-26664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3360 invoked from network); 6 Mar 2007 20:32:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 20:32:22 -0000
Received: (qmail 94720 invoked by uid 500); 6 Mar 2007 20:32:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94678 invoked by uid 500); 6 Mar 2007 20:32:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94667 invoked by uid 99); 6 Mar 2007 20:32:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 12:32:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 12:32:13 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 69B705B766; Tue,  6 Mar 2007 12:31:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5D4447F403
	for <java-user@lucene.apache.org>; Tue,  6 Mar 2007 12:31:53 -0800 (PST)
Date: Tue, 6 Mar 2007 12:31:53 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Caching of BitSets from filters and Query.equals()
In-Reply-To: <45EDCD91.8030900@teamware.com>
Message-ID: <Pine.LNX.4.58.0703061225170.26548@hal.rescomp.berkeley.edu>
References: <45ED124E.9060903@teamware.com> <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com>
 <45ED51F2.30507@teamware.com> <Pine.LNX.4.58.0703061144180.22293@hal.rescomp.berkeley.edu>
 <45EDCD91.8030900@teamware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: equals to get q1.equals(q2).  The core Lucene Query implementations do override
: equals() to satisfy that test, but some of the contrib Query implementations do
: not override equals, so you would never see the same Query twice and caching
: BitSets for those Query instances would be a waste of time.

fileing bugs about those Query instances would be helpful .. bugs with
patches that demonstrate the problem in unit tests and fix them would be
even more helpful :)

These classes may prove useful in submitting test cases...

http://svn.apache.org/viewvc/lucene/java/trunk/src/test/org/apache/lucene/search/QueryUtils.java?view=log
http://svn.apache.org/viewvc/lucene/java/trunk/src/test/org/apache/lucene/search/CheckHits.java



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 06 20:34:32 2007
Return-Path: <java-user-return-26665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4227 invoked from network); 6 Mar 2007 20:34:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 6 Mar 2007 20:34:31 -0000
Received: (qmail 98989 invoked by uid 500); 6 Mar 2007 20:34:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98947 invoked by uid 500); 6 Mar 2007 20:34:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98936 invoked by uid 99); 6 Mar 2007 20:34:33 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 12:34:33 -0800
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of andyliu1227@gmail.com designates 64.233.184.235 as permitted sender)
Received: from [64.233.184.235] (HELO wr-out-0506.google.com) (64.233.184.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 12:34:22 -0800
Received: by wr-out-0506.google.com with SMTP id 68so3157874wra
        for <java-user@lucene.apache.org>; Tue, 06 Mar 2007 12:34:01 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=E/9RTinIpV4LrIjJQ1TYkgIU3FD7+ZThuFG1In0vYevk1qfapAWesGhCbcVn8ZtmMEt0RebJlDj/BxLz4uJAP+V+exPJL1YofC7Mpi+WLnvXsVcAwS3XOg+Oqwmp4KX7BQkcxyVPgn64uh5MzLUWaKQv6ajyMLkuA6bxzROQisQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=IKtdWelmDQ0GMyQ5GxobhJ9j86Qs5CvuP4AvnH8DkkvQf9lrQsjUBzeeSwlQJdpsl0e/f3hXitHhlaupGoNNukQ9mrOyYzYoY5j0QV8QJ925Tzc2CTTUULoeZgQ7wSGRNdsCaivp4Lud3NXpquJsDTyDKAl5OpZO0kqhY9kzrho=
Received: by 10.114.56.1 with SMTP id e1mr1862291waa.1173213241020;
        Tue, 06 Mar 2007 12:34:01 -0800 (PST)
Received: by 10.114.149.11 with HTTP; Tue, 6 Mar 2007 12:34:00 -0800 (PST)
Message-ID: <32dca9ed0703061234m69e731dcjecefaeb12bbff446@mail.gmail.com>
Date: Tue, 6 Mar 2007 15:34:00 -0500
From: "Andy Liu" <andyliu1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Using ParallelReader over large immutable index and small updatable index
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_177655_7251864.1173213240989"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_177655_7251864.1173213240989
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Is there a working solution out there that would let me use ParallelReader
to search over a large, immutable index and a smaller, auxillary index that
is updated frequently?  Currently, from my understanding, the ParallelReader
fails when one of the indexes is updated because the document ID's get out
of synch.  Using ParallelReader in this way is attractive for me because it
would allow me to quickly make updates to only the fields that change.

The alternative is to use one index.  However, an update would require me to
delete the entire document (which is quite large in my application) and
reinsert it after making updates.  This requires a lot more I/O and is a lot
slower, and I'd like to avoid this if possible.

I can think of other alternatives, but all involve storing data and/or
bitsets in memory, which is not very scalable.  I need to be able to handle
millions of documents.

I'm also open to any solution that don't involve ParallelReader that would
help me make quick updates in the most non-disruptive and scalable fashion.
But it just seems that ParallelReader would be perfect for me needs, if I
can get past this issue.

I've seen posts about this issue on the list, but nothing pointing to a
solution.  Can somebody help me out?

Andy

------=_Part_177655_7251864.1173213240989--

From java-user-return-26666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 00:55:33 2007
Return-Path: <java-user-return-26666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82381 invoked from network); 7 Mar 2007 00:55:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 00:55:32 -0000
Received: (qmail 71917 invoked by uid 500); 7 Mar 2007 00:55:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71508 invoked by uid 500); 7 Mar 2007 00:55:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71497 invoked by uid 99); 7 Mar 2007 00:55:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 16:55:34 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 16:55:23 -0800
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l270srTT005501
	for <java-user@lucene.apache.org>; Wed, 7 Mar 2007 02:54:53 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m372ifky; 7 Mar 2007 02:54:00 +0200
Message-ID: <45EE0D5B.9060801@teamware.com>
Date: Wed, 07 Mar 2007 11:54:51 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Indexing & search?
References: <21e234c60703060137q1db5457fu8fc72a9205af7627@mail.gmail.com>
In-Reply-To: <21e234c60703060137q1db5457fu8fc72a9205af7627@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Wed, 07 Mar 2007 02:54:54 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

>    I've indexed 4 among 5 fields with Field.Store.YES & Field.Index.NO. And
> indexed the remaining one, say it's Field Name is *content*, with
> Field.Store.YES & Field.Index.Tokenized(It's value is collective value of
> other 4 fields and some more values).So my search always based on
> *content*field.
>    I've indexed 2 douments . In 1st doc, f1:mybook, f2:contains, f3:all,
> f4:information, content:mybook contains all information that you need
> and in 2nd   f1:somebody, f2:want, f3:search, f4:information,
> content:somebody want search information of mybook
>    I want to get search results of all docs where field1's value is
> "mybook".My query is content:mybook.But it returns 2 matching documents
> instead of 1.

The example shows the first 4 words of each 'content' being stored as f1, f2, 
f3, f4.  If that is your intention, then you can use SpanFirstQuery to find 
words that were in f1.  It can also be used to find hits in words 2-4, but you 
will have to test the hits to find out the positional match.

Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 01:54:34 2007
Return-Path: <java-user-return-26667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2354 invoked from network); 7 Mar 2007 01:54:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 01:54:33 -0000
Received: (qmail 38623 invoked by uid 500); 7 Mar 2007 01:54:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38596 invoked by uid 500); 7 Mar 2007 01:54:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38585 invoked by uid 99); 7 Mar 2007 01:54:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 17:54:36 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [71.16.107.35] (HELO gw2.sciquest.com) (71.16.107.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 17:54:25 -0800
Received: from me2003.cary.sciquest.com (me2003.cary.sciquest.com [10.0.0.23])
	by gw2.sciquest.com (8.12.9/8.12.9/SQ-GW-1.20060116) with ESMTP id l271s3x6098888
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 6 Mar 2007 20:54:03 -0500
Received: from gabriel.cary.sciquest.com ([10.0.0.25]) by me2003.cary.sciquest.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 6 Mar 2007 20:54:03 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Using ParallelReader over large immutable index and small updatable index
Date: Tue, 6 Mar 2007 20:54:01 -0500
Message-ID: <0C256A587C934045A3C229ADAA3A178107389CC9@gabriel.cary.sciquest.com>
In-Reply-To: <32dca9ed0703061234m69e731dcjecefaeb12bbff446@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Using ParallelReader over large immutable index and small updatable index
thread-index: AcdgLt8PPCmGWjx9QwClRPkGYLm88AAK0HaA
References: <32dca9ed0703061234m69e731dcjecefaeb12bbff446@mail.gmail.com>
From: "Alexey Lef" <alexey@sciquest.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 07 Mar 2007 01:54:03.0117 (UTC) FILETIME=[7B5A89D0:01C7605B]
X-Virus-Checked: Checked by ClamAV on apache.org

We use MultiSearcher for a similar scenario. This way you can keep the =
Searcher/Reader for the read-only index alive and refresh the small =
index Searcher whenever an update is made. If you have any cached =
filters, they are mapped to a Reader, so the cached filters for the big =
index will stay alive as well. The only (small) problem I have found so =
far is how MultiSearcher handles custom Similarity (see =
https://issues.apache.org/jira/browse/LUCENE-789).=20

Hope this helps,

Alexey=20

-----Original Message-----
From: Andy Liu [mailto:andyliu1227@gmail.com]=20
Sent: Tuesday, March 06, 2007 3:34 PM
To: java-user@lucene.apache.org
Subject: Using ParallelReader over large immutable index and small =
updatable index

Is there a working solution out there that would let me use =
ParallelReader
to search over a large, immutable index and a smaller, auxillary index =
that
is updated frequently?  Currently, from my understanding, the =
ParallelReader
fails when one of the indexes is updated because the document ID's get =
out
of synch.  Using ParallelReader in this way is attractive for me because =
it
would allow me to quickly make updates to only the fields that change.

The alternative is to use one index.  However, an update would require =
me to
delete the entire document (which is quite large in my application) and
reinsert it after making updates.  This requires a lot more I/O and is a =
lot
slower, and I'd like to avoid this if possible.

I can think of other alternatives, but all involve storing data and/or
bitsets in memory, which is not very scalable.  I need to be able to =
handle
millions of documents.

I'm also open to any solution that don't involve ParallelReader that =
would
help me make quick updates in the most non-disruptive and scalable =
fashion.
But it just seems that ParallelReader would be perfect for me needs, if =
I
can get past this issue.

I've seen posts about this issue on the list, but nothing pointing to a
solution.  Can somebody help me out?

Andy

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 02:34:51 2007
Return-Path: <java-user-return-26668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19238 invoked from network); 7 Mar 2007 02:34:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 02:34:50 -0000
Received: (qmail 72891 invoked by uid 500); 7 Mar 2007 02:34:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72852 invoked by uid 500); 7 Mar 2007 02:34:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72841 invoked by uid 99); 7 Mar 2007 02:34:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 18:34:51 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 18:34:40 -0800
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l272YD69010556
	for <java-user@lucene.apache.org>; Wed, 7 Mar 2007 04:34:13 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m374ybl2; 7 Mar 2007 04:34:00 +0200
Message-ID: <45EE24A2.1060303@teamware.com>
Date: Wed, 07 Mar 2007 13:34:10 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Caching of BitSets from filters and Query.equals()
References: <45ED124E.9060903@teamware.com> <45C35990-0EF3-496C-BC85-24DDED65C21D@ehatchersolutions.com> <45ED51F2.30507@teamware.com> <Pine.LNX.4.58.0703061144180.22293@hal.rescomp.berkeley.edu> <45EDCD91.8030900@teamware.com> <Pine.LNX.4.58.0703061225170.26548@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703061225170.26548@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Wed, 07 Mar 2007 04:34:13 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Hostetter wrote:
> : equals to get q1.equals(q2).  The core Lucene Query implementations do override
> : equals() to satisfy that test, but some of the contrib Query implementations do
> : not override equals, so you would never see the same Query twice and caching
> : BitSets for those Query instances would be a waste of time.
> 
> fileing bugs about those Query instances would be helpful .. bugs with
> patches that demonstrate the problem in unit tests and fix them would be
> even more helpful :)

OK, I'll put it on my todo list, but I've got to get the product out of the door 
this month...

> These classes may prove useful in submitting test cases...
> 
> http://svn.apache.org/viewvc/lucene/java/trunk/src/test/org/apache/lucene/search/QueryUtils.java?view=log
> http://svn.apache.org/viewvc/lucene/java/trunk/src/test/org/apache/lucene/search/CheckHits.java

Thanks for those pointers.
Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 06:28:54 2007
Return-Path: <java-user-return-26669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72445 invoked from network); 7 Mar 2007 06:28:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 06:28:53 -0000
Received: (qmail 83802 invoked by uid 500); 7 Mar 2007 06:28:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83767 invoked by uid 500); 7 Mar 2007 06:28:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83755 invoked by uid 99); 7 Mar 2007 06:28:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 22:28:56 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Mar 2007 22:28:45 -0800
Received: by nf-out-0910.google.com with SMTP id g2so59916nfe
        for <java-user@lucene.apache.org>; Tue, 06 Mar 2007 22:28:21 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=CCn3Enb5Tf+9pIqTCaFTLlIH+OQtyKWDn7rt5wYREXQr6pTxffUGoqaNkyaY3HOujXllmLFYNjQ+qkIr18SLsu30MyyZK2/w7TP1duc4GsHUHTl9weysMPhcAcKUpG6VgHvopR9hU+E4kt8ZBapOEy0qzvj5l67NCTuyi+uc+q0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=N4cbFu4m8yUE9ctfxoGGyMJt2859T17HV6oUl7leOwQRDtMblBn/oXe9br67C8XVRrotTDg0s4vutwcTTy0ZwZZ7pEvVNQ2VshUAoDowEbk1KFQR3EbVTtin2M3tmbWDB4NB2qRGOJ9KaC+3JMauvFfqdA4gEb9+TByKd3EB2O4=
Received: by 10.82.116.15 with SMTP id o15mr8585316buc.1173248901528;
        Tue, 06 Mar 2007 22:28:21 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Tue, 6 Mar 2007 22:28:21 -0800 (PST)
Message-ID: <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
Date: Wed, 7 Mar 2007 09:58:21 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to define a pool for Searcher?
In-Reply-To: <45DDE5DA.80202@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_86145_6598714.1173248901465"
References: <34b8543c0702220009m72f9e9c7pf8f9764953be6a48@mail.gmail.com>
	 <45DDE5DA.80202@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_86145_6598714.1173248901465
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello Mark,
there is something vague for me about the Lucene-indexAccessor you created
and my problem.
as I see your codes, you create IndexSearcher and put it into a Map and the
only thing that separate them is the Similarity the have. so if say 1000
users with different Similarity connect to my application there will be 1000
IndexSearcher with their own internal Reader.
now, in my case, I have an IndexResultSet just like java.sql.ResultSet which
it contains a Hits. so a user may go forward or backward through the Hits'
documents and actually every user are doing this job.

to do so, I have to find the Similarity that a user working with it and find
the right IndexSearcher in order to support pagination for her. is this
right? I mean can I trust to Similarity to find the right IndexReader that a
user have used it before?

another question is, how about I have one IndexReader for all my
IndexSearcher and manage them simultaneously to access that single Reader.?

thank you very much in advance


On 2/22/07, Mark Miller <markrmiller@gmail.com> wrote:
>
> I would not do this from scratch...if you are interested in Solr go that
> route else I would build off
> http://issues.apache.org/jira/browse/LUCENE-390
>
> - Mark
>
> Mohammad Norouzi wrote:
> > Hi all,
> > I am going to build a Searcher pooling. if any one has experience on
> > this, I
> > would be glad to hear his/her recommendation and suggestion. I want to
> > know
> > what issues I should be apply. considering I am going to use this on a
> > web
> > application with many user sessions.
> >
> > thank you very much in advance.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
Mohammad

------=_Part_86145_6598714.1173248901465--

From java-user-return-26670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 12:09:35 2007
Return-Path: <java-user-return-26670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81368 invoked from network); 7 Mar 2007 12:09:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 12:09:35 -0000
Received: (qmail 79297 invoked by uid 500); 7 Mar 2007 12:09:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79258 invoked by uid 500); 7 Mar 2007 12:09:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79247 invoked by uid 99); 7 Mar 2007 12:09:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 04:09:36 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 64.233.184.225 as permitted sender)
Received: from [64.233.184.225] (HELO wr-out-0506.google.com) (64.233.184.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 04:09:27 -0800
Received: by wr-out-0506.google.com with SMTP id 68so220528wra
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 04:09:06 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=nUWsSO3l+/9oMus58264yslPGuO0fm7hMEAM+91or0HSFb55e4MNkx2FgLYuTxqvy2vhhvr+pWeF7GepZCPctAGHKs70QTcdbUyNmqYtc//L01feWRNOX8mCRU4f+RW+/tRlVbLe1G/Z8w2vHwDBQSXS7zGVkveUOyEqlHiFTqM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ad7S2R9/c6Gsg5xbpv7ntTqz9R+HHhnAkkPp+u4L2ndhaTFG1SeKg406nUnzMSk/GSdb/DFKgG9mmXIUUeXzRxJK7xjqVI87UBii3GnrdZr9E+uwpGiCvJkPdmc0NrlfmxpzDN7iqPhWjFgqLg6AZ809YqTnT8O3UA3rpPrza9I=
Received: by 10.100.120.5 with SMTP id s5mr5315946anc.1173269346213;
        Wed, 07 Mar 2007 04:09:06 -0800 (PST)
Received: from ?192.168.1.100? ( [216.66.114.42])
        by mx.google.com with ESMTP id 35sm498637wra.2007.03.07.04.09.04;
        Wed, 07 Mar 2007 04:09:04 -0800 (PST)
Message-ID: <45EEAB65.4020105@gmail.com>
Date: Wed, 07 Mar 2007 07:09:09 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to define a pool for Searcher?
References: <34b8543c0702220009m72f9e9c7pf8f9764953be6a48@mail.gmail.com>	 <45DDE5DA.80202@gmail.com> <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
In-Reply-To: <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

You only want a single IndexSearcher for EVERY user searching an index. 
IndexAccessor will manage this for you. The only reason you might have 
more than one IndexSearcher is if you have more than one index to search 
or some additional MultiSearchers. You always want ONE IndexSearcher, 
ONE IndexWriter, and ONE IndexReader for each index. You can only do 
write operations with one Writer or writing Reader at a time 
though...IndexAccessor enforces the right rules for this: i.e. if you 
ask for a writing Reader and the IndexWriter for that index is already 
out, you won't get the writing Reader until that IndexWriter has been 
returned to IndexAcessor.

- Mark

Mohammad Norouzi wrote:
> Hello Mark,
> there is something vague for me about the Lucene-indexAccessor you 
> created
> and my problem.
> as I see your codes, you create IndexSearcher and put it into a Map 
> and the
> only thing that separate them is the Similarity the have. so if say 1000
> users with different Similarity connect to my application there will 
> be 1000
> IndexSearcher with their own internal Reader.
> now, in my case, I have an IndexResultSet just like java.sql.ResultSet 
> which
> it contains a Hits. so a user may go forward or backward through the 
> Hits'
> documents and actually every user are doing this job.
>
> to do so, I have to find the Similarity that a user working with it 
> and find
> the right IndexSearcher in order to support pagination for her. is this
> right? I mean can I trust to Similarity to find the right IndexReader 
> that a
> user have used it before?
>
> another question is, how about I have one IndexReader for all my
> IndexSearcher and manage them simultaneously to access that single 
> Reader.?
>
> thank you very much in advance
>
>
> On 2/22/07, Mark Miller <markrmiller@gmail.com> wrote:
>>
>> I would not do this from scratch...if you are interested in Solr go that
>> route else I would build off
>> http://issues.apache.org/jira/browse/LUCENE-390
>>
>> - Mark
>>
>> Mohammad Norouzi wrote:
>> > Hi all,
>> > I am going to build a Searcher pooling. if any one has experience on
>> > this, I
>> > would be glad to hear his/her recommendation and suggestion. I want to
>> > know
>> > what issues I should be apply. considering I am going to use this on a
>> > web
>> > application with many user sessions.
>> >
>> > thank you very much in advance.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 12:21:58 2007
Return-Path: <java-user-return-26671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84224 invoked from network); 7 Mar 2007 12:21:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 12:21:57 -0000
Received: (qmail 94324 invoked by uid 500); 7 Mar 2007 12:21:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94291 invoked by uid 500); 7 Mar 2007 12:21:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94280 invoked by uid 99); 7 Mar 2007 12:21:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 04:21:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 04:21:49 -0800
Received: by an-out-0708.google.com with SMTP id c3so101614ana
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 04:21:28 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=ShdN9wJK29InrUJS1ua1050nnUXp5unHW9vbeoK8Th3SaVWrdCaRHEIwxCNTCtSu+LIiIZ8y1IngtF9FMUW7dGzF0irxb96EgOpXJz6pUqG417C7tndPvl34q8or8MpChBYv5LmGMICOyAdP9IYebn3l8PNhiAzW+YFbAOTuC5k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=Vo0QEqgBdI+WeDCrDwAJuh6823nBYtWHAF9F0l532jV9DjsvXD5Tk/jcsT9Arn0NcySLXImVWtdg+ur3JSmn0ZNBNbi5iSUaTQzraPH9PrnjhH0LkCcNRyRHzQmGoOxzqRqYzCh+QpqpNQH2jYNDyw48oh/mlgljLF8qq6uCnkA=
Received: by 10.100.124.5 with SMTP id w5mr6160106anc.1173270086972;
        Wed, 07 Mar 2007 04:21:26 -0800 (PST)
Received: from ?192.168.1.100? ( [216.66.114.42])
        by mx.google.com with ESMTP id 5sm512408wrh.2007.03.07.04.21.25;
        Wed, 07 Mar 2007 04:21:26 -0800 (PST)
Message-ID: <45EEAE4B.4090805@gmail.com>
Date: Wed, 07 Mar 2007 07:21:31 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to define a pool for Searcher?
References: <34b8543c0702220009m72f9e9c7pf8f9764953be6a48@mail.gmail.com>	 <45DDE5DA.80202@gmail.com> <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
In-Reply-To: <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

To address your hits question: I wouldn't keep hits around, but would 
re-search instead. It is often more of a headache than a time savings to 
keep around all of the Hits objects and to have to manage them. I made 
my own Hits object that does no caching because of this. Pagination is 
often best done by re-querying.

Also, keep in mind that you prob won't have 1000 Similarities...you will 
prob have much closer to 1 <g>, maybe a couple if you have created a 
custom one. The biggest chance you have more than one Searcher cached 
for an Index is if you have a MultiSearcher cached that searches over 
it. Out of the box, indexAccessor does not handle MultiSearchers 
perfectly though...it does not check out a Searcher for each of the 
underlying Indexes, so you will have to do that your self...then 
remember to release them all when you release the MultiSearcher.

I think in general, you are over concerned. IndexAccessor will handle 
most of this for you without much intervention on your part.

- Mark

Mohammad Norouzi wrote:
> Hello Mark,
> there is something vague for me about the Lucene-indexAccessor you 
> created
> and my problem.
> as I see your codes, you create IndexSearcher and put it into a Map 
> and the
> only thing that separate them is the Similarity the have. so if say 1000
> users with different Similarity connect to my application there will 
> be 1000
> IndexSearcher with their own internal Reader.
> now, in my case, I have an IndexResultSet just like java.sql.ResultSet 
> which
> it contains a Hits. so a user may go forward or backward through the 
> Hits'
> documents and actually every user are doing this job.
>
> to do so, I have to find the Similarity that a user working with it 
> and find
> the right IndexSearcher in order to support pagination for her. is this
> right? I mean can I trust to Similarity to find the right IndexReader 
> that a
> user have used it before?
>
> another question is, how about I have one IndexReader for all my
> IndexSearcher and manage them simultaneously to access that single 
> Reader.?
>
> thank you very much in advance
>
>
> On 2/22/07, Mark Miller <markrmiller@gmail.com> wrote:
>>
>> I would not do this from scratch...if you are interested in Solr go that
>> route else I would build off
>> http://issues.apache.org/jira/browse/LUCENE-390
>>
>> - Mark
>>
>> Mohammad Norouzi wrote:
>> > Hi all,
>> > I am going to build a Searcher pooling. if any one has experience on
>> > this, I
>> > would be glad to hear his/her recommendation and suggestion. I want to
>> > know
>> > what issues I should be apply. considering I am going to use this on a
>> > web
>> > application with many user sessions.
>> >
>> > thank you very much in advance.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 12:39:37 2007
Return-Path: <java-user-return-26672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88963 invoked from network); 7 Mar 2007 12:39:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 12:39:37 -0000
Received: (qmail 20933 invoked by uid 500); 7 Mar 2007 12:39:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20894 invoked by uid 500); 7 Mar 2007 12:39:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20883 invoked by uid 99); 7 Mar 2007 12:39:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 04:39:38 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 04:39:28 -0800
Received: by nf-out-0910.google.com with SMTP id g2so143458nfe
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 04:39:07 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qJxBq8hhwyHw1/ERrxNcfqFiL8U767E5bjWURtR9/JUBOebh+IoYFd4/3fOseBtCDSihJeUQ5gACGPx9vDPGHuzkjK0cIxvFyYlw+XH0h0ULx5j3ViqObxycM6FNPk3x5OWS+3lGIa5FQ5ObIhfJzWLSzgplF7Kt5TiLjbKk8RI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rfEnXjHXL2HHTe7Jl45U/sAbQ814LrAeDTFs/IEJKIVg14YHRdN+7+CTRI/OLOZiA0XQyqKlW1HycpRZUj1WEE72cdfRCQYGWYSwAdDVKvlepzGJ3/LIYHZhEX36zOfQDtKNWQEnXmzky8AqPJDPcD+aNL5kcHne2/a8nfqiuuo=
Received: by 10.82.177.3 with SMTP id z3mr9098948bue.1173271146976;
        Wed, 07 Mar 2007 04:39:06 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Wed, 7 Mar 2007 04:39:06 -0800 (PST)
Message-ID: <34b8543c0703070439p332cda1bn11b1e5c7e2cc92e0@mail.gmail.com>
Date: Wed, 7 Mar 2007 16:09:06 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to define a pool for Searcher?
In-Reply-To: <45EEAE4B.4090805@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_88116_23827731.1173271146927"
References: <34b8543c0702220009m72f9e9c7pf8f9764953be6a48@mail.gmail.com>
	 <45DDE5DA.80202@gmail.com>
	 <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
	 <45EEAE4B.4090805@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_88116_23827731.1173271146927
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

yes I am very concerned about this because we have a big project with many
users and I am responsible for this. the thing that preoccupied my mind is
application performance because there is more than 500 thousands records
(documents).

a single search may returns about 50 thousand documents and it is not
possible to put all of them into a say java.util.List  so I have to keep the
searcher open and move forward or backward through the Hits and when the
user clicked on "Finish" button or the time exceeds over than a specific
time,(or the session destroyed)  so I set a flag to true, then the other
session can access that searcher without closing any searcher or reader.

any way, your comments are useful for me.
thanks

On 3/7/07, Mark Miller <markrmiller@gmail.com> wrote:
>
> To address your hits question: I wouldn't keep hits around, but would
> re-search instead. It is often more of a headache than a time savings to
> keep around all of the Hits objects and to have to manage them. I made
> my own Hits object that does no caching because of this. Pagination is
> often best done by re-querying.
>
> Also, keep in mind that you prob won't have 1000 Similarities...you will
> prob have much closer to 1 <g>, maybe a couple if you have created a
> custom one. The biggest chance you have more than one Searcher cached
> for an Index is if you have a MultiSearcher cached that searches over
> it. Out of the box, indexAccessor does not handle MultiSearchers
> perfectly though...it does not check out a Searcher for each of the
> underlying Indexes, so you will have to do that your self...then
> remember to release them all when you release the MultiSearcher.
>
> I think in general, you are over concerned. IndexAccessor will handle
> most of this for you without much intervention on your part.
>
> - Mark
>
> Mohammad Norouzi wrote:
> > Hello Mark,
> > there is something vague for me about the Lucene-indexAccessor you
> > created
> > and my problem.
> > as I see your codes, you create IndexSearcher and put it into a Map
> > and the
> > only thing that separate them is the Similarity the have. so if say 1000
> > users with different Similarity connect to my application there will
> > be 1000
> > IndexSearcher with their own internal Reader.
> > now, in my case, I have an IndexResultSet just like java.sql.ResultSet
> > which
> > it contains a Hits. so a user may go forward or backward through the
> > Hits'
> > documents and actually every user are doing this job.
> >
> > to do so, I have to find the Similarity that a user working with it
> > and find
> > the right IndexSearcher in order to support pagination for her. is this
> > right? I mean can I trust to Similarity to find the right IndexReader
> > that a
> > user have used it before?
> >
> > another question is, how about I have one IndexReader for all my
> > IndexSearcher and manage them simultaneously to access that single
> > Reader.?
> >
> > thank you very much in advance
> >
> >
> > On 2/22/07, Mark Miller <markrmiller@gmail.com> wrote:
> >>
> >> I would not do this from scratch...if you are interested in Solr go
> that
> >> route else I would build off
> >> http://issues.apache.org/jira/browse/LUCENE-390
> >>
> >> - Mark
> >>
> >> Mohammad Norouzi wrote:
> >> > Hi all,
> >> > I am going to build a Searcher pooling. if any one has experience on
> >> > this, I
> >> > would be glad to hear his/her recommendation and suggestion. I want
> to
> >> > know
> >> > what issues I should be apply. considering I am going to use this on
> a
> >> > web
> >> > application with many user sessions.
> >> >
> >> > thank you very much in advance.
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
Mohammad

------=_Part_88116_23827731.1173271146927--

From java-user-return-26673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 13:36:03 2007
Return-Path: <java-user-return-26673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8247 invoked from network); 7 Mar 2007 13:36:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 13:36:02 -0000
Received: (qmail 799 invoked by uid 500); 7 Mar 2007 13:36:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 764 invoked by uid 500); 7 Mar 2007 13:36:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 753 invoked by uid 99); 7 Mar 2007 13:36:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 05:36:03 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 05:35:53 -0800
Received: by ug-out-1314.google.com with SMTP id k40so543822ugc
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 05:35:32 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=bmBSFbPHNiYFvuAUWot6SaZ4y9w4ZW/ze+oW9v/a3d0Z1G0hhKxVlyoOvvqRyi+USJ5xsBvkaa0I8uGfW5hmKWtLxH3q9yKZ15g/ifAjGwJALBkR/zfSl2f34jJ+LI02Xnfas2KxYcZv2Cp6ItUUmdjAlT6Cz7Jvg79+uoG1Ajk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QoljKSpa7yrtyQc/jANGXXRe4li9Zy+oFhFpOhXrqO3AC80HkLx2MVDrlvauAdTS0UTw4Q7jHg8iyeOEDho4tol26JHVMksb6qp74cFvFPye3W8+VqfufH2asZs1VC3SRnjDzkkCPt1LsjNiiuotmgdIht3KAJW5q+ksLF/ChMU=
Received: by 10.114.94.1 with SMTP id r1mr2132345wab.1173274530865;
        Wed, 07 Mar 2007 05:35:30 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Wed, 7 Mar 2007 05:35:30 -0800 (PST)
Message-ID: <359a92830703070535i2b242797p10f163c9ce657fd0@mail.gmail.com>
Date: Wed, 7 Mar 2007 08:35:30 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to define a pool for Searcher?
In-Reply-To: <34b8543c0703070439p332cda1bn11b1e5c7e2cc92e0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_210156_21053250.1173274530753"
References: <34b8543c0702220009m72f9e9c7pf8f9764953be6a48@mail.gmail.com>
	 <45DDE5DA.80202@gmail.com>
	 <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
	 <45EEAE4B.4090805@gmail.com>
	 <34b8543c0703070439p332cda1bn11b1e5c7e2cc92e0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_210156_21053250.1173274530753
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You may not be able to store all the documents, but what about
just storing the document IDs in a list?

And remember that a Hits object re-queries the index every 100
documents or so when you iterate through it, so if you're really
using a Hits object, you're re-executing the query anyway.

You might want to think about using a HitCollector, or TopDocs,
or... and recording the document IDs (which is very fast, and
holding 50,000 integers isn't very expensive).

If you're paging through the hits using a Hits object, I believe
you'll find no effective difference between keeping the
searcher open and navigating through the list and
re-executing the query each time.

If this is true, you'll see a dramatic difference by using, say,
TopDocs when you're paging into the latter parts of the list.

And you'll see an *enormous* difference if you cache the doc IDs
for your paging <G>...

Of course, if you're not using a Hits object most of this doesn't
count.

Best
Erick

On 3/7/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> yes I am very concerned about this because we have a big project with many
> users and I am responsible for this. the thing that preoccupied my mind is
> application performance because there is more than 500 thousands records
> (documents).
>
> a single search may returns about 50 thousand documents and it is not
> possible to put all of them into a say java.util.List  so I have to keep
> the
> searcher open and move forward or backward through the Hits and when the
> user clicked on "Finish" button or the time exceeds over than a specific
> time,(or the session destroyed)  so I set a flag to true, then the other
> session can access that searcher without closing any searcher or reader.
>
> any way, your comments are useful for me.
> thanks
>
> On 3/7/07, Mark Miller <markrmiller@gmail.com> wrote:
> >
> > To address your hits question: I wouldn't keep hits around, but would
> > re-search instead. It is often more of a headache than a time savings to
> > keep around all of the Hits objects and to have to manage them. I made
> > my own Hits object that does no caching because of this. Pagination is
> > often best done by re-querying.
> >
> > Also, keep in mind that you prob won't have 1000 Similarities...you will
> > prob have much closer to 1 <g>, maybe a couple if you have created a
> > custom one. The biggest chance you have more than one Searcher cached
> > for an Index is if you have a MultiSearcher cached that searches over
> > it. Out of the box, indexAccessor does not handle MultiSearchers
> > perfectly though...it does not check out a Searcher for each of the
> > underlying Indexes, so you will have to do that your self...then
> > remember to release them all when you release the MultiSearcher.
> >
> > I think in general, you are over concerned. IndexAccessor will handle
> > most of this for you without much intervention on your part.
> >
> > - Mark
> >
> > Mohammad Norouzi wrote:
> > > Hello Mark,
> > > there is something vague for me about the Lucene-indexAccessor you
> > > created
> > > and my problem.
> > > as I see your codes, you create IndexSearcher and put it into a Map
> > > and the
> > > only thing that separate them is the Similarity the have. so if say
> 1000
> > > users with different Similarity connect to my application there will
> > > be 1000
> > > IndexSearcher with their own internal Reader.
> > > now, in my case, I have an IndexResultSet just like java.sql.ResultSet
> > > which
> > > it contains a Hits. so a user may go forward or backward through the
> > > Hits'
> > > documents and actually every user are doing this job.
> > >
> > > to do so, I have to find the Similarity that a user working with it
> > > and find
> > > the right IndexSearcher in order to support pagination for her. is
> this
> > > right? I mean can I trust to Similarity to find the right IndexReader
> > > that a
> > > user have used it before?
> > >
> > > another question is, how about I have one IndexReader for all my
> > > IndexSearcher and manage them simultaneously to access that single
> > > Reader.?
> > >
> > > thank you very much in advance
> > >
> > >
> > > On 2/22/07, Mark Miller <markrmiller@gmail.com> wrote:
> > >>
> > >> I would not do this from scratch...if you are interested in Solr go
> > that
> > >> route else I would build off
> > >> http://issues.apache.org/jira/browse/LUCENE-390
> > >>
> > >> - Mark
> > >>
> > >> Mohammad Norouzi wrote:
> > >> > Hi all,
> > >> > I am going to build a Searcher pooling. if any one has experience
> on
> > >> > this, I
> > >> > would be glad to hear his/her recommendation and suggestion. I want
> > to
> > >> > know
> > >> > what issues I should be apply. considering I am going to use this
> on
> > a
> > >> > web
> > >> > application with many user sessions.
> > >> >
> > >> > thank you very much in advance.
> > >>
> > >> ---------------------------------------------------------------------
> > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > >>
> > >>
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> --
> Regards,
> Mohammad
>

------=_Part_210156_21053250.1173274530753--

From java-user-return-26674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 15:08:18 2007
Return-Path: <java-user-return-26674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53057 invoked from network); 7 Mar 2007 15:08:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 15:08:17 -0000
Received: (qmail 34354 invoked by uid 500); 7 Mar 2007 15:08:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34320 invoked by uid 500); 7 Mar 2007 15:08:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34309 invoked by uid 99); 7 Mar 2007 15:08:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 07:08:18 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.191.85.127] (HELO web37208.mail.mud.yahoo.com) (209.191.85.127)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Mar 2007 07:08:06 -0800
Received: (qmail 96627 invoked by uid 60001); 7 Mar 2007 15:07:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=OMIt3qF6mgjMLgdGl9NTXSPTX8cehui8iRxll7qLR4AXBLHhStSIgl/lXCHZEmYTwhJeUoKKmWahlZBLK4Yr85JCzY1mb2NeJIHsBFLxfeN1vEtlx5Ou7Tb73uPoHd+VVi7x10a695+Xt/BDn7LHsxf+zua4Wp7UlrMtRwn4fFc=;
X-YMail-OSG: U3qn48oVM1n4Z9KU3aOaPd58Ux._xMvsEwzJx6E0oblfaQJrIuA.WekiixKy3OY4kA..2TthjdjZW9HtIoGfOUgWH1mz8BEPMCWPm9UXNUlwn8o1NylPtxPi0UYR1ReTRImoEY9gdH3aYAUoZPCeiw--
Received: from [69.251.48.204] by web37208.mail.mud.yahoo.com via HTTP; Wed, 07 Mar 2007 07:07:45 PST
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Wed, 7 Mar 2007 07:07:45 -0800 (PST)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Negative Filtering (such as for profanity)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-356404063-1173280065=:94496"
Message-ID: <439632.94496.qm@web37208.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-356404063-1173280065=:94496
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

I'm attempting to create a profanity filter.  I thought to use a QueryFilte=
r created with a Query of (-$#!+ AND -@#$% AND etc).  The problem I have ru=
n into is that, as a pure negative query is not supported (a query for (-te=
rm) DOES NOT return the inverse of a query for (term)), I believe the bit s=
et returned by a purely negative QueryFilter is empty, so no matter how man=
y results returned by the initial query, the result after filtering is alwa=
ys zero documents.=0A=0AI was wondering if anyone had suggestions as to how=
 else to do this.  I've considered simply amending the query string submitt=
ed by the user to include a pre-generated String that would exclude the que=
ry terms, but I consider this a non-elegant solution.  I had also thought a=
bout creating a new sub-class of QueryFilter, NegativeQueryFilter.  Basical=
ly, it would works just like a QueryFilter, taking a positive query (so, I =
would pass it an OR'ed list of profane words), then the resulting bits are =
simply flipped.  I think this would work, unless I'm missing something.  I'=
m going to experiment with it, I'd appreciate anyone's thoughts on this.=0A=
=0AThanks,=0A=0AGreg=0A=0A=0A=0A=0A =0A____________________________________=
________________________________________________=0AIt's here! Your new mess=
age!  =0AGet new email alerts with the free Yahoo! Toolbar.=0Ahttp://tools.=
search.yahoo.com/toolbar/features/mail/
--0-356404063-1173280065=:94496--

From java-user-return-26675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 15:17:32 2007
Return-Path: <java-user-return-26675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57163 invoked from network); 7 Mar 2007 15:17:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 15:17:31 -0000
Received: (qmail 62156 invoked by uid 500); 7 Mar 2007 15:17:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62113 invoked by uid 500); 7 Mar 2007 15:17:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62102 invoked by uid 99); 7 Mar 2007 15:17:32 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 07:17:32 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 209.85.132.245 as permitted sender)
Received: from [209.85.132.245] (HELO an-out-0708.google.com) (209.85.132.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 07:17:19 -0800
Received: by an-out-0708.google.com with SMTP id c3so143968ana
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 07:16:58 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=bZiaCRXWANgy1SuEbld/TWL09TofUTBsXAYHESMfgsW23pCV71UFiCstuZYftGximH3pSEkS2DNX328GPk6/yFdS2y2pBNpCs5UgJga/wc39TmM79RGwwdPnvfETTH5brRGbfcth/sImC0ThbBdnVMkmYhwnArQmT5vL/ODphpg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=oF1i6I6BeAz/9WznwVvk36VI/SBnttE8luvTCrgoF1ilKoZPDlF/rMatkTHMi6i//+ill9ZMMyy3P9VZydXpikemGA+ajptkhOAlIG+QT3Hgp/OQ4DyLo8h7f+k102Cg7a0oQUbgJng9Jh4rpmb/IiU88MPc1kWPv7Gw80YypRU=
Received: by 10.100.44.13 with SMTP id r13mr5265810anr.1173280618875;
        Wed, 07 Mar 2007 07:16:58 -0800 (PST)
Received: from ?192.168.1.100? ( [216.66.114.42])
        by mx.google.com with ESMTP id g5sm813603wra.2007.03.07.07.16.53;
        Wed, 07 Mar 2007 07:16:58 -0800 (PST)
Message-ID: <45EED766.90200@gmail.com>
Date: Wed, 07 Mar 2007 10:16:54 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to define a pool for Searcher?
References: <34b8543c0702220009m72f9e9c7pf8f9764953be6a48@mail.gmail.com>	 <45DDE5DA.80202@gmail.com>	 <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>	 <45EEAE4B.4090805@gmail.com> <34b8543c0703070439p332cda1bn11b1e5c7e2cc92e0@mail.gmail.com>
In-Reply-To: <34b8543c0703070439p332cda1bn11b1e5c7e2cc92e0@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

You should not be returning 50 thousand documents. Since you are 
implementing paging, you should only return enough to cover your page 
size. If a user is viewing page 1 with documents 1-10, you send back 
information for 10 of the docs. On page 2, 10-20, you send back 
information for 10 of the docs, after executing a new search and 
skimming off the correct docs.

Also, unless your documents are *very* big, 500,000 documents on any 
sort of modern hardware is a cakewalk for Lucene.

Using Hits as it was meant to be used is generally a poor decision in a 
multi-user environment in my opinion. You will be faster and scale 
better using a stateless paradigm instead of taking advantage of Hits 
caching. Besides that, if you are currently loading up 50 thousand 
documents from Hits, you are doing something that is extremely 
inefficient. As Erick said, Hits will continuously re-query to fill it 
ups cache. After grabbing info for a 100 docs it will re query, then 
after 200 it will require, etc.

Stateless man. Trust me.

- Mark

Mohammad Norouzi wrote:
> yes I am very concerned about this because we have a big project with 
> many
> users and I am responsible for this. the thing that preoccupied my 
> mind is
> application performance because there is more than 500 thousands records
> (documents).
>
> a single search may returns about 50 thousand documents and it is not
> possible to put all of them into a say java.util.List  so I have to 
> keep the
> searcher open and move forward or backward through the Hits and when the
> user clicked on "Finish" button or the time exceeds over than a specific
> time,(or the session destroyed)  so I set a flag to true, then the other
> session can access that searcher without closing any searcher or reader.
>
> any way, your comments are useful for me.
> thanks
>
> On 3/7/07, Mark Miller <markrmiller@gmail.com> wrote:
>>
>> To address your hits question: I wouldn't keep hits around, but would
>> re-search instead. It is often more of a headache than a time savings to
>> keep around all of the Hits objects and to have to manage them. I made
>> my own Hits object that does no caching because of this. Pagination is
>> often best done by re-querying.
>>
>> Also, keep in mind that you prob won't have 1000 Similarities...you will
>> prob have much closer to 1 <g>, maybe a couple if you have created a
>> custom one. The biggest chance you have more than one Searcher cached
>> for an Index is if you have a MultiSearcher cached that searches over
>> it. Out of the box, indexAccessor does not handle MultiSearchers
>> perfectly though...it does not check out a Searcher for each of the
>> underlying Indexes, so you will have to do that your self...then
>> remember to release them all when you release the MultiSearcher.
>>
>> I think in general, you are over concerned. IndexAccessor will handle
>> most of this for you without much intervention on your part.
>>
>> - Mark
>>
>> Mohammad Norouzi wrote:
>> > Hello Mark,
>> > there is something vague for me about the Lucene-indexAccessor you
>> > created
>> > and my problem.
>> > as I see your codes, you create IndexSearcher and put it into a Map
>> > and the
>> > only thing that separate them is the Similarity the have. so if say 
>> 1000
>> > users with different Similarity connect to my application there will
>> > be 1000
>> > IndexSearcher with their own internal Reader.
>> > now, in my case, I have an IndexResultSet just like java.sql.ResultSet
>> > which
>> > it contains a Hits. so a user may go forward or backward through the
>> > Hits'
>> > documents and actually every user are doing this job.
>> >
>> > to do so, I have to find the Similarity that a user working with it
>> > and find
>> > the right IndexSearcher in order to support pagination for her. is 
>> this
>> > right? I mean can I trust to Similarity to find the right IndexReader
>> > that a
>> > user have used it before?
>> >
>> > another question is, how about I have one IndexReader for all my
>> > IndexSearcher and manage them simultaneously to access that single
>> > Reader.?
>> >
>> > thank you very much in advance
>> >
>> >
>> > On 2/22/07, Mark Miller <markrmiller@gmail.com> wrote:
>> >>
>> >> I would not do this from scratch...if you are interested in Solr go
>> that
>> >> route else I would build off
>> >> http://issues.apache.org/jira/browse/LUCENE-390
>> >>
>> >> - Mark
>> >>
>> >> Mohammad Norouzi wrote:
>> >> > Hi all,
>> >> > I am going to build a Searcher pooling. if any one has 
>> experience on
>> >> > this, I
>> >> > would be glad to hear his/her recommendation and suggestion. I want
>> to
>> >> > know
>> >> > what issues I should be apply. considering I am going to use 
>> this on
>> a
>> >> > web
>> >> > application with many user sessions.
>> >> >
>> >> > thank you very much in advance.
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 15:20:17 2007
Return-Path: <java-user-return-26676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58174 invoked from network); 7 Mar 2007 15:20:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 15:20:16 -0000
Received: (qmail 75527 invoked by uid 500); 7 Mar 2007 15:20:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75494 invoked by uid 500); 7 Mar 2007 15:20:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75323 invoked by uid 99); 7 Mar 2007 15:20:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 07:20:04 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 66.249.82.228 as permitted sender)
Received: from [66.249.82.228] (HELO wx-out-0506.google.com) (66.249.82.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 07:19:52 -0800
Received: by wx-out-0506.google.com with SMTP id i29so175443wxd
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 07:19:31 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=BfGm6nDS3aIo5XLfgmucRF/UPXYzqFo6fwmLLy1ZUM4Ulz+8R46th/56QJDt1qfssn/rJSTSzK4WOqjjWxOsq+oHyl3fKLU73s4GapAcTjWemk6eQqJI3rUpASEan0gvWsjjX501JDwC7rV/CgNKJDQ1fvnYS8JkvO5DpdhpCIk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=l21uByEnaFbIRiFb+hy3QWAFPeGAZngxS2Mc1AeheDQhBMe88FpGrtQTokFKbwAtstEXr3MFr65LcpRAPfl7S9pEwt7HiTa18u7Drakbeq7hAZ3NjRfvXqXKN7R8zZi/GNjuEkB//2INOexIDfhpCeOVNv/E3/ZESYF96E1sEUs=
Received: by 10.90.81.14 with SMTP id e14mr7193871agb.1173280771925;
        Wed, 07 Mar 2007 07:19:31 -0800 (PST)
Received: from ?192.168.1.100? ( [216.66.114.42])
        by mx.google.com with ESMTP id 43sm826023wri.2007.03.07.07.19.30;
        Wed, 07 Mar 2007 07:19:31 -0800 (PST)
Message-ID: <45EED804.8040606@gmail.com>
Date: Wed, 07 Mar 2007 10:19:32 -0500
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (Windows/20061207)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Negative Filtering (such as for profanity)
References: <439632.94496.qm@web37208.mail.mud.yahoo.com>
In-Reply-To: <439632.94496.qm@web37208.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MatchAllDocsQuery.html

You can use that Query in front of a NOT query clause.

Greg Gershman wrote:
> I'm attempting to create a profanity filter.  I thought to use a QueryFilter created with a Query of (-$#!+ AND -@#$% AND etc).  The problem I have run into is that, as a pure negative query is not supported (a query for (-term) DOES NOT return the inverse of a query for (term)), I believe the bit set returned by a purely negative QueryFilter is empty, so no matter how many results returned by the initial query, the result after filtering is always zero documents.
>
> I was wondering if anyone had suggestions as to how else to do this.  I've considered simply amending the query string submitted by the user to include a pre-generated String that would exclude the query terms, but I consider this a non-elegant solution.  I had also thought about creating a new sub-class of QueryFilter, NegativeQueryFilter.  Basically, it would works just like a QueryFilter, taking a positive query (so, I would pass it an OR'ed list of profane words), then the resulting bits are simply flipped.  I think this would work, unless I'm missing something.  I'm going to experiment with it, I'd appreciate anyone's thoughts on this.
>
> Thanks,
>
> Greg
>
>
>
>
>  
> ____________________________________________________________________________________
> It's here! Your new message!  
> Get new email alerts with the free Yahoo! Toolbar.
> http://tools.search.yahoo.com/toolbar/features/mail/
>   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 16:03:27 2007
Return-Path: <java-user-return-26677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75658 invoked from network); 7 Mar 2007 16:03:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 16:03:25 -0000
Received: (qmail 88915 invoked by uid 500); 7 Mar 2007 16:03:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88889 invoked by uid 500); 7 Mar 2007 16:03:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88878 invoked by uid 99); 7 Mar 2007 16:03:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 08:03:24 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.191.85.126] (HELO web37207.mail.mud.yahoo.com) (209.191.85.126)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Mar 2007 08:03:12 -0800
Received: (qmail 26157 invoked by uid 60001); 7 Mar 2007 16:02:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=L4jro3QE5vF4/7Ub7zvHFcqOQKbLMhEQALkhtl9C/pq8zcZ5uu0bjkMVT+4QpB9IFY89zt61eBJ5wgYEtHDmLEdLQV1pl6KGJKpHjXR+6L7ibaAtiV9ozRHaWQSnql4byLWmjrN1M/r9aSfq64FNzYKDivIyevdSVNs8Txnc/kk=  ;
Message-ID: <20070307160251.26155.qmail@web37207.mail.mud.yahoo.com>
X-YMail-OSG: xpQ.Q1MVM1krB3padYwtsROdlxyNI6SUxRS7GfdJYRl7bUkcncsyUh6tQRvV22I4OerAWwOE2U1DqgfQEBFAKr.056_DjGH6La_zHHdQao17qGUFNiOt8yKooPMs3EgMhijzwM5SKiCvdeDDAu8LxmAWgg--
Received: from [69.251.48.204] by web37207.mail.mud.yahoo.com via HTTP; Wed, 07 Mar 2007 08:02:51 PST
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Wed, 7 Mar 2007 08:02:51 -0800 (PST)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Re: Negative Filtering (such as for profanity)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-446714961-1173283371=:26145"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-446714961-1173283371=:26145
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks! I was not aware of that class, for some reason.=0A=0AI tried creati=
ng a NegativeQueryFilter, it works just fine.  Can you think of any reason =
why one approach would be better than the other?  If there's interest, I'm =
happy to post the NegativeQueryFilter.=0A=0AGreg=0A=0A----- Original Messag=
e ----=0AFrom: Mark Miller <markrmiller@gmail.com>=0ATo: java-user@lucene.a=
pache.org=0ASent: Wednesday, March 7, 2007 10:19:32 AM=0ASubject: Re: Negat=
ive Filtering (such as for profanity)=0A=0Ahttp://lucene.apache.org/java/do=
cs/api/org/apache/lucene/search/MatchAllDocsQuery.html=0A=0AYou can use tha=
t Query in front of a NOT query clause.=0A=0AGreg Gershman wrote:=0A> I'm a=
ttempting to create a profanity filter.  I thought to use a QueryFilter cre=
ated with a Query of (-$#!+ AND -@#$% AND etc).  The problem I have run int=
o is that, as a pure negative query is not supported (a query for (-term) D=
OES NOT return the inverse of a query for (term)), I believe the bit set re=
turned by a purely negative QueryFilter is empty, so no matter how many res=
ults returned by the initial query, the result after filtering is always ze=
ro documents.=0A>=0A> I was wondering if anyone had suggestions as to how e=
lse to do this.  I've considered simply amending the query string submitted=
 by the user to include a pre-generated String that would exclude the query=
 terms, but I consider this a non-elegant solution.  I had also thought abo=
ut creating a new sub-class of QueryFilter, NegativeQueryFilter.  Basically=
, it would works just like a QueryFilter, taking a positive query (so, I wo=
uld pass it an OR'ed list of profane words), then the resulting bits are si=
mply flipped.  I think this would work, unless I'm missing something.  I'm =
going to experiment with it, I'd appreciate anyone's thoughts on this.=0A>=
=0A> Thanks,=0A>=0A> Greg=0A>=0A>=0A>=0A>=0A>  =0A> _______________________=
_____________________________________________________________=0A> It's here=
! Your new message!  =0A> Get new email alerts with the free Yahoo! Toolbar=
.=0A> http://tools.search.yahoo.com/toolbar/features/mail/=0A>   =0A=0A----=
-----------------------------------------------------------------=0ATo unsu=
bscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional c=
ommands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=0A=
=0A =0A____________________________________________________________________=
________________=0ASucker-punch spam with award-winning protection. =0ATry =
the free Yahoo! Mail Beta.=0Ahttp://advision.webevents.yahoo.com/mailbeta/f=
eatures_spam.html
--0-446714961-1173283371=:26145--

From java-user-return-26678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 16:06:31 2007
Return-Path: <java-user-return-26678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77534 invoked from network); 7 Mar 2007 16:06:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 16:06:31 -0000
Received: (qmail 94123 invoked by uid 500); 7 Mar 2007 16:06:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94093 invoked by uid 500); 7 Mar 2007 16:06:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94082 invoked by uid 99); 7 Mar 2007 16:06:32 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 08:06:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.221] (HELO web26010.mail.ukl.yahoo.com) (217.12.10.221)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Mar 2007 08:06:19 -0800
Received: (qmail 98852 invoked by uid 60001); 7 Mar 2007 16:05:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=DSawrHrAp9ZwfVvex1IrLR4XTvEFXDoQ+3Tyf/G9GzccO1h5KkjWuC4rvtdM3hPvtkuH0KoF5rnVF1hOJBB7cGFUIYYdyiyCWQxOfqwrOXpWT7gXbYzFe7UBJt2OQWgaRQJGp1O4Yk7CGoiG8eVpCRUWvKo3G+LfWhiwv+3PuIo=;
X-YMail-OSG: i04RnesVM1mSTJDzsUr20M6b6pbRGVFYecMGy_QkmcfWb6.4PKX3lJSYDkIqHS_Y2q_yjMHKHfMLVS7DwghD69dTOKX3SNBVp.7rxgbj33sqVtr.pBasaIRX70rQcM75zEgqKENy4VpYlQl6Z4HyOqc-
Received: from [193.36.230.96] by web26010.mail.ukl.yahoo.com via HTTP; Wed, 07 Mar 2007 16:05:56 GMT
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Wed, 7 Mar 2007 16:05:56 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Negative Filtering (such as for profanity)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <776659.97268.qm@web26010.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Sounds like the sort of filter that could be usefully cached.=0AYou can do =
all this in Java code or the XML query parser (in contrib) might be a quick=
 and simple way to externalize the profanity settings in a stylesheet which=
 is actually used at query time e.g.=0A=0A<?xml version=3D"1.0" encoding=3D=
"ISO-8859-1"?>=0A=0A<xsl:template match=3D"/Document">=0A<FilteredQuery>=0A=
    <Query>=0A        <<UserQuery><xsl:value-of select=3D"content"/></UserQ=
uery>=0A    </Query>=0A    <Filter>=0A        <CachedFilter>=0A            =
<TermsFilter fieldName=3D"content">            =0A                naughty1 =
naughty2 xxx=0A            </TermsFilter>=0A        </CachedFilter>        =
=0A    </Filter>    =0A</FilteredQuery>=0A</xsl:template>=0A</xsl:styleshee=
t>=0A=0AThe above example also automatically adds caching to the results of=
 the profanity filter.=0AYour app code to use this would then look like thi=
s:=0Ainit()=0A        //parse and cache the stylesheet=0A        QueryTempl=
ateManager qtm=3Dnew QueryTemplateManager(getClass().getResourceAsStream("q=
uery.xsl"));=0A....=0A=0A=0ArunQuery()=0A            //get the user input=
=0A            Properties userInput=3Dnew Properties();=0A             user=
Input.setProperty("content",httpRequest.getParameter("queryCriteria");=0A=
=0A            //Transform the user input into a Lucene XML query=0A       =
     org.w3c.dom.Document doc=3Dqtm.getQueryAsDOM(userInput);=0A           =
 =0A            //Parse the XML query using the XML parser=0A            Qu=
ery q=3DxmlQueryBuilder.getQuery(doc.getDocumentElement());=0A  =0A        =
    //run query as normal=0A=0ACheers=0AMark=0A=0A=0A----- Original Message=
 ----=0AFrom: Greg Gershman <greggersh@yahoo.com>=0ATo: java-user@lucene.ap=
ache.org=0ASent: Wednesday, 7 March, 2007 3:07:45 PM=0ASubject: Negative Fi=
ltering (such as for profanity)=0A=0AI'm attempting to create a profanity f=
ilter.  I thought to use a QueryFilter created with a Query of (-$#!+ AND -=
@#$% AND etc).  The problem I have run into is that, as a pure negative que=
ry is not supported (a query for (-term) DOES NOT return the inverse of a q=
uery for (term)), I believe the bit set returned by a purely negative Query=
Filter is empty, so no matter how many results returned by the initial quer=
y, the result after filtering is always zero documents.=0A=0AI was wonderin=
g if anyone had suggestions as to how else to do this.  I've considered sim=
ply amending the query string submitted by the user to include a pre-genera=
ted String that would exclude the query terms, but I consider this a non-el=
egant solution.  I had also thought about creating a new sub-class of Query=
Filter, NegativeQueryFilter.  Basically, it would works just like a QueryFi=
lter, taking a positive query (so, I would pass it an OR'ed list of profane=
 words), then the resulting bits are simply flipped.  I think this would wo=
rk, unless I'm missing something.  I'm going to experiment with it, I'd app=
reciate anyone's thoughts on this.=0A=0AThanks,=0A=0AGreg=0A=0A=0A=0A=0A =
=0A________________________________________________________________________=
____________=0AIt's here! Your new message!  =0AGet new email alerts with t=
he free Yahoo! Toolbar.=0Ahttp://tools.search.yahoo.com/toolbar/features/ma=
il/=0A=0A=0A=0A=0A=09=0A=09=0A=09=09=0A____________________________________=
_______________________ =0ANew Yahoo! Mail is the ultimate force in competi=
tive emailing. Find out more at the Yahoo! Mail Championships. Plus: play g=
ames and win prizes. =0Ahttp://uk.rd.yahoo.com/evt=3D44106/*http://mail.yah=
oo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 16:10:05 2007
Return-Path: <java-user-return-26679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78684 invoked from network); 7 Mar 2007 16:10:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 16:10:04 -0000
Received: (qmail 1654 invoked by uid 500); 7 Mar 2007 16:10:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1629 invoked by uid 500); 7 Mar 2007 16:10:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1615 invoked by uid 99); 7 Mar 2007 16:10:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 08:10:06 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.221] (HELO web26010.mail.ukl.yahoo.com) (217.12.10.221)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Mar 2007 08:09:54 -0800
Received: (qmail 99954 invoked by uid 60001); 7 Mar 2007 16:09:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=vGoZyeVAGWOLx8xEOOWmi8LCLI8xAhGU6vpYYDEgPRu1Px/j5tj7xJr4CewuYbh3tJEeYbEi2vD45IpFn9dbErk8vjnluiznEypgOYRVoFy8daG/Y4Ksin4iPmST9ZoaL2nSnqJBifZ5GHaNDhSU0JOafkoELD/1I9maOlo7aqA=;
X-YMail-OSG: iXMQOGcVM1ngtSKzpp4BR7G1LN7poodgssMdDW4.0OoG3PhvAhz_7JjGuRWAVfX7Xw--
Received: from [193.36.230.96] by web26010.mail.ukl.yahoo.com via HTTP; Wed, 07 Mar 2007 16:09:33 GMT
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Wed, 7 Mar 2007 16:09:33 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Negative Filtering (such as for profanity)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <426160.98855.qm@web26010.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Ah. Sorry. Last post was a ProfanitySelector rather than ProfanityFilter! -=
 this fixes it anyway....=0A=0A  <CachedFilter>=0A        <BooleanFilter>=
=0A            <Clause occurs=3D"mustNot">=0A                    <TermsFilt=
er fieldName=3D"content">            =0A                        naughty1 na=
ughty2 xxx=0A                    </TermsFilter>=0A            </Clause>=0A =
       </BooleanFilter> =0A   </CachedFilter>=0A=0A=0A=0A=0A=0A----- Origin=
al Message ----=0AFrom: mark harwood <markharw00d@yahoo.co.uk>=0ATo: java-u=
ser@lucene.apache.org=0ASent: Wednesday, 7 March, 2007 4:05:56 PM=0ASubject=
: Re: Negative Filtering (such as for profanity)=0A=0ASounds like the sort =
of filter that could be usefully cached.=0AYou can do all this in Java code=
 or the XML query parser (in contrib) might be a quick and simple way to ex=
ternalize the profanity settings in a stylesheet which is actually used at =
query time e.g.=0A=0A<?xml version=3D"1.0" encoding=3D"ISO-8859-1"?>=0A=0A<=
xsl:template match=3D"/Document">=0A<FilteredQuery>=0A    <Query>=0A       =
 <<UserQuery><xsl:value-of select=3D"content"/></UserQuery>=0A    </Query>=
=0A    <Filter>=0A        <CachedFilter>=0A            <TermsFilter fieldNa=
me=3D"content">            =0A                naughty1 naughty2 xxx=0A     =
       </TermsFilter>=0A        </CachedFilter>        =0A    </Filter>    =
=0A</FilteredQuery>=0A</xsl:template>=0A</xsl:stylesheet>=0A=0AThe above ex=
ample also automatically adds caching to the results of the profanity filte=
r.=0AYour app code to use this would then look like this:=0Ainit()=0A      =
  //parse and cache the stylesheet=0A        QueryTemplateManager qtm=3Dnew=
 QueryTemplateManager(getClass().getResourceAsStream("query.xsl"));=0A....=
=0A=0A=0ArunQuery()=0A            //get the user input=0A            Proper=
ties userInput=3Dnew Properties();=0A             userInput.setProperty("co=
ntent",httpRequest.getParameter("queryCriteria");=0A=0A            //Transf=
orm the user input into a Lucene XML query=0A            org.w3c.dom.Docume=
nt doc=3Dqtm.getQueryAsDOM(userInput);=0A            =0A            //Parse=
 the XML query using the XML parser=0A            Query q=3DxmlQueryBuilder=
.getQuery(doc.getDocumentElement());=0A  =0A            //run query as norm=
al=0A=0ACheers=0AMark=0A=0A=0A----- Original Message ----=0AFrom: Greg Gers=
hman <greggersh@yahoo.com>=0ATo: java-user@lucene.apache.org=0ASent: Wednes=
day, 7 March, 2007 3:07:45 PM=0ASubject: Negative Filtering (such as for pr=
ofanity)=0A=0AI'm attempting to create a profanity filter.  I thought to us=
e a QueryFilter created with a Query of (-$#!+ AND -@#$% AND etc).  The pro=
blem I have run into is that, as a pure negative query is not supported (a =
query for (-term) DOES NOT return the inverse of a query for (term)), I bel=
ieve the bit set returned by a purely negative QueryFilter is empty, so no =
matter how many results returned by the initial query, the result after fil=
tering is always zero documents.=0A=0AI was wondering if anyone had suggest=
ions as to how else to do this.  I've considered simply amending the query =
string submitted by the user to include a pre-generated String that would e=
xclude the query terms, but I consider this a non-elegant solution.  I had =
also thought about creating a new sub-class of QueryFilter, NegativeQueryFi=
lter.  Basically, it would works just like a QueryFilter, taking a positive=
 query (so, I would pass it an OR'ed list of profane words), then the resul=
ting bits are simply flipped.  I think this would work, unless I'm missing =
something.  I'm going to experiment with it, I'd appreciate anyone's though=
ts on this.=0A=0AThanks,=0A=0AGreg=0A=0A=0A=0A=0A =0A______________________=
______________________________________________________________=0AIt's here!=
 Your new message!  =0AGet new email alerts with the free Yahoo! Toolbar.=
=0Ahttp://tools.search.yahoo.com/toolbar/features/mail/=0A=0A=0A=0A=0A    =
=0A    =0A        =0A______________________________________________________=
_____ =0ANew Yahoo! Mail is the ultimate force in competitive emailing. Fin=
d out more at the Yahoo! Mail Championships. Plus: play games and win prize=
s. =0Ahttp://uk.rd.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk=0A=0A---=
------------------------------------------------------------------=0ATo uns=
ubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional =
commands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=09=
=09=0A___________________________________________________________ =0AWhat k=
ind of emailer are you? Find out today - get a free analysis of your email =
personality. Take the quiz at the Yahoo! Mail Championship. =0Ahttp://uk.rd=
.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 16:18:33 2007
Return-Path: <java-user-return-26680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82334 invoked from network); 7 Mar 2007 16:18:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 16:18:33 -0000
Received: (qmail 22536 invoked by uid 500); 7 Mar 2007 16:18:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22509 invoked by uid 500); 7 Mar 2007 16:18:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22497 invoked by uid 99); 7 Mar 2007 16:18:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 08:18:34 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of andyliu1227@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 08:18:22 -0800
Received: by ug-out-1314.google.com with SMTP id k40so600473ugc
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 08:18:00 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nArEB+gYeMOiIK5FwwTLXH6GaoLjaf53d9St1lr0Wn6iYFZuUzks1iRV7OXuCsL7izxTgJ9XAiNPBg1Fsr8jljSzb+K4DhFwoPkGI3GrVRiyQ8tS1FresDPAJPB947N0e+vjiMSrbR4Ji6JQ7ee0J3L3k5ZTirz9lk012E9hrb8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JcHxqEGieU701P7KEMwLsBGOLjEepLCGFi53dVTFS3U6pW1z8uiiyxn3fbtDm2STbrLuekiHclnSKc39T22WODQ6iJIju4AII+jPnwy61Anl5Jf4Zjs3e6RD3TcyLZ89zHlUDkCovWqYzKaTPTq25aPvhroftQmNBfncX4nIgCo=
Received: by 10.114.103.1 with SMTP id a1mr2227347wac.1173284279068;
        Wed, 07 Mar 2007 08:17:59 -0800 (PST)
Received: by 10.114.149.11 with HTTP; Wed, 7 Mar 2007 08:17:58 -0800 (PST)
Message-ID: <32dca9ed0703070817v2028ebd3o72c84e6b26f529f3@mail.gmail.com>
Date: Wed, 7 Mar 2007 11:17:58 -0500
From: "Andy Liu" <andyliu1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using ParallelReader over large immutable index and small updatable index
In-Reply-To: <0C256A587C934045A3C229ADAA3A178107389CC9@gabriel.cary.sciquest.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_196961_24276549.1173284278953"
References: <32dca9ed0703061234m69e731dcjecefaeb12bbff446@mail.gmail.com>
	 <0C256A587C934045A3C229ADAA3A178107389CC9@gabriel.cary.sciquest.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_196961_24276549.1173284278953
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

>From my understanding, MultiSearcher is used to combine two indexes that
have the same fields but different documents.  ParallelReader is used to
combine two indexes that have same documents but different fields.  I'm
trying to do the latter.  Is my understanding correct?  For example, what
I'm trying to do is have one immutable index that has these fields:

field1
field2
field3

and my "update" index that has one field

field4

Both indexes have the same documents, and the docId's are synchronized.
This allows me to execute searches like:

+field1:foo +field4:bar

field4 is a field that would be updated frequently and as real-time as
possible.  However, once I update field4, the docId's are no longer
synchronized, and ParallelReader fails.

Andy

On 3/6/07, Alexey Lef <alexey@sciquest.com> wrote:
>
> We use MultiSearcher for a similar scenario. This way you can keep the
> Searcher/Reader for the read-only index alive and refresh the small index
> Searcher whenever an update is made. If you have any cached filters, they
> are mapped to a Reader, so the cached filters for the big index will stay
> alive as well. The only (small) problem I have found so far is how
> MultiSearcher handles custom Similarity (see
> https://issues.apache.org/jira/browse/LUCENE-789).
>
> Hope this helps,
>
> Alexey
>
> -----Original Message-----
> From: Andy Liu [mailto:andyliu1227@gmail.com]
> Sent: Tuesday, March 06, 2007 3:34 PM
> To: java-user@lucene.apache.org
> Subject: Using ParallelReader over large immutable index and small
> updatable index
>
> Is there a working solution out there that would let me use ParallelReader
> to search over a large, immutable index and a smaller, auxillary index
> that
> is updated frequently?  Currently, from my understanding, the
> ParallelReader
> fails when one of the indexes is updated because the document ID's get out
> of synch.  Using ParallelReader in this way is attractive for me because
> it
> would allow me to quickly make updates to only the fields that change.
>
> The alternative is to use one index.  However, an update would require me
> to
> delete the entire document (which is quite large in my application) and
> reinsert it after making updates.  This requires a lot more I/O and is a
> lot
> slower, and I'd like to avoid this if possible.
>
> I can think of other alternatives, but all involve storing data and/or
> bitsets in memory, which is not very scalable.  I need to be able to
> handle
> millions of documents.
>
> I'm also open to any solution that don't involve ParallelReader that would
> help me make quick updates in the most non-disruptive and scalable
> fashion.
> But it just seems that ParallelReader would be perfect for me needs, if I
> can get past this issue.
>
> I've seen posts about this issue on the list, but nothing pointing to a
> solution.  Can somebody help me out?
>
> Andy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_196961_24276549.1173284278953--

From java-user-return-26681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 17:06:58 2007
Return-Path: <java-user-return-26681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7821 invoked from network); 7 Mar 2007 17:06:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 17:06:56 -0000
Received: (qmail 33078 invoked by uid 500); 7 Mar 2007 17:06:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33047 invoked by uid 500); 7 Mar 2007 17:06:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33026 invoked by uid 99); 7 Mar 2007 17:06:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 09:06:55 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: unknown (herse.apache.org: error in processing during lookup of joe@ximian.com)
Received: from [130.57.169.10] (HELO peabody.ximian.com) (130.57.169.10)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 09:06:44 -0800
Received: (qmail 32455 invoked from network); 7 Mar 2007 17:06:28 -0000
Received: from localhost (HELO ?164.99.121.36?) (joe@127.0.0.1)
  by localhost with SMTP; 7 Mar 2007 17:06:28 -0000
Subject: Re: Using ParallelReader over large immutable index and small
	updatable index
From: Joe Shaw <joe@ximian.com>
To: java-user@lucene.apache.org
In-Reply-To: <32dca9ed0703061234m69e731dcjecefaeb12bbff446@mail.gmail.com>
References: <32dca9ed0703061234m69e731dcjecefaeb12bbff446@mail.gmail.com>
Content-Type: text/plain
Date: Wed, 07 Mar 2007 12:04:46 -0500
Message-Id: <1173287086.23926.21.camel@posthaste.boston.ximian.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.8.2 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

On Tue, 2007-03-06 at 15:34 -0500, Andy Liu wrote: 
> Is there a working solution out there that would let me use ParallelReader
> to search over a large, immutable index and a smaller, auxillary index that
> is updated frequently?  Currently, from my understanding, the ParallelReader
> fails when one of the indexes is updated because the document ID's get out
> of synch.  Using ParallelReader in this way is attractive for me because it
> would allow me to quickly make updates to only the fields that change.

This is the idea, but from lurking on the archives for the better part
of a year and doing various searches on the archives, I'm not sure
anyone is actually successfully using ParallelReader in practice.

If I'm wrong about that, somebody please speak up!

> The alternative is to use one index.  However, an update would require me to
> delete the entire document (which is quite large in my application) and
> reinsert it after making updates.  This requires a lot more I/O and is a lot
> slower, and I'd like to avoid this if possible.
> 
> I can think of other alternatives, but all involve storing data and/or
> bitsets in memory, which is not very scalable.  I need to be able to handle
> millions of documents.

I'm in a very similar situation and we've taken the latter route.  We
get a bitset for our primary (immutable) index and our secondary
(mutable) one and merge the results based on a unique ID in the matching
document in each index.  This isn't super fast because we have to
instantiate a Document to get at this ID, but because the mutable index
contains a lot less information than the immutable one, it isn't too
bad.  We then use the TermDocs to jump to the ID in the primary index
and set its bit.

It probably doesn't scale to millions of matches, but it scales pretty
well to tens of thousands.  I'd suggest breaking down into smaller
indexes if you can, and run this process across each of them.  That way
it'll take less memory and you can return the matches in batches
per-index.

Joe


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 17:12:46 2007
Return-Path: <java-user-return-26682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11286 invoked from network); 7 Mar 2007 17:12:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 17:12:45 -0000
Received: (qmail 47464 invoked by uid 500); 7 Mar 2007 17:12:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47430 invoked by uid 500); 7 Mar 2007 17:12:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47419 invoked by uid 99); 7 Mar 2007 17:12:46 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 09:12:46 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of philippn@gmail.com designates 209.85.132.241 as permitted sender)
Received: from [209.85.132.241] (HELO an-out-0708.google.com) (209.85.132.241)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 09:12:35 -0800
Received: by an-out-0708.google.com with SMTP id c3so175402ana
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 09:12:15 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CdCVl8+pKZYweMKxKS7vBA2oLCo0SlChAwgoxsuJ7rSnSPEocCCgX+3dpHeP9STLAKuBQ0BuGvmxvc7BWRDGjfWkqlPbvqHMSALKSOUIBCZu0UpBkJ/R6Y244FoRzWQH+UqCMtV8D4WqsCobmeCiwxf69+Xwj0glNQtGzJDf5Cw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Ee4zSYy671/jYqyEHBJvD6/4xCXfnh1wj0jXppmPrbl8wKQkIsj230uGgSE/7qlLUw+uc9vo0ipB+hJ9a/CNsIaeHS8bbAG3db2nn1uVYThmz12S42hSt20XuTVPOGv5odTDC5+ZrRlZcH3o777uMwiom7vfOdrveO5eE3YbXuI=
Received: by 10.100.152.9 with SMTP id z9mr6561479and.1173287534875;
        Wed, 07 Mar 2007 09:12:14 -0800 (PST)
Received: by 10.100.12.14 with HTTP; Wed, 7 Mar 2007 09:12:14 -0800 (PST)
Message-ID: <40b852f10703070912l45e2a579x9b5d228a70bf3b61@mail.gmail.com>
Date: Wed, 7 Mar 2007 18:12:14 +0100
From: "Philipp Nanz" <philippn@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: alternative scoring algorithm for PhraseQuery
In-Reply-To: <Pine.LNX.4.58.0703061138500.22293@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com>
	 <Pine.LNX.4.58.0703061138500.22293@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for your answers. Your input is really appreciated :-)

@Paul Elschot:
Thanks for the hint. I guess I could use coord() to penalize missing
terms like this:

Query: a b c d
Doc A: a b c d => sloppyFreq(0) * coord(4, 4) = 1
Doc B: a b c => sloppyFreq(0) * coord(3, 4) = 0,75

Doc would score higher. I guess that might be a valid solution.

There is a drawback though, i.e. sloppyFreq(1) * coord(4, 4) = 0,5

So a perfect match with one insertion would score less than a 3 of 4
match with no slop.

As for spanqueries:
My implementation is based of the default PhraseQuery with slop > 0. I
don't know the inner workings of SpanQueries, but what you describe
sounds alot like what the PhraseQuery does as well (i.e. calculate max
distance between last and first term, and use that with sloppyFreq()).

I chose PhraseQuery as base of my work, because I felt that it would
offer better performance than firing off a plethora of spanqueries to
express the same query.

Long story short: My problem would generalize to spanqueries if
spanqueries would face the problem of deleted terms. But I guess they
don't?!

@Chris Hostetter: You are absolutely right. But it shows off into
which direction it could go to. Perhaps I could add +1 (or some other
amount) as additional penalty to the maximum error for missing terms
to distinguish between these cases further.

But still this could lead to a case where

Doc A: a b c x1 x2 [more x...] xn d
will be scored lower than
Doc B: a b c
(because the distance of A can exceed the penalty for the missing term
- its only a matter of choosing the right n)
which is questionable as well.

2007/3/6, Chris Hostetter <hossman_lucene@fucit.org>:
> : My initial idea was to penalize a missing term position with its maximum error.
> :
> : Consider this:
> : Query:  a b c d
> : Document A: b c d
> :
> : Term a is missing, score it as if it was at the worst position possible
> :
> : result:       b c d a
> : pos. diffs: -1 -1 -1 +3
>
> side comment: this doesn't sound very useful, a document containing "b c
> d" matches equally to a doc containing "b c d a" ? ... shouldn't a doc
> containing "b c d a" be considered a much better match since it at least
> contains all of the terms close together?
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 17:26:06 2007
Return-Path: <java-user-return-26683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19176 invoked from network); 7 Mar 2007 17:26:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 17:26:05 -0000
Received: (qmail 79073 invoked by uid 500); 7 Mar 2007 17:26:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79046 invoked by uid 500); 7 Mar 2007 17:26:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79031 invoked by uid 99); 7 Mar 2007 17:26:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 09:26:04 -0800
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 09:25:53 -0800
Received: by ug-out-1314.google.com with SMTP id k40so624527ugc
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 09:25:32 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=PIpXxdTUPrUskyAHFSUjK3iIzCKZVarIJqjykHehmlTf2K/ZTY3BS+n2fBX1UdqBV7rW89SwBuZ4ZRN1LQI/Kwj036vsBvvNdby0qoXYl66d1On1AzxJQmXLn1poHxXdnU5NXKlzflI0u0ujz3iUxxHg7jh9LqlGt1dkry3/kMY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=NyJ3y+0/jOCAehOrKjQ+daJDv6Pc1O9gDjwnoxwgsnn19rD1UHFvvsrYbJji1lxY3Qc27uGms+FmsIFR2+T7q22TaXqr6Gvu7zWPwHIW0rEOpcJTQUZooxdH/ZrN0J5eJ7b2zlc4jreVRoeJMyuoaF5k/o5SjhCMtVytTGgtqL0=
Received: by 10.114.89.1 with SMTP id m1mr2251890wab.1173288331484;
        Wed, 07 Mar 2007 09:25:31 -0800 (PST)
Received: by 10.114.131.16 with HTTP; Wed, 7 Mar 2007 09:25:31 -0800 (PST)
Message-ID: <b6246fe60703070925v4f15b3a3w7f24eb7ffcf9fbc0@mail.gmail.com>
Date: Wed, 7 Mar 2007 11:25:31 -0600
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Query String for a phrase?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_196265_253340.1173288331443"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_196265_253340.1173288331443
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,
Please suggest what should be the query String for a pharse search.
Thanks and Regards,
Ruchi

------=_Part_196265_253340.1173288331443--

From java-user-return-26684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 18:19:58 2007
Return-Path: <java-user-return-26684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42732 invoked from network); 7 Mar 2007 18:19:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 18:19:57 -0000
Received: (qmail 22051 invoked by uid 500); 7 Mar 2007 18:19:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22022 invoked by uid 500); 7 Mar 2007 18:19:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22001 invoked by uid 99); 7 Mar 2007 18:19:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 10:19:52 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.191.85.133] (HELO web37214.mail.mud.yahoo.com) (209.191.85.133)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Mar 2007 10:19:39 -0800
Received: (qmail 55575 invoked by uid 60001); 7 Mar 2007 18:19:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=ljQJouTxvC6fwdAqm3Afc3j9E2d1XmwbyrssJP85e7EbbNo2NlsUeVJFsLPLkyc1Jk0Au/DNf6xarc5cfgZz/Zlfeel1D58MKUjJUYfU78KWVgkXJ/KF8l7XVgG4XkoJWHefFoGPMljjuiSaTKKO3CdxXptKLbfTrzpwC44S66k=;
X-YMail-OSG: sggepNYVM1n6OAmw.cq7gcGdppSqlCPe7H9tRoHtWnLNCKzHeg2GMN37lTH9Sk6YJLK.II7RTWhU.EitokEfKhRlbh_UKsIPzYLmOExb6t6AB9ZRI7SxRt_TlgWP8ttiqfURnjqY42rUCML2bryAEriZjQ--
Received: from [69.251.48.204] by web37214.mail.mud.yahoo.com via HTTP; Wed, 07 Mar 2007 10:19:18 PST
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Wed, 7 Mar 2007 10:19:18 -0800 (PST)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Re: Negative Filtering (such as for profanity)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-59281054-1173291558=:52498"
Message-ID: <590946.52498.qm@web37214.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-59281054-1173291558=:52498
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

One point: if you use stemming, or some other modification of the terms bef=
ore indexing, you'll need to make sure the terms you create to match agains=
t are also stemmed.=0A=0AGreg=0A=0A----- Original Message ----=0AFrom: Greg=
 Gershman <greggersh@yahoo.com>=0ATo: java-user@lucene.apache.org=0ASent: W=
ednesday, March 7, 2007 11:02:51 AM=0ASubject: Re: Negative Filtering (such=
 as for profanity)=0A=0AThanks! I was not aware of that class, for some rea=
son.=0A=0AI tried creating a NegativeQueryFilter, it works just fine.  Can =
you think of any reason why one approach would be better than the other?  I=
f there's interest, I'm happy to post the NegativeQueryFilter.=0A=0AGreg=0A=
=0A----- Original Message ----=0AFrom: Mark Miller <markrmiller@gmail.com>=
=0ATo: java-user@lucene.apache.org=0ASent: Wednesday, March 7, 2007 10:19:3=
2 AM=0ASubject: Re: Negative Filtering (such as for profanity)=0A=0Ahttp://=
lucene.apache.org/java/docs/api/org/apache/lucene/search/MatchAllDocsQuery.=
html=0A=0AYou can use that Query in front of a NOT query clause.=0A=0AGreg =
Gershman wrote:=0A> I'm attempting to create a profanity filter.  I thought=
 to use a QueryFilter created with a Query of (-$#!+ AND -@#$% AND etc).  T=
he problem I have run into is that, as a pure negative query is not support=
ed (a query for (-term) DOES NOT return the inverse of a query for (term)),=
 I believe the bit set returned by a purely negative QueryFilter is empty, =
so no matter how many results returned by the initial query, the result aft=
er filtering is always zero documents.=0A>=0A> I was wondering if anyone ha=
d suggestions as to how else to do this.  I've considered simply amending t=
he query string submitted by the user to include a pre-generated String tha=
t would exclude the query terms, but I consider this a non-elegant solution=
.  I had also thought about creating a new sub-class of QueryFilter, Negati=
veQueryFilter.  Basically, it would works just like a QueryFilter, taking a=
 positive query (so, I would pass it an OR'ed list of profane words), then =
the resulting bits are simply flipped.  I think this would work, unless I'm=
 missing something.  I'm going to experiment with it, I'd appreciate anyone=
's thoughts on this.=0A>=0A> Thanks,=0A>=0A> Greg=0A>=0A>=0A>=0A>=0A>  =0A>=
 __________________________________________________________________________=
__________=0A> It's here! Your new message!  =0A> Get new email alerts with=
 the free Yahoo! Toolbar.=0A> http://tools.search.yahoo.com/toolbar/feature=
s/mail/=0A>   =0A=0A-------------------------------------------------------=
--------------=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apach=
e.org=0AFor additional commands, e-mail: java-user-help@lucene.apache.org=
=0A=0A=0A=0A=0A=0A=0A=0A=0A =0A____________________________________________=
________________________________________=0ASucker-punch spam with award-win=
ning protection. =0ATry the free Yahoo! Mail Beta.=0Ahttp://advision.webeve=
nts.yahoo.com/mailbeta/features_spam.html=0A=0A=0A=0A=0A=0A=0A =0A_________=
___________________________________________________________________________=
=0A8:00? 8:25? 8:40? Find a flick in no time =0Awith the Yahoo! Search movi=
e showtime shortcut.=0Ahttp://tools.search.yahoo.com/shortcuts/#news
--0-59281054-1173291558=:52498--

From java-user-return-26685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 18:23:59 2007
Return-Path: <java-user-return-26685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43981 invoked from network); 7 Mar 2007 18:23:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 18:23:58 -0000
Received: (qmail 29528 invoked by uid 500); 7 Mar 2007 18:24:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29501 invoked by uid 500); 7 Mar 2007 18:23:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29490 invoked by uid 99); 7 Mar 2007 18:23:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 10:23:59 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 10:23:48 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id F25135B776; Wed,  7 Mar 2007 10:23:27 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E68777F403
	for <java-user@lucene.apache.org>; Wed,  7 Mar 2007 10:23:27 -0800 (PST)
Date: Wed, 7 Mar 2007 10:23:27 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: alternative scoring algorithm for PhraseQuery
In-Reply-To: <40b852f10703070912l45e2a579x9b5d228a70bf3b61@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703071017470.10714@hal.rescomp.berkeley.edu>
References: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com> 
 <Pine.LNX.4.58.0703061138500.22293@hal.rescomp.berkeley.edu>
 <40b852f10703070912l45e2a579x9b5d228a70bf3b61@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Query: a b c d
: Doc A: a b c d => sloppyFreq(0) * coord(4, 4) = 1
: Doc B: a b c => sloppyFreq(0) * coord(3, 4) = 0,75
:
: Doc would score higher. I guess that might be a valid solution.
: There is a drawback though, i.e. sloppyFreq(1) * coord(4, 4) = 0,5
: So a perfect match with one insertion would score less than a 3 of 4
: match with no slop.

but now you've put the control in the hands of the client: they can choose
a Similarity based on what is more important too them: if matching more
clauses is important, they can have a strict coord function, if matching
with less slop is more important they can have a strict sloppyFreq method.

: don't know the inner workings of SpanQueries, but what you describe
: sounds alot like what the PhraseQuery does as well (i.e. calculate max
: distance between last and first term, and use that with sloppyFreq()).

correct, the big advantage of Span queries is that while a SpanNearQuery
is roughly equivilent to a PhraseQuery, a PhraseQuery can only contain
Terms, whilea SPanNearQuery can contain other spans ... so a spannear
query for: "a b c d" can function even if "a" is a complicated sub query
(like "x OR y OR (p near q but not with z between them)")



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 18:38:28 2007
Return-Path: <java-user-return-26686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48556 invoked from network); 7 Mar 2007 18:38:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 18:38:27 -0000
Received: (qmail 67275 invoked by uid 500); 7 Mar 2007 18:38:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67244 invoked by uid 500); 7 Mar 2007 18:38:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67233 invoked by uid 99); 7 Mar 2007 18:38:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 10:38:29 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of patrek@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 10:38:18 -0800
Received: by nf-out-0910.google.com with SMTP id g2so257546nfe
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 10:37:55 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SiLbtWxHSYmbU8EZGh8lDKsiB0lQbT57M2mmf67sRkfH/f4KM+U3wN4lQDxae/RNApftviODu4WSBKOVZnFlnKc6RuDHpJBdbUl8iVCWzb4FnTHLzb3zkVnJ3kApPFBrqNbAuoS0LEJYZEg8gW3XkASLThaAkUzof0FvZSOSOIw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LuW4K7yfBFeR5LpoLPHytJf0XYW+K60G6qGajUr3Azw8UgkkFWtl1662yGuCDmQVQnkYajnTmhZZDo03bAdTK4tn/w8v5by/yxPAAlf+u27I6tUC7gyz37/OO/dCd7AIzu8J+nYlAZihoIPiUEVqigdm5ADbunkriwi2BuNMDZk=
Received: by 10.78.203.13 with SMTP id a13mr1021401hug.1173292675370;
        Wed, 07 Mar 2007 10:37:55 -0800 (PST)
Received: by 10.78.51.18 with HTTP; Wed, 7 Mar 2007 10:37:55 -0800 (PST)
Message-ID: <48b038c60703071037x1c6731c4p585cfac4bcf8dd27@mail.gmail.com>
Date: Wed, 7 Mar 2007 13:37:55 -0500
From: "Patrick Turcotte" <patrek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <b6246fe60703070925v4f15b3a3w7f24eb7ffcf9fbc0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_148581_16017333.1173292675371"
References: <b6246fe60703070925v4f15b3a3w7f24eb7ffcf9fbc0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_148581_16017333.1173292675371
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,


> Please suggest what should be the query String for a pharse search.


Did you take a look at:
http://lucene.apache.org/java/docs/queryparsersyntax.html ?

Patrick

------=_Part_148581_16017333.1173292675371--

From java-user-return-26687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 19:08:12 2007
Return-Path: <java-user-return-26687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60136 invoked from network); 7 Mar 2007 19:08:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 19:08:12 -0000
Received: (qmail 47671 invoked by uid 500); 7 Mar 2007 19:08:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47646 invoked by uid 500); 7 Mar 2007 19:08:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47635 invoked by uid 99); 7 Mar 2007 19:08:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 11:08:13 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.83] (HELO spunkymail-a12.g.dreamhost.com) (208.97.132.83)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 11:08:01 -0800
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a12.g.dreamhost.com (Postfix) with ESMTP id 85ADE7FAA
	for <java-user@lucene.apache.org>; Wed,  7 Mar 2007 11:07:40 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <439632.94496.qm@web37208.mail.mud.yahoo.com>
References: <439632.94496.qm@web37208.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7DA8B402-8AC6-4348-95E1-E17C626EF6F5@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Negative Filtering (such as for profanity)
Date: Wed, 7 Mar 2007 14:07:38 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Not sure if this helpful given your proposed solution, but could you  
do something on the indexing side, such as:

1.  Remove the profanity from the token stream, much like a  
stopword.  This would also mean stripping it from the display text
2. If your TokenFilter comes across a profanity, somehow mark the  
document as containing a profanity via a "profanity" Field (not sure  
if there is a way, in Lucene, to add another Field while you are in  
the analysis phase, but you could also have it update a table in a db  
or something.)  Then on search, you could just say (regular query)  
+profanity:false

HTH,
Grant

On Mar 7, 2007, at 10:07 AM, Greg Gershman wrote:

> I'm attempting to create a profanity filter.  I thought to use a  
> QueryFilter created with a Query of (-$#!+ AND -@#$% AND etc).  The  
> problem I have run into is that, as a pure negative query is not  
> supported (a query for (-term) DOES NOT return the inverse of a  
> query for (term)), I believe the bit set returned by a purely  
> negative QueryFilter is empty, so no matter how many results  
> returned by the initial query, the result after filtering is always  
> zero documents.
>
> I was wondering if anyone had suggestions as to how else to do  
> this.  I've considered simply amending the query string submitted  
> by the user to include a pre-generated String that would exclude  
> the query terms, but I consider this a non-elegant solution.  I had  
> also thought about creating a new sub-class of QueryFilter,  
> NegativeQueryFilter.  Basically, it would works just like a  
> QueryFilter, taking a positive query (so, I would pass it an OR'ed  
> list of profane words), then the resulting bits are simply  
> flipped.  I think this would work, unless I'm missing something.   
> I'm going to experiment with it, I'd appreciate anyone's thoughts  
> on this.
>
> Thanks,
>
> Greg
>
>
>
>
>
> ______________________________________________________________________ 
> ______________
> It's here! Your new message!
> Get new email alerts with the free Yahoo! Toolbar.
> http://tools.search.yahoo.com/toolbar/features/mail/

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 21:05:07 2007
Return-Path: <java-user-return-26688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17599 invoked from network); 7 Mar 2007 21:05:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 21:05:06 -0000
Received: (qmail 86886 invoked by uid 500); 7 Mar 2007 21:05:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86635 invoked by uid 500); 7 Mar 2007 21:05:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86624 invoked by uid 99); 7 Mar 2007 21:05:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 13:05:08 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 13:04:55 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HP3JL-0004vd-47
	for java-user@lucene.apache.org; Wed, 07 Mar 2007 13:04:35 -0800
Message-ID: <9362169.post@talk.nabble.com>
Date: Wed, 7 Mar 2007 13:04:35 -0800 (PST)
From: teramera <teramera@gmail.com>
To: java-user@lucene.apache.org
Subject: Term Frequency within Hits
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: teramera@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


So after I execute a search I end up with a 'Hits' object. The number of Hits
is the order of a million.
What I want to do is from these Hits is extract term frequencies for a few
known fields. I don't have a global list of terms for any of the fields but
want to generate  the term frequency based on terms from the Hits.

Iterating over the hits and doing this later is of course turning out to be
very expensive.
Is there a known Lucene way of solving such a problem so that this
calculation happens as the hits are being accumulated?  
Appreciate any pointers,

-- 
View this message in context: http://www.nabble.com/Term-Frequency-within-Hits-tf3364987.html#a9362169
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 21:41:49 2007
Return-Path: <java-user-return-26689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32454 invoked from network); 7 Mar 2007 21:41:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 21:41:49 -0000
Received: (qmail 47665 invoked by uid 500); 7 Mar 2007 21:41:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47629 invoked by uid 500); 7 Mar 2007 21:41:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47618 invoked by uid 99); 7 Mar 2007 21:41:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 13:41:50 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.109.24.21] (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 13:41:38 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.13.8/8.13.8) with ESMTP id l27LfGFN058012
	for <java-user@lucene.apache.org>; Wed, 7 Mar 2007 22:41:17 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Negative Filtering (such as for profanity)
Date: Wed, 7 Mar 2007 22:41:16 +0100
User-Agent: KMail/1.8.2
References: <439632.94496.qm@web37208.mail.mud.yahoo.com>
In-Reply-To: <439632.94496.qm@web37208.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200703072241.16588.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

On Wednesday 07 March 2007 16:07, Greg Gershman wrote:
> I'm attempting to create a profanity filter.  I thought to use a QueryFilter 
created with a Query of (-$#!+ AND -@#$% AND etc).  The problem I have run 
into is that, as a pure negative query is not supported (a query for (-term) 
DOES NOT return the inverse of a query for (term)), I believe the bit set 
returned by a purely negative QueryFilter is empty, so no matter how many 
results returned by the initial query, the result after filtering is always 
zero documents.

It may have been suggested already: you can create a Filter
for the positive Query, and then invert the bits in the BitSet of the Filter
to have negative filtering.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 21:50:25 2007
Return-Path: <java-user-return-26690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35839 invoked from network); 7 Mar 2007 21:50:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 21:50:22 -0000
Received: (qmail 67933 invoked by uid 500); 7 Mar 2007 21:50:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67903 invoked by uid 500); 7 Mar 2007 21:50:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67868 invoked by uid 99); 7 Mar 2007 21:50:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 13:50:16 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.109.24.32] (HELO smtp-vbr12.xs4all.nl) (194.109.24.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 13:50:03 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr12.xs4all.nl (8.13.8/8.13.8) with ESMTP id l27LngrC012001
	for <java-user@lucene.apache.org>; Wed, 7 Mar 2007 22:49:42 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: alternative scoring algorithm for PhraseQuery
Date: Wed, 7 Mar 2007 22:49:41 +0100
User-Agent: KMail/1.8.2
References: <40b852f10703051608x40f4f568r5cd690533a2765f5@mail.gmail.com> <Pine.LNX.4.58.0703061138500.22293@hal.rescomp.berkeley.edu> <40b852f10703070912l45e2a579x9b5d228a70bf3b61@mail.gmail.com>
In-Reply-To: <40b852f10703070912l45e2a579x9b5d228a70bf3b61@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200703072249.41901.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org

On Wednesday 07 March 2007 18:12, Philipp Nanz wrote:
> Thanks for your answers. Your input is really appreciated :-)
> 
> @Paul Elschot:
> Thanks for the hint. I guess I could use coord() to penalize missing
> terms like this:
> 
> Query: a b c d
> Doc A: a b c d => sloppyFreq(0) * coord(4, 4) = 1
> Doc B: a b c => sloppyFreq(0) * coord(3, 4) = 0,75
> 
> Doc would score higher. I guess that might be a valid solution.
> 
> There is a drawback though, i.e. sloppyFreq(1) * coord(4, 4) = 0,5
> 
> So a perfect match with one insertion would score less than a 3 of 4
> match with no slop.

Your examples are based on DefaultSimilarity. 
With a  Similarity in your Scorer you can leave the tradeoff between these
factors to the user of your query by letting them provide the Similarity
at query time.

> 
> As for spanqueries:
> My implementation is based of the default PhraseQuery with slop > 0. I
> don't know the inner workings of SpanQueries, but what you describe
> sounds alot like what the PhraseQuery does as well (i.e. calculate max
> distance between last and first term, and use that with sloppyFreq()).
> 
> I chose PhraseQuery as base of my work, because I felt that it would
> offer better performance than firing off a plethora of spanqueries to
> express the same query.
> 
> Long story short: My problem would generalize to spanqueries if
> spanqueries would face the problem of deleted terms. But I guess they
> don't?!

Correct, they don't.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 22:29:46 2007
Return-Path: <java-user-return-26691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55715 invoked from network); 7 Mar 2007 22:29:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 22:29:45 -0000
Received: (qmail 46773 invoked by uid 500); 7 Mar 2007 22:29:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46739 invoked by uid 500); 7 Mar 2007 22:29:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46728 invoked by uid 99); 7 Mar 2007 22:29:46 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 14:29:46 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.225 as permitted sender)
Received: from [64.233.184.225] (HELO wr-out-0506.google.com) (64.233.184.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 14:29:35 -0800
Received: by wr-out-0506.google.com with SMTP id 68so523732wra
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 14:29:14 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Bcd5b6nkOIaU9uL8HQ82tqX4FtF6ub64mVk91kSNQl8nF++qR54SidPbTXxzdoqMWr+1FzS5aGc60eCeUBXOXVZDQ0Ae1VU8GB3cLz1K87nRiqQ5wSqcvQAR8LhH38angMlWeEXdVOLpcpVUFJlRuMPXMvqdljUMH50r+za996E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kyEff2y7DMH+aXQJrWVWf65utOcxoeh9xmA/i4wXBVQEqTSEQPRfsgsaiXseGWaEzBX/uk+MhASGC3MZ1ImIfPSiMyHfOSQxRKqHUnlc9YmdD105pKoFpcds16BkM/Xgpe3XTU24ZgYDCnPsg4+PjZ+IysK1N4csmBN2ACm+1X4=
Received: by 10.114.161.11 with SMTP id j11mr2371942wae.1173306554030;
        Wed, 07 Mar 2007 14:29:14 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Wed, 7 Mar 2007 14:29:14 -0800 (PST)
Message-ID: <359a92830703071429l7ee75b47yf6882f833b8ac00b@mail.gmail.com>
Date: Wed, 7 Mar 2007 17:29:14 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Term Frequency within Hits
In-Reply-To: <9362169.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_223939_15548362.1173306554001"
References: <9362169.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_223939_15548362.1173306554001
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

See TermFreqVector, HitCollector, perhaps TopDocs, perhaps
TermEnum. Make sure you create your index such that frequencies
are stored (see the FAQ).

Erick

On 3/7/07, teramera <teramera@gmail.com> wrote:
>
>
> So after I execute a search I end up with a 'Hits' object. The number of
> Hits
> is the order of a million.
> What I want to do is from these Hits is extract term frequencies for a few
> known fields. I don't have a global list of terms for any of the fields
> but
> want to generate  the term frequency based on terms from the Hits.
>
> Iterating over the hits and doing this later is of course turning out to
> be
> very expensive.
> Is there a known Lucene way of solving such a problem so that this
> calculation happens as the hits are being accumulated?
> Appreciate any pointers,
>
> --
> View this message in context:
> http://www.nabble.com/Term-Frequency-within-Hits-tf3364987.html#a9362169
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_223939_15548362.1173306554001--

From java-user-return-26692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 07 22:39:17 2007
Return-Path: <java-user-return-26692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63183 invoked from network); 7 Mar 2007 22:39:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 7 Mar 2007 22:39:14 -0000
Received: (qmail 66401 invoked by uid 500); 7 Mar 2007 22:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66127 invoked by uid 500); 7 Mar 2007 22:39:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66116 invoked by uid 99); 7 Mar 2007 22:39:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 14:39:16 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.191.85.132] (HELO web37213.mail.mud.yahoo.com) (209.191.85.132)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Mar 2007 14:39:04 -0800
Received: (qmail 83861 invoked by uid 60001); 7 Mar 2007 22:38:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=ai4jDLkRkUCxpd69D1VXNfSFTPFvOSDOwtLldwSxRgnnDh1THeVHk6BcEsRQxndADqZQ5422aLvvLLm/i+5PfrMt90Foh+1hL0wJc9wnznJbTIhBMTUM6MaXeTMxJcwOUg6BX1nrqV+DZM9+CUj35aY4Sz//oVpYic5MEFOhlMM=;
X-YMail-OSG: dd7tsBoVM1nog3mx1VKNMm1zCq4d6Pka6ofX2xhctcACpV2pLgrAKdXkkbTLwh0Xbgazu_5ZKlANCLV5HZNeGvEtGhmZNudIME_7N3uws91YXTZ5vUC62wOi588H4wUlcNeLMfqSTyf9GHWEObvfNg1Yag--
Received: from [69.251.48.204] by web37213.mail.mud.yahoo.com via HTTP; Wed, 07 Mar 2007 14:38:42 PST
X-Mailer: YahooMailRC/468 YahooMailWebService/0.6.132.8
Date: Wed, 7 Mar 2007 14:38:42 -0800 (PST)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Re: Negative Filtering (such as for profanity)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-880275920-1173307122=:82911"
Message-ID: <767529.82911.qm@web37213.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-880275920-1173307122=:82911
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

I thought about this, as I think overall the resources required would be le=
ss than creating a filter.  Ultimately I decided against it for a few reaso=
ns:=0A1) I'm working with an existing index of ~50 million documents, I don=
't want to reindex the whole thing, or even just the documents that contain=
 profanity, if I can avoid it.=0A2) Filtering at indexing time means I can'=
t effectively add new words to the profanity list without reindexing.=0A=0A=
Good suggestion, though, I appreciate it.=0A=0AGreg=0A=0A----- Original Mes=
sage ----=0AFrom: Grant Ingersoll <gsingers@apache.org>=0ATo: java-user@luc=
ene.apache.org=0ASent: Wednesday, March 7, 2007 2:07:38 PM=0ASubject: Re: N=
egative Filtering (such as for profanity)=0A=0ANot sure if this helpful giv=
en your proposed solution, but could you  =0Ado something on the indexing s=
ide, such as:=0A=0A1.  Remove the profanity from the token stream, much lik=
e a  =0Astopword.  This would also mean stripping it from the display text=
=0A2. If your TokenFilter comes across a profanity, somehow mark the  =0Ado=
cument as containing a profanity via a "profanity" Field (not sure  =0Aif t=
here is a way, in Lucene, to add another Field while you are in  =0Athe ana=
lysis phase, but you could also have it update a table in a db  =0Aor somet=
hing.)  Then on search, you could just say (regular query)  =0A+profanity:f=
alse=0A=0AHTH,=0AGrant=0A=0AOn Mar 7, 2007, at 10:07 AM, Greg Gershman wrot=
e:=0A=0A> I'm attempting to create a profanity filter.  I thought to use a =
 =0A> QueryFilter created with a Query of (-$#!+ AND -@#$% AND etc).  The  =
=0A> problem I have run into is that, as a pure negative query is not  =0A>=
 supported (a query for (-term) DOES NOT return the inverse of a  =0A> quer=
y for (term)), I believe the bit set returned by a purely  =0A> negative Qu=
eryFilter is empty, so no matter how many results  =0A> returned by the ini=
tial query, the result after filtering is always  =0A> zero documents.=0A>=
=0A> I was wondering if anyone had suggestions as to how else to do  =0A> t=
his.  I've considered simply amending the query string submitted  =0A> by t=
he user to include a pre-generated String that would exclude  =0A> the quer=
y terms, but I consider this a non-elegant solution.  I had  =0A> also thou=
ght about creating a new sub-class of QueryFilter,  =0A> NegativeQueryFilte=
r.  Basically, it would works just like a  =0A> QueryFilter, taking a posit=
ive query (so, I would pass it an OR'ed  =0A> list of profane words), then =
the resulting bits are simply  =0A> flipped.  I think this would work, unle=
ss I'm missing something.   =0A> I'm going to experiment with it, I'd appre=
ciate anyone's thoughts  =0A> on this.=0A>=0A> Thanks,=0A>=0A> Greg=0A>=0A>=
=0A>=0A>=0A>=0A> __________________________________________________________=
____________ =0A> ______________=0A> It's here! Your new message!=0A> Get n=
ew email alerts with the free Yahoo! Toolbar.=0A> http://tools.search.yahoo=
.com/toolbar/features/mail/=0A=0A--------------------------=0AGrant Ingerso=
ll=0ACenter for Natural Language Processing=0Ahttp://www.cnlp.org=0A=0ARead=
 the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ =0ALuceneFAQ=
=0A=0A=0A=0A---------------------------------------------------------------=
------=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A=
For additional commands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=
=0A=0A=0A=0A=0A=0A=0A =0A__________________________________________________=
__________________________________=0ANeed Mail bonding?=0AGo to the Yahoo! =
Mail Q&A for great tips from Yahoo! Answers users.=0Ahttp://answers.yahoo.c=
om/dir/?link=3Dlist&sid=3D396546091
--0-880275920-1173307122=:82911--

From java-user-return-26693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 02:32:53 2007
Return-Path: <java-user-return-26693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67633 invoked from network); 8 Mar 2007 02:32:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 02:32:52 -0000
Received: (qmail 97523 invoked by uid 500); 8 Mar 2007 02:32:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97490 invoked by uid 500); 8 Mar 2007 02:32:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97479 invoked by uid 99); 8 Mar 2007 02:32:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 18:32:54 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 18:32:44 -0800
Received: by nf-out-0910.google.com with SMTP id g2so397175nfe
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 18:32:23 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=EUdXQmBM0bigIBx1VPbQBA/0dmx4xRgdVNc/o52WioNelMutOL4s97W6adcGTT3MdQXpY/571EFHvqKe+hvagEla38Yime4UmwAcUk2Vg3MMQkBXrl/hkqe+vSDSDq2e1Glc4t/boBNGe2vG3hbIBzET0dsQZKkztQ8h70W0uo8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=BSUsoFY1Uoq9G0C2FEsa+nk535actxPD3MgIQiXIIPGqx/MnzwbNaWJVGncen3n/KRhS4/SUt2TdO5Bx0s4eHEP9KUQGleIujbQI0vgRcjijaWDjKKnzZ/7mtZBMN+3Q2TuUqN0UBl+wqhfaz1tej50BGDasEZlCV1ECi3KL21U=
Received: by 10.82.188.15 with SMTP id l15mr10633015buf.1173321142783;
        Wed, 07 Mar 2007 18:32:22 -0800 (PST)
Received: by 10.82.157.11 with HTTP; Wed, 7 Mar 2007 18:32:22 -0800 (PST)
Message-ID: <6e3ae6310703071832t35479496obee2880708334a0c@mail.gmail.com>
Date: Wed, 7 Mar 2007 18:32:22 -0800
From: "Chris Lu" <chris.lu@gmail.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: sharing my experience for upgrading from Lucene 1.9 to Lucene 2.2-dev
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

I would like to share my experience for upgrading from Lucene 1.9 to
Lucene 2.2, build 515893.

I have been working on a product called DBSight. It has both a
designing web UI for configuring database crawl, and also capabilities
to serve search requests like later-emerged SOLR. So DBSight can do
both indexing and searching. Previously I have upgraded to 1.3, 1.4,
and 1.9, all were pretty easy and went through well. Upgrading to 2.2
isn't so straight forward though.

Last time when Lucene 2.0 came out, I tried it by simply dropping
lucene-2.0.jar onto the classpath. The indexing went well, but somehow
the searching didn't work any more, no results and without any
exceptions! That's wierd and I have to back off.

Now with Lucene 2.2, I tried it again. This time, there are a bunch of
NullPointerException when starting DBSight. But at least I can fix
those. So I take some time to write down anything that may need to
change. Your code may differ depending on which API you use.

1. Use document.getFields() instead of deprecated document.fields()
  This is an easy one, but with some code change. The return type
changed from Enumeration to List. So you may need to write 2~3 lines
of code. The upgrading should be easy and not even need a QA(really?).
2. Use FSDirectory.getDirectory(file) instead of
FSDirectory.getDirectory(file, isCreating)
  FSDirectory.getDirectory(file) will not automatically create
directory any more. I missed this deprecated yet convenient parameter.
However, not so bad.
3. RAMDirectory related changes
  It took me something to find this out. Previously, after
    ramDirectory = new RAMDirectory(file)
  I could ramDirectory.close() to release the resources. And later, I
could do a check for IndexReader.indexExists(ramDirectory) to see if
there is an index in the directory. FSDirectory behaves this way also.
  But with lucene 2.2, NullPointerExceptions came out. It turns out
when ramDirectory.close(), the instance variable fileMap is set to
null. And IndexReader.indexExists(ramDirectory) is reading fileMap to
look for indexes, causing the NPE.
4. clearing remaining locks from last indexing
  In order to clear indexing locks, previously I manually cleared
write lock and commit lock. As pointed out by others, the commit lock
now is gone. And the unlocking logic is already wrapped in
IndexReader.unlock(directory), I should use that directly.

In general, the upgrade is smooth, and I can compile Lucene in JDK 1.4
without any problem.

Now I can try out the new optimizations and features, especially on
merging, and test out whether the query performance improves or not.
This feature sounds interesting:
indexWriter.addIndexesNoOptimize(directories), but the result is, no
obvious speedup, and the worst part: the dreaded "java.io.IOException:
read past EOF". Guess I will skip this feature for now.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 02:44:21 2007
Return-Path: <java-user-return-26694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70842 invoked from network); 8 Mar 2007 02:44:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 02:44:20 -0000
Received: (qmail 5058 invoked by uid 500); 8 Mar 2007 02:44:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4053 invoked by uid 500); 8 Mar 2007 02:44:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4042 invoked by uid 99); 8 Mar 2007 02:44:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 18:44:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.156 as permitted sender)
Received: from [195.212.29.156] (HELO mtagate7.de.ibm.com) (195.212.29.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 18:44:13 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate7.de.ibm.com (8.13.8/8.13.8) with ESMTP id l282hojw145672
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 02:43:50 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l282hoFu2236588
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 03:43:50 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l282hoHl026432
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 03:43:50 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l282hoKt026429
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 03:43:50 +0100
In-Reply-To: <20070307160251.26155.qmail@web37207.mail.mud.yahoo.com>
Subject: Re: Negative Filtering (such as for profanity)
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFEEC740CA.86F3B27A-ON88257298.000E1987-88257298.000E7D88@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 7 Mar 2007 18:38:16 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 08/03/2007 04:43:49
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Also, QueryParser would generate that combination with:
    *:* -naughty1 -naughty2

> Thanks! I was not aware of that class, for some reason.
>> http://lucene.apache.
>> org/java/docs/api/org/apache/lucene/search/MatchAllDocsQuery.html
>>
>> You can use that Query in front of a NOT query clause.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 02:55:18 2007
Return-Path: <java-user-return-26695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74790 invoked from network); 8 Mar 2007 02:55:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 02:55:18 -0000
Received: (qmail 15469 invoked by uid 500); 8 Mar 2007 02:55:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15436 invoked by uid 500); 8 Mar 2007 02:55:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15425 invoked by uid 99); 8 Mar 2007 02:55:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 18:55:19 -0800
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 18:55:10 -0800
Received: by wr-out-0506.google.com with SMTP id 68so620045wra
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 18:54:50 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=eVZUxyp7FoyPSK9eBjnE6NtZXZygoEoptLhO2cdiAGoVxX2gRK4pE4aGYCdZA+TQnY7N/5lk5UUy0kADAMMEKJNZS9Xn9Nm3nxLdvKE9pVRhyTys/t0vkC73X1tUnJ3M9hDWML5TwpoBIiD+SeCFWpoTcDHHUGPT+n15upXnSWw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=s8rnvWdQRvEjhHHqP3URKvS1SroKMkpgiQlTERle7g88rJMb/Wg8jh9VqXu00aHDEy67Jfg6F9+uQM4Ll2vUEeYHx74s12AODVO32em1mwVFPOMIYwY9q0q37cT6if2jVNy65Px6DypIJ7bXFPpcRGct+BcKyUKTmu/Yq6Mfu24=
Received: by 10.65.232.19 with SMTP id j19mr15591226qbr.1173322489788;
        Wed, 07 Mar 2007 18:54:49 -0800 (PST)
Received: by 10.65.225.16 with HTTP; Wed, 7 Mar 2007 18:54:49 -0800 (PST)
Message-ID: <2b817f360703071854v72510a5cyd82b069e814f45ef@mail.gmail.com>
Date: Thu, 8 Mar 2007 08:24:49 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: score
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_38612_18842271.1173322489749"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_38612_18842271.1173322489749
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi all when i search using lucene i am getting the path of the documents in
which the search string is found along with this

i am also gettin a score . my question is

what is this score?

whats the use of score?

how the score is given for each document ?


thanks
regards
ashwin

------=_Part_38612_18842271.1173322489749--

From java-user-return-26696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 03:00:06 2007
Return-Path: <java-user-return-26696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77539 invoked from network); 8 Mar 2007 03:00:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 03:00:05 -0000
Received: (qmail 22983 invoked by uid 500); 8 Mar 2007 03:00:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21992 invoked by uid 500); 8 Mar 2007 03:00:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21981 invoked by uid 99); 8 Mar 2007 03:00:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 19:00:06 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.156 as permitted sender)
Received: from [195.212.29.156] (HELO mtagate7.de.ibm.com) (195.212.29.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 18:59:57 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate7.de.ibm.com (8.13.8/8.13.8) with ESMTP id l282xZPM119668
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 02:59:35 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l282xZBk1974502
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 03:59:35 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l282xZ4k017861
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 03:59:35 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l282xZDh017856
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 03:59:35 +0100
In-Reply-To: <2b817f360703071854v72510a5cyd82b069e814f45ef@mail.gmail.com>
Subject: Re: score
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFEAB9712E.A249F7D7-ON88257298.00101057-88257298.0010173F@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 7 Mar 2007 18:55:45 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 08/03/2007 04:59:34
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

http://lucene.apache.org/java/docs/scoring.html


"ashwin kumar" <gv.ashwin@gmail.com> wrote on 07/03/2007 18:54:49:

> hi all when i search using lucene i am getting the path of the documents
in
> which the search string is found along with this
>
> i am also gettin a score . my question is
>
> what is this score?
>
> whats the use of score?
>
> how the score is given for each document ?
>
>
> thanks
> regards
> ashwin


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 03:09:26 2007
Return-Path: <java-user-return-26697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79458 invoked from network); 8 Mar 2007 03:09:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 03:09:25 -0000
Received: (qmail 31264 invoked by uid 500); 8 Mar 2007 03:09:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31232 invoked by uid 500); 8 Mar 2007 03:09:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31219 invoked by uid 99); 8 Mar 2007 03:09:26 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 19:09:26 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 19:09:16 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2838s9W112396
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 03:08:54 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2838s0V1695770
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 04:08:54 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2838sZO022866
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 04:08:54 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2838sRY022858
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 04:08:54 +0100
In-Reply-To: <6e3ae6310703071832t35479496obee2880708334a0c@mail.gmail.com>
Subject: Re: sharing my experience for upgrading from Lucene 1.9 to Lucene 2.2-dev
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF8784558B.1C8E7272-ON88257298.000F09C2-88257298.0010CBEF@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 7 Mar 2007 19:03:27 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 08/03/2007 05:08:53
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Chris, thanks for sharing this info (see below)

"Chris Lu" <chris.lu@gmail.com> wrote on 07/03/2007 18:32:22:

> I would like to share my experience for upgrading from Lucene 1.9 to
> Lucene 2.2, build 515893.
>
> I have been working on a product called DBSight. It has both a
> designing web UI for configuring database crawl, and also capabilities
> to serve search requests like later-emerged SOLR. So DBSight can do
> both indexing and searching. Previously I have upgraded to 1.3, 1.4,
> and 1.9, all were pretty easy and went through well. Upgrading to 2.2
> isn't so straight forward though.
>
> Last time when Lucene 2.0 came out, I tried it by simply dropping
> lucene-2.0.jar onto the classpath. The indexing went well, but somehow
> the searching didn't work any more, no results and without any
> exceptions! That's wierd and I have to back off.
>
> Now with Lucene 2.2, I tried it again. This time, there are a bunch of
> NullPointerException when starting DBSight. But at least I can fix
> those. So I take some time to write down anything that may need to
> change. Your code may differ depending on which API you use.
>
> 1. Use document.getFields() instead of deprecated document.fields()
>   This is an easy one, but with some code change. The return type
> changed from Enumeration to List. So you may need to write 2~3 lines
> of code. The upgrading should be easy and not even need a QA(really?).
> 2. Use FSDirectory.getDirectory(file) instead of
> FSDirectory.getDirectory(file, isCreating)
>   FSDirectory.getDirectory(file) will not automatically create
> directory any more. I missed this deprecated yet convenient parameter.
> However, not so bad.
> 3. RAMDirectory related changes
>   It took me something to find this out. Previously, after
>     ramDirectory = new RAMDirectory(file)
>   I could ramDirectory.close() to release the resources. And later, I
> could do a check for IndexReader.indexExists(ramDirectory) to see if
> there is an index in the directory. FSDirectory behaves this way also.
>   But with lucene 2.2, NullPointerExceptions came out. It turns out
> when ramDirectory.close(), the instance variable fileMap is set to
> null. And IndexReader.indexExists(ramDirectory) is reading fileMap to
> look for indexes, causing the NPE.

At first this sounds like a problem, but then the javadocs for
RAMDirectory.close() says "Closes the store to future operations,
releasing associated memory" - so it seems the correct behavior.
(Truly NPE may not be the most obvious exception in such a case.)

> 4. clearing remaining locks from last indexing
>   In order to clear indexing locks, previously I manually cleared
> write lock and commit lock. As pointed out by others, the commit lock
> now is gone. And the unlocking logic is already wrapped in
> IndexReader.unlock(directory), I should use that directly.
>
> In general, the upgrade is smooth, and I can compile Lucene in JDK 1.4
> without any problem.
>
> Now I can try out the new optimizations and features, especially on
> merging, and test out whether the query performance improves or not.
> This feature sounds interesting:
> indexWriter.addIndexesNoOptimize(directories), but the result is, no
> obvious speedup, and the worst part: the dreaded "java.io.IOException:
> read past EOF". Guess I will skip this feature for now.

Is this reproducible? can you wrap it in a stand-alone (junit) test?
If so, submitting a bug report for this would allow to fix it.

Regards,
Doron

>
> --
> Chris Lu
> -------------------------
> Instant Full-Text Search On Any Database/Application
> site: http://www.dbsight.net
> demo: http://search.dbsight.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 04:39:29 2007
Return-Path: <java-user-return-26698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6420 invoked from network); 8 Mar 2007 04:39:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 04:39:28 -0000
Received: (qmail 94640 invoked by uid 500); 8 Mar 2007 04:39:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94602 invoked by uid 500); 8 Mar 2007 04:39:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94591 invoked by uid 99); 8 Mar 2007 04:39:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 20:39:29 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 20:39:19 -0800
Received: by nf-out-0910.google.com with SMTP id g2so425508nfe
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 20:38:58 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=M/MdmFQCYicCd8yiJ1E+2GpF0K980C1c+J98BAYCLWKA11uRhfRU3Hxv85Doch71XD6X0JY7jT8uIojcXpPnNBlWfR64MYYZiD/oovxnge441oVu9vP4iK0eo03d8S/gXocQR1J3Bl6l44giYvnX+80ERpX98hQbN0w221P/W1I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=NXpwCYF6h9UCOSRLFvN8IMPM6dVZyP8bYcox0DlBgowvZcmPL8nQO8btBd/puSDOw5/m2dTC+GDauhMBCtwRt+cwuGbVrHI7S+WdvCZA0pF9FPbncYbwkk9VJ42oqMV97n4SGiyPGtx2tQnt5kxNH36ILyyDKTSSkXI8gnLSrfk=
Received: by 10.82.152.16 with SMTP id z16mr2815bud.1173328738064;
        Wed, 07 Mar 2007 20:38:58 -0800 (PST)
Received: by 10.82.157.11 with HTTP; Wed, 7 Mar 2007 20:38:58 -0800 (PST)
Message-ID: <6e3ae6310703072038i40aaeb33k356d502c262c4e3c@mail.gmail.com>
Date: Wed, 7 Mar 2007 20:38:58 -0800
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: sharing my experience for upgrading from Lucene 1.9 to Lucene 2.2-dev
In-Reply-To: <OF8784558B.1C8E7272-ON88257298.000F09C2-88257298.0010CBEF@il.ibm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6e3ae6310703071832t35479496obee2880708334a0c@mail.gmail.com>
	 <OF8784558B.1C8E7272-ON88257298.000F09C2-88257298.0010CBEF@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

I understand the NPE could be all reasonable changes. Those are
changes that a Lucene-API may need to pay attention.

The "java.io.IOException:read past EOF" is pretty consistent for my
case. I have run it on two computers and got the same error. After
changing back to indexWriter.addIndexes(directories), the error is
gone. But the indexes I am testing is 1.2G data, very hard to make it
into a bug.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com

On 3/7/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> Hi Chris, thanks for sharing this info (see below)
>
> "Chris Lu" <chris.lu@gmail.com> wrote on 07/03/2007 18:32:22:
>
> > I would like to share my experience for upgrading from Lucene 1.9 to
> > Lucene 2.2, build 515893.
> >
> > I have been working on a product called DBSight. It has both a
> > designing web UI for configuring database crawl, and also capabilities
> > to serve search requests like later-emerged SOLR. So DBSight can do
> > both indexing and searching. Previously I have upgraded to 1.3, 1.4,
> > and 1.9, all were pretty easy and went through well. Upgrading to 2.2
> > isn't so straight forward though.
> >
> > Last time when Lucene 2.0 came out, I tried it by simply dropping
> > lucene-2.0.jar onto the classpath. The indexing went well, but somehow
> > the searching didn't work any more, no results and without any
> > exceptions! That's wierd and I have to back off.
> >
> > Now with Lucene 2.2, I tried it again. This time, there are a bunch of
> > NullPointerException when starting DBSight. But at least I can fix
> > those. So I take some time to write down anything that may need to
> > change. Your code may differ depending on which API you use.
> >
> > 1. Use document.getFields() instead of deprecated document.fields()
> >   This is an easy one, but with some code change. The return type
> > changed from Enumeration to List. So you may need to write 2~3 lines
> > of code. The upgrading should be easy and not even need a QA(really?).
> > 2. Use FSDirectory.getDirectory(file) instead of
> > FSDirectory.getDirectory(file, isCreating)
> >   FSDirectory.getDirectory(file) will not automatically create
> > directory any more. I missed this deprecated yet convenient parameter.
> > However, not so bad.
> > 3. RAMDirectory related changes
> >   It took me something to find this out. Previously, after
> >     ramDirectory = new RAMDirectory(file)
> >   I could ramDirectory.close() to release the resources. And later, I
> > could do a check for IndexReader.indexExists(ramDirectory) to see if
> > there is an index in the directory. FSDirectory behaves this way also.
> >   But with lucene 2.2, NullPointerExceptions came out. It turns out
> > when ramDirectory.close(), the instance variable fileMap is set to
> > null. And IndexReader.indexExists(ramDirectory) is reading fileMap to
> > look for indexes, causing the NPE.
>
> At first this sounds like a problem, but then the javadocs for
> RAMDirectory.close() says "Closes the store to future operations,
> releasing associated memory" - so it seems the correct behavior.
> (Truly NPE may not be the most obvious exception in such a case.)
>
> > 4. clearing remaining locks from last indexing
> >   In order to clear indexing locks, previously I manually cleared
> > write lock and commit lock. As pointed out by others, the commit lock
> > now is gone. And the unlocking logic is already wrapped in
> > IndexReader.unlock(directory), I should use that directly.
> >
> > In general, the upgrade is smooth, and I can compile Lucene in JDK 1.4
> > without any problem.
> >
> > Now I can try out the new optimizations and features, especially on
> > merging, and test out whether the query performance improves or not.
> > This feature sounds interesting:
> > indexWriter.addIndexesNoOptimize(directories), but the result is, no
> > obvious speedup, and the worst part: the dreaded "java.io.IOException:
> > read past EOF". Guess I will skip this feature for now.
>
> Is this reproducible? can you wrap it in a stand-alone (junit) test?
> If so, submitting a bug report for this would allow to fix it.
>
> Regards,
> Doron
>
> >
> > --
> > Chris Lu
> > -------------------------
> > Instant Full-Text Search On Any Database/Application
> > site: http://www.dbsight.net
> > demo: http://search.dbsight.com
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 04:39:58 2007
Return-Path: <java-user-return-26699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6556 invoked from network); 8 Mar 2007 04:39:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 04:39:57 -0000
Received: (qmail 96199 invoked by uid 500); 8 Mar 2007 04:39:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96172 invoked by uid 500); 8 Mar 2007 04:39:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96161 invoked by uid 99); 8 Mar 2007 04:39:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 20:39:59 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.90.176 as permitted sender)
Received: from [66.249.90.176] (HELO ik-out-1112.google.com) (66.249.90.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 20:39:49 -0800
Received: by ik-out-1112.google.com with SMTP id b35so434268ika
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 20:39:28 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=CyKt/BpeLO12+ifNffhPUSo+4iDSxA7jhWukqSpljC+kRVUzogI9vtNGds9+DZ+Q/o7SZt4LLnT0a89Saq3af8QGn+0RMIpq8Fsc4EM8U/OGca9NIFgqwN8Qj81hg6mlscGVN3u/uMKQTEoWB+++yKio/yYpUrmbDmRzRHy1cXo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=CZAo4Ro9zhV9cm+iZTj3HH2BgYs91fGN3lmroVjU0lnxw8iAt9UDeKVxbVd7z48D8m4e5JWzNiHKA4JLRTcFiWsg86vfStP4Qg8FOyN4NDOxZEDgM6iUB7J+cuhBlKWlabC5od7g3yqOpqDBN68hBGsiUuTU27VUm5H48MZWOP8=
Received: by 10.114.157.1 with SMTP id f1mr5519wae.1173328767401;
        Wed, 07 Mar 2007 20:39:27 -0800 (PST)
Received: by 10.114.131.16 with HTTP; Wed, 7 Mar 2007 20:39:27 -0800 (PST)
Message-ID: <b6246fe60703072039h22ca8ba8p595a3ace5e644a2e@mail.gmail.com>
Date: Thu, 8 Mar 2007 10:09:27 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <48b038c60703071037x1c6731c4p585cfac4bcf8dd27@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_206787_33472191.1173328767362"
References: <b6246fe60703070925v4f15b3a3w7f24eb7ffcf9fbc0@mail.gmail.com>
	 <48b038c60703071037x1c6731c4p585cfac4bcf8dd27@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_206787_33472191.1173328767362
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks Patrick. One more question. The info in link says to use the below
query for phrase
"jakarta apache"      . It works fine.
But when i run     jakarta&apache     also, it has the same effect, ie; like
a phrase. It works fine too. Though it is working but still am little
doubtful as i could not find this phase representation anywhere on net. So
am worried if  jakarta&apache , might slip somewhere.

Regards,
Ruchi

On 3/8/07, Patrick Turcotte <patrek@gmail.com> wrote:
>
> Hi,
>
>
> > Please suggest what should be the query String for a pharse search.
>
>
> Did you take a look at:
> http://lucene.apache.org/java/docs/queryparsersyntax.html ?
>
> Patrick
>

------=_Part_206787_33472191.1173328767362--

From java-user-return-26700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 05:02:06 2007
Return-Path: <java-user-return-26700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10078 invoked from network); 8 Mar 2007 05:02:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 05:02:04 -0000
Received: (qmail 8526 invoked by uid 500); 8 Mar 2007 05:02:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8485 invoked by uid 500); 8 Mar 2007 05:02:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8474 invoked by uid 99); 8 Mar 2007 05:02:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 21:02:07 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 209.85.134.188 as permitted sender)
Received: from [209.85.134.188] (HELO mu-out-0910.google.com) (209.85.134.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 21:01:57 -0800
Received: by mu-out-0910.google.com with SMTP id i10so516024mue
        for <java-user@lucene.apache.org>; Wed, 07 Mar 2007 21:01:35 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=t0xhXSdicCY8TqxwRMiWW0GcoOwssGc/xLSHvYwQtXz5cxWinRvf4LkCRFIDbDpwXM9HO8L2bRxNVMCRZqCSWYFxTZ52Qob36Hby9QSpeZwLic2+EaObPMUBwi3ZHDjYyVBIGTaXXVyJ2gP55ykEoR94p5+iYk78VZjgQ6q9Fbg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EUDkUNBSaikLcbhtaNGK4ObIIlEuaOOBIZfMKWk/83whHb0EJKPGdNo4UiOOY8M6iDMiYbIGo88BtLNbJtYJSZZbC7xBBKc0smvcMUWx0GLVxr6z12Le1ghW7ca6yPqGhpypZ3pj6vjHWP5d1uuj+APxi1pPFkM6bAlPV82m2WU=
Received: by 10.82.114.3 with SMTP id m3mr7062buc.1173330095047;
        Wed, 07 Mar 2007 21:01:35 -0800 (PST)
Received: by 10.82.163.2 with HTTP; Wed, 7 Mar 2007 21:01:34 -0800 (PST)
Message-ID: <34b8543c0703072101m3a256d6aj5c1c1aa8cd89628f@mail.gmail.com>
Date: Thu, 8 Mar 2007 08:31:35 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to define a pool for Searcher?
In-Reply-To: <45EED766.90200@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_96372_26960771.1173330094999"
References: <34b8543c0702220009m72f9e9c7pf8f9764953be6a48@mail.gmail.com>
	 <45DDE5DA.80202@gmail.com>
	 <34b8543c0703062228m7b793735w216d6e0fe2362723@mail.gmail.com>
	 <45EEAE4B.4090805@gmail.com>
	 <34b8543c0703070439p332cda1bn11b1e5c7e2cc92e0@mail.gmail.com>
	 <45EED766.90200@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_96372_26960771.1173330094999
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Erick and Mark thank you very much, you really give me good information. so
I decided to try HitCollector and see how it works. but about storing
document ID I dont think it is good because the result may be exceed than 50
000 and I just were optimistic about telling that number ;)

any way, I will try them, even storing IDs.

Thank you very much again.

-- 
Regards,
Mohammad

On 3/7/07, Mark Miller <markrmiller@gmail.com> wrote:
>
> You should not be returning 50 thousand documents. Since you are
> implementing paging, you should only return enough to cover your page
> size. If a user is viewing page 1 with documents 1-10, you send back
> information for 10 of the docs. On page 2, 10-20, you send back
> information for 10 of the docs, after executing a new search and
> skimming off the correct docs.
>
> Also, unless your documents are *very* big, 500,000 documents on any
> sort of modern hardware is a cakewalk for Lucene.
>
> Using Hits as it was meant to be used is generally a poor decision in a
> multi-user environment in my opinion. You will be faster and scale
> better using a stateless paradigm instead of taking advantage of Hits
> caching. Besides that, if you are currently loading up 50 thousand
> documents from Hits, you are doing something that is extremely
> inefficient. As Erick said, Hits will continuously re-query to fill it
> ups cache. After grabbing info for a 100 docs it will re query, then
> after 200 it will require, etc.
>
> Stateless man. Trust me.
>
> - Mark
>
> Mohammad Norouzi wrote:
> > yes I am very concerned about this because we have a big project with
> > many
> > users and I am responsible for this. the thing that preoccupied my
> > mind is
> > application performance because there is more than 500 thousands records
> > (documents).
> >
> > a single search may returns about 50 thousand documents and it is not
> > possible to put all of them into a say java.util.List  so I have to
> > keep the
> > searcher open and move forward or backward through the Hits and when the
> > user clicked on "Finish" button or the time exceeds over than a specific
> > time,(or the session destroyed)  so I set a flag to true, then the other
> > session can access that searcher without closing any searcher or reader.
> >
> > any way, your comments are useful for me.
> > thanks
> >
> > On 3/7/07, Mark Miller <markrmiller@gmail.com> wrote:
> >>
> >> To address your hits question: I wouldn't keep hits around, but would
> >> re-search instead. It is often more of a headache than a time savings
> to
> >> keep around all of the Hits objects and to have to manage them. I made
> >> my own Hits object that does no caching because of this. Pagination is
> >> often best done by re-querying.
> >>
> >> Also, keep in mind that you prob won't have 1000 Similarities...you
> will
> >> prob have much closer to 1 <g>, maybe a couple if you have created a
> >> custom one. The biggest chance you have more than one Searcher cached
> >> for an Index is if you have a MultiSearcher cached that searches over
> >> it. Out of the box, indexAccessor does not handle MultiSearchers
> >> perfectly though...it does not check out a Searcher for each of the
> >> underlying Indexes, so you will have to do that your self...then
> >> remember to release them all when you release the MultiSearcher.
> >>
> >> I think in general, you are over concerned. IndexAccessor will handle
> >> most of this for you without much intervention on your part.
> >>
> >> - Mark
> >>
> >> Mohammad Norouzi wrote:
> >> > Hello Mark,
> >> > there is something vague for me about the Lucene-indexAccessor you
> >> > created
> >> > and my problem.
> >> > as I see your codes, you create IndexSearcher and put it into a Map
> >> > and the
> >> > only thing that separate them is the Similarity the have. so if say
> >> 1000
> >> > users with different Similarity connect to my application there will
> >> > be 1000
> >> > IndexSearcher with their own internal Reader.
> >> > now, in my case, I have an IndexResultSet just like
> java.sql.ResultSet
> >> > which
> >> > it contains a Hits. so a user may go forward or backward through the
> >> > Hits'
> >> > documents and actually every user are doing this job.
> >> >
> >> > to do so, I have to find the Similarity that a user working with it
> >> > and find
> >> > the right IndexSearcher in order to support pagination for her. is
> >> this
> >> > right? I mean can I trust to Similarity to find the right IndexReader
> >> > that a
> >> > user have used it before?
> >> >
> >> > another question is, how about I have one IndexReader for all my
> >> > IndexSearcher and manage them simultaneously to access that single
> >> > Reader.?
> >> >
> >> > thank you very much in advance
> >> >
> >> >
> >> > On 2/22/07, Mark Miller <markrmiller@gmail.com> wrote:
> >> >>
> >> >> I would not do this from scratch...if you are interested in Solr go
> >> that
> >> >> route else I would build off
> >> >> http://issues.apache.org/jira/browse/LUCENE-390
> >> >>
> >> >> - Mark
> >> >>
> >> >> Mohammad Norouzi wrote:
> >> >> > Hi all,
> >> >> > I am going to build a Searcher pooling. if any one has
> >> experience on
> >> >> > this, I
> >> >> > would be glad to hear his/her recommendation and suggestion. I
> want
> >> to
> >> >> > know
> >> >> > what issues I should be apply. considering I am going to use
> >> this on
> >> a
> >> >> > web
> >> >> > application with many user sessions.
> >> >> >
> >> >> > thank you very much in advance.
> >> >>
> >> >>
> ---------------------------------------------------------------------
> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >>
> >> >>
> >> >
> >> >
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_96372_26960771.1173330094999--

From java-user-return-26701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 06:36:50 2007
Return-Path: <java-user-return-26701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31468 invoked from network); 8 Mar 2007 06:36:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 06:36:49 -0000
Received: (qmail 13251 invoked by uid 500); 8 Mar 2007 06:36:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13219 invoked by uid 500); 8 Mar 2007 06:36:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13208 invoked by uid 99); 8 Mar 2007 06:36:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 22:36:50 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.157 as permitted sender)
Received: from [195.212.29.157] (HELO mtagate8.de.ibm.com) (195.212.29.157)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Mar 2007 22:36:40 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate8.de.ibm.com (8.13.8/8.13.8) with ESMTP id l286aIXe203278
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 06:36:18 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l286aII82285726
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 07:36:18 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l286aIKe019751
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 07:36:18 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l286aIMZ019748
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 07:36:18 +0100
In-Reply-To: <b6246fe60703072039h22ca8ba8p595a3ace5e644a2e@mail.gmail.com>
Subject: Re: Query String for a phrase?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF45321096.C074A0A7-ON88257298.002321C7-88257298.0023E9C5@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 7 Mar 2007 22:32:16 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 08/03/2007 08:36:17
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Most likely the string  jakarta&apache  is analyzed as a single word,
both at indexing time and at search time.

See also "AnalysisParalysis" in Lucene Wiki.

"ruchi thakur" <ruchithakur1@gmail.com> wrote on 07/03/2007 20:39:27:

> Thanks Patrick. One more question. The info in link says to use the below
> query for phrase
> "jakarta apache"      . It works fine.
> But when i run     jakarta&apache     also, it has the same effect, ie;
like
> a phrase. It works fine too. Though it is working but still am little
> doubtful as i could not find this phase representation anywhere on net.
So
> am worried if  jakarta&apache , might slip somewhere.
>
> Regards,
> Ruchi


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 09:38:00 2007
Return-Path: <java-user-return-26702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4751 invoked from network); 8 Mar 2007 09:37:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 09:37:59 -0000
Received: (qmail 23886 invoked by uid 500); 8 Mar 2007 09:37:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23856 invoked by uid 500); 8 Mar 2007 09:37:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23825 invoked by uid 99); 8 Mar 2007 09:37:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 01:37:59 -0800
X-ASF-Spam-Status: No, hits=3.6 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.162.230 as permitted sender)
Received: from [64.233.162.230] (HELO nz-out-0506.google.com) (64.233.162.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 01:37:49 -0800
Received: by nz-out-0506.google.com with SMTP id i1so293989nzh
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 01:37:28 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=mQbk3RUkQGi6FXR920UdmesX2rtUtIoRnxqJA2BjVwo+vGNNKJa5PvrqP9E1EcbWXLN4KCMrk5oJjMKS8aJVYF0ti9gpEx0Y1u60d4rZnRtJCwCJZjDnT4NYElWkcD9jnheGEXuDFE4UCzJNTL2a93kLUTcvNAO1vBXFtyLMvr4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=m2eUEfKPC7qnWlNaUg+2er0tGbWDStmGsixRB7uMqXkb3MeyzCwMC2QBgzPSTqKNLgXlbfZg1AFC9O0q3+BUbNGU7wvaDRjqj4emdKSKjKJF7nfp0tKPvcyJLkEvbN25F8OF4GXcBMdzMY04REGvU/x6eFnCQQY06jjwde/vHnk=
Received: by 10.64.114.10 with SMTP id m10mr9774291qbc.1173346648525;
        Thu, 08 Mar 2007 01:37:28 -0800 (PST)
Received: by 10.65.225.16 with HTTP; Thu, 8 Mar 2007 01:37:28 -0800 (PST)
Message-ID: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
Date: Thu, 8 Mar 2007 15:07:28 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: indexing pdfs
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_40024_13401228.1173346648411"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_40024_13401228.1173346648411
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi can some one help me by giving any sample programs for indexing pdfs and
.doc files

thanks
regards
ashwin

------=_Part_40024_13401228.1173346648411--

From java-user-return-26703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 09:49:58 2007
Return-Path: <java-user-return-26703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7466 invoked from network); 8 Mar 2007 09:49:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 09:49:56 -0000
Received: (qmail 38796 invoked by uid 500); 8 Mar 2007 09:49:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38662 invoked by uid 500); 8 Mar 2007 09:49:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38651 invoked by uid 99); 8 Mar 2007 09:49:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 01:49:56 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 217.68.146.190 as permitted sender)
Received: from [217.68.146.190] (HELO cluster-b.mailcontrol.com) (217.68.146.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 01:49:43 -0800
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly08b.srv.mailcontrol.com (MailControl) with SMTP id l289nD8C006122
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 09:49:17 GMT
Received: From SGBD012102.wsatkins.com ([10.202.26.16]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173347334500; Thu, 8 Mar 2007 09:48:54 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012102.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 8 Mar 2007 09:48:53 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: indexing pdfs
Date: Thu, 8 Mar 2007 09:48:35 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing pdfs
Thread-Index: AcdhZYDIMkI3vr5MStq4Ns8QqMTokAAAPn4w
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 08 Mar 2007 09:48:53.0852 (UTC) FILETIME=[FB9171C0:01C76166]
X-Scanned-By: MailControl A-07-06-90 (www.mailcontrol.com) on 10.66.0.118
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Aswin,

You can try pdfbox to convert the pdf documents to text and then use
Lucene to index the text.  The code for turning a pdf to text is very
simple:

private static string parseUsingPDFBox(string filename)
        {
            // document reader
            PDDocument doc =3D PDDocument.load(filename);
            // create stripper (wish I had the power to do that -
wouldn't leave the house)
            PDFTextStripper stripper =3D new PDFTextStripper();
            // get text from doc using stripper
            return stripper.getText(doc);
        }

Sachin

-----Original Message-----
From: ashwin kumar [mailto:gv.ashwin@gmail.com]=20
Sent: 08 March 2007 09:37
To: java-user@lucene.apache.org
Subject: indexing pdfs

hi can some one help me by giving any sample programs for indexing pdfs
and .doc files

thanks
regards
ashwin


This message has been scanned for viruses by MailControl - (see
http://bluepages.wsatkins.co.uk/?6875772)


This email and any attached files are confidential and copyright protected.=
 If you are not the addressee, any dissemination of this communication is s=
trictly prohibited. Unless otherwise expressly agreed in writing, nothing s=
tated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc.  Register=
ed in England No. 1885586.  Registered Office Woodcote Grove, Ashley Road, =
Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really =
need to.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 10:12:59 2007
Return-Path: <java-user-return-26704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13919 invoked from network); 8 Mar 2007 10:12:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 10:12:58 -0000
Received: (qmail 70790 invoked by uid 500); 8 Mar 2007 10:12:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70755 invoked by uid 500); 8 Mar 2007 10:12:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70740 invoked by uid 99); 8 Mar 2007 10:12:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 02:12:57 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.11.145.17] (HELO bobcat.webappcabaret.net) (209.11.145.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 02:12:47 -0800
Received: (qmail 26116 invoked by uid 98); 8 Mar 2007 02:12:21 -0800
Received: from unknown (HELO ?10.0.1.2?) (ulf@ulfdittmer.com@85.178.112.47)
  by 0 with SMTP; 8 Mar 2007 02:12:21 -0800
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B053333F-78D0-4E4C-AF8C-EF670DF63CD9@ulfdittmer.com>
Content-Transfer-Encoding: 7bit
From: Ulf Dittmer <ulf@ulfdittmer.com>
Subject: Re: indexing pdfs
Date: Thu, 8 Mar 2007 11:12:46 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

For DOC files you can use the Jakarta POI library. Text extraction is  
outlined here: http://jakarta.apache.org/poi/hwpf/quick-guide.html

Ulf

On 08.03.2007, at 10:37, ashwin kumar wrote:

> hi can some one help me by giving any sample programs for indexing  
> pdfs and .doc files


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 11:35:14 2007
Return-Path: <java-user-return-26705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33869 invoked from network); 8 Mar 2007 11:35:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 11:35:14 -0000
Received: (qmail 82567 invoked by uid 500); 8 Mar 2007 11:35:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81855 invoked by uid 500); 8 Mar 2007 11:35:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81844 invoked by uid 99); 8 Mar 2007 11:35:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 03:35:14 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.162.226 as permitted sender)
Received: from [64.233.162.226] (HELO nz-out-0506.google.com) (64.233.162.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 03:35:04 -0800
Received: by nz-out-0506.google.com with SMTP id i1so315070nzh
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 03:34:44 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GWxOeETlgSOXf9FXk3K7nve1f1XT4jI6OaesbsJ+edn/7HeMb3d/rOBEp4EvwpJZFwfH/w/fY9BlKOuBar/ub89tcrtvfBi0ptbzml7yMfXR5ob0j0GnhACD8/IdbR4H+jcmE41FLo1W+uKHcSu9I+vtVhi9VvO24lBY2h8OvyU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Lsv49OPjLnXV4IwEsmvLpdQUKBICdTXeDFl1f5tJ+kd/PmOcuhHXoYmbTjSAI/X2NejDknUhK83IeOXVpM2Mwrxh47XcSCXi/+lELR7bxZsOa3iHfGE2QSyCKylBTl9ad6wxtSZ2Lrng0cPzHh7W97IfcX1TJqdG1BIFJdjPWFY=
Received: by 10.64.131.4 with SMTP id e4mr613272qbd.1173353684077;
        Thu, 08 Mar 2007 03:34:44 -0800 (PST)
Received: by 10.65.225.16 with HTTP; Thu, 8 Mar 2007 03:34:43 -0800 (PST)
Message-ID: <2b817f360703080334s1973d06aqf846b9444df2bd2d@mail.gmail.com>
Date: Thu, 8 Mar 2007 17:04:43 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing pdfs
In-Reply-To: <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_40686_29536521.1173353683821"
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
	 <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_40686_29536521.1173353683821
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Is the only way index pdfs is to convert it into a text and then only index
it ???



On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
>
> Hi Aswin,
>
> You can try pdfbox to convert the pdf documents to text and then use
> Lucene to index the text.  The code for turning a pdf to text is very
> simple:
>
> private static string parseUsingPDFBox(string filename)
>         {
>             // document reader
>             PDDocument doc = PDDocument.load(filename);
>             // create stripper (wish I had the power to do that -
> wouldn't leave the house)
>             PDFTextStripper stripper = new PDFTextStripper();
>             // get text from doc using stripper
>             return stripper.getText(doc);
>         }
>
> Sachin
>
> -----Original Message-----
> From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> Sent: 08 March 2007 09:37
> To: java-user@lucene.apache.org
> Subject: indexing pdfs
>
> hi can some one help me by giving any sample programs for indexing pdfs
> and .doc files
>
> thanks
> regards
> ashwin
>
>
> This message has been scanned for viruses by MailControl - (see
> http://bluepages.wsatkins.co.uk/?6875772)
>
>
> This email and any attached files are confidential and copyright
> protected. If you are not the addressee, any dissemination of this
> communication is strictly prohibited. Unless otherwise expressly agreed in
> writing, nothing stated in this communication shall be legally binding.
>
> The ultimate parent company of the Atkins Group is WS Atkins
> plc.  Registered in England No. 1885586.  Registered Office Woodcote Grove,
> Ashley Road, Epsom, Surrey KT18 5BW.
>
> Consider the environment. Please don't print this e-mail unless you really
> need to.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_40686_29536521.1173353683821--

From java-user-return-26706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 12:18:49 2007
Return-Path: <java-user-return-26706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44741 invoked from network); 8 Mar 2007 12:18:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 12:18:48 -0000
Received: (qmail 28730 invoked by uid 500); 8 Mar 2007 12:18:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28504 invoked by uid 500); 8 Mar 2007 12:18:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28493 invoked by uid 99); 8 Mar 2007 12:18:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 04:18:49 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 217.68.146.190 as permitted sender)
Received: from [217.68.146.190] (HELO cluster-b.mailcontrol.com) (217.68.146.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 04:18:36 -0800
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly40b.srv.mailcontrol.com (MailControl) with SMTP id l28CIA4N010799
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 12:18:10 GMT
Received: From SGBD012104.wsatkins.com ([10.202.26.18]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173356270780; Thu, 8 Mar 2007 12:17:50 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012104.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 8 Mar 2007 12:17:50 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: indexing pdfs
Date: Thu, 8 Mar 2007 12:17:40 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427061DE04B@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing pdfs
Thread-Index: Acdhdd875lDE7AkYQMOZwwOMxz7o7QABW0zw
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com> <2b817f360703080334s1973d06aqf846b9444df2bd2d@mail.gmail.com>
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 08 Mar 2007 12:17:50.0898 (UTC) FILETIME=[CA767120:01C7617B]
X-Scanned-By: MailControl A-07-06-85 (www.mailcontrol.com) on 10.66.0.150
X-Virus-Checked: Checked by ClamAV on apache.org

Well you don't need to actually save the text to disk and then index the
saved index file, you can directly index that text in-memory.=20

The only other way I have heard of is to use Ifilters.  I believe
SeekAFile does indexing of pdfs.

Sachin=20

-----Original Message-----
From: ashwin kumar [mailto:gv.ashwin@gmail.com]=20
Sent: 08 March 2007 11:35
To: java-user@lucene.apache.org
Subject: Re: indexing pdfs

Is the only way index pdfs is to convert it into a text and then only
index it ???



On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
>
> Hi Aswin,
>
> You can try pdfbox to convert the pdf documents to text and then use=20
> Lucene to index the text.  The code for turning a pdf to text is very
> simple:
>
> private static string parseUsingPDFBox(string filename)
>         {
>             // document reader
>             PDDocument doc =3D PDDocument.load(filename);
>             // create stripper (wish I had the power to do that -=20
> wouldn't leave the house)
>             PDFTextStripper stripper =3D new PDFTextStripper();
>             // get text from doc using stripper
>             return stripper.getText(doc);
>         }
>
> Sachin
>
> -----Original Message-----
> From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> Sent: 08 March 2007 09:37
> To: java-user@lucene.apache.org
> Subject: indexing pdfs
>
> hi can some one help me by giving any sample programs for indexing=20
> pdfs and .doc files
>
> thanks
> regards
> ashwin
>
>
> This message has been scanned for viruses by MailControl - (see
> http://bluepages.wsatkins.co.uk/?6875772)
>
>
> This email and any attached files are confidential and copyright=20
> protected. If you are not the addressee, any dissemination of this=20
> communication is strictly prohibited. Unless otherwise expressly=20
> agreed in writing, nothing stated in this communication shall be
legally binding.
>
> The ultimate parent company of the Atkins Group is WS Atkins plc. =20
> Registered in England No. 1885586.  Registered Office Woodcote Grove,=20
> Ashley Road, Epsom, Surrey KT18 5BW.
>
> Consider the environment. Please don't print this e-mail unless you=20
> really need to.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 13:07:31 2007
Return-Path: <java-user-return-26707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62355 invoked from network); 8 Mar 2007 13:07:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 13:07:30 -0000
Received: (qmail 87215 invoked by uid 500); 8 Mar 2007 13:07:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87188 invoked by uid 500); 8 Mar 2007 13:07:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87177 invoked by uid 99); 8 Mar 2007 13:07:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 05:07:31 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.162.229 as permitted sender)
Received: from [64.233.162.229] (HELO nz-out-0506.google.com) (64.233.162.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 05:07:20 -0800
Received: by nz-out-0506.google.com with SMTP id i1so332675nzh
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 05:06:59 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=r7+d3MnMtDy+Ky+ado/TbDN4kgz8QGrI0YwWfiH9SnrGGg2GPjvNJwnxzCshp5h7RTvAly4En49vOq25L3sG+fUw74egWuEVgRTV/lQBz9M7m2dXIWlqj3IMeNKiEpX0gl4Ei8jG/NCTBg51VYAldcXsdR8PzbjYpksOB442zU0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Pk0jXo18ok9N7rYjCHjOwfebJ4RyWISsIofUnW7PPkc9SNMuKR44ZinC86onZaDYTpIHWUBonawKvrrRICr+QX+YeUm0/GQGg6z8nE4NzKQ7FnHdokc04E5dC859b/1r5s38MfGmZ/8AWAuG/OqmqzechqgIyJuZ4DCG3XXlnZ0=
Received: by 10.64.150.18 with SMTP id x18mr710445qbd.1173359219585;
        Thu, 08 Mar 2007 05:06:59 -0800 (PST)
Received: by 10.65.225.16 with HTTP; Thu, 8 Mar 2007 05:06:59 -0800 (PST)
Message-ID: <2b817f360703080506y776222ddq838372eb6abf6dcc@mail.gmail.com>
Date: Thu, 8 Mar 2007 18:36:59 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing pdfs
In-Reply-To: <BC1CFC544422CB4A934908E126A47427061DE04B@SGBLOW2101.wsatkins.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41135_21320974.1173359219536"
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
	 <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
	 <2b817f360703080334s1973d06aqf846b9444df2bd2d@mail.gmail.com>
	 <BC1CFC544422CB4A934908E126A47427061DE04B@SGBLOW2101.wsatkins.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_41135_21320974.1173359219536
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi again
do we have to download any jar files to run this program if so can u give me
the link pls

ashwin

On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
>
> Well you don't need to actually save the text to disk and then index the
> saved index file, you can directly index that text in-memory.
>
> The only other way I have heard of is to use Ifilters.  I believe
> SeekAFile does indexing of pdfs.
>
> Sachin
>
> -----Original Message-----
> From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> Sent: 08 March 2007 11:35
> To: java-user@lucene.apache.org
> Subject: Re: indexing pdfs
>
> Is the only way index pdfs is to convert it into a text and then only
> index it ???
>
>
>
> On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
> >
> > Hi Aswin,
> >
> > You can try pdfbox to convert the pdf documents to text and then use
> > Lucene to index the text.  The code for turning a pdf to text is very
> > simple:
> >
> > private static string parseUsingPDFBox(string filename)
> >         {
> >             // document reader
> >             PDDocument doc = PDDocument.load(filename);
> >             // create stripper (wish I had the power to do that -
> > wouldn't leave the house)
> >             PDFTextStripper stripper = new PDFTextStripper();
> >             // get text from doc using stripper
> >             return stripper.getText(doc);
> >         }
> >
> > Sachin
> >
> > -----Original Message-----
> > From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> > Sent: 08 March 2007 09:37
> > To: java-user@lucene.apache.org
> > Subject: indexing pdfs
> >
> > hi can some one help me by giving any sample programs for indexing
> > pdfs and .doc files
> >
> > thanks
> > regards
> > ashwin
> >
> >
> > This message has been scanned for viruses by MailControl - (see
> > http://bluepages.wsatkins.co.uk/?6875772)
> >
> >
> > This email and any attached files are confidential and copyright
> > protected. If you are not the addressee, any dissemination of this
> > communication is strictly prohibited. Unless otherwise expressly
> > agreed in writing, nothing stated in this communication shall be
> legally binding.
> >
> > The ultimate parent company of the Atkins Group is WS Atkins plc.
> > Registered in England No. 1885586.  Registered Office Woodcote Grove,
> > Ashley Road, Epsom, Surrey KT18 5BW.
> >
> > Consider the environment. Please don't print this e-mail unless you
> > really need to.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_41135_21320974.1173359219536--

From java-user-return-26708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 14:27:49 2007
Return-Path: <java-user-return-26708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6258 invoked from network); 8 Mar 2007 14:27:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 14:27:48 -0000
Received: (qmail 31788 invoked by uid 500); 8 Mar 2007 14:27:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31367 invoked by uid 500); 8 Mar 2007 14:27:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31356 invoked by uid 99); 8 Mar 2007 14:27:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 06:27:49 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.226 as permitted sender)
Received: from [64.233.162.226] (HELO nz-out-0506.google.com) (64.233.162.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 06:27:38 -0800
Received: by nz-out-0506.google.com with SMTP id i1so351190nzh
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 06:27:17 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Nwr0IMftNM0TR+Ic4T5/QZRPcISa/dmjIhd1Z3EmIo32tPP7NZP3uFe7ggYop/FuTweEmKZcJB+lf8Gu/asSQ2lnCO8eaxUPaM6/WDXqLQfx0nW5XAy5wKX5YM9KdA0CJL/4WbHCg/1+rDZDm/IAhuDeo3j94XYFHRxo4lVl7LU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qR2/fm2hHt+VvWWSPvALjzarVHbEBBjHTEJ7WPnawg3lnFoUlRBciShmwPDqHl5do6whJOwLLdisbN7+zzF191kkxWmf+kKExwFOm/tI9zV2rnpc6tgd1Xu8YiDOuDGYNDy2M1w4IElZNGRkyBKsIAETLB7pFBcRcbCJys+E1Iw=
Received: by 10.65.103.17 with SMTP id f17mr836866qbm.1173364037824;
        Thu, 08 Mar 2007 06:27:17 -0800 (PST)
Received: by 10.65.155.14 with HTTP; Thu, 8 Mar 2007 06:27:17 -0800 (PST)
Message-ID: <e994873a0703080627v310304e1tbda4067282d025d7@mail.gmail.com>
Date: Thu, 8 Mar 2007 09:27:17 -0500
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene Ranking/scoring
In-Reply-To: <c68e39170603090811s712720e7pac7ee02883440e89@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_60750_16551820.1173364037773"
References: <c68e39170603081835w1af3401h4f459b58c2779695@mail.gmail.com>
	 <003d01c64339$491cd120$2602a8c0@IBXWSUN>
	 <c68e39170603090811s712720e7pac7ee02883440e89@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_60750_16551820.1173364037773
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'm looking at how ReciprocalFloatFuncion and ReverseOrdFieldSource can be
used to rank documents by score and date (solr.search.function contains
great stuff!). The values in the date field that are used for the
ValueSource are not actually used as 'floats', but rather their ordinal term
values from the FieldCache string index. This means that if the 'date' field
has 3000 unique string 'values' in the index, the values for 'x' in
ReciprocalFloatFuncion could be 0-2999. So if I want the most recent 'date'
to return a score of 1.0, one could set 'a' and 'b' in the function to
2999.

Do I have this right? I got bit confused at first because I assumed that the
actual field values were being used in the computation, but you really need
to know the unique term count in order to get the score 'right'.

By the way, as I try to get my head around the Score, Weight, and Boolean*
classes (and next(), skipTo()), I nominate these for discussion in Lucene In
Action II.

Peter

On 3/9/06, Yonik Seeley <yseeley@gmail.com> wrote:
>
> On 3/9/06, Yang Sun <ysun@ist.psu.edu> wrote:
> > Hi Yonik,
> > Thanks very much for your suggestion. The query boost works great for
> > keyword matching. But in my case, I need to rank the results by date and
> > title. For example, title:foo^2 abstract:foo^1.5 date:2004^3 will only
> boost
> > the document with date=2004. What I need is boosting the "distance" from
> the
> > specified date
>
> If all you need to do is boost more recent documents (and a single
> fixed boost will always work), then you can do that boosting at index
> time.
>
> > which means 2003 will have a better ranking than 2002,
> > 2002>2001, etc.
> > I implemented a customized ScoreDocComparator class which works fine for
> one
> > field. But I met some trouble when trying to combine other fields
> together.
> > I'm still looking at FunctionQuery. Don't know if I can figure out
> > something.
>
> FunctionQuery support is integrated into Solr (or currently hacked-in,
> as the case may be),  and can be useful for debugging and trying out
> query types even if you don't use it for your runtime.
>
> ReciprocalFloatFunction might meet your needs for increasing the score
> of more recent documents:
>
> http://incubator.apache.org/solr/docs/api/org/apache/solr/search/function/ReciprocalFloatFunction.html
>
> The SolrQueryParser can make
> ReciprocalFloatFunction(new ReverseOrdFieldSource("my_date"),1,1000,1000)
> out of _val_:"recip(rord(my_date),1,1000,1000)"
>
> -Yonik
> http://incubator.apache.org/solr Solr, The Open Source Lucene Search
> Server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_60750_16551820.1173364037773--

From java-user-return-26709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 14:39:59 2007
Return-Path: <java-user-return-26709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17129 invoked from network); 8 Mar 2007 14:39:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 14:39:59 -0000
Received: (qmail 53778 invoked by uid 500); 8 Mar 2007 14:39:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53749 invoked by uid 500); 8 Mar 2007 14:39:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53738 invoked by uid 99); 8 Mar 2007 14:39:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 06:39:59 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 217.68.146.190 as permitted sender)
Received: from [217.68.146.190] (HELO cluster-b.mailcontrol.com) (217.68.146.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 06:39:44 -0800
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly10b.srv.mailcontrol.com (MailControl) with SMTP id l28EdC2R022181
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 14:39:15 GMT
Received: From SGBD012103.wsatkins.com ([10.202.26.17]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173364732919; Thu, 8 Mar 2007 14:38:52 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012103.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 8 Mar 2007 14:38:52 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: indexing pdfs
Date: Thu, 8 Mar 2007 14:38:50 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427061DE485@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing pdfs
Thread-Index: AcdhgsSowXj8MSAQSV+2GyZgP+FNKwADLHTw
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com> <2b817f360703080334s1973d06aqf846b9444df2bd2d@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061DE04B@SGBLOW2101.wsatkins.com> <2b817f360703080506y776222ddq838372eb6abf6dcc@mail.gmail.com>
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 08 Mar 2007 14:38:52.0601 (UTC) FILETIME=[7E07DA90:01C7618F]
X-Scanned-By: MailControl A-07-06-90 (www.mailcontrol.com) on 10.66.0.120
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Here it is:

http://www.seekafile.org/=20

-----Original Message-----
From: ashwin kumar [mailto:gv.ashwin@gmail.com]=20
Sent: 08 March 2007 13:07
To: java-user@lucene.apache.org
Subject: Re: indexing pdfs

hi again
do we have to download any jar files to run this program if so can u
give me the link pls

ashwin

On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
>
> Well you don't need to actually save the text to disk and then index=20
> the saved index file, you can directly index that text in-memory.
>
> The only other way I have heard of is to use Ifilters.  I believe=20
> SeekAFile does indexing of pdfs.
>
> Sachin
>
> -----Original Message-----
> From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> Sent: 08 March 2007 11:35
> To: java-user@lucene.apache.org
> Subject: Re: indexing pdfs
>
> Is the only way index pdfs is to convert it into a text and then only=20
> index it ???
>
>
>
> On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
> >
> > Hi Aswin,
> >
> > You can try pdfbox to convert the pdf documents to text and then use

> > Lucene to index the text.  The code for turning a pdf to text is=20
> > very
> > simple:
> >
> > private static string parseUsingPDFBox(string filename)
> >         {
> >             // document reader
> >             PDDocument doc =3D PDDocument.load(filename);
> >             // create stripper (wish I had the power to do that -=20
> > wouldn't leave the house)
> >             PDFTextStripper stripper =3D new PDFTextStripper();
> >             // get text from doc using stripper
> >             return stripper.getText(doc);
> >         }
> >
> > Sachin
> >
> > -----Original Message-----
> > From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> > Sent: 08 March 2007 09:37
> > To: java-user@lucene.apache.org
> > Subject: indexing pdfs
> >
> > hi can some one help me by giving any sample programs for indexing=20
> > pdfs and .doc files
> >
> > thanks
> > regards
> > ashwin
> >
> >
> > This message has been scanned for viruses by MailControl - (see
> > http://bluepages.wsatkins.co.uk/?6875772)
> >
> >
> > This email and any attached files are confidential and copyright=20
> > protected. If you are not the addressee, any dissemination of this=20
> > communication is strictly prohibited. Unless otherwise expressly=20
> > agreed in writing, nothing stated in this communication shall be
> legally binding.
> >
> > The ultimate parent company of the Atkins Group is WS Atkins plc.
> > Registered in England No. 1885586.  Registered Office Woodcote=20
> > Grove, Ashley Road, Epsom, Surrey KT18 5BW.
> >
> > Consider the environment. Please don't print this e-mail unless you=20
> > really need to.
> >
> > --------------------------------------------------------------------
> > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 15:29:42 2007
Return-Path: <java-user-return-26710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45395 invoked from network); 8 Mar 2007 15:29:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 15:29:40 -0000
Received: (qmail 43448 invoked by uid 500); 8 Mar 2007 15:29:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43374 invoked by uid 500); 8 Mar 2007 15:29:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43340 invoked by uid 99); 8 Mar 2007 15:29:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 07:29:34 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of walt.stoneburner@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 07:29:23 -0800
Received: by ug-out-1314.google.com with SMTP id k40so982005ugc
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 07:29:01 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=XEUU1kO1TR26ir1QikYx34Fx4+oMoE+8kCxa9CUcRGuf+88DC+S424CGrNpitfyKaN2+7JMu2j2tsGVFDOa1Qn8FCZ2Clzg6be+trIS8Gw8qyaHPhfg/fILpmh7mwKDB8v6B2jlHYOqXXDOMJnHHtZ69OFZnkayF/qGNs4Z7r7M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=YX6BFyylwzw45N3BOApEoKixTTF3KfLf0DzajpGdwgChw2JYDNCY3PUr1Kx/Wfyuo/KXY9iUqh4nd994hLm7jQO6o3ITDGFKpHORnwbb7IjJu4vFrEmsTtrFU4wjQLjyXt3MlbdICnTLxVpdE0e9GkLjY2cE9ByOfLrOP8jUMvY=
Received: by 10.114.75.1 with SMTP id x1mr178236waa.1173367739984;
        Thu, 08 Mar 2007 07:28:59 -0800 (PST)
Received: by 10.114.126.10 with HTTP; Thu, 8 Mar 2007 07:28:59 -0800 (PST)
Message-ID: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
Date: Thu, 8 Mar 2007 10:28:59 -0500
From: "Walt Stoneburner" <walt.stoneburner@gmail.com>
To: java-user@lucene.apache.org
Subject: Index a source, but not store it... can it be done?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Have an interesting scenario I'd like to get your take on with respect
to Lucene:

A data provider (e.g. someone with a private website or corporately
shared directory of proprietary documents) has requested their content
be indexed with Lucene so employees can be redirected to it, but
provisionally -- under no circumstance should that content be stored
or recreated from the index.

Is that even possible?

The data owner's request makes sense in the context of them wanting to
retain full access control via logins as well as collecting access
metrics.

If the token 'CAT' points to C:\Corporate\animals.doc and the token
'DOG' points also points there, then great, CAT AND DOG will give that
document a higher rating, though it is not possible to reconstruct
(with any great accuracy) what the actual document content is.

However, if for the sake of using the NEAR operator with Lucene the
tokens are stored as  LET'S:1 SELL:2 CAT:3 AND:4 DOG:5 ROBOT:6 TOYS:7
THIS:8 DECEMBER:9 ... then someone could pull all tokens for
animal.doc and reconstitute the token stream.

Does Lucene have any kind of trade off for working with "secure" (and
I use this term loosely) data?

-wls

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 15:30:04 2007
Return-Path: <java-user-return-26711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45687 invoked from network); 8 Mar 2007 15:30:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 15:30:03 -0000
Received: (qmail 47802 invoked by uid 500); 8 Mar 2007 15:30:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47767 invoked by uid 500); 8 Mar 2007 15:30:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47756 invoked by uid 99); 8 Mar 2007 15:30:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 07:30:05 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.229 as permitted sender)
Received: from [64.233.184.229] (HELO wr-out-0506.google.com) (64.233.184.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 07:29:54 -0800
Received: by wr-out-0506.google.com with SMTP id 68so910803wra
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 07:29:33 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=S5KF/DZ1EZUqhfOe/koQT0A9TfM130I29ywFol1uxCpRWgqDgPIDrxO9wHNLBdoTY7V7xqFqRBTSCWNlVB5uP3lihad/nlynvogrursb2u0/2DlzJuxRhmQAKKjOc6zGjwr7uyH7iC5O4GyDLF6vTGe748tXRNuQhe1qIXwl3gg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=goaLv9K5wmdNGX0G0+iyZxAd91YpgaqS8rkptro9GLCatRyza+WrPJuSkT7EwBcfR4l706ChaNUntKjulJlXSXO1pkAov1o/slBqr5BKDBJwgPXR81nrDBASmiuI25K5vYFr4AC8S22v2KE0shB3AI3E44EYsEpj36yJtHEix4o=
Received: by 10.114.110.1 with SMTP id i1mr170152wac.1173367772722;
        Thu, 08 Mar 2007 07:29:32 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Thu, 8 Mar 2007 07:29:32 -0800 (PST)
Message-ID: <359a92830703080729h7cbed2e8q7ca27afa34d0810e@mail.gmail.com>
Date: Thu, 8 Mar 2007 10:29:32 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: Lucene 2.1, inconsistent phrase query results with slop
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_238414_1394246.1173367772613"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_238414_1394246.1173367772613
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

In a nutshell, reversing the order of the terms in a phrase query can
result in different hit counts. That is, "person place"~3 may return
different results from "place person"~3, depending on the number
of intervening terms.


There's a self-contained program below that
illustrates what I'm seeing, along with output.

SpanNear does not exhibit this behavior, so I can make things work.

I didn't find anything in my (admittedly brief) search of the archives
or the open issues that directly spoke to this.....

Several questions:

1> is this a bug or not?

2> is anyone working on it or should I dig into it? It looks like
it may be related to LUCENE-736.

3> does the phrase from LIA (pg 208) "Given enough slop,
PhraseQuery will match terms out of order in the original text." apply here?

4> Do you want me to post this on the developers list (I can hear it
now... "not unless you also post a patch too" <G>)....

Thanks
Erick


import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.spans.SpanNearQuery;
import org.apache.lucene.search.spans.SpanQuery;
import org.apache.lucene.search.spans.SpanTermQuery;
import org.apache.lucene.store.Directory;
import org.apache.lucene.store.RAMDirectory;


public class PhraseProblem
{
    public static void main(String[] args)
    {
        try {
            PhraseProblem pp = new PhraseProblem();

            pp.tryIt();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }


    private void tryIt() throws Exception
    {
        Directory dir = new RAMDirectory();
        IndexWriter writer = new IndexWriter(dir, new WhitespaceAnalyzer());
        Document doc = new Document();

        doc.add(
                new Field(
                        "field",
                        "person space space space place",
                        Field.Store.YES,
                        Field.Index.TOKENIZED));
        writer.addDocument(doc);
        writer.close();

        IndexSearcher searcher = new IndexSearcher(dir);

        System.out.println("trying phrase queries");
        this.trySlop(searcher, 2);
        this.trySlop(searcher, 3); //FAILS
        this.trySlop(searcher, 4); //FAILS
        this.trySlop(searcher, 5);
        this.trySlop(searcher, 6);
        this.trySlop(searcher, 7);

        System.out.println("trying SpanNear queries");
        this.trySpan(searcher, 2);
        this.trySpan(searcher, 3);
        this.trySpan(searcher, 4);
        this.trySpan(searcher, 5);
        this.trySpan(searcher, 6);
        this.trySpan(searcher, 7);
    }

    private void trySpan(IndexSearcher searcher, int slop) throws Exception
{

        SpanQuery sq1 = new SpanTermQuery(new Term("field", "person"));
        SpanQuery sq2 = new SpanTermQuery(new Term("field", "place"));
        SpanNearQuery sqn1 = new SpanNearQuery(
                        new SpanQuery[] {sq1, sq2}, slop, false);

        SpanNearQuery sqn2 = new SpanNearQuery(
                        new SpanQuery[] {sq2, sq1}, slop, false);

        Hits hits1 = searcher.search(sqn1);
        Hits hits2 = searcher.search(sqn2);

        this.printResults(hits1, hits2, slop);
    }

    private void trySlop(IndexSearcher searcher, int slop)
        throws Exception
    {
        QueryParser qp = new QueryParser("field", new WhitespaceAnalyzer());
        Query query1 = qp.parse(String.format("\"person place\"~%d", slop));
        Query query2 = qp.parse(String.format("\"place person\"~%d", slop));

        Hits hits1 = searcher.search(query1);
        Hits hits2 = searcher.search(query2);
        this.printResults(hits1, hits2, slop);
    }
    private void printResults(Hits hits1, Hits hits2, int slop) {
        if (hits1.length() != hits2.length()) {
            System.out.println(
                    String.format(
                            "Unequeal hit counts. hits1.length %d,
hits2.length %d slop : %d",
                            hits1.length(),
                            hits2.length(),
                            slop));
        } else {
            System.out.println(
                    String.format(
                            "Found identical hit counts of %d, slop: %d",
                            hits1.length(),
                            slop));
        }
    }
}

****************************output************************

trying phrase queries

Found identical hit counts of 0, slop: 2
Unequeal hit counts. hits1.length 1, hits2.length 0 slop : 3
Unequeal hit counts. hits1.length 1, hits2.length 0 slop : 4
Found identical hit counts of 1, slop: 5
Found identical hit counts of 1, slop: 6
Found identical hit counts of 1, slop: 7


trying SpanNear queries

Found identical hit counts of 0, slop: 2
Found identical hit counts of 1, slop: 3
Found identical hit counts of 1, slop: 4
Found identical hit counts of 1, slop: 5
Found identical hit counts of 1, slop: 6
Found identical hit counts of 1, slop: 7

------=_Part_238414_1394246.1173367772613--

From java-user-return-26712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 15:43:14 2007
Return-Path: <java-user-return-26712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50913 invoked from network); 8 Mar 2007 15:43:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 15:43:14 -0000
Received: (qmail 73086 invoked by uid 500); 8 Mar 2007 15:43:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73051 invoked by uid 500); 8 Mar 2007 15:43:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73040 invoked by uid 99); 8 Mar 2007 15:43:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 07:43:15 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of yseeley@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 07:43:04 -0800
Received: by nf-out-0910.google.com with SMTP id g2so588951nfe
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 07:42:42 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=tTPh/FEcO3rny4l6YXUEBnNfPuS8oRhxkvuyEf7lccmSVGzLCZGGaV5oF7i1/kHrg/2UACfvI/HDDw2YsGnU5ioA/cwdufc4syVKTVxD8SwvrOH+ymWRaSf5hchDOkZpm/irv775Yb57duccMpd/vH5sZ9zGEkgkVXLtq+QKvdQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=Q+ENnDsAZd/NJQNnxCBmAGTofDpsxhaiCUcUIW+BbfReq778UPhbH/a3//7BooFMuBnUe/EaA+LaaUNlh7dt25uEjnNeGxbBkmjfVhJefjP53D1ng7LUQjYn9IPVN3y8wyqrxEKn4RPoOBYrSRfCeLXob1cTMWhFG31wOJBg7x0=
Received: by 10.82.111.8 with SMTP id j8mr945756buc.1173368562676;
        Thu, 08 Mar 2007 07:42:42 -0800 (PST)
Received: by 10.82.106.19 with HTTP; Thu, 8 Mar 2007 07:42:42 -0800 (PST)
Message-ID: <c68e39170703080742m571ecdc8h6e480516a3c94c79@mail.gmail.com>
Date: Thu, 8 Mar 2007 10:42:42 -0500
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene 2.1, inconsistent phrase query results with slop
In-Reply-To: <359a92830703080729h7cbed2e8q7ca27afa34d0810e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <359a92830703080729h7cbed2e8q7ca27afa34d0810e@mail.gmail.com>
X-Google-Sender-Auth: d3f2794110e4777b
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/8/07, Erick Erickson <erickerickson@gmail.com> wrote:
> In a nutshell, reversing the order of the terms in a phrase query can
> result in different hit counts. That is, "person place"~3 may return
> different results from "place person"~3, depending on the number
> of intervening terms.

I think that's "working as designed".   Although I could understand
someone wanting it to work differently.  The slop is sort of like the
edit distance from the current given phrase, hence the order of terms
in the phrase matters.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 16:21:37 2007
Return-Path: <java-user-return-26713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63967 invoked from network); 8 Mar 2007 16:21:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 16:21:35 -0000
Received: (qmail 66221 invoked by uid 500); 8 Mar 2007 16:21:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66186 invoked by uid 500); 8 Mar 2007 16:21:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66157 invoked by uid 99); 8 Mar 2007 16:21:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:21:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:21:14 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A21E95B770; Thu,  8 Mar 2007 08:20:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9CD407F403
	for <java-user@lucene.apache.org>; Thu,  8 Mar 2007 08:20:53 -0800 (PST)
Date: Thu, 8 Mar 2007 08:20:53 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lucene 2.1, inconsistent phrase query results with slop
In-Reply-To: <c68e39170703080742m571ecdc8h6e480516a3c94c79@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703080818080.10089@hal.rescomp.berkeley.edu>
References: <359a92830703080729h7cbed2e8q7ca27afa34d0810e@mail.gmail.com>
 <c68e39170703080742m571ecdc8h6e480516a3c94c79@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I think that's "working as designed".   Although I could understand
: someone wanting it to work differently.  The slop is sort of like the
: edit distance from the current given phrase, hence the order of terms
: in the phrase matters.

correct ... LIA has a great diagram explaining this ... the slop refers to
how many positions you have to move the terms in the PhraseQuery to match.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 16:38:41 2007
Return-Path: <java-user-return-26714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68706 invoked from network); 8 Mar 2007 16:38:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 16:38:40 -0000
Received: (qmail 14665 invoked by uid 500); 8 Mar 2007 16:38:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14632 invoked by uid 500); 8 Mar 2007 16:38:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14621 invoked by uid 99); 8 Mar 2007 16:38:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:38:41 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 86.111.223.190 as permitted sender)
Received: from [86.111.223.190] (HELO cluster-j.mailcontrol.com) (86.111.223.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:38:27 -0800
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly33j.srv.mailcontrol.com (MailControl) with SMTP id l28Gc0x0032387
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 16:38:00 GMT
Received: From SGBD012102.wsatkins.com ([10.202.26.16]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173371859726; Thu, 8 Mar 2007 16:37:39 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012102.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 8 Mar 2007 16:37:39 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C761A0.158AA717"
Subject: Multiple segments
Date: Thu, 8 Mar 2007 16:37:27 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427061DE873@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multiple segments
Thread-Index: AcdhoA7To1ZjT1kVScejh90WVQlCtw==
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 08 Mar 2007 16:37:39.0267 (UTC) FILETIME=[15DAC930:01C761A0]
X-Scanned-By: MailControl A-06-00-00 (www.mailcontrol.com) on 10.74.0.143
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C761A0.158AA717
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi all,

I have been performing some tests on index segments and have a problem.
I have read the file formats document on the official website and from
what I can see it should be possible to create as many segments for an
index as there are documents (though of course this is not a great
idea).  Having searched around it occurred to be that the way to do this
is to set maxMergeDocs to 1.  Having tried this I found that it doesn't
work.  All documents still get put into one segment.  Any idea what I
should do?

Thanks


This email and any attached files are confidential and copyright protected.=
 If you are not the addressee, any dissemination of this communication is s=
trictly prohibited. Unless otherwise expressly agreed in writing, nothing s=
tated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc.  Register=
ed in England No. 1885586.  Registered Office Woodcote Grove, Ashley Road, =
Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really =
need to.=20

------_=_NextPart_001_01C761A0.158AA717--

From java-user-return-26715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 16:52:47 2007
Return-Path: <java-user-return-26715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72011 invoked from network); 8 Mar 2007 16:52:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 16:52:46 -0000
Received: (qmail 36131 invoked by uid 500); 8 Mar 2007 16:52:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36097 invoked by uid 500); 8 Mar 2007 16:52:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36086 invoked by uid 99); 8 Mar 2007 16:52:47 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:52:47 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=MSGID_FROM_MTA_HEADER,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tonyqian@hotmail.com designates 65.54.246.230 as permitted sender)
Received: from [65.54.246.230] (HELO bay0-omc3-s30.bay0.hotmail.com) (65.54.246.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:52:37 -0800
Received: from hotmail.com ([65.55.155.92]) by bay0-omc3-s30.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.2668);
	 Thu, 8 Mar 2007 08:52:16 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 8 Mar 2007 08:52:16 -0800
Message-ID: <BAY144-F12468AD29D30E5BB492672D4790@phx.gbl>
Received: from 65.55.155.123 by by144fd.bay144.hotmail.msn.com with HTTP;
	Thu, 08 Mar 2007 16:52:15 GMT
X-Originating-IP: [64.236.128.27]
X-Originating-Email: [tonyqian@hotmail.com]
X-Sender: tonyqian@hotmail.com
From: "Tony Qian" <tonyqian@hotmail.com>
To: java-user@lucene.apache.org
Subject: Plural word search
Date: Thu, 08 Mar 2007 16:52:15 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 08 Mar 2007 16:52:16.0757 (UTC) FILETIME=[20E12250:01C761A2]
X-Virus-Checked: Checked by ClamAV on apache.org

All,

I'm evaluating Lucene as a full-text search engine for a project. I got one 
of the requirements as following:

4) Plural Literal Search
If you use the plural of a term such as bears the results will include 
matches to the plural term bears as well as the singular term bear.

it seems to me we need to build a dictionary to support it. Does Lucene 
support it?

appreciate your help.

Tony

_________________________________________________________________
Dont miss your chance to WIN 10 hours of private jet travel from Microsoft 
Office Live http://clk.atdmt.com/MRT/go/mcrssaub0540002499mrt/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 16:58:50 2007
Return-Path: <java-user-return-26716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73970 invoked from network); 8 Mar 2007 16:58:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 16:58:48 -0000
Received: (qmail 48987 invoked by uid 500); 8 Mar 2007 16:58:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48952 invoked by uid 500); 8 Mar 2007 16:58:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48921 invoked by uid 99); 8 Mar 2007 16:58:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:58:53 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.156 as permitted sender)
Received: from [195.212.29.156] (HELO mtagate7.de.ibm.com) (195.212.29.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 08:58:42 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate7.de.ibm.com (8.13.8/8.13.8) with ESMTP id l28GwLZn151930
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 16:58:21 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l28GwLI12252868
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 17:58:21 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l28GwKLI006760
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 17:58:20 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l28GwKdW006755
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 17:58:20 +0100
In-Reply-To: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
Subject: Re: Index a source, but not store it... can it be done?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFE62CA976.8EEE4346-ON88257298.005ACA02-88257298.005CF868@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 8 Mar 2007 08:55:29 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 08/03/2007 18:58:20
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Token positions are used also for phrase search.

You could probably compromise this by setting all token positions to 0 -
this would appear as if a document is a *set* of words (rather than a
*list*). An adversary would be able to know/guess what words are in each
document, (and, with (API) access to the index itself, how many times each
word appear in each document), but would not be able to reconstruct a
"good" approximation of that document, because term positions are all 0. If
this is sufficient, I think you can do it by writing your own Analyzer with
a TokenFilter that takes care of the position - see Token.
setPositionIncrement().

Hope this helps,
Doron

"Walt Stoneburner" <walt.stoneburner@gmail.com> wrote on 08/03/2007
07:28:59:

> Have an interesting scenario I'd like to get your take on with respect
> to Lucene:
>
> A data provider (e.g. someone with a private website or corporately
> shared directory of proprietary documents) has requested their content
> be indexed with Lucene so employees can be redirected to it, but
> provisionally -- under no circumstance should that content be stored
> or recreated from the index.
>
> Is that even possible?
>
> The data owner's request makes sense in the context of them wanting to
> retain full access control via logins as well as collecting access
> metrics.
>
> If the token 'CAT' points to C:\Corporate\animals.doc and the token
> 'DOG' points also points there, then great, CAT AND DOG will give that
> document a higher rating, though it is not possible to reconstruct
> (with any great accuracy) what the actual document content is.
>
> However, if for the sake of using the NEAR operator with Lucene the
> tokens are stored as  LET'S:1 SELL:2 CAT:3 AND:4 DOG:5 ROBOT:6 TOYS:7
> THIS:8 DECEMBER:9 ... then someone could pull all tokens for
> animal.doc and reconstitute the token stream.
>
> Does Lucene have any kind of trade off for working with "secure" (and
> I use this term loosely) data?
>
> -wls


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 17:15:02 2007
Return-Path: <java-user-return-26717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80063 invoked from network); 8 Mar 2007 17:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 17:15:00 -0000
Received: (qmail 78367 invoked by uid 500); 8 Mar 2007 17:15:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78336 invoked by uid 500); 8 Mar 2007 17:15:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78325 invoked by uid 99); 8 Mar 2007 17:15:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 09:15:01 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 86.111.223.190 as permitted sender)
Received: from [86.111.223.190] (HELO cluster-j.mailcontrol.com) (86.111.223.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 09:14:45 -0800
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly37j.srv.mailcontrol.com (MailControl) with SMTP id l28HEOd6012123
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 17:14:24 GMT
Received: From SGBD012104.wsatkins.com ([10.202.26.18]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173374043876; Thu, 8 Mar 2007 17:14:03 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012104.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 8 Mar 2007 17:14:03 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Plural word search
Date: Thu, 8 Mar 2007 17:14:02 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427061DE984@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Plural word search
Thread-Index: AcdhojUR2K27O2DFRZiA6xShH6/BngAAq62Q
References: <BAY144-F12468AD29D30E5BB492672D4790@phx.gbl>
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 08 Mar 2007 17:14:03.0530 (UTC) FILETIME=[2BC6DEA0:01C761A5]
X-Scanned-By: MailControl A-07-06-90 (www.mailcontrol.com) on 10.74.0.147
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Tony,

Lucene certainly does support it.  It just requires you to use a
tokeniser that performs stemming such as any analyzer that uses
PorterStemFilter.

Sachin=20

-----Original Message-----
From: Tony Qian [mailto:tonyqian@hotmail.com]=20
Sent: 08 March 2007 16:52
To: java-user@lucene.apache.org
Subject: Plural word search

All,

I'm evaluating Lucene as a full-text search engine for a project. I got
one of the requirements as following:

4) Plural Literal Search
If you use the plural of a term such as bears the results will include
matches to the plural term bears as well as the singular term bear.

it seems to me we need to build a dictionary to support it. Does Lucene
support it?

appreciate your help.

Tony

_________________________________________________________________
Don't miss your chance to WIN 10 hours of private jet travel from
Microsoft(r) Office Live
http://clk.atdmt.com/MRT/go/mcrssaub0540002499mrt/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



This email and any attached files are confidential and copyright protected.=
 If you are not the addressee, any dissemination of this communication is s=
trictly prohibited. Unless otherwise expressly agreed in writing, nothing s=
tated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc.  Register=
ed in England No. 1885586.  Registered Office Woodcote Grove, Ashley Road, =
Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really =
need to.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 17:24:30 2007
Return-Path: <java-user-return-26718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85535 invoked from network); 8 Mar 2007 17:24:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 17:24:28 -0000
Received: (qmail 92946 invoked by uid 500); 8 Mar 2007 17:24:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92918 invoked by uid 500); 8 Mar 2007 17:24:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92907 invoked by uid 99); 8 Mar 2007 17:24:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 09:24:29 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=MSGID_FROM_MTA_HEADER,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tonyqian@hotmail.com designates 65.54.246.225 as permitted sender)
Received: from [65.54.246.225] (HELO bay0-omc3-s25.bay0.hotmail.com) (65.54.246.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 09:24:15 -0800
Received: from hotmail.com ([65.55.155.92]) by bay0-omc3-s25.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.2668);
	 Thu, 8 Mar 2007 09:23:55 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 8 Mar 2007 09:23:55 -0800
Message-ID: <BAY144-F121B9EF036077BAEB90CCCD4790@phx.gbl>
Received: from 65.55.155.123 by by144fd.bay144.hotmail.msn.com with HTTP;
	Thu, 08 Mar 2007 17:23:54 GMT
X-Originating-IP: [64.236.128.27]
X-Originating-Email: [tonyqian@hotmail.com]
X-Sender: tonyqian@hotmail.com
In-Reply-To: <BC1CFC544422CB4A934908E126A47427061DE984@SGBLOW2101.wsatkins.com>
From: "Tony Qian" <tonyqian@hotmail.com>
To: java-user@lucene.apache.org
Subject: RE: Plural word search
Date: Thu, 08 Mar 2007 17:23:54 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 08 Mar 2007 17:23:55.0163 (UTC) FILETIME=[8C6AE6B0:01C761A6]
X-Virus-Checked: Checked by ClamAV on apache.org


Sachin,

Thanks for quick response. Is there any code example i can take look? I'm 
not familiar with the technique you mentioned. My question is how the 
analyzer knows "buss" is not a plural and bears is a plural.

Lucene supports wildcard. However, we can not use wildcard at the beginning 
of search term such as *bear. is there a way to match *bear* (bear, bears, 
forbearance etc.) by search tern "bear"?

thanks

>From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
>Reply-To: java-user@lucene.apache.org
>To: <java-user@lucene.apache.org>
>Subject: RE: Plural word search
>Date: Thu, 8 Mar 2007 17:14:02 -0000
>
>Hi Tony,
>
>Lucene certainly does support it.  It just requires you to use a
>tokeniser that performs stemming such as any analyzer that uses
>PorterStemFilter.
>
>Sachin
>
>-----Original Message-----
>From: Tony Qian [mailto:tonyqian@hotmail.com]
>Sent: 08 March 2007 16:52
>To: java-user@lucene.apache.org
>Subject: Plural word search
>
>All,
>
>I'm evaluating Lucene as a full-text search engine for a project. I got
>one of the requirements as following:
>
>4) Plural Literal Search
>If you use the plural of a term such as bears the results will include
>matches to the plural term bears as well as the singular term bear.
>
>it seems to me we need to build a dictionary to support it. Does Lucene
>support it?
>
>appreciate your help.
>
>Tony
>
>_________________________________________________________________
>Don't miss your chance to WIN 10 hours of private jet travel from
>Microsoft(r) Office Live
>http://clk.atdmt.com/MRT/go/mcrssaub0540002499mrt/direct/01/
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>This email and any attached files are confidential and copyright protected. 
>If you are not the addressee, any dissemination of this communication is 
>strictly prohibited. Unless otherwise expressly agreed in writing, nothing 
>stated in this communication shall be legally binding.
>
>The ultimate parent company of the Atkins Group is WS Atkins plc.  
>Registered in England No. 1885586.  Registered Office Woodcote Grove, 
>Ashley Road, Epsom, Surrey KT18 5BW.
>
>Consider the environment. Please don't print this e-mail unless you really 
>need to.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
Find a local pizza place, movie theater, and more.then map the best route! 
http://maps.live.com/?icid=hmtag1&FORM=MGAC01


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 17:59:07 2007
Return-Path: <java-user-return-26719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 254 invoked from network); 8 Mar 2007 17:59:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 17:59:06 -0000
Received: (qmail 56203 invoked by uid 500); 8 Mar 2007 17:59:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56173 invoked by uid 500); 8 Mar 2007 17:59:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56162 invoked by uid 99); 8 Mar 2007 17:59:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 09:59:08 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 09:58:55 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id l28HwX1G025536
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 17:58:33 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l28HwWFS1859628
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 18:58:33 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l28HwWhS028160
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 18:58:32 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l28HwWx4028157
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 18:58:32 +0100
In-Reply-To: <BC1CFC544422CB4A934908E126A47427061DE873@SGBLOW2101.wsatkins.com>
Subject: Re: Multiple segments
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFF81CC59F.829D43CA-ON88257298.0061577F-88257298.00626FBE@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 8 Mar 2007 09:55:11 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 08/03/2007 19:58:32
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

margeDocs only limits the merging of "already saved segments" as result of
calling addDocument(). If there are added documents not yet "saved" but
rather still buffered in memory (by IndexWriter), once their number exceeds
maxBufferedDocs they are "saved", but as a single merged segment. So you
could set maxBufferedDocs to 2 (that's the minimal value) and maxMergedDocs
to 1 and add N documents to the index, - that would likely result in N/2
segments. You could probably force N segments by closing the index after
each add and reopen it before the next add. Note that while such settings
might be interesting for learning purposes, that would have an unpleasant
performance impact...  Last, calling optimize(), no matter what above
settings are, a single segment is created.

Regards,
Doron

"Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com> wrote on 08/03/2007
08:37:27:

> Hi all,
>
> I have been performing some tests on index segments and have a problem.
> I have read the file formats document on the official website and from
> what I can see it should be possible to create as many segments for an
> index as there are documents (though of course this is not a great
> idea).  Having searched around it occurred to be that the way to do this
> is to set maxMergeDocs to 1.  Having tried this I found that it doesn't
> work.  All documents still get put into one segment.  Any idea what I
> should do?
>
> Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 18:03:20 2007
Return-Path: <java-user-return-26720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1477 invoked from network); 8 Mar 2007 18:03:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 18:03:19 -0000
Received: (qmail 64612 invoked by uid 500); 8 Mar 2007 18:03:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64583 invoked by uid 500); 8 Mar 2007 18:03:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64572 invoked by uid 99); 8 Mar 2007 18:03:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:03:22 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [68.142.199.173] (HELO web81709.mail.mud.yahoo.com) (68.142.199.173)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 08 Mar 2007 10:03:10 -0800
Received: (qmail 6413 invoked by uid 60001); 8 Mar 2007 18:02:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=FjoPogtTCKwP8SrAs0sX4noJ2aFZHVelPdDIBzzPwtPm5nm2mJy5yZSKv69kUNCMLSuAD2kmGRoaDnWDg/+pHLDqZNc2O/742pblHWcn81yqrsvYHr4KOQ7si/JcGZBVHQHFGYMcr12LU+47W6nu+hdcQUEt0xftu3D0dIDEa2s=;
Received: from [66.201.45.201] by web81709.mail.mud.yahoo.com via HTTP; Thu, 08 Mar 2007 10:02:49 PST
X-Mailer: YahooMailRC/368.8 YahooMailWebService/0.6.132.8
Date: Thu, 8 Mar 2007 10:02:49 -0800 (PST)
From: Chiradeep Vittal <rayvittal-lists@yahoo.com>
Subject: Re: Term Frequency within Hits
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <518849.5491.qm@web81709.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Term Frequency in Lucene parlance =3D number of occurences of the term with=
in a single document.=0AIf you're looking for "how many documents have term=
 x" where x is unknown, see SimpleFacets in Solr=0Ahttp://lucene.apache.org=
/solr/api/org/apache/solr/request/SimpleFacets.html=0A=0A=0A----- Original =
Message ----=0AFrom: Erick Erickson <erickerickson@gmail.com>=0ATo: java-us=
er@lucene.apache.org=0ASent: Wednesday, March 7, 2007 2:29:14 PM=0ASubject:=
 Re: Term Frequency within Hits=0A=0ASee TermFreqVector, HitCollector, perh=
aps TopDocs, perhaps=0ATermEnum. Make sure you create your index such that =
frequencies=0Aare stored (see the FAQ).=0A=0AErick=0A=0AOn 3/7/07, teramera=
 <teramera@gmail.com> wrote:=0A>=0A>=0A> So after I execute a search I end =
up with a 'Hits' object. The number of=0A> Hits=0A> is the order of a milli=
on.=0A> What I want to do is from these Hits is extract term frequencies fo=
r a few=0A> known fields. I don't have a global list of terms for any of th=
e fields=0A> but=0A> want to generate  the term frequency based on terms fr=
om the Hits.=0A>=0A> Iterating over the hits and doing this later is of cou=
rse turning out to=0A> be=0A> very expensive.=0A> Is there a known Lucene w=
ay of solving such a problem so that this=0A> calculation happens as the hi=
ts are being accumulated?=0A> Appreciate any pointers,=0A>=0A> --=0A> View =
this message in context:=0A> http://www.nabble.com/Term-Frequency-within-Hi=
ts-tf3364987.html#a9362169=0A> Sent from the Lucene - Java Users mailing li=
st archive at Nabble.com.=0A>=0A>=0A> -------------------------------------=
--------------------------------=0A> To unsubscribe, e-mail: java-user-unsu=
bscribe@lucene.apache.org=0A> For additional commands, e-mail: java-user-he=
lp@lucene.apache.org=0A>=0A>=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 18:11:04 2007
Return-Path: <java-user-return-26721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4290 invoked from network); 8 Mar 2007 18:11:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 18:11:03 -0000
Received: (qmail 81370 invoked by uid 500); 8 Mar 2007 18:11:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81340 invoked by uid 500); 8 Mar 2007 18:11:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81329 invoked by uid 99); 8 Mar 2007 18:11:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:11:05 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:10:54 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BC7695B774; Thu,  8 Mar 2007 10:10:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B65867F403
	for <java-user@lucene.apache.org>; Thu,  8 Mar 2007 10:10:32 -0800 (PST)
Date: Thu, 8 Mar 2007 10:10:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Plural word search
In-Reply-To: <BAY144-F121B9EF036077BAEB90CCCD4790@phx.gbl>
Message-ID: <Pine.LNX.4.58.0703081007410.14656@hal.rescomp.berkeley.edu>
References: <BAY144-F121B9EF036077BAEB90CCCD4790@phx.gbl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Thanks for quick response. Is there any code example i can take look? I'm
: not familiar with the technique you mentioned. My question is how the
: analyzer knows "buss" is not a plural and bears is a plural.

Stemming is a vast topic of text analysis .. some stemmers work using
dictionaries, some based on algorithmic appraoches ... almost any Stemmer
you can imagine can be implimented as a ToeknFilter in Lucene -- and a few
already are out of the box.

You might wnat to read up a little bit on the different Stemming
approaches out there (google: "stemming") and then take a look at some of
the Lucene analysis classes that provide implementations.





-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 18:38:27 2007
Return-Path: <java-user-return-26722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16112 invoked from network); 8 Mar 2007 18:38:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 18:38:22 -0000
Received: (qmail 20688 invoked by uid 500); 8 Mar 2007 18:38:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20643 invoked by uid 500); 8 Mar 2007 18:38:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20632 invoked by uid 99); 8 Mar 2007 18:38:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:38:24 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.226 as permitted sender)
Received: from [64.233.184.226] (HELO wr-out-0506.google.com) (64.233.184.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:38:12 -0800
Received: by wr-out-0506.google.com with SMTP id 68so1003363wra
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 10:37:51 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nAEBrJ1DJeaLAR/SUTxCLC7o2OPzKpvFnfHQIdNof8Q4jX1ATNi+hjS4cWs+ruCyoCwdTeGXWdVEOSiAq8SO2qvCVfn5fKUXVB3UvjFc0OKLgIkhdpi6WOF7y6wYjLnuV8K3+kUW2GBqIJ65F2wslfrESb/Bot0lhNE2F0FsS9o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lltncD9ZjpYfDJuE7N0zvNbZWfeEF3IL6NhSb4qjxgd21hDp2EnUGDgVhdKaxrRut1eh6a8z+bUenIYYhfGiRAToOpR3XEZuhJ8auZuC/T1gqHAPUsfJWfKFszAqxBSDRNMm4PbrBQ3QtwM0f+1naqePqCXFnL/Sb7FNRgkj+58=
Received: by 10.114.75.1 with SMTP id x1mr255437waa.1173379070542;
        Thu, 08 Mar 2007 10:37:50 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Thu, 8 Mar 2007 10:37:50 -0800 (PST)
Message-ID: <359a92830703081037n13857b47m66209bc15e55fcf0@mail.gmail.com>
Date: Thu, 8 Mar 2007 13:37:50 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene 2.1, inconsistent phrase query results with slop
In-Reply-To: <Pine.LNX.4.58.0703080818080.10089@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_243015_15320030.1173379070501"
References: <359a92830703080729h7cbed2e8q7ca27afa34d0810e@mail.gmail.com>
	 <c68e39170703080742m571ecdc8h6e480516a3c94c79@mail.gmail.com>
	 <Pine.LNX.4.58.0703080818080.10089@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_243015_15320030.1173379070501
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sorry about that. I think II found the diagram you're talking about on page
89.
It even addresses the exact problem I'm talking about.

It's not the first time I've looked like a fool, you'd think I'd be getting
used to it by now <G>.

So, it seems like the most reasonable solution to this issue would
be for me to re-write the phrase queries as SpanNear queries, no?

Erick

On 3/8/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : I think that's "working as designed".   Although I could understand
> : someone wanting it to work differently.  The slop is sort of like the
> : edit distance from the current given phrase, hence the order of terms
> : in the phrase matters.
>
> correct ... LIA has a great diagram explaining this ... the slop refers to
> how many positions you have to move the terms in the PhraseQuery to match.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_243015_15320030.1173379070501--

From java-user-return-26723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 18:42:35 2007
Return-Path: <java-user-return-26723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17227 invoked from network); 8 Mar 2007 18:42:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 18:42:34 -0000
Received: (qmail 26378 invoked by uid 500); 8 Mar 2007 18:42:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26344 invoked by uid 500); 8 Mar 2007 18:42:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26333 invoked by uid 99); 8 Mar 2007 18:42:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:42:35 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:42:24 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1046886ugc
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 10:42:02 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=hzhIyHKPMpRrJ3H/JXItShZcmhUt4VxD//0WlA3I80KqWILHZnASZ0NLZxFXobDzu8yaoV4HmMwYlHtj7dhGtbXnyeEnRz6NfhXO6tMdYtGRjvoT9uXD+5WowM7fOrWUvTgIv0YmDI9gZKsdR7S9tqAOHnd+6h4z5iymLuOZ1/A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=aIuVJ9Od6aHNAr3/yoFc7SHhEl5MevADrqx+W/QZuYfp1EQuqYpqY5u0PwcS6F72O5C9VxedB5zb1oQJELXmFgYde2ZmPSfSg2DKX4Jua9nfbfN13mjHM/6L3xd/RJm8H/zZSpyGzAVdcf9XMz2T4FnSgrWLrPZUS53kzA2mEkQ=
Received: by 10.114.133.1 with SMTP id g1mr256099wad.1173379321253;
        Thu, 08 Mar 2007 10:42:01 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Thu, 8 Mar 2007 10:42:00 -0800 (PST)
Message-ID: <359a92830703081042s7c234e12i31e52025f8043398@mail.gmail.com>
Date: Thu, 8 Mar 2007 13:42:00 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Plural word search
In-Reply-To: <BAY144-F121B9EF036077BAEB90CCCD4790@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_243139_28597191.1173379320956"
References: <BC1CFC544422CB4A934908E126A47427061DE984@SGBLOW2101.wsatkins.com>
	 <BAY144-F121B9EF036077BAEB90CCCD4790@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_243139_28597191.1173379320956
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

as of 2.1, as I remember, you can use leading wildcards but ONLY
you set a flag (see setAllowLeadingWildcard in QueryParser). Be
aware of the TooManyClauses issue though (search the mail
archive and you'll find many discussions of this issue).

Erick

On 3/8/07, Tony Qian <tonyqian@hotmail.com> wrote:
>
>
> Sachin,
>
> Thanks for quick response. Is there any code example i can take look? I'm
> not familiar with the technique you mentioned. My question is how the
> analyzer knows "buss" is not a plural and bears is a plural.
>
> Lucene supports wildcard. However, we can not use wildcard at the
> beginning
> of search term such as *bear. is there a way to match *bear* (bear, bears=
,
> forbearance etc.) by search tern "bear"?
>
> thanks
>
> >From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
> >Reply-To: java-user@lucene.apache.org
> >To: <java-user@lucene.apache.org>
> >Subject: RE: Plural word search
> >Date: Thu, 8 Mar 2007 17:14:02 -0000
> >
> >Hi Tony,
> >
> >Lucene certainly does support it.  It just requires you to use a
> >tokeniser that performs stemming such as any analyzer that uses
> >PorterStemFilter.
> >
> >Sachin
> >
> >-----Original Message-----
> >From: Tony Qian [mailto:tonyqian@hotmail.com]
> >Sent: 08 March 2007 16:52
> >To: java-user@lucene.apache.org
> >Subject: Plural word search
> >
> >All,
> >
> >I'm evaluating Lucene as a full-text search engine for a project. I got
> >one of the requirements as following:
> >
> >4) Plural Literal Search
> >If you use the plural of a term such as bears the results will include
> >matches to the plural term bears as well as the singular term bear.
> >
> >it seems to me we need to build a dictionary to support it. Does Lucene
> >support it?
> >
> >appreciate your help.
> >
> >Tony
> >
> >_________________________________________________________________
> >Don't miss your chance to WIN 10 hours of private jet travel from
> >Microsoft(r) Office Live
> >http://clk.atdmt.com/MRT/go/mcrssaub0540002499mrt/direct/01/
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >This email and any attached files are confidential and copyright
> protected.
> >If you are not the addressee, any dissemination of this communication is
> >strictly prohibited. Unless otherwise expressly agreed in writing,
> nothing
> >stated in this communication shall be legally binding.
> >
> >The ultimate parent company of the Atkins Group is WS Atkins plc.
> >Registered in England No. 1885586.  Registered Office Woodcote Grove,
> >Ashley Road, Epsom, Surrey KT18 5BW.
> >
> >Consider the environment. Please don't print this e-mail unless you
> really
> >need to.
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
> _________________________________________________________________
> Find a local pizza place, movie theater, and more=85.then map the best
> route!
> http://maps.live.com/?icid=3Dhmtag1&FORM=3DMGAC01
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_243139_28597191.1173379320956--

From java-user-return-26724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 18:51:38 2007
Return-Path: <java-user-return-26724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24778 invoked from network); 8 Mar 2007 18:51:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 18:51:11 -0000
Received: (qmail 48186 invoked by uid 500); 8 Mar 2007 18:51:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48156 invoked by uid 500); 8 Mar 2007 18:51:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48145 invoked by uid 99); 8 Mar 2007 18:51:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:51:13 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=MSGID_FROM_MTA_HEADER,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tonyqian@hotmail.com designates 65.54.246.212 as permitted sender)
Received: from [65.54.246.212] (HELO bay0-omc3-s12.bay0.hotmail.com) (65.54.246.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 10:50:59 -0800
Received: from hotmail.com ([65.55.155.85]) by bay0-omc3-s12.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.2668);
	 Thu, 8 Mar 2007 10:50:38 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 8 Mar 2007 10:50:38 -0800
Message-ID: <BAY144-F5FD47BD2BA0A7022BE528D4790@phx.gbl>
Received: from 65.55.155.123 by by144fd.bay144.hotmail.msn.com with HTTP;
	Thu, 08 Mar 2007 18:50:33 GMT
X-Originating-IP: [64.236.128.27]
X-Originating-Email: [tonyqian@hotmail.com]
X-Sender: tonyqian@hotmail.com
In-Reply-To: <359a92830703081042s7c234e12i31e52025f8043398@mail.gmail.com>
From: "Tony Qian" <tonyqian@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Plural word search
Date: Thu, 08 Mar 2007 18:50:33 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 08 Mar 2007 18:50:38.0184 (UTC) FILETIME=[A9A8E680:01C761B2]
X-Virus-Checked: Checked by ClamAV on apache.org


Erick,

thanks for information.

Tony

>From: "Erick Erickson" <erickerickson@gmail.com>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Plural word search
>Date: Thu, 8 Mar 2007 13:42:00 -0500
>
>as of 2.1, as I remember, you can use leading wildcards but ONLY
>you set a flag (see setAllowLeadingWildcard in QueryParser). Be
>aware of the TooManyClauses issue though (search the mail
>archive and you'll find many discussions of this issue).
>
>Erick
>
>On 3/8/07, Tony Qian <tonyqian@hotmail.com> wrote:
>>
>>
>>Sachin,
>>
>>Thanks for quick response. Is there any code example i can take look? I'm
>>not familiar with the technique you mentioned. My question is how the
>>analyzer knows "buss" is not a plural and bears is a plural.
>>
>>Lucene supports wildcard. However, we can not use wildcard at the
>>beginning
>>of search term such as *bear. is there a way to match *bear* (bear, bears,
>>forbearance etc.) by search tern "bear"?
>>
>>thanks
>>
>> >From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
>> >Reply-To: java-user@lucene.apache.org
>> >To: <java-user@lucene.apache.org>
>> >Subject: RE: Plural word search
>> >Date: Thu, 8 Mar 2007 17:14:02 -0000
>> >
>> >Hi Tony,
>> >
>> >Lucene certainly does support it.  It just requires you to use a
>> >tokeniser that performs stemming such as any analyzer that uses
>> >PorterStemFilter.
>> >
>> >Sachin
>> >
>> >-----Original Message-----
>> >From: Tony Qian [mailto:tonyqian@hotmail.com]
>> >Sent: 08 March 2007 16:52
>> >To: java-user@lucene.apache.org
>> >Subject: Plural word search
>> >
>> >All,
>> >
>> >I'm evaluating Lucene as a full-text search engine for a project. I got
>> >one of the requirements as following:
>> >
>> >4) Plural Literal Search
>> >If you use the plural of a term such as bears the results will include
>> >matches to the plural term bears as well as the singular term bear.
>> >
>> >it seems to me we need to build a dictionary to support it. Does Lucene
>> >support it?
>> >
>> >appreciate your help.
>> >
>> >Tony
>> >
>> >_________________________________________________________________
>> >Don't miss your chance to WIN 10 hours of private jet travel from
>> >Microsoft(r) Office Live
>> >http://clk.atdmt.com/MRT/go/mcrssaub0540002499mrt/direct/01/
>> >
>> >
>> >---------------------------------------------------------------------
>> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>> >This email and any attached files are confidential and copyright
>>protected.
>> >If you are not the addressee, any dissemination of this communication is
>> >strictly prohibited. Unless otherwise expressly agreed in writing,
>>nothing
>> >stated in this communication shall be legally binding.
>> >
>> >The ultimate parent company of the Atkins Group is WS Atkins plc.
>> >Registered in England No. 1885586.  Registered Office Woodcote Grove,
>> >Ashley Road, Epsom, Surrey KT18 5BW.
>> >
>> >Consider the environment. Please don't print this e-mail unless you
>>really
>> >need to.
>> >
>> >---------------------------------------------------------------------
>> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>>
>>_________________________________________________________________
>>Find a local pizza place, movie theater, and more.then map the best
>>route!
>>http://maps.live.com/?icid=hmtag1&FORM=MGAC01
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>

_________________________________________________________________
Find a local pizza place, movie theater, and more.then map the best route! 
http://maps.live.com/?icid=hmtag1&FORM=MGAC01


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 19:00:00 2007
Return-Path: <java-user-return-26725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33093 invoked from network); 8 Mar 2007 18:59:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 18:59:59 -0000
Received: (qmail 64367 invoked by uid 500); 8 Mar 2007 19:00:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64347 invoked by uid 500); 8 Mar 2007 19:00:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 54168 invoked by uid 99); 8 Mar 2007 18:55:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Message-ID: <45F05BF3.1040100@mindspring.com>
Date: Thu, 08 Mar 2007 10:54:43 -0800
From: Jason Pump <jpump@mindspring.com>
User-Agent: Thunderbird 1.5.0.10 (X11/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Index a source, but not store it... can it be done?
References: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
In-Reply-To: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 Mar 2007 18:53:59.0249 (UTC) FILETIME=[2180FC10:01C761B3]
X-Virus-Checked: Checked by ClamAV on apache.org

If you store a hash code of the word rather then the actual word you 
should be able to search for stuff but not be able to actually retrieve 
it; you can trade precision for "security" based on the number of bits 
in the hash code ( e.g. 32 or 64 bits). I'd think a 64 bit hash would be 
a reasonable midpoint.

hash64("dog") = 4312311231123121;

"body:4312311231123121" returns document with dog, but also any other 
document with a word that hashes to the same value.


Walt Stoneburner wrote:
> Have an interesting scenario I'd like to get your take on with respect
> to Lucene:
>
> A data provider (e.g. someone with a private website or corporately
> shared directory of proprietary documents) has requested their content
> be indexed with Lucene so employees can be redirected to it, but
> provisionally -- under no circumstance should that content be stored
> or recreated from the index.
>
> Is that even possible?
>
> The data owner's request makes sense in the context of them wanting to
> retain full access control via logins as well as collecting access
> metrics.
>
> If the token 'CAT' points to C:\Corporate\animals.doc and the token
> 'DOG' points also points there, then great, CAT AND DOG will give that
> document a higher rating, though it is not possible to reconstruct
> (with any great accuracy) what the actual document content is.
>
> However, if for the sake of using the NEAR operator with Lucene the
> tokens are stored as  LET'S:1 SELL:2 CAT:3 AND:4 DOG:5 ROBOT:6 TOYS:7
> THIS:8 DECEMBER:9 ... then someone could pull all tokens for
> animal.doc and reconstitute the token stream.
>
> Does Lucene have any kind of trade off for working with "secure" (and
> I use this term loosely) data?
>
> -wls
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 19:24:19 2007
Return-Path: <java-user-return-26726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44779 invoked from network); 8 Mar 2007 19:24:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 19:24:18 -0000
Received: (qmail 2918 invoked by uid 500); 8 Mar 2007 19:24:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2840 invoked by uid 500); 8 Mar 2007 19:24:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2829 invoked by uid 99); 8 Mar 2007 19:24:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 11:24:18 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jloramas@gmail.com designates 64.233.162.237 as permitted sender)
Received: from [64.233.162.237] (HELO nz-out-0506.google.com) (64.233.162.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 11:24:06 -0800
Received: by nz-out-0506.google.com with SMTP id i1so422411nzh
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 11:23:46 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=jZtYpS3LqLzWoCENymf8WBSGUVAlrp3/VBZeMbaRSXqna+jmXZryhCrmN5rHUF5E3vUUv5auLM+w0z/DK8EmQGFmk/EeqfxPhs7zVnufnkyr0cQt5BImA6qN+JFZEpbVKDNq1ATpEk10rpIFuSItkseYMFUleQeJFmhR477qhwc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=J1hUU7+vbBgF/j7lO1XFPxVecHa63EbTwb/nTtGac9+8SJ/0zpG6P42A4YHe7SG4jrR8zAk13akxWkuFbfBJOQsOnaHN8Oh6ghaf3xd9JeVYxr6QkQRpLePkhlVy6GH+go3EwfZ6wJbzekywN2We880VgzOevFuNIowfviceYG8=
Received: by 10.65.114.11 with SMTP id r11mr1461294qbm.1173381826059;
        Thu, 08 Mar 2007 11:23:46 -0800 (PST)
Received: by 10.65.206.15 with HTTP; Thu, 8 Mar 2007 11:23:45 -0800 (PST)
Message-ID: <e71b9bb40703081123o6fc4ed6fv567cfc3ee6821bd4@mail.gmail.com>
Date: Thu, 8 Mar 2007 20:23:45 +0100
From: "=?ISO-8859-1?Q?oramas_mart=EDn?=" <jloramas@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: A solution to HitCollector-based searches problems
In-Reply-To: <e71b9bb40702251556j33575bd3x60f5e346489d68ce@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9208_29622605.1173381825985"
References: <e71b9bb40702251556j33575bd3x60f5e346489d68ce@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9208_29622605.1173381825985
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello,

I have just added some search implementation samples based on this collecto=
r
solution, to easy the use and understanding or it:

    - KeywordSearch: Extract the terms (and frequency) found in a list of
fields
                     from the results of a query/filter search

    - GoogleSearch: Return an ordered search result grouped a la Google,
based
                    on the terms found in a list of fields

    - GetFieldNamesOp: Operation to mimic the getFieldNames method of
                       IndexReader but using a searcher. With it, it is
possible
                       to explore the fields of remote indexes.

See http://sourceforge.net/projects/lucollector/ for the source code (
lu-collector-src-sampleop-0.8.zip).

Regards,
Jos=E9 L. Oramas

On 2/26/07, oramas mart=EDn <jloramas@gmail.com> wrote:
>
>
> Hello,
>
> As you probably know, the HitCollector-based search API is not meant to
> work remotely, because it will generate a RPC-callback for every non-zero
> score.
>
> There is another problem with MultiSearcher-HitCollector-based search
> which knows nothing about mix HitCollector based searches (not to say it =
has
> hardcode the way to mix TopDocs for the score and for the Sort searches).
> Also the ParallelMultiSearcher inherits this problems and is unable to
> parallelize the HitCollector-based searcher.
>
> A final problem with the HitCollector-based search is related to the lost
> of a limit in the results, as the Hits class implements thought the
> getMoreDocs() function, and lazy loading and caching of documents it does=
.
>
>
> To solve those problems it is necessary a factory (HitCollectorSource)
> able to generate collectors for single (SingleHitCollector) an multi
> (MultiHitCollector) searches, and a new search method in the
> Searchable interface for it. To avoid modifications to the lucene core, t=
he
> later requirement is NOT IMPLEMENTED in the library I have just created.
> Instead, an ugly solution, a wrapper for those searchers
> (SearcherHCSourceWrapper) and a Filter wrapper (FilterHitCollectorSource)=
 to
> carry the factory-based searches, is provided.
>
> Each collector is based in a two steps sequence, one for collecting hits
> or subsearcher results, and another for generating the final result.
>
> Also, just in case you don't want to add a wrapper to each searcher of
> your project, there is an adapted version of IndexSearcher, MultiSearcher
> and ParallelMultiSearcher (only for version 2.1) modified exactly the sam=
e
> way the wrapper class SearcherHCSourceWrapper does. Just put them in your
> class-path (before the Lucene core jar) and you will be using the new
> collector interfaces without modifying your code.
>
> There are some unit testing (copied and adapted from the Lucene 2.1distri=
bution).
>
> See http://sourceforge.net/projects/lucollector/ for the jar files and th=
e
> code.
>
> If you find it interesting to complement the Lucene project, tell me how
> to put it in the contribution area.
>
> Regards,
> Jos=E9 L. Oramas
>

------=_Part_9208_29622605.1173381825985--

From java-user-return-26727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 19:57:29 2007
Return-Path: <java-user-return-26727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56591 invoked from network); 8 Mar 2007 19:57:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 19:57:28 -0000
Received: (qmail 57386 invoked by uid 500); 8 Mar 2007 19:57:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57353 invoked by uid 500); 8 Mar 2007 19:57:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57324 invoked by uid 99); 8 Mar 2007 19:57:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 11:57:31 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 66.249.82.235 as permitted sender)
Received: from [66.249.82.235] (HELO wx-out-0506.google.com) (66.249.82.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 11:57:19 -0800
Received: by wx-out-0506.google.com with SMTP id i29so651825wxd
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 11:56:58 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=uNkram6/USvQ7Lga2AWEgOcvIyd12gDrBHYMEulGEV26hy2CZFr5kOwSK/08YerDdX7ZDqAMCkJ0MXXoxTHSb41F7/4EpdSgj81BqJJZfYJYYMui7OFOq6SD26zjhAPkW8xWjKEYl/3uad9nXX7zhUgVnrVcZ6cm6l1KrEep7rg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=WbDMpx8lWc6slRQvt4SG3lw37LCDHjTb+qpmw6cwMUJUIaiSmOVNnH/Aq2T83l+2RxYOUh4X5xcd1KJZSdQNeiLt5LsDf/50Orp25+mkXfvBroX0mV4edlhQNvKSERRouz1FhkrEf3enSUMl5vUW+U70dgBQsl58yJjuuk+meeE=
Received: by 10.90.113.20 with SMTP id l20mr881579agc.1173383818458;
        Thu, 08 Mar 2007 11:56:58 -0800 (PST)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id 25sm3221327wra.2007.03.08.11.56.56;
        Thu, 08 Mar 2007 11:56:56 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <767529.82911.qm@web37213.mail.mud.yahoo.com>
References: <767529.82911.qm@web37213.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FC296FEF-33C3-4F2C-8D3D-A54CF858A467@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: Negative Filtering (such as for profanity)
Date: Thu, 8 Mar 2007 14:56:54 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

I _think_ Lucene 2.1 (or is it trunk?, I lose track) has the ability  
to delete all documents containing a term.  So, every time you update  
your profanity list, you could iterate over it and remove all  
documents that contain the terms.

If a user can never get these documents via a query, then I don't see  
any reason to allow them in the index to begin with.

Also, I don't use QueryFilters much, but  I'm curious as to how they  
perform on that many docs.


On Mar 7, 2007, at 5:38 PM, Greg Gershman wrote:

> I thought about this, as I think overall the resources required  
> would be less than creating a filter.  Ultimately I decided against  
> it for a few reasons:
> 1) I'm working with an existing index of ~50 million documents, I  
> don't want to reindex the whole thing, or even just the documents  
> that contain profanity, if I can avoid it.
> 2) Filtering at indexing time means I can't effectively add new  
> words to the profanity list without reindexing.
>
> Good suggestion, though, I appreciate it.
>
> Greg
>
> ----- Original Message ----
> From: Grant Ingersoll <gsingers@apache.org>
> To: java-user@lucene.apache.org
> Sent: Wednesday, March 7, 2007 2:07:38 PM
> Subject: Re: Negative Filtering (such as for profanity)
>
> Not sure if this helpful given your proposed solution, but could you
> do something on the indexing side, such as:
>
> 1.  Remove the profanity from the token stream, much like a
> stopword.  This would also mean stripping it from the display text
> 2. If your TokenFilter comes across a profanity, somehow mark the
> document as containing a profanity via a "profanity" Field (not sure
> if there is a way, in Lucene, to add another Field while you are in
> the analysis phase, but you could also have it update a table in a db
> or something.)  Then on search, you could just say (regular query)
> +profanity:false
>
> HTH,
> Grant
>
> On Mar 7, 2007, at 10:07 AM, Greg Gershman wrote:
>
>> I'm attempting to create a profanity filter.  I thought to use a
>> QueryFilter created with a Query of (-$#!+ AND -@#$% AND etc).  The
>> problem I have run into is that, as a pure negative query is not
>> supported (a query for (-term) DOES NOT return the inverse of a
>> query for (term)), I believe the bit set returned by a purely
>> negative QueryFilter is empty, so no matter how many results
>> returned by the initial query, the result after filtering is always
>> zero documents.
>>
>> I was wondering if anyone had suggestions as to how else to do
>> this.  I've considered simply amending the query string submitted
>> by the user to include a pre-generated String that would exclude
>> the query terms, but I consider this a non-elegant solution.  I had
>> also thought about creating a new sub-class of QueryFilter,
>> NegativeQueryFilter.  Basically, it would works just like a
>> QueryFilter, taking a positive query (so, I would pass it an OR'ed
>> list of profane words), then the resulting bits are simply
>> flipped.  I think this would work, unless I'm missing something.
>> I'm going to experiment with it, I'd appreciate anyone's thoughts
>> on this.
>>
>> Thanks,
>>
>> Greg
>>
>>
>>
>>
>>
>> _____________________________________________________________________ 
>> _
>> ______________
>> It's here! Your new message!
>> Get new email alerts with the free Yahoo! Toolbar.
>> http://tools.search.yahoo.com/toolbar/features/mail/
>
> --------------------------
> Grant Ingersoll
> Center for Natural Language Processing
> http://www.cnlp.org
>
> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
> LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
>
>
>
>
>
> ______________________________________________________________________ 
> ______________
> Need Mail bonding?
> Go to the Yahoo! Mail Q&A for great tips from Yahoo! Answers users.
> http://answers.yahoo.com/dir/?link=list&sid=396546091

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 20:57:06 2007
Return-Path: <java-user-return-26728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82708 invoked from network); 8 Mar 2007 20:57:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 20:57:05 -0000
Received: (qmail 69173 invoked by uid 500); 8 Mar 2007 20:57:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69133 invoked by uid 500); 8 Mar 2007 20:57:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69122 invoked by uid 99); 8 Mar 2007 20:57:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 12:57:06 -0800
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=NO_REAL_NAME,SPF_PASS,X_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of new333333@gazeta.pl designates 194.149.231.137 as permitted sender)
Received: from [194.149.231.137] (HELO imail4.gazeta.pl) (194.149.231.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 12:56:55 -0800
Received: from poczta.gazeta.pl (unverified [172.20.25.75]) 
	by  (imail4.gazeta.pl) with ESMTP id 17676857-1945724 
	for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 21:56:33 +0100
Received: from ew2 (unverified [172.20.26.232]) 
	by av.gazeta.pl (av.gazeta.pl) with ESMTP id 34720-1945724 
	for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 21:56:23 +0100
Message-ID: <9408130.27891173387393622.JavaMail.webadm@ew2>
Date: Thu, 8 Mar 2007 21:56:33 +0100 (CET)
From:  <new333333@gazeta.pl>
To: java-user@lucene.apache.org
Subject: one Field in many documents
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-2
Content-Transfer-Encoding: 8bit
X-mailer: (c)Agora mailer (v4.00)
Organization: Agora S.A.
X-IP: 216.195.213.27
X-Complaints-To: abuse@gazeta.pl
X-URL: http://www.gazeta.pl
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have to index many documents with the same fields (only one or two
fields are different). Can I add a field (Field instance) to many
documents? It seams to work but I'm not sure if this is the right way...

Thank you


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 21:44:09 2007
Return-Path: <java-user-return-26729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18546 invoked from network); 8 Mar 2007 21:44:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 21:44:08 -0000
Received: (qmail 52779 invoked by uid 500); 8 Mar 2007 21:44:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52678 invoked by uid 500); 8 Mar 2007 21:44:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52667 invoked by uid 99); 8 Mar 2007 21:44:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 13:44:10 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 13:43:57 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.8/8.13.8) with ESMTP id l28LhYwI124220
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 21:43:34 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l28LhYB12253004
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 22:43:34 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l28LhXf4006613
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 22:43:34 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l28LhXQ1006610
	for <java-user@lucene.apache.org>; Thu, 8 Mar 2007 22:43:33 +0100
In-Reply-To: <9408130.27891173387393622.JavaMail.webadm@ew2>
Subject: Re: one Field in many documents
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFF8EE904F.61F0AED6-ON88257298.00751A6F-88257298.0076113C@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 8 Mar 2007 13:29:36 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 08/03/2007 23:43:32
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

In general I would say this is not safe, because it seems to assume too
much about the implementation - and while it might in most cases currently
work, the implementation could change and the program assuming this would
stop working. It would most probably not work correctly right from the
start for fields constructed with a Reader.

Regards,
Doron

<new333333@gazeta.pl> wrote on 08/03/2007 12:56:33:

> Hi,
>
> I have to index many documents with the same fields (only one or two
> fields are different). Can I add a field (Field instance) to many
> documents? It seams to work but I'm not sure if this is the right way...
>
> Thank you


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 21:47:00 2007
Return-Path: <java-user-return-26730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21021 invoked from network); 8 Mar 2007 21:46:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 21:46:59 -0000
Received: (qmail 59371 invoked by uid 500); 8 Mar 2007 21:47:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59227 invoked by uid 500); 8 Mar 2007 21:47:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59214 invoked by uid 99); 8 Mar 2007 21:47:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 13:47:01 -0800
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [68.142.229.94] (HELO smtp111.sbc.mail.re2.yahoo.com) (68.142.229.94)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 08 Mar 2007 13:46:49 -0800
Received: (qmail 20287 invoked from network); 8 Mar 2007 21:46:26 -0000
Received: from unknown (HELO ?10.1.1.2?) (mdc102254@sbcglobal.net@75.46.243.92 with plain)
  by smtp111.sbc.mail.re2.yahoo.com with SMTP; 8 Mar 2007 21:46:26 -0000
X-YMail-OSG: s.QCahAVM1lLfNy_j2KVW6jM4L3SvF64uTa1SnxtyDPB2sNjojg0MFh20d9gsJneemNDL1mR2gUSeh_09G9SoBm.Ro7Y_bujY0sUkfWccINpIZpEZnmt5QMxajnNovKx1GX5lsT6pn_4GvA-
Message-ID: <45F08434.2010706@curtin.com>
Date: Thu, 08 Mar 2007 16:46:28 -0500
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: one Field in many documents
References: <OFF8EE904F.61F0AED6-ON88257298.00751A6F-88257298.0076113C@il.ibm.com>
In-Reply-To: <OFF8EE904F.61F0AED6-ON88257298.00751A6F-88257298.0076113C@il.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

<new333333@gazeta.pl> wrote on 08/03/2007 12:56:33:

I have to index many documents with the same fields (only one or two
fields are different). Can I add a field (Field instance) to many
documents? It seams to work but I'm not sure if this is the right way...

What does "many" mean in this context?  If it means "most", or "all", 
perhaps it would be better not to index those fields at all -- they 
would be adding little or nothing, in terms of information content.

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 08 22:48:50 2007
Return-Path: <java-user-return-26731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50106 invoked from network); 8 Mar 2007 22:48:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 8 Mar 2007 22:48:47 -0000
Received: (qmail 49651 invoked by uid 500); 8 Mar 2007 22:48:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49618 invoked by uid 500); 8 Mar 2007 22:48:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49604 invoked by uid 99); 8 Mar 2007 22:48:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 14:48:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 14:48:37 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 82A345B771; Thu,  8 Mar 2007 14:48:16 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 7D2F37F403
	for <java-user@lucene.apache.org>; Thu,  8 Mar 2007 14:48:16 -0800 (PST)
Date: Thu, 8 Mar 2007 14:48:16 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Index a source, but not store it... can it be done?
In-Reply-To: <45F05BF3.1040100@mindspring.com>
Message-ID: <Pine.LNX.4.58.0703081446570.24468@hal.rescomp.berkeley.edu>
References: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
 <45F05BF3.1040100@mindspring.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: If you store a hash code of the word rather then the actual word you
: should be able to search for stuff but not be able to actually retrieve

that's a really great solution ... it could even be implemented asa
TokenFilter so none of your client code would ever even need to know that
it was being used (just make sure it comes last after any stemming or what
not)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 00:24:20 2007
Return-Path: <java-user-return-26732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76702 invoked from network); 9 Mar 2007 00:24:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 00:24:18 -0000
Received: (qmail 30896 invoked by uid 500); 9 Mar 2007 00:24:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30860 invoked by uid 500); 9 Mar 2007 00:24:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30849 invoked by uid 99); 9 Mar 2007 00:24:20 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 16:24:20 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mike.klaas@gmail.com designates 64.233.184.231 as permitted sender)
Received: from [64.233.184.231] (HELO wr-out-0506.google.com) (64.233.184.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 16:24:09 -0800
Received: by wr-out-0506.google.com with SMTP id 68so1141170wra
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 16:23:48 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gknolTmFznoaqexqvETatun7ig6gwwGj7mjep9jT3hXluLvXpcx/8vSv3J1GooebuhuLJWck6Fk5P5C9y6qEp0h3Clvx6tTRT7Jx3VZfJs1hIGO/qUIJIxNzWQqF1Ytk9pRxLMpXO+sArdxeCk03AHtZnXfn7xrIHUNVvSuCrz0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=pX0lG+BTkzF+ygRHilMjZj643pCzXshaM3S6dW2DlZpCiOITcdgps0eYbVz8S1jHae4aix3k1LBXsI53W7tZMf0hnRgZ4JbHgMwSMaR/ZupqPJDuYOFBBFCxdQzMdtTruNIbLBH4zjogHEWoJlYuFvRVNZ7d7j/r8DSYoCvChWM=
Received: by 10.114.136.1 with SMTP id j1mr333222wad.1173399828245;
        Thu, 08 Mar 2007 16:23:48 -0800 (PST)
Received: by 10.114.196.6 with HTTP; Thu, 8 Mar 2007 16:23:48 -0800 (PST)
Message-ID: <3d2ce8cb0703081623g445e5dbbsfcdfa0f0d6155624@mail.gmail.com>
Date: Thu, 8 Mar 2007 16:23:48 -0800
From: "Mike Klaas" <mike.klaas@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Index a source, but not store it... can it be done?
In-Reply-To: <Pine.LNX.4.58.0703081446570.24468@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
	 <45F05BF3.1040100@mindspring.com>
	 <Pine.LNX.4.58.0703081446570.24468@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/8/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> : If you store a hash code of the word rather then the actual word you
> : should be able to search for stuff but not be able to actually retrieve
>
> that's a really great solution ... it could even be implemented asa
> TokenFilter so none of your client code would ever even need to know that
> it was being used (just make sure it comes last after any stemming or what
> not)

I don't know... hashing individual words is an extremely weak form of
security that should be breakable without even using a computer... all
the statistical information is still there (somewhat like 'encrypting'
a message as a cryptoquote).

Doron's suggestion is preferable: eliminate token position information
from the index entirely.

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 02:48:25 2007
Return-Path: <java-user-return-26733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21125 invoked from network); 9 Mar 2007 02:48:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 02:48:24 -0000
Received: (qmail 38751 invoked by uid 500); 9 Mar 2007 02:48:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38721 invoked by uid 500); 9 Mar 2007 02:48:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38710 invoked by uid 99); 9 Mar 2007 02:48:26 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 18:48:26 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.162.224 as permitted sender)
Received: from [64.233.162.224] (HELO nz-out-0506.google.com) (64.233.162.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 18:48:13 -0800
Received: by nz-out-0506.google.com with SMTP id i1so503707nzh
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 18:47:53 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BpQCN+cBQdqngH4EWxsvTOVCPAemuD86nrssEJpV20BqA+xXXO4DFQLd+AKhr2pOE90p/dl4YMsP+q+ubSfr61O5A66x2DNMcju05ikpuNVdg/kN1S9iYJGY1dwWPIfnFWnGPLDOLsWmVaSPBwZw14AsNLWBogiFlUVnHAH5pWw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sUutCuSjqPUbNPErUT4tvXGqE9mSoD2GROu4OPNxrsHS9WcERDzDshGY5it/715i7EjeKP4zOrSn3kV3a4KrkT8Z7ZZuRim0G7p+zqDZxyWUVlwgLqpnnE4burz/kAtuxmzQ0N1o/l7nMi6VEU5Goxn4ljtZ2fJa2aP1+DfwE/4=
Received: by 10.65.126.16 with SMTP id d16mr1861504qbn.1173408472642;
        Thu, 08 Mar 2007 18:47:52 -0800 (PST)
Received: by 10.65.225.16 with HTTP; Thu, 8 Mar 2007 18:47:52 -0800 (PST)
Message-ID: <2b817f360703081847w59f8da38l823cda91ee113d9d@mail.gmail.com>
Date: Fri, 9 Mar 2007 08:17:52 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing pdfs
In-Reply-To: <BC1CFC544422CB4A934908E126A47427061DE485@SGBLOW2101.wsatkins.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_45539_1963382.1173408472594"
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
	 <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
	 <2b817f360703080334s1973d06aqf846b9444df2bd2d@mail.gmail.com>
	 <BC1CFC544422CB4A934908E126A47427061DE04B@SGBLOW2101.wsatkins.com>
	 <2b817f360703080506y776222ddq838372eb6abf6dcc@mail.gmail.com>
	 <BC1CFC544422CB4A934908E126A47427061DE485@SGBLOW2101.wsatkins.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_45539_1963382.1173408472594
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi sachin the link wat u gave me only a zip file and an exe file for
downoad. and this zip file also contains no class files.but wouldn't we be
requiring a jar file or class file ???

On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
>
> Hi,
>
> Here it is:
>
> http://www.seekafile.org/
>
> -----Original Message-----
> From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> Sent: 08 March 2007 13:07
> To: java-user@lucene.apache.org
> Subject: Re: indexing pdfs
>
> hi again
> do we have to download any jar files to run this program if so can u
> give me the link pls
>
> ashwin
>
> On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
> >
> > Well you don't need to actually save the text to disk and then index
> > the saved index file, you can directly index that text in-memory.
> >
> > The only other way I have heard of is to use Ifilters.  I believe
> > SeekAFile does indexing of pdfs.
> >
> > Sachin
> >
> > -----Original Message-----
> > From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> > Sent: 08 March 2007 11:35
> > To: java-user@lucene.apache.org
> > Subject: Re: indexing pdfs
> >
> > Is the only way index pdfs is to convert it into a text and then only
> > index it ???
> >
> >
> >
> > On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
> > >
> > > Hi Aswin,
> > >
> > > You can try pdfbox to convert the pdf documents to text and then use
>
> > > Lucene to index the text.  The code for turning a pdf to text is
> > > very
> > > simple:
> > >
> > > private static string parseUsingPDFBox(string filename)
> > >         {
> > >             // document reader
> > >             PDDocument doc = PDDocument.load(filename);
> > >             // create stripper (wish I had the power to do that -
> > > wouldn't leave the house)
> > >             PDFTextStripper stripper = new PDFTextStripper();
> > >             // get text from doc using stripper
> > >             return stripper.getText(doc);
> > >         }
> > >
> > > Sachin
> > >
> > > -----Original Message-----
> > > From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> > > Sent: 08 March 2007 09:37
> > > To: java-user@lucene.apache.org
> > > Subject: indexing pdfs
> > >
> > > hi can some one help me by giving any sample programs for indexing
> > > pdfs and .doc files
> > >
> > > thanks
> > > regards
> > > ashwin
> > >
> > >
> > > This message has been scanned for viruses by MailControl - (see
> > > http://bluepages.wsatkins.co.uk/?6875772)
> > >
> > >
> > > This email and any attached files are confidential and copyright
> > > protected. If you are not the addressee, any dissemination of this
> > > communication is strictly prohibited. Unless otherwise expressly
> > > agreed in writing, nothing stated in this communication shall be
> > legally binding.
> > >
> > > The ultimate parent company of the Atkins Group is WS Atkins plc.
> > > Registered in England No. 1885586.  Registered Office Woodcote
> > > Grove, Ashley Road, Epsom, Surrey KT18 5BW.
> > >
> > > Consider the environment. Please don't print this e-mail unless you
> > > really need to.
> > >
> > > --------------------------------------------------------------------
> > > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_45539_1963382.1173408472594--

From java-user-return-26734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 03:33:22 2007
Return-Path: <java-user-return-26734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28293 invoked from network); 9 Mar 2007 03:33:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 03:33:21 -0000
Received: (qmail 70466 invoked by uid 500); 9 Mar 2007 03:33:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70425 invoked by uid 500); 9 Mar 2007 03:33:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70414 invoked by uid 99); 9 Mar 2007 03:33:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 19:33:24 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 19:33:13 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 205C75B771; Thu,  8 Mar 2007 19:32:52 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0F1D77F403
	for <java-user@lucene.apache.org>; Thu,  8 Mar 2007 19:32:52 -0800 (PST)
Date: Thu, 8 Mar 2007 19:32:52 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Index a source, but not store it... can it be done?
In-Reply-To: <3d2ce8cb0703081623g445e5dbbsfcdfa0f0d6155624@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703081924190.19147@hal.rescomp.berkeley.edu>
References: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com> 
 <45F05BF3.1040100@mindspring.com>  <Pine.LNX.4.58.0703081446570.24468@hal.rescomp.berkeley.edu>
 <3d2ce8cb0703081623g445e5dbbsfcdfa0f0d6155624@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I don't know... hashing individual words is an extremely weak form of
: security that should be breakable without even using a computer... all
: the statistical information is still there (somewhat like 'encrypting'
: a message as a cryptoquote).
:
: Doron's suggestion is preferable: eliminate token position information
: from the index entirely.

i guess i wasn't thinking about this as a "security" issue, more a
"discouragement" issue ... reconstructing a doc from term vectors is easy,
reconstructing it from just term positions is harder but not impossible,
reconstructing from hashed tokens requires a lot of hard work.

if the issue is thta you want to be abel to ship an index that people can
manipulate as much as they want and you want to garuntee they can never
reconstruct the original docs you're pretty much screwed ... even if you
eliminate all of the position info statistical info about language
structure can help you gleen a lot about hte source data.

i'm not crypto expert, but i imagine it would probably take the same
amount of statistical guess work to reconstruct meaningful info from
either approach (hashing hte individual words compared to eliminating the
positions) so i would think the trade off of supporting phrase queries
would make the hasing approach more worthwhile.

i mean afterall: you still wnat the index to be useful for searching
right? ... if you are really paranoid don't just strip the positions,
strip all duplicate terms as well to prevent any attempt at statistical
sampling ... but now all you relaly have is a lookup table of word to
docid with no tf/idf or position info to improve scoring, so why bother
with Lucene, jsut use a BerkleyDB file to do your lookups.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 04:04:23 2007
Return-Path: <java-user-return-26735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33673 invoked from network); 9 Mar 2007 04:04:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 04:04:22 -0000
Received: (qmail 98642 invoked by uid 500); 9 Mar 2007 04:04:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98592 invoked by uid 500); 9 Mar 2007 04:04:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98579 invoked by uid 99); 9 Mar 2007 04:04:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 20:04:25 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 20:04:14 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AAD4D5B771; Thu,  8 Mar 2007 20:03:53 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9424C7F403
	for <java-user@lucene.apache.org>; Thu,  8 Mar 2007 20:03:53 -0800 (PST)
Date: Thu, 8 Mar 2007 20:03:53 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Lucene Ranking/scoring
In-Reply-To: <e994873a0703080627v310304e1tbda4067282d025d7@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703081957480.19147@hal.rescomp.berkeley.edu>
References: <c68e39170603081835w1af3401h4f459b58c2779695@mail.gmail.com> 
 <003d01c64339$491cd120$2602a8c0@IBXWSUN>  <c68e39170603090811s712720e7pac7ee02883440e89@mail.gmail.com>
 <e994873a0703080627v310304e1tbda4067282d025d7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Do I have this right? I got bit confused at first because I assumed that the
: actual field values were being used in the computation, but you really need
: to know the unique term count in order to get the score 'right'.

you can use the actual values in FunctionQueries, except that:
  1) dates aren't numeric values that lend themselves well to functions
  2) the ReverseOrdinalValueSource comes in handy when you want the docs
with the highest value (ie: most recent date) to be "special" (ie: to plug
into your reciprical function and get the max value.

i suppose you could write a ValueSource that finds the max value of a
field and then a ValueSource that normalizes all the values of one
valuesource against the value(s) of another value source ... but no one
has done that yet (and it still wouldn't have a lot of meaning for dates)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 04:04:50 2007
Return-Path: <java-user-return-26736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33754 invoked from network); 9 Mar 2007 04:04:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 04:04:49 -0000
Received: (qmail 222 invoked by uid 500); 9 Mar 2007 04:04:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 192 invoked by uid 500); 9 Mar 2007 04:04:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 181 invoked by uid 99); 9 Mar 2007 04:04:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 20:04:51 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mike.klaas@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 20:04:40 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1191526ugc
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 20:04:19 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=lP/Rpul5EEbsxqeiSL+4ocpKa63Bu5iFqyuE1PPwXrVnIXoUfbx7YNze4o/VOAQsgjz/a4jeiDt6SQlcm5JNkrGgw1f+dT6Qymsi09ru9CTjuT6jcIf/xn3OZuHOLfrpnySZr+ehUayW3+2ASsb0gTAob+k+tkS5WWvY4V7zTNE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=OO9YHwnVINnwSOAQa1PU/ZL4kCsMooDBa4kSBVHO0S0cnTCgfZWEB4SVuXK0KxT7cR4n2XDQiE0gWvvyT2b1dm2ig4TlQNRCsJDbOd85OzcSPvzsgbuJQExKdCwmYOEie5EkZEj9I8kDlAehRhzGqVPKJ9yDnR8Hr402twpF3DI=
Received: by 10.114.25.3 with SMTP id 3mr404559way.1173413058452;
        Thu, 08 Mar 2007 20:04:18 -0800 (PST)
Received: by 10.114.196.6 with HTTP; Thu, 8 Mar 2007 20:04:18 -0800 (PST)
Message-ID: <3d2ce8cb0703082004oc47a7e2na09d216ed39247f4@mail.gmail.com>
Date: Thu, 8 Mar 2007 20:04:18 -0800
From: "Mike Klaas" <mike.klaas@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Index a source, but not store it... can it be done?
In-Reply-To: <Pine.LNX.4.58.0703081924190.19147@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
	 <45F05BF3.1040100@mindspring.com>
	 <Pine.LNX.4.58.0703081446570.24468@hal.rescomp.berkeley.edu>
	 <3d2ce8cb0703081623g445e5dbbsfcdfa0f0d6155624@mail.gmail.com>
	 <Pine.LNX.4.58.0703081924190.19147@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/8/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:

> if the issue is thta you want to be abel to ship an index that people can
> manipulate as much as they want and you want to garuntee they can never
> reconstruct the original docs you're pretty much screwed ... even if you
> eliminate all of the position info statistical info about language
> structure can help you gleen a lot about hte source data.

True.

> i'm not crypto expert, but i imagine it would probably take the same
> amount of statistical guess work to reconstruct meaningful info from
> either approach (hashing hte individual words compared to eliminating the
> positions) so i would think the trade off of supporting phrase queries
> would make the hasing approach more worthwhile.

I suppose it also depends on how much access the user has to the
index.  If they have access to the physical index and means of
querying it, then they have access to the hashing algo (and/or key)
and so it is worthless.  If they don't, and their access is strictly
through queries, then I don't see what help hashing will provide, as
the result of any given query should be the same, hashing or not.

> i mean afterall: you still wnat the index to be useful for searching
> right? ... if you are really paranoid don't just strip the positions,
> strip all duplicate terms as well to prevent any attempt at statistical
> sampling ... but now all you relaly have is a lookup table of word to
> docid with no tf/idf or position info to improve scoring, so why bother
> with Lucene, jsut use a BerkleyDB file to do your lookups.

You could also do both.  Another thing that might help is relatively
aggressive stop word removal.  All these measures will raise the
"discouragement" bar slightly.

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 04:14:44 2007
Return-Path: <java-user-return-26737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35376 invoked from network); 9 Mar 2007 04:14:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 04:14:43 -0000
Received: (qmail 9201 invoked by uid 500); 9 Mar 2007 04:14:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9011 invoked by uid 500); 9 Mar 2007 04:14:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8996 invoked by uid 99); 9 Mar 2007 04:14:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 20:14:45 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.157 as permitted sender)
Received: from [195.212.29.157] (HELO mtagate8.de.ibm.com) (195.212.29.157)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 20:14:32 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate8.de.ibm.com (8.13.8/8.13.8) with ESMTP id l294EA4h318286
	for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 04:14:10 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l294EA8V1933532
	for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 05:14:10 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l294EAoG001712
	for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 05:14:10 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l294EAwH001708
	for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 05:14:10 +0100
In-Reply-To: <Pine.LNX.4.58.0703081924190.19147@hal.rescomp.berkeley.edu>
Subject: Re: Index a source, but not store it... can it be done?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF97CD9BCC.11BCA8E4-ON88257299.001539A8-88257299.0016FAE0@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 8 Mar 2007 20:11:00 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 09/03/2007 06:14:09
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

> i mean afterall: you still wnat the index to be useful for searching
> right? ... if you are really paranoid don't just strip the positions,
> strip all duplicate terms as well to prevent any attempt at statistical
> sampling ... but now all you relaly have is a lookup table of word to

That's right, once offsets info is discarded, phrase/spans search is not
possible. With the token obfuscation approach (obfuscate only after
stemming/normalizing at both indexing and search time) phrase/spans queries
work, but not so wildcard queries. To me, phrase/span queries seems more
important than wildcard queries, but this really depends on the application
in question. Security wise, I think both solutions will not be considered
safe by any security expert.

> docid with no tf/idf or position info to improve scoring, so why bother
> with Lucene, jsut use a BerkleyDB file to do your lookups.

With tf info in place Lucene search quality would be far beyond that of DB
lookup. In fact search quality is preserved, right? (except that
phrase/span queries don't work)





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 07:23:07 2007
Return-Path: <java-user-return-26738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75788 invoked from network); 9 Mar 2007 07:23:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 07:23:06 -0000
Received: (qmail 51718 invoked by uid 500); 9 Mar 2007 07:23:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50875 invoked by uid 500); 9 Mar 2007 07:23:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50855 invoked by uid 99); 9 Mar 2007 07:23:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 23:23:07 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of john.wang@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Mar 2007 23:22:56 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1231480ugc
        for <java-user@lucene.apache.org>; Thu, 08 Mar 2007 23:22:35 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=rixGcF67GtZZts1LT+FQl9qlFIzl4cjWNVb/WYTibGRy6+62Zziomuhb3kGDpO6NRAFYLcxwSqoCS+nCkX33Vj5L2VA1dkKnFpDt2254BAiD2yWLhOSWEORFt+7RTmomPIDbQBqWHPbua4m6oZnpCrlse5tgi+2NDj2Li74CDSg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=QkxNfsTZb0NFkeUCSMbQyGdMDP/zrBKRnXnvgLATP2T+AsA8a+VgyBf7SBA11EjZhhwA/cKotW9Ehcp+3xdmoW5FFlEsvcpUSr2x/NMwWJAbGXXELnAJ7k2pCVx5ay/4DpH40KvOjOhn37ZSBi5xZrnpCRt6X+c9fmExdJ1UyRc=
Received: by 10.67.119.9 with SMTP id w9mr8942469ugm.1173424955148;
        Thu, 08 Mar 2007 23:22:35 -0800 (PST)
Received: by 10.66.223.10 with HTTP; Thu, 8 Mar 2007 23:22:35 -0800 (PST)
Message-ID: <8837fb770703082322p396b848ak59baddf1ba27ae96@mail.gmail.com>
Date: Thu, 8 Mar 2007 23:22:35 -0800
From: "John Wang" <john.wang@gmail.com>
To: java-user@lucene.apache.org
Subject: FieldCache: flush cache explicitly
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

I think the api should allow for explicitly flush the fieldcache.

I have a setup where new readers are being loaded very some period of
time. I don't want to rely on Java WeakHashMap to free the cache, I
want to be able to do it in a deterministic way.

It would be great if this can be added to Lucene, I can create a bug
if the Lucene gods agree to it :)

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 08:33:14 2007
Return-Path: <java-user-return-26739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1446 invoked from network); 9 Mar 2007 08:33:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 08:33:13 -0000
Received: (qmail 8169 invoked by uid 500); 9 Mar 2007 08:33:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7983 invoked by uid 500); 9 Mar 2007 08:33:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7972 invoked by uid 99); 9 Mar 2007 08:33:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 00:33:15 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.154.194.71] (HELO srs2na11.bgl.lu) (194.154.194.71)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Mar 2007 00:33:03 -0800
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e4274f7080aaf150a11a@srs2na12.domain> for <java-user@lucene.apache.org>;
 Fri, 9 Mar 2007 09:34:00 +0100
Received: from SPMWB02L.luinternal.fortis.bank ([10.172.252.140]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 9 Mar 2007 09:32:25 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Plural word search
Date: Fri, 9 Mar 2007 09:32:25 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248809A2BCE0@SPMWB02L.luinternal.fortis.bank>
In-Reply-To: <BAY144-F5FD47BD2BA0A7022BE528D4790@phx.gbl>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Plural word search
Thread-Index: AcdhsrjzRpyyFBo8To66XUbIV6EfPgAcfl8A
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 09 Mar 2007 08:32:25.0314 (UTC) FILETIME=[76FFDC20:01C76225]
X-Virus-Checked: Checked by ClamAV on apache.org

I needed this myself not long time ago..
Here is a piece of code to get an Analyzer that will use a tokeniez and
an English stemmer, (for "bears" it will also return "bear" and vice
versa)


private static Analyzer createEnglishAnalyzer() {
return new Analyzer() {
	public TokenStream tokenStream(String fieldName, Reader reader)
{
		TokenStream result =3D new StandardTokenizer(reader);
		result =3D new StandardFilter(result);
		result =3D new LowerCaseFilter(result);
		result =3D new StopFilter(result,
StandardAnalyzer.STOP_WORDS);
		result =3D new SnowballFilter(result, "English");
		return result;
	}
};
}


__________________________________
   Matt

   =20

-----Original Message-----
From: Tony Qian [mailto:tonyqian@hotmail.com]=20
Sent: Thursday, March 08, 2007 7:51 PM
To: java-user@lucene.apache.org
Subject: Re: Plural word search

*****  This message comes from the Internet Network *****


Erick,

thanks for information.

Tony

>From: "Erick Erickson" <erickerickson@gmail.com>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Plural word search
>Date: Thu, 8 Mar 2007 13:42:00 -0500
>
>as of 2.1, as I remember, you can use leading wildcards but ONLY
>you set a flag (see setAllowLeadingWildcard in QueryParser). Be
>aware of the TooManyClauses issue though (search the mail
>archive and you'll find many discussions of this issue).
>
>Erick
>
>On 3/8/07, Tony Qian <tonyqian@hotmail.com> wrote:
>>
>>
>>Sachin,
>>
>>Thanks for quick response. Is there any code example i can take look?
I'm
>>not familiar with the technique you mentioned. My question is how the
>>analyzer knows "buss" is not a plural and bears is a plural.
>>
>>Lucene supports wildcard. However, we can not use wildcard at the
>>beginning
>>of search term such as *bear. is there a way to match *bear* (bear,
bears,
>>forbearance etc.) by search tern "bear"?
>>
>>thanks
>>
>> >From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
>> >Reply-To: java-user@lucene.apache.org
>> >To: <java-user@lucene.apache.org>
>> >Subject: RE: Plural word search
>> >Date: Thu, 8 Mar 2007 17:14:02 -0000
>> >
>> >Hi Tony,
>> >
>> >Lucene certainly does support it.  It just requires you to use a
>> >tokeniser that performs stemming such as any analyzer that uses
>> >PorterStemFilter.
>> >
>> >Sachin
>> >
>> >-----Original Message-----
>> >From: Tony Qian [mailto:tonyqian@hotmail.com]
>> >Sent: 08 March 2007 16:52
>> >To: java-user@lucene.apache.org
>> >Subject: Plural word search
>> >
>> >All,
>> >
>> >I'm evaluating Lucene as a full-text search engine for a project. I
got
>> >one of the requirements as following:
>> >
>> >4) Plural Literal Search
>> >If you use the plural of a term such as bears the results will
include
>> >matches to the plural term bears as well as the singular term bear.
>> >
>> >it seems to me we need to build a dictionary to support it. Does
Lucene
>> >support it?
>> >
>> >appreciate your help.
>> >
>> >Tony
>> >
>> >_________________________________________________________________
>> >Don't miss your chance to WIN 10 hours of private jet travel from
>> >Microsoft(r) Office Live
>> >http://clk.atdmt.com/MRT/go/mcrssaub0540002499mrt/direct/01/
>> >
>> >
>>
>---------------------------------------------------------------------
>> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>> >This email and any attached files are confidential and copyright
>>protected.
>> >If you are not the addressee, any dissemination of this
communication is
>> >strictly prohibited. Unless otherwise expressly agreed in writing,
>>nothing
>> >stated in this communication shall be legally binding.
>> >
>> >The ultimate parent company of the Atkins Group is WS Atkins plc.
>> >Registered in England No. 1885586.  Registered Office Woodcote
Grove,
>> >Ashley Road, Epsom, Surrey KT18 5BW.
>> >
>> >Consider the environment. Please don't print this e-mail unless you
>>really
>> >need to.
>> >
>>
>---------------------------------------------------------------------
>> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>>
>>_________________________________________________________________
>>Find a local pizza place, movie theater, and more....then map the best
>>route!
>>http://maps.live.com/?icid=3Dhmtag1&FORM=3DMGAC01
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>

_________________________________________________________________
Find a local pizza place, movie theater, and more....then map the best
route!=20
http://maps.live.com/?icid=3Dhmtag1&FORM=3DMGAC01


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 09:23:23 2007
Return-Path: <java-user-return-26740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26557 invoked from network); 9 Mar 2007 09:23:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 09:23:22 -0000
Received: (qmail 69806 invoked by uid 500); 9 Mar 2007 09:23:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69777 invoked by uid 500); 9 Mar 2007 09:23:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69766 invoked by uid 99); 9 Mar 2007 09:23:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 01:23:23 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 86.111.223.190 as permitted sender)
Received: from [86.111.223.190] (HELO cluster-j.mailcontrol.com) (86.111.223.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 01:23:08 -0800
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly16j.srv.mailcontrol.com (MailControl) with SMTP id l299MgEc015937
	for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 09:22:42 GMT
Received: From SGBD012102.wsatkins.com ([10.202.26.16]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173432141880; Fri, 9 Mar 2007 09:22:21 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012102.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 9 Mar 2007 09:22:21 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: indexing pdfs
Date: Fri, 9 Mar 2007 09:21:51 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427061DECCF@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing pdfs
Thread-Index: Acdh9YBLwXBHTpqDRJqKsB8/LsgZoAANnE1w
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com> <2b817f360703080334s1973d06aqf846b9444df2bd2d@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061DE04B@SGBLOW2101.wsatkins.com> <2b817f360703080506y776222ddq838372eb6abf6dcc@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061DE485@SGBLOW2101.wsatkins.com> <2b817f360703081847w59f8da38l823cda91ee113d9d@mail.gmail.com>
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 09 Mar 2007 09:22:21.0238 (UTC) FILETIME=[70B59560:01C7622C]
X-Scanned-By: MailControl A-06-00-00 (www.mailcontrol.com) on 10.74.0.126
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ashwin,

Well in that case you might need to use Ifilters some other way instead
of through SeekAFile.  I don't know how since I haven't used it myself.
Perhaps someone else here has.

Sachin

-----Original Message-----
From: ashwin kumar [mailto:gv.ashwin@gmail.com]=20
Sent: 09 March 2007 02:48
To: java-user@lucene.apache.org
Subject: Re: indexing pdfs

hi sachin the link wat u gave me only a zip file and an exe file for
downoad. and this zip file also contains no class files.but wouldn't we
be requiring a jar file or class file ???

On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
>
> Hi,
>
> Here it is:
>
> http://www.seekafile.org/
>
> -----Original Message-----
> From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> Sent: 08 March 2007 13:07
> To: java-user@lucene.apache.org
> Subject: Re: indexing pdfs
>
> hi again
> do we have to download any jar files to run this program if so can u=20
> give me the link pls
>
> ashwin
>
> On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
> >
> > Well you don't need to actually save the text to disk and then index

> > the saved index file, you can directly index that text in-memory.
> >
> > The only other way I have heard of is to use Ifilters.  I believe=20
> > SeekAFile does indexing of pdfs.
> >
> > Sachin
> >
> > -----Original Message-----
> > From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> > Sent: 08 March 2007 11:35
> > To: java-user@lucene.apache.org
> > Subject: Re: indexing pdfs
> >
> > Is the only way index pdfs is to convert it into a text and then=20
> > only index it ???
> >
> >
> >
> > On 3/8/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
> > >
> > > Hi Aswin,
> > >
> > > You can try pdfbox to convert the pdf documents to text and then=20
> > > use
>
> > > Lucene to index the text.  The code for turning a pdf to text is=20
> > > very
> > > simple:
> > >
> > > private static string parseUsingPDFBox(string filename)
> > >         {
> > >             // document reader
> > >             PDDocument doc =3D PDDocument.load(filename);
> > >             // create stripper (wish I had the power to do that -=20
> > > wouldn't leave the house)
> > >             PDFTextStripper stripper =3D new PDFTextStripper();
> > >             // get text from doc using stripper
> > >             return stripper.getText(doc);
> > >         }
> > >
> > > Sachin
> > >
> > > -----Original Message-----
> > > From: ashwin kumar [mailto:gv.ashwin@gmail.com]
> > > Sent: 08 March 2007 09:37
> > > To: java-user@lucene.apache.org
> > > Subject: indexing pdfs
> > >
> > > hi can some one help me by giving any sample programs for indexing

> > > pdfs and .doc files
> > >
> > > thanks
> > > regards
> > > ashwin
> > >
> > >
> > > This message has been scanned for viruses by MailControl - (see
> > > http://bluepages.wsatkins.co.uk/?6875772)
> > >
> > >
> > > This email and any attached files are confidential and copyright=20
> > > protected. If you are not the addressee, any dissemination of this

> > > communication is strictly prohibited. Unless otherwise expressly=20
> > > agreed in writing, nothing stated in this communication shall be
> > legally binding.
> > >
> > > The ultimate parent company of the Atkins Group is WS Atkins plc.
> > > Registered in England No. 1885586.  Registered Office Woodcote=20
> > > Grove, Ashley Road, Epsom, Surrey KT18 5BW.
> > >
> > > Consider the environment. Please don't print this e-mail unless=20
> > > you really need to.
> > >
> > > ------------------------------------------------------------------
> > > --
> > > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > --------------------------------------------------------------------
> > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 10:54:49 2007
Return-Path: <java-user-return-26741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47509 invoked from network); 9 Mar 2007 10:54:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 10:54:48 -0000
Received: (qmail 83900 invoked by uid 500); 9 Mar 2007 10:54:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83872 invoked by uid 500); 9 Mar 2007 10:54:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83861 invoked by uid 99); 9 Mar 2007 10:54:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 02:54:48 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 02:54:37 -0800
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l29ArHZX008091
	for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 10:53:17 GMT
Received: from [192.168.0.22] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.2.15)
    via ESMTP; Fri, 09 Mar 2007 10:53:16 +0000 (GMT)
Date: Fri, 9 Mar 2007 10:53:11 +0000
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <45F13C97.7040201@scalix.com>
In-Reply-To: <Pine.LNX.4.58.0703081924190.19147@hal.rescomp.berkeley.edu>
References: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com>
References: <45F05BF3.1040100@mindspring.com>
References: <Pine.LNX.4.58.0703081446570.24468@hal.rescomp.berkeley.edu>
References: <3d2ce8cb0703081623g445e5dbbsfcdfa0f0d6155624@mail.gmail.com>
References: <Pine.LNX.4.58.0703081924190.19147@hal.rescomp.berkeley.edu>
Subject: Re: Index a source, but not store it... can it be done?
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

Chris Hostetter wrote:
> i'm not crypto expert, but i imagine it would probably take the same
> amount of statistical guess work to reconstruct meaningful info from
> either approach (hashing hte individual words compared to eliminating the
> positions) so i would think the trade off of supporting phrase queries
> would make the hasing approach more worthwhile.
>   
hashing the words sounds like a brilliant idea, but it's subject to a 
known plaintext attack. Basically if I have the index and a document in 
it I can compare the reconstructed document consisting of hashed words 
and the original document. I can then say that "cat" is 
"d077f244def8a70e5ea758bd8352fcd8", dog is 
"06d80eb0c50b49a509b49f2424e8c805" and so on. I then have a choice of 
attacking the hash algorithm (there are no prizes for guessing what I 
used) or simply constructing a table of known words and hashes.

Injecting my own documents into the corpus would let me fill in missing 
words or test an hypothesis about the hash algorithm. It would be fun to 
see how long it would take to reconstruct the index with no hashed words 
in it :-) The best, really, that can be said about hashing is that it 
either piques the interest of someone who would otherwise ignore it and 
discourages the most casual of hackers.

Setting all the token positions to zero helps quite a lot because you 
then can't distinguish between "the cat and dog sat on the mat" and "the 
cat sat on the dog on the mat" (more or less) and one is much more 
interesting than the other. Of course, simply knowing that there are 
documents that contain the words, oh, "airport" and "bomb" would be 
interesting. What would be even more interesting would be comparing the 
index at different times -- like knowing that the Pentagon ordered many 
more pizzas the day before the air strikes in the Gulf, that kind of 
thing. (Langley, incidentally, ordered the same number they always 
ordered, but perhaps fewer were put in the trash unconsumed.) (This 
might also be an urban myth, I haven't ever seen anything definitive 
about it.) (But I digress.)

It all depends on how much value the owner of the original documents 
places on them and how much effort he thinks that a hacker might be 
prepared to put into recovering the text.

The best you're ever going to do is to protect the index as well as you 
do the original documents.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 11:04:13 2007
Return-Path: <java-user-return-26742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49468 invoked from network); 9 Mar 2007 11:04:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 11:04:12 -0000
Received: (qmail 91952 invoked by uid 500); 9 Mar 2007 11:04:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91916 invoked by uid 500); 9 Mar 2007 11:04:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91904 invoked by uid 99); 9 Mar 2007 11:04:09 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 03:04:06 -0800
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id l29B2BqG059758
	for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 12:02:11 +0100 (CET)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200703091102.l29B2BqG059758@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: FieldCache: flush cache explicitly
Date: Fri, 9 Mar 2007 12:02:06 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <8837fb770703082322p396b848ak59baddf1ba27ae96@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: AcdiG88Bl3kqXGk2RECXXH8U4rqrTQAHgNdg
X-Scanned-By: MIMEDefang 2.57 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org

Yeap. I strongly support John.
I knew when I reopen indexes. Then what is the reason to wait for garbage
collector..
And that too, FieldCache uses WeakHashMap and that may lead some memory
leaks.

Jelda

> -----Original Message-----
> From: John Wang [mailto:john.wang@gmail.com] 
> Sent: Friday, March 09, 2007 8:23 AM
> To: java-user@lucene.apache.org
> Subject: FieldCache: flush cache explicitly
> 
> I think the api should allow for explicitly flush the fieldcache.
> 
> I have a setup where new readers are being loaded very some 
> period of time. I don't want to rely on Java WeakHashMap to 
> free the cache, I want to be able to do it in a deterministic way.
> 
> It would be great if this can be added to Lucene, I can 
> create a bug if the Lucene gods agree to it :)
> 
> Thanks
> 
> -John
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 12:10:04 2007
Return-Path: <java-user-return-26743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64069 invoked from network); 9 Mar 2007 12:10:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 12:10:04 -0000
Received: (qmail 46046 invoked by uid 500); 9 Mar 2007 12:10:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46008 invoked by uid 500); 9 Mar 2007 12:10:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45997 invoked by uid 99); 9 Mar 2007 12:10:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [206.190.53.31] (HELO smtp106.plus.mail.re2.yahoo.com) (206.190.53.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Mar 2007 04:09:53 -0800
Received: (qmail 28288 invoked from network); 9 Mar 2007 12:08:20 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.de;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=3LIMqGMbZGrHQ9BpGS9t2XVUjMFOBGSvPl5ejl/cKybMSbO2o40gx5v4K5sH9MB/of7mfm3nqEL5rEsOigN04GTimgo391G2YRnaPLEoUYLVuxtZ8SZTxrLIIzo2lEtpc2CdTgPhin6QV8aXIkh6f73+gaB0RgZrOlNM8up7L/8=  ;
Received: from unknown (HELO ?127.0.0.1?) (fischauto333@217.110.73.186 with plain)
  by smtp106.plus.mail.re2.yahoo.com with SMTP; 9 Mar 2007 12:08:19 -0000
X-YMail-OSG: HyX0FSUVM1niIRqEmTEARm2EJiuaBsXFeZoDYDDl9AxyNBX0yJbkmDEMM3QRiAqKDgXbmHOJUwoQXen0Ud5xNuDoqIXrcPA6GxG_ua9pO6n0R3UEC6J7
Message-ID: <45F14E2F.80405@yahoo.de>
Date: Fri, 09 Mar 2007 13:08:15 +0100
From: Joe <fischauto333@yahoo.de>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: WilcardQuery and memory
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
In-Reply-To: <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Here we use lucene to index our emails, currently 500.000 Documents.
When Searching the body by a WildcardQuery the problems arises.

I did some profiling with JProfiler. I see the more BooleanClause 
instances used
the more memory is required during search.
Most memory is used by instances of classes SegementTermDocs and 
CoumpundFileRader.CSIndexInput
Nearly 30 MB/1000 BooleanClause instances.

So when i limit the BooleanClauses by BooleanQuery.setMaxClauseCount(5000);
and more and more emails gets indexed, will this lead to a OutOfMemoryError
or will the 30MB/1000 Clauses ratio still hold?

What should i do to prevent OOM without reducing 
BooleanQuery.setMaxClauseCount() to much?




	
		
___________________________________________________________ 
Der frhe Vogel fngt den Wurm. Hier gelangen Sie zum neuen Yahoo! Mail: http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 12:21:57 2007
Return-Path: <java-user-return-26744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66360 invoked from network); 9 Mar 2007 12:21:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 12:21:57 -0000
Received: (qmail 54946 invoked by uid 500); 9 Mar 2007 12:21:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54914 invoked by uid 500); 9 Mar 2007 12:21:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54902 invoked by uid 99); 9 Mar 2007 12:21:57 -0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of gv.ashwin@gmail.com designates 64.233.184.237 as permitted sender)
Received: from [64.233.184.237] (HELO wr-out-0506.google.com) (64.233.184.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 04:21:55 -0800
Received: by wr-out-0506.google.com with SMTP id 69so1360137wra
        for <java-user@lucene.apache.org>; Fri, 09 Mar 2007 04:20:26 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=laxBJkU9RfCxJ38SL1RXzJVv93yjx1an52OVksGFMZt2ksRZyuj8myRJwcWth8N41uqqAeW3FxZ2Wv+kjTO8lE1I1Lu1qEVmjYBCBT07vzShBdzDIYUwudlQAlaCWWrnRhoizzcTh+CTc8Tl8Q6a04K8sPb2QvmwpTRf96Up59I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=AvydSMMB6robrluCngB0WT+jcEtJGFPI645XVDuliHJxBssbuMoTrF2raj3xpdWKgcnKLmdF5W5T26WzHkEsXOjEkWTf4jV/oNuPGEoIE6t0Vbx3f/aQ9asuy5zZAdfD5Cb2vdwQwj3e+qKM2SNmx4xcq+MHp/PYXQOEA8QtL9Y=
Received: by 10.65.93.18 with SMTP id v18mr2634292qbl.1173442825799;
        Fri, 09 Mar 2007 04:20:25 -0800 (PST)
Received: by 10.65.225.16 with HTTP; Fri, 9 Mar 2007 04:20:25 -0800 (PST)
Message-ID: <2b817f360703090420p57ddfd8ana9dc9165734bba8d@mail.gmail.com>
Date: Fri, 9 Mar 2007 17:50:25 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: pdf,.doc,.xls,.ppt indexing in lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_657_23648413.1173442825643"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_657_23648413.1173442825643
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi all i have tried indexing .txt using lucene and its working fine.

now i want to index .doc ,  .pdf , .xls , .  ppt with lucene

can some one help in doing that

thanks
regards
ashwin

------=_Part_657_23648413.1173442825643--

From java-user-return-26745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 12:44:57 2007
Return-Path: <java-user-return-26745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74156 invoked from network); 9 Mar 2007 12:44:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 12:44:57 -0000
Received: (qmail 90439 invoked by uid 500); 9 Mar 2007 12:44:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90411 invoked by uid 500); 9 Mar 2007 12:44:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90400 invoked by uid 99); 9 Mar 2007 12:44:57 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of rstaveley@seseit.com designates 209.97.205.201 as permitted sender)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 04:44:52 -0800
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 7B59718B24; Fri,  9 Mar 2007 12:43:45 +0000 (GMT)
Received: from Bigun (cpc3-lewi6-0-0-cust798.bmly.cable.ntl.com [82.27.203.31])
	by mail.seseit.com (Postfix) with ESMTP id D824518B24
	for <java-user@lucene.apache.org>; Fri,  9 Mar 2007 12:43:38 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com> <45F14E2F.80405@yahoo.de>
In-Reply-To: <45F14E2F.80405@yahoo.de>
Subject: RE: WilcardQuery and memory
Date: Fri, 9 Mar 2007 12:43:37 -0000
Message-ID: <00eb01c76248$90307290$b09157b0$@com>
X-Mailer: Microsoft Office Outlook 12.0
MIME-Version: 1.0
Thread-Index: AcdiQ98tx3EFITGgQj6YwrQpzAKpMwAA4RHQ
Content-Language: en-gb
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_00E7_01C76248.8BDF8F00"
X-seseit-ltd-MailScanner: Found to be clean, Found to be clean
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: 
X-seseit-ltd-MailScanner-From: rstaveley@seseit.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.0 required=5.0 tests=none autolearn=failed 
	version=3.0.3

------=_NextPart_000_00E7_01C76248.8BDF8F00
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

For indexing e-mail, I recommend that you tokenise the e-mail addresses =
into
fragments and query on the fragments as whole terms rather than using
wildcards.=20

Rather than looking for fischauto333* in (say) smtp-from, look for
fischauto333 in (say) an additional field called smtp-from-fragments to
match the term fischauto333 (it also contains the terms yahoo.de and =
yahoo
and de).

Having whole e-mail addresses in terms and using prefix/wildcard queries
inevitably results in too many clauses.


-----Original Message-----
From: Joe [mailto:fischauto333@yahoo.de]=20
Sent: 09 March 2007 12:08
To: java-user@lucene.apache.org
Subject: WilcardQuery and memory

Hi,

Here we use lucene to index our emails, currently 500.000 Documents.
When Searching the body by a WildcardQuery the problems arises.

I did some profiling with JProfiler. I see the more BooleanClause=20
instances used
the more memory is required during search.
Most memory is used by instances of classes SegementTermDocs and=20
CoumpundFileRader.CSIndexInput
Nearly 30 MB/1000 BooleanClause instances.

So when i limit the BooleanClauses by =
BooleanQuery.setMaxClauseCount(5000);
and more and more emails gets indexed, will this lead to a =
OutOfMemoryError
or will the 30MB/1000 Clauses ratio still hold?

What should i do to prevent OOM without reducing=20
BooleanQuery.setMaxClauseCount() to much?




=09
	=09
___________________________________________________________=20
Der fr=FChe Vogel f=E4ngt den Wurm. Hier gelangen Sie zum neuen Yahoo! =
Mail:
http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

------=_NextPart_000_00E7_01C76248.8BDF8F00
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhAMCNjQ34mqyE4nzPikVv1BMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA2MTAxOTAwMDAw
MFoXDTA3MTAxOTIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDNyaTYoePu
Q5MAkMiMXDFmmzjqw3yJZ0I/nBcM2kEMNmlpwG34SbhOB5WKLRd1FPOArm344LxH8PQd5n/i++p9
Wgdem+mxT8AAQCaiLC//wCOfIFhcKdCeIH0UdT6tUVQ1bmog7FVtLFKgqQzfhoPauUZcdClO4tA/
DcPNpy4XRO6b8XsttoMrRY/GqHRDY1zNJycBBdt3vpT7Q8vb6yQ3Hf32K/wUfalCzNo+SfzhGSsl
HBx8xfepQ6Xrz6jNS8jdkrimRGEjcGSzY5ixPd0kV7BIxFa3TtBK1u/LApMTGaAmeFilZeefsRWu
pEBr9tyetn4Wu/5q/tplVgAknCF9AgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQB5A9RgvBpfJsI8uueBWGaMe8/HCzuSE3HskLzgb+6/4x2z
d4YIrVrFEvmpQQz0B1+Vbom2GTshDK2Ib3vQuMcFMZuyZ6fuI80QsAGDQ33ZykSjcAgjuG6joW9m
0M0DISzAS5JjxLkeNCko8oBgq5ZHiTpNONUtEK5M8In2Fe73XjGCBRAwggUMAgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhAMCNjQ34mqyE4nzPikVv1BMAkGBSsOAwIa
BQCgggMDMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA3MDMwOTEy
NDMzMlowIwYJKoZIhvcNAQkEMRYEFNrXkOiPvITW6uTvRREd2lKVLkQcMIG3BgkqhkiG9w0BCQ8x
gakwgaYwCwYJYIZIAWUDBAEqMAsGCWCGSAFlAwQBFjAKBggqhkiG9w0DBzALBglghkgBZQMEAQIw
DgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0GCCqGSIb3DQMCAgEoMAcG
BSsOAwIaMAsGCWCGSAFlAwQCAzALBglghkgBZQMEAgIwCwYJYIZIAWUDBAIBMAoGCCqGSIb3DQIF
MIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQL
ExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9z
aXRvcnkvUlBBIEluY29ycC4gQnkgUmVmLixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2ln
biBDbGFzcyAxIENBIEluZGl2aWR1YWwgU3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQC
EAwI2NDfiarITifM+KRW/UEwgfQGCyqGSIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJp
U2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3
LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5
ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVy
c29uYSBOb3QgVmFsaWRhdGVkAhAMCNjQ34mqyE4nzPikVv1BMA0GCSqGSIb3DQEBAQUABIIBAMXS
rjz2Av5cJ5VZiO6IAFK6yh3uIrlWfIGB/EmoO90Xf3bNW78jyF9xJapIg1PZ/aDNGVRdvI/S+id/
fFkcmYJMZrjE6fdJr2FU6EmU7UD7pKZPprT3VYvNmZyhEslYW5BE7nA0MZ/8DbmDKMmF6dV4T1Ma
Yk+t1O+wsQCxKciHOCtV4DBWi0nf8nIQrYYA+Pb7z/qD4WPBZ3sCVQaqq28JEPOM32t/klQ2Ud1m
FNTl+56nxeV1Fu/aeS//v25DyojgJmJqY/HUjMPlJNDJxQcdscYAUzjE6HQ9LOk5CU2pJBk/arxs
LpccLfhf1i9A4X7HpNpbX+D6FMqaYhSa5c0AAAAAAAA=

------=_NextPart_000_00E7_01C76248.8BDF8F00--


From java-user-return-26746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 12:57:18 2007
Return-Path: <java-user-return-26746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77607 invoked from network); 9 Mar 2007 12:57:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 12:57:17 -0000
Received: (qmail 8183 invoked by uid 500); 9 Mar 2007 12:57:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8157 invoked by uid 500); 9 Mar 2007 12:57:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8146 invoked by uid 99); 9 Mar 2007 12:57:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 04:57:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.53.32] (HELO smtp107.plus.mail.re2.yahoo.com) (206.190.53.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Mar 2007 04:57:06 -0800
Received: (qmail 13416 invoked from network); 9 Mar 2007 12:55:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.de;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=LwtWRQ+MFBHYIZ2fsQQNgPtqRgqUnEz4sC/I+gmwzLypBeVRXt7IRWUAXba+xdGB0tglUGW42GLKy3GcpSscRtu9lqvgnff2TWU/4qf70vj7yvaauCgLPfXRTCbiZS07NlZmU5pW1jjUPrgWng2wPmWrBGIlzSCy022Bf2dv26s=  ;
Received: from unknown (HELO ?127.0.0.1?) (fischauto333@217.110.73.186 with plain)
  by smtp107.plus.mail.re2.yahoo.com with SMTP; 9 Mar 2007 12:55:57 -0000
X-YMail-OSG: W413.QsVM1n.oH4z3KyaXcwlhNddAUoSjZAQ8N1XH5_0E5aNA09hcT7CzJDTxaFga5iksf51mV12ojgEQLX_.yuOcaMWSXFmLTm9ib26Xt8GfuJzsRxN
Message-ID: <45F1595B.90604@yahoo.de>
Date: Fri, 09 Mar 2007 13:55:55 +0100
From: Joe <fischauto333@yahoo.de>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: WilcardQuery and memory
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com> <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com> <45F14E2F.80405@yahoo.de> <00eb01c76248$90307290$b09157b0$@com>
In-Reply-To: <00eb01c76248$90307290$b09157b0$@com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Rob,
> For indexing e-mail, I recommend that you tokenise the e-mail addresses into
> fragments and query on the fragments as whole terms rather than using
> wildcards. 
>
> [example]
>   
Hm for email adresses this isnt a big problem here.
The real problem is the query on the body part of an email, whis is 
added to the index in this way:
doc.add(new Field(DocumentFields.BODY, filter.filter(fields.body), 
Field.Store.NO, Field.Index.TOKENIZED));



		
___________________________________________________________ 
Telefonate ohne weitere Kosten vom PC zum PC: http://messenger.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 13:11:04 2007
Return-Path: <java-user-return-26747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83440 invoked from network); 9 Mar 2007 13:11:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 13:11:03 -0000
Received: (qmail 37342 invoked by uid 500); 9 Mar 2007 13:10:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37284 invoked by uid 500); 9 Mar 2007 13:10:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37256 invoked by uid 99); 9 Mar 2007 13:10:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 05:10:56 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 05:10:45 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1322400ugc
        for <java-user@lucene.apache.org>; Fri, 09 Mar 2007 05:10:22 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lA9OgeOZNJ239LjqudC5uGDctbJouFiU93XtrNrO9T54BDYO8OLfR6zzYjmTixucNO1ksplckiZwHpHlfV1hgXNDgQeTDW8Oa9sYqsPSymUHlG8fDZN/p4G9UQ1JHAjuWlqY1pRtCU7d210qjDZnel62MGzcNeN3kedo14ikDXM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fyYNFi4rk9xLwPlRrFlV789KLsjRbOkfWEFfjMu6fLrAJ7X94gU+/pNTyp3wpTleGLnGB0kP38wENQJi9veDL1e+BuHaqSqZ2DLt4zjq8/FPx4LAT0M9IRUVfHO4tCq+/EAhV0Gr1L+zYcrcVSYek60SsIuR6ivlGnrlle8BP/8=
Received: by 10.115.23.12 with SMTP id a12mr547598waj.1173445821660;
        Fri, 09 Mar 2007 05:10:21 -0800 (PST)
Received: by 10.114.57.15 with HTTP; Fri, 9 Mar 2007 05:10:21 -0800 (PST)
Message-ID: <359a92830703090510h61560a5fm9ea127e3abf55c5e@mail.gmail.com>
Date: Fri, 9 Mar 2007 08:10:21 -0500
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: WilcardQuery and memory
In-Reply-To: <00eb01c76248$90307290$b09157b0$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1332_16684780.1173445821435"
References: <2b817f360703080137y46fa43capc9ef18217808604b@mail.gmail.com>
	 <BC1CFC544422CB4A934908E126A47427061A6F1C@SGBLOW2101.wsatkins.com>
	 <45F14E2F.80405@yahoo.de> <00eb01c76248$90307290$b09157b0$@com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1332_16684780.1173445821435
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

You can also use a filter. The basic idea is to construct a Lucene
Filter, probably using something like RegexTermEnum/TermDocs.
It's faster than you think <G>. This, in combination with
ConstantScoreQuery should fix you right up. Several things:

1> you lose scoring with the filter part of a query with this technique.
If you search on, say erick AND h*s, your query would be scored
entirely by the 'erick' part of the clause. But you'd match documents
with 'erick' and any of the terms 'hoss' 'hiss' 'his' 'hers' .....

2> the size is capped by the total docs / 8, since a filter is really
a bitmap with one bit position for each doc in your index.

3> Filters can be cached, see CachingWrapperFilter

Hope this helps
Erick

On 3/9/07, Rob Staveley (Tom) <rstaveley@seseit.com> wrote:
>
> For indexing e-mail, I recommend that you tokenise the e-mail addresses
> into
> fragments and query on the fragments as whole terms rather than using
> wildcards.
>
> Rather than looking for fischauto333* in (say) smtp-from, look for
> fischauto333 in (say) an additional field called smtp-from-fragments to
> match the term fischauto333 (it also contains the terms yahoo.de and yaho=
o
> and de).
>
> Having whole e-mail addresses in terms and using prefix/wildcard queries
> inevitably results in too many clauses.
>
>
> -----Original Message-----
> From: Joe [mailto:fischauto333@yahoo.de]
> Sent: 09 March 2007 12:08
> To: java-user@lucene.apache.org
> Subject: WilcardQuery and memory
>
> Hi,
>
> Here we use lucene to index our emails, currently 500.000 Documents.
> When Searching the body by a WildcardQuery the problems arises.
>
> I did some profiling with JProfiler. I see the more BooleanClause
> instances used
> the more memory is required during search.
> Most memory is used by instances of classes SegementTermDocs and
> CoumpundFileRader.CSIndexInput
> Nearly 30 MB/1000 BooleanClause instances.
>
> So when i limit the BooleanClauses by BooleanQuery.setMaxClauseCount
> (5000);
> and more and more emails gets indexed, will this lead to a
> OutOfMemoryError
> or will the 30MB/1000 Clauses ratio still hold?
>
> What should i do to prevent OOM without reducing
> BooleanQuery.setMaxClauseCount() to much?
>
>
>
>
>
>
> ___________________________________________________________
> Der fr=FChe Vogel f=E4ngt den Wurm. Hier gelangen Sie zum neuen Yahoo! Ma=
il:
> http://mail.yahoo.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1332_16684780.1173445821435--

From java-user-return-26748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 13:52:13 2007
Return-Path: <java-user-return-26748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94576 invoked from network); 9 Mar 2007 13:52:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 13:52:12 -0000
Received: (qmail 2062 invoked by uid 500); 9 Mar 2007 13:52:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2035 invoked by uid 500); 9 Mar 2007 13:52:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2023 invoked by uid 99); 9 Mar 2007 13:52:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 05:52:14 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.207] (HELO spunkymail-a12.g.dreamhost.com) (208.97.132.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 05:52:02 -0800
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a12.g.dreamhost.com (Postfix) with ESMTP id 158D37FB5
	for <java-user@lucene.apache.org>; Fri,  9 Mar 2007 05:51:42 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <2b817f360703090420p57ddfd8ana9dc9165734bba8d@mail.gmail.com>
References: <2b817f360703090420p57ddfd8ana9dc9165734bba8d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <51E7DDD9-AF7B-49FD-A6F4-07B9B4E9BE1D@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: pdf,.doc,.xls,.ppt indexing in lucene
Date: Fri, 9 Mar 2007 08:51:39 -0500
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Search the archive, read the FAQ (see link in my signature).

On Mar 9, 2007, at 7:20 AM, ashwin kumar wrote:

> hi all i have tried indexing .txt using lucene and its working fine.
>
> now i want to index .doc ,  .pdf , .xls , .  ppt with lucene
>
> can some one help in doing that
>
> thanks
> regards
> ashwin

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 17:15:24 2007
Return-Path: <java-user-return-26749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67998 invoked from network); 9 Mar 2007 17:15:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 17:15:22 -0000
Received: (qmail 20027 invoked by uid 500); 9 Mar 2007 17:15:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19997 invoked by uid 500); 9 Mar 2007 17:15:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19986 invoked by uid 99); 9 Mar 2007 17:15:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 09:15:23 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [192.31.106.7] (HELO mailgw1a.lmco.com) (192.31.106.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 09:15:10 -0800
Received: from emss07g01.ems.lmco.com (relay5.ems.lmco.com [166.29.2.16])by mailgw1a.lmco.com  (LM-6) with ESMTP id l29HEnVG021812for <java-user@lucene.apache.org>; Fri, 9 Mar 2007 10:14:49 -0700 (MST)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.3-x3 #31239)
 id <0JEN00601BWPQD@lmco.com> for java-user@lucene.apache.org; Fri, 09 Mar 2007 10:14:49 -0700 (MST)
Received: from EMSS09I00.us.lmco.com ([158.183.26.31]) by lmco.com (PMDF V6.3-x3 #31239)
 with ESMTP id <0JEN00C53BWF24@lmco.com> for java-user@lucene.apache.org; Fri, 09 Mar 2007 10:14:39 -0700 (MST)
Received: from emss10m05.us.lmco.com ([158.187.0.248]) by EMSS09I00.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Fri,
 09 Mar 2007 12:14:39 -0500
Date: Fri, 09 Mar 2007 12:14:38 -0500
From: "Walker, Keith 1" <keith.1.walker@lmco.com>
Subject: Words not found, large file indexing
To: java-user@lucene.apache.org
Message-id: <1AEC2AECA2A5B04BA1A56FADE29F0302024FCB7F@emss10m05.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: multipart/alternative; boundary="Boundary_(ID_SFjQUbMttYiYpZcVYgISkA)"
Thread-Topic: Words not found, large file indexing
Thread-Index: Acdibp4Wht7AVFx1SmOuv+vNTBrg5g==
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 09 Mar 2007 17:14:39.0077 (UTC) FILETIME=[6B60A950:01C7626E]
X-Virus-Checked: Checked by ClamAV on apache.org

--Boundary_(ID_SFjQUbMttYiYpZcVYgISkA)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

I'm having problems with queries not returning a hit when a document
does in fact have those terms.  (I'm not worried about the ranking, just
whether or not it's a hit.)

Is anything wrong with the query syntax? (see below)  Also, words in the
document's index (not the Lucene index) seemed less likely to be
recognized.   I'm also wondering if anyone's run into problems with
large files, since the one I'm using is 161MB, but boils down to 472KB
as text.  The smaller file had no problems.

Thanks for any advice,
Keith

Here are some of my test results on 2 different documents, with the test
code below.
query	location of words in document (src: Acrobat)	Test 2	
http://usability.gov/pdfs/guidelines_book.pdf (161MB, 472 as extracted
text) 			
+content:("Research-based")	310 instances	positive	
+content:("Organize Information Clearly")	4 instances	positive

+content:("partitioning")	3 instances	negative	
+content:("distinguishing required")	1 instance in index	negative

+content:("evaluators")	14 instances	negative	
+content:("distinguishing required" AND "evaluators")	(see above)
negative	
+content:("partitioning" AND "evaluators")	(see above)	negative

			
automatic_format_identification.pdf (566KB, 53KB as text)  v. 1 (not the
latest)			
+content:("tentative")	several instances	positive	
+content:("tentative hits")	several instances	positive	
+content:("tentative" AND "hits")	several instances	positive

+content:("tentative hits" AND "identification")	several
instances	positive	


public static void testLuceneIndexing() throws EraException,
IOException, ParseException {
		File indexDir = new
File("D:/kcw/test_data/gate_test/huge_files/index");
		String filename =
"D:/kcw/test_data/gate_test/huge_files/hhs.txt";
		File file = new File(filename);
		if (indexDir.exists()){
			deleteDirectory(indexDir);
		}
		IndexWriter writer = new IndexWriter(indexDir, new
SimpleAnalyzer(),
				true);
		Document doc = new Document();
		doc.add(Field.Text("content", new FileReader(file)));
		doc.add(Field.Keyword("filename",
file.getCanonicalPath()));
		System.out.println("before addDocument()");
		long start = System.currentTimeMillis();
		writer.addDocument(doc);
		System.out.println("# docs indexed: " +
writer.docCount());		
		writer.optimize();
		writer.close();
		System.out.println("Done indexing.  Duration(ms): " +
(System.currentTimeMillis() - start));

		IndexSearcher search = new
IndexSearcher(indexDir.getCanonicalPath());

		Query luceneQuery = null;
		
		luceneQuery =
QueryParser.parse("+content:(\"Research-based\")", "body",
				new SimpleAnalyzer());
		System.out.println("Query= " +
luceneQuery.toString("body"));

		Hits hits = search.search(luceneQuery);
		int resultLength = hits.length();
		System.out.println("hit result = " + resultLength);
	}


--Boundary_(ID_SFjQUbMttYiYpZcVYgISkA)--

From java-user-return-26750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 17:26:19 2007
Return-Path: <java-user-return-26750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71790 invoked from network); 9 Mar 2007 17:26:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 17:26:18 -0000
Received: (qmail 39272 invoked by uid 500); 9 Mar 2007 17:26:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39205 invoked by uid 500); 9 Mar 2007 17:26:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39184 invoked by uid 99); 9 Mar 2007 17:26:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 09:26:19 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 09:26:08 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 33C7F5B772; Fri,  9 Mar 2007 09:25:47 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2D9867F403
	for <java-user@lucene.apache.org>; Fri,  9 Mar 2007 09:25:47 -0800 (PST)
Date: Fri, 9 Mar 2007 09:25:47 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Words not found, large file indexing
In-Reply-To: <1AEC2AECA2A5B04BA1A56FADE29F0302024FCB7F@emss10m05.us.lmco.com>
Message-ID: <Pine.LNX.4.58.0703090925320.5022@hal.rescomp.berkeley.edu>
References: <1AEC2AECA2A5B04BA1A56FADE29F0302024FCB7F@emss10m05.us.lmco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


are you perhaps exceding this...

http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter.html#setMaxFieldLength(int)


: Date: Fri, 09 Mar 2007 12:14:38 -0500
: From: "Walker, Keith 1" <keith.1.walker@lmco.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Words not found, large file indexing
:
: I'm having problems with queries not returning a hit when a document
: does in fact have those terms.  (I'm not worried about the ranking, just
: whether or not it's a hit.)
:
: Is anything wrong with the query syntax? (see below)  Also, words in the
: document's index (not the Lucene index) seemed less likely to be
: recognized.   I'm also wondering if anyone's run into problems with
: large files, since the one I'm using is 161MB, but boils down to 472KB
: as text.  The smaller file had no problems.
:
: Thanks for any advice,
: Keith
:
: Here are some of my test results on 2 different documents, with the test
: code below.
: query	location of words in document (src: Acrobat)	Test 2
: http://usability.gov/pdfs/guidelines_book.pdf (161MB, 472 as extracted
: text)
: +content:("Research-based")	310 instances	positive
: +content:("Organize Information Clearly")	4 instances	positive
:
: +content:("partitioning")	3 instances	negative
: +content:("distinguishing required")	1 instance in index	negative
:
: +content:("evaluators")	14 instances	negative
: +content:("distinguishing required" AND "evaluators")	(see above)
: negative
: +content:("partitioning" AND "evaluators")	(see above)	negative
:
:
: automatic_format_identification.pdf (566KB, 53KB as text)  v. 1 (not the
: latest)
: +content:("tentative")	several instances	positive
: +content:("tentative hits")	several instances	positive
: +content:("tentative" AND "hits")	several instances	positive
:
: +content:("tentative hits" AND "identification")	several
: instances	positive
:
:
: public static void testLuceneIndexing() throws EraException,
: IOException, ParseException {
: 		File indexDir = new
: File("D:/kcw/test_data/gate_test/huge_files/index");
: 		String filename =
: "D:/kcw/test_data/gate_test/huge_files/hhs.txt";
: 		File file = new File(filename);
: 		if (indexDir.exists()){
: 			deleteDirectory(indexDir);
: 		}
: 		IndexWriter writer = new IndexWriter(indexDir, new
: SimpleAnalyzer(),
: 				true);
: 		Document doc = new Document();
: 		doc.add(Field.Text("content", new FileReader(file)));
: 		doc.add(Field.Keyword("filename",
: file.getCanonicalPath()));
: 		System.out.println("before addDocument()");
: 		long start = System.currentTimeMillis();
: 		writer.addDocument(doc);
: 		System.out.println("# docs indexed: " +
: writer.docCount());
: 		writer.optimize();
: 		writer.close();
: 		System.out.println("Done indexing.  Duration(ms): " +
: (System.currentTimeMillis() - start));
:
: 		IndexSearcher search = new
: IndexSearcher(indexDir.getCanonicalPath());
:
: 		Query luceneQuery = null;
:
: 		luceneQuery =
: QueryParser.parse("+content:(\"Research-based\")", "body",
: 				new SimpleAnalyzer());
: 		System.out.println("Query= " +
: luceneQuery.toString("body"));
:
: 		Hits hits = search.search(luceneQuery);
: 		int resultLength = hits.length();
: 		System.out.println("hit result = " + resultLength);
: 	}
:
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 18:40:01 2007
Return-Path: <java-user-return-26751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5120 invoked from network); 9 Mar 2007 18:40:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 18:40:00 -0000
Received: (qmail 89962 invoked by uid 500); 9 Mar 2007 18:40:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89716 invoked by uid 500); 9 Mar 2007 18:40:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89703 invoked by uid 99); 9 Mar 2007 18:40:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 10:40:02 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [81.169.146.189] (HELO mo-p07-ob.rzone.de) (81.169.146.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 10:39:50 -0800
Received: from [192.168.178.20] (p57BB274E.dip0.t-ipconnect.de [87.187.39.78])
	by post.webmailer.de (mrclete mo25) (RZmta 4.10)
	with ESMTP id D0057ej29EpbjF for <java-user@lucene.apache.org>;
	Fri, 9 Mar 2007 19:39:28 +0100 (MET)
From: "Steffen Heinrich" <lucene-users@atablis.com>
To: java-user@lucene.apache.org
Date: Fri, 09 Mar 2007 19:39:22 +0100
MIME-Version: 1.0
Subject: Re: Words not found, large file indexing
Message-ID: <45F1B7EA.19582.7902206@lucene-users.atablis.com>
Priority: normal
In-reply-to: <Pine.LNX.4.58.0703090925320.5022@hal.rescomp.berkeley.edu>
References: <1AEC2AECA2A5B04BA1A56FADE29F0302024FCB7F@emss10m05.us.lmco.com>
X-mailer: Pegasus Mail for Windows (4.31, DE v4.31 R1)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body
X-RZG-AUTH: jtz0MUsFuuf6oFDp3IiuuL5tq2uJr2xgKjtNOWqOfpGIlwVGYmele5T0IBw+LcjJXM4=
X-RZG-CLASS-ID: mo07
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Chris,

this is incredible!
I'm new to Lucene and did just subscribe to the list for this very 
phenomena. Keith' problem was also my problem.

Your mail was the first one I read and is _exactly_ what I needed to 
know.

Thanks a lotta!

Cheers, Steffen

On 9 Mar 2007 at 9:25, Chris Hostetter wrote:

> 
> are you perhaps exceding this...
> 
> http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter
> .html#setMaxFieldLength(int)
> 

-- 
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --
-- steffen heinrich, berlin, germany --


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 21:11:22 2007
Return-Path: <java-user-return-26752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85037 invoked from network); 9 Mar 2007 21:11:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 21:11:20 -0000
Received: (qmail 89006 invoked by uid 500); 9 Mar 2007 21:11:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88972 invoked by uid 500); 9 Mar 2007 21:11:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88961 invoked by uid 99); 9 Mar 2007 21:11:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 13:11:22 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [65.117.131.222] (HELO moloko.kubrick.com) (65.117.131.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 13:11:11 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C7628F.147E8AD2"
Subject: Wildcard query with untokenized punctuation
Date: Fri, 9 Mar 2007 15:10:49 -0600
Message-ID: <A18C041B52678847A234B084224EF4D401AB9BEF@moloko.kubrick.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Wildcard query with untokenized punctuation
Thread-Index: Acdij2m7VAJNgYSZSUGwZeY5CgI3Jg==
From: "McGuigan, Colin" <cmcguigan@springcm.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C7628F.147E8AD2
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

(Lucene 1.9.1)

=20

I have a "filename" field in Lucene that holds a value, like this:
pagefile.sys

=20

If I run searches through QueryParser, and I do a search for:

=20

pagefile.sys

pagefile

pagefile.

=20

This all works because it goes through getFieldQuery, which tokenizes
the string and generates a PhraseQuery out of it.

=20

But if I search for this:

=20

pagefile.*

=20

It doesn't work, because it goes through PrefixQuery, and PrefixQuery
looks for terms that start with "pagefile.", but no terms will start
with "pagefile.", because periods are not tokenized.  Similarly,
searching for:

=20

pagefile*sys

=20

Doesn't work, because it goes through WildcardQuery, and WildcardQuery
is set up to only match terms as well, and no term starts with
"pagefile" and ends with "sys".

=20

I've done a lot of googling on this, but I can't find a good answer for
what I should do.  I'm playing around with removing QueryParser entirely
and generating a MultiPhraseQuery, but want to make sure I'm not
reinventing an already invented wheel.

=20

--Colin McGuigan


------_=_NextPart_001_01C7628F.147E8AD2--

From java-user-return-26753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 09 22:32:31 2007
Return-Path: <java-user-return-26753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4628 invoked from network); 9 Mar 2007 22:32:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 9 Mar 2007 22:32:30 -0000
Received: (qmail 1784 invoked by uid 500); 9 Mar 2007 22:32:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1752 invoked by uid 500); 9 Mar 2007 22:32:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1741 invoked by uid 99); 9 Mar 2007 22:32:32 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 14:32:32 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [81.169.146.189] (HELO mo-p07-ob.rzone.de) (81.169.146.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 14:32:20 -0800
Received: from [192.168.178.20]
	(p57BB40BF.dip0.t-ipconnect.de [87.187.64.191])
	by post.webmailer.de (klopstock mo13) (RZmta 4.10)
	with ESMTP id A042e7j29HcdHu for <java-user@lucene.apache.org>;
	Fri, 9 Mar 2007 23:31:56 +0100 (MET)
From: "Steffen Heinrich" <lucene-users@atablis.com>
To: java-user@lucene.apache.org
Date: Fri, 09 Mar 2007 23:31:50 +0100
MIME-Version: 1.0
Subject: Re: Wildcard query with untokenized punctuation
Message-ID: <45F1EE66.4732.AD046B@lucene-users.atablis.com>
Priority: normal
In-reply-to: <A18C041B52678847A234B084224EF4D401AB9BEF@moloko.kubrick.com>
X-mailer: Pegasus Mail for Windows (4.31, DE v4.31 R1)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body
X-RZG-AUTH: jtz0MUsFuuf6oFDp3IiuuL5tq2uJr2xgKjtNOWqOfpGIlwVGYmele5T0IBw7pXJ20Sap
X-RZG-CLASS-ID: mo07
X-Virus-Checked: Checked by ClamAV on apache.org

On 9 Mar 2007 at 15:10, McGuigan, Colin wrote:

> I have a "filename" field in Lucene that holds a value, like this:
> pagefile.sys
> 

Hi Colin,

I'm still _very_ new to lucene, but isn't that what the un-tokenized 
indexing is for?
Like in 1.9.1
doc.add(Field.Keyword("filename", "pagefile.sys"));

in 2.0.1
doc.add(new Field("filename", "pagefile.sys", Field.Store.YES, 
Field.Index.UN_TOKENIZED));

Maybe this will work as desired?

Cheers, Steffen



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 00:28:18 2007
Return-Path: <java-user-return-26754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45984 invoked from network); 10 Mar 2007 00:28:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 00:28:17 -0000
Received: (qmail 7191 invoked by uid 500); 10 Mar 2007 00:28:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7142 invoked by uid 500); 10 Mar 2007 00:28:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7131 invoked by uid 99); 10 Mar 2007 00:28:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 16:28:19 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 16:28:07 -0800
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HPpR5-0005bo-Cs
	for java-user@lucene.apache.org; Fri, 09 Mar 2007 16:27:47 -0800
Message-ID: <9405661.post@talk.nabble.com>
Date: Fri, 9 Mar 2007 16:27:47 -0800 (PST)
From: sdeck <scott.decker@gmail.com>
To: java-user@lucene.apache.org
Subject: Find related question
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: scott.decker@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hello,
I run Nutch and get a whole slew of articles and when I display search
results, there may be 5-6 articles that have different titles, and most of
the body text is the same, but I want to group them all under one result. 
These are usually AP articles that all newspapers repurpose.

When using the MoreLikeThis functionality, the articles that are returned
may or may not be similar. When I run the query, the scores returned can
range from .1 to .4 for the first 2 hits and it usually will return around
50 results, with the last score coming in fairly close to 0. Usually, the
first hit is the exact same article as what I am trying to determine related
articles for.  I know that the score value has no real meaning though,
because it is done based upon the query, and other factors and then
normalized.

So, should I be taking (hit score/1) to use as a percentage value to see
what other articles might be similar after that first hit? Try and normalize
the similarity basically? Am I off my rocker?

Or, is there possibly a way to use Carrot2 to find related articles for a
given document?

Thanks,
Scott

-- 
View this message in context: http://www.nabble.com/Find-related-question-tf3379250.html#a9405661
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 02:17:51 2007
Return-Path: <java-user-return-26755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66288 invoked from network); 10 Mar 2007 02:17:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 02:17:48 -0000
Received: (qmail 82491 invoked by uid 500); 10 Mar 2007 02:17:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82453 invoked by uid 500); 10 Mar 2007 02:17:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82442 invoked by uid 99); 10 Mar 2007 02:17:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 18:17:51 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: unknown amxa:www.healthline.coma:mail.healthline.coma:mail.hl.locala:64-142-35-98.customer.sonic.neta:sfc-admin1.healthline.commx:mail.healthline.cominclude:sonic.net (herse.apache.org: encountered unrecognized mechanism during SPF processing of domain of jpump@healthline.com)
Received: from [64.142.35.101] (HELO mail.healthline.com) (64.142.35.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 18:17:38 -0800
Received: from [10.1.1.99] ([10.1.1.99]) by mail.healthline.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 9 Mar 2007 18:16:33 -0800
Message-ID: <45F2152D.8020208@healthline.com>
Date: Fri, 09 Mar 2007 18:17:17 -0800
From: Jason Pump <jason@healthline.com>
User-Agent: Thunderbird 1.5.0.10 (X11/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Index a source, but not store it... can it be done?
References: <ae6f38f60703080728mdc74038yc68e8a1c971fb8a0@mail.gmail.com> <45F13C97.7040201@scalix.com>
In-Reply-To: <45F13C97.7040201@scalix.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 10 Mar 2007 02:16:33.0047 (UTC) FILETIME=[1F36C270:01C762BA]
X-Virus-Checked: Checked by ClamAV on apache.org

Agree it's totally hackable, particularly with an md5 hashcode. If you 
used a 16 bit hash e.g. mod % 65536 then it becomes more difficult to 
construct the original document but less precise in querying. It might 
be nice to store the individual words contained in each document as just 
a sorted list, perhaps with a count, and then for doing more then one 
word queries, use documents which contain those words and doing 
proximity against the 16 bit or even 8 bit hashes, with a two word query 
and an 8 bit hash you should only get collisions 1 in 2^16, with a 16 
bit hash only 1 in 2^32. So your two word query would be something like  
'+words:word1 +words:word2 +proximityField:"237 116"~30 '.

John Haxby wrote:
> Chris Hostetter wrote:
>> i'm not crypto expert, but i imagine it would probably take the same
>> amount of statistical guess work to reconstruct meaningful info from
>> either approach (hashing hte individual words compared to eliminating 
>> the
>> positions) so i would think the trade off of supporting phrase queries
>> would make the hasing approach more worthwhile.
>>   
> hashing the words sounds like a brilliant idea, but it's subject to a 
> known plaintext attack. Basically if I have the index and a document 
> in it I can compare the reconstructed document consisting of hashed 
> words and the original document. I can then say that "cat" is 
> "d077f244def8a70e5ea758bd8352fcd8", dog is 
> "06d80eb0c50b49a509b49f2424e8c805" and so on. I then have a choice of 
> attacking the hash algorithm (there are no prizes for guessing what I 
> used) or simply constructing a table of known words and hashes.
>
> Injecting my own documents into the corpus would let me fill in 
> missing words or test an hypothesis about the hash algorithm. It would 
> be fun to see how long it would take to reconstruct the index with no 
> hashed words in it :-) The best, really, that can be said about 
> hashing is that it either piques the interest of someone who would 
> otherwise ignore it and discourages the most casual of hackers.
>
> Setting all the token positions to zero helps quite a lot because you 
> then can't distinguish between "the cat and dog sat on the mat" and 
> "the cat sat on the dog on the mat" (more or less) and one is much 
> more interesting than the other. Of course, simply knowing that there 
> are documents that contain the words, oh, "airport" and "bomb" would 
> be interesting. What would be even more interesting would be comparing 
> the index at different times -- like knowing that the Pentagon ordered 
> many more pizzas the day before the air strikes in the Gulf, that kind 
> of thing. (Langley, incidentally, ordered the same number they always 
> ordered, but perhaps fewer were put in the trash unconsumed.) (This 
> might also be an urban myth, I haven't ever seen anything definitive 
> about it.) (But I digress.)
>
> It all depends on how much value the owner of the original documents 
> places on them and how much effort he thinks that a hacker might be 
> prepared to put into recovering the text.
>
> The best you're ever going to do is to protect the index as well as 
> you do the original documents.
>
> jch
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


-- 
Jason Pump
Technical Architect
Healthline
660 Third Street, Ste. 100
San Francisco, CA 94107
direct dial 415.281.3133
cell 510.812.1784
www.healthline.com 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 02:23:41 2007
Return-Path: <java-user-return-26756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72612 invoked from network); 10 Mar 2007 02:23:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 02:23:40 -0000
Received: (qmail 88108 invoked by uid 500); 10 Mar 2007 02:23:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88075 invoked by uid 500); 10 Mar 2007 02:23:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88064 invoked by uid 99); 10 Mar 2007 02:23:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 18:23:42 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [65.117.131.222] (HELO moloko.kubrick.com) (65.117.131.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Mar 2007 18:23:31 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C762BA.B64D62F4"
Subject: RE: Wildcard query with untokenized punctuation
Date: Fri, 9 Mar 2007 20:15:59 -0600
Message-ID: <A18C041B52678847A234B084224EF4D4513594@moloko.kubrick.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <A18C041B52678847A234B084224EF4D4513594@moloko.kubrick.com>
Thread-Topic: Wildcard query with untokenized punctuation
Thread-Index: Acdimnx46vXuVI4eRhydoseBudoOAAAH46pH
References: <45F1EE66.4732.AD046B@lucene-users.atablis.com>
From: "McGuigan, Colin" <cmcguigan@springcm.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C762BA.B64D62F4
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

-----Original Message-----
From: Steffen Heinrich [mailto:lucene-users@atablis.com]
Sent: Fri 3/9/2007 4:31 PM
To: java-user@lucene.apache.org
Subject: Re: Wildcard query with untokenized punctuation
=20
On 9 Mar 2007 at 15:10, McGuigan, Colin wrote:

>> I have a "filename" field in Lucene that holds a value, like this:
>> pagefile.sys
>>=20
>=20
> Hi Colin,
>=20
> I'm still _very_ new to lucene, but isn't that what the un-tokenized=20
> indexing is for?
> Like in 1.9.1
> doc.add(Field.Keyword("filename", "pagefile.sys"));
>=20
> in 2.0.1
> doc.add(new Field("filename", "pagefile.sys", Field.Store.YES,=20
> Field.Index.UN_TOKENIZED));
>=20
> Maybe this will work as desired?

Hi Steve;

Thanks for your reply, but if I leave the field untokenized, then I can =
only search for the exact value ("pagefile.sys"), and I can't do any =
wildcarding at all.  My goal here is to be able to use a wildcard that =
may cross one or more tokens.

--Colin McGuigan


------_=_NextPart_001_01C762BA.B64D62F4
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C762BA.B64D62F4--

From java-user-return-26757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 08:12:36 2007
Return-Path: <java-user-return-26757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20683 invoked from network); 10 Mar 2007 08:12:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 08:12:35 -0000
Received: (qmail 36268 invoked by uid 500); 10 Mar 2007 08:12:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36231 invoked by uid 500); 10 Mar 2007 08:12:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36220 invoked by uid 99); 10 Mar 2007 08:12:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 00:12:37 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 00:12:24 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2A8C2Cp132470
	for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 08:12:02 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2A8C2qa2244684
	for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 09:12:02 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2A8C2h8009864
	for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 09:12:02 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2A8C2oA009861
	for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 09:12:02 +0100
In-Reply-To: <A18C041B52678847A234B084224EF4D401AB9BEF@moloko.kubrick.com>
Subject: Re: Wildcard query with untokenized punctuation
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF007F7E82.EACB2982-ON8825729A.002A0C3B-8825729A.002CACC1@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Sat, 10 Mar 2007 00:07:58 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 10/03/2007 10:12:01
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Colin,

Is it possible that you are using an analyzer that breaks words on non
letters? For instance SimpleAnalyzer? if so, the doc text:
   pagefile.sys
is indexed as two words:
  pagefile sys
At search time, the query text:
  pagefile.sys
is also parsed-tokenized into a two words query:
  profile sys
but the query text:
  pagefile.sys*
is not analyzed (by design) and matches only words that start with:
  pagefile.sys
But there are no such words in the index, because it was indexed with
breaking words on non-letters...

Hopefully this gets you started... If this is the reason, you may want to
use a different analyzer (See Wiki page "AnalysisParalysis").

Otherwise, make sure you use the same analyzers at indexing and search ...
and see the Lucene FAQ entry "Why am I getting no hits / incorrect hits?".

If all this still fails, try to post here a simple code snippet showing how
you index and how you search.

Regards,
Doron

"McGuigan, Colin" <cmcguigan@springcm.com> wrote on 09/03/2007 13:10:49:

> (Lucene 1.9.1)
>
>
>
> I have a "filename" field in Lucene that holds a value, like this:
> pagefile.sys
>
>
>
> If I run searches through QueryParser, and I do a search for:
>
>
>
> pagefile.sys
>
> pagefile
>
> pagefile.
>
>
>
> This all works because it goes through getFieldQuery, which tokenizes
> the string and generates a PhraseQuery out of it.
>
>
>
> But if I search for this:
>
>
>
> pagefile.*
>
>
>
> It doesn't work, because it goes through PrefixQuery, and PrefixQuery
> looks for terms that start with "pagefile.", but no terms will start
> with "pagefile.", because periods are not tokenized.  Similarly,
> searching for:
>
>
>
> pagefile*sys
>
>
>
> Doesn't work, because it goes through WildcardQuery, and WildcardQuery
> is set up to only match terms as well, and no term starts with
> "pagefile" and ends with "sys".
>
>
>
> I've done a lot of googling on this, but I can't find a good answer for
> what I should do.  I'm playing around with removing QueryParser entirely
> and generating a MultiPhraseQuery, but want to make sure I'm not
> reinventing an already invented wheel.
>
>
>
> --Colin McGuigan
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 09:52:16 2007
Return-Path: <java-user-return-26758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49627 invoked from network); 10 Mar 2007 09:52:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 09:52:15 -0000
Received: (qmail 92032 invoked by uid 500); 10 Mar 2007 09:52:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91998 invoked by uid 500); 10 Mar 2007 09:52:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91979 invoked by uid 99); 10 Mar 2007 09:52:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 01:52:18 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [217.12.11.32] (HELO smtp001.mail.ukl.yahoo.com) (217.12.11.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 10 Mar 2007 01:52:06 -0800
Received: (qmail 67137 invoked from network); 10 Mar 2007 09:51:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=wifzOywhjF3FVdJXwV2sh8CU+MmzRkFtKZZVLJy5/iA6sm32jdB5wTYuZTuIChDFjcDOv0WAozOAqgQGarN2FGZpX0zrhu4ZVVGj8z4S96i7bUZd5amnEbqJv+VLadwfwojdcstbw9wVUckF14dDp1v6/MdP/Hs9FKytFcNttQA=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp001.mail.ukl.yahoo.com with SMTP; 10 Mar 2007 09:51:45 -0000
X-YMail-OSG: EogEiYYVM1nZCSSNCg69hpIrgIUSfwGyUKj9UTPR5jxEg3O0uxwtptfZFQtBPoHhPTKqhoJSYqajjRyz7rlst806WFdITSyaHrpAX1TPXfwARTv0Jw8HqzjooQ2_nOIPWs7OfJkHTxM3AafGshEupJE-
Message-ID: <45F27FAD.5090707@yahoo.co.uk>
Date: Sat, 10 Mar 2007 09:51:41 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Find related question
References: <9405661.post@talk.nabble.com>
In-Reply-To: <9405661.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

 >>most of the body text is the same, but I want to group them all under 
one result.

I created this analyzer class to identify content that was "mostly 
similar" but not necessarily identical.
http://issues.apache.org/jira/browse/LUCENE-725

If you feed a small set of documents through it (say your search 
results) it will only emit tokens for sequences of words that it hasn't 
seen before.  Documents that have significantly more tokens going into 
NovelAnalyzer than coming out of NovelAnalyzer are near-duplicates

Cheers
Mark


sdeck wrote:
> Hello,
> I run Nutch and get a whole slew of articles and when I display search
> results, there may be 5-6 articles that have different titles, and most of
> the body text is the same, but I want to group them all under one result. 
> These are usually AP articles that all newspapers repurpose.
>
> When using the MoreLikeThis functionality, the articles that are returned
> may or may not be similar. When I run the query, the scores returned can
> range from .1 to .4 for the first 2 hits and it usually will return around
> 50 results, with the last score coming in fairly close to 0. Usually, the
> first hit is the exact same article as what I am trying to determine related
> articles for.  I know that the score value has no real meaning though,
> because it is done based upon the query, and other factors and then
> normalized.
>
> So, should I be taking (hit score/1) to use as a percentage value to see
> what other articles might be similar after that first hit? Try and normalize
> the similarity basically? Am I off my rocker?
>
> Or, is there possibly a way to use Carrot2 to find related articles for a
> given document?
>
> Thanks,
> Scott
>
>   



	
	
		
___________________________________________________________ 
All new Yahoo! Mail "The new Interface is stunning in its simplicity and ease of use." - PC Magazine 
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 11:04:04 2007
Return-Path: <java-user-return-26759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64031 invoked from network); 10 Mar 2007 11:04:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 11:04:03 -0000
Received: (qmail 29391 invoked by uid 500); 10 Mar 2007 11:04:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29054 invoked by uid 500); 10 Mar 2007 11:04:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29043 invoked by uid 99); 10 Mar 2007 11:04:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 03:04:02 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of dckorah@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 03:03:51 -0800
Received: by nf-out-0910.google.com with SMTP id g2so1222637nfe
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 03:03:30 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=UtvgRymiZG97a+oOxu1kVztzpnJJ8HHQJt9QECaRyG27hAg42uLptWkR1U3pYDpZ427SfgK7htSTLMT+bNBmGnuVLMj97W6e5jxNu/dKrSpsnB9h6xEv1xnXwVUkgGIhYuC5DYPHOo99RSyJRJ4Cq7qtvUvgJ8tOc8nqS3tcYa4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=TTejPVgz9nyqbdrSeJqHMvEBySQ/jvk34Njna0QRwozVRPkp9N/yNWIbybRuIrww+7zwgVDP0N2N6c+wAe4x3mQ7AE47oDvOcWZm1iBPh+WOYJsnALISo4Ej79VYuTnF/4sd9T5/aQX9DsW7odKFB6G1SeWyQ4eoH2kt6yLWRlY=
Received: by 10.115.32.1 with SMTP id k1mr154738waj.1173524609132;
        Sat, 10 Mar 2007 03:03:29 -0800 (PST)
Received: by 10.114.173.12 with HTTP; Sat, 10 Mar 2007 03:03:29 -0800 (PST)
Message-ID: <926b35870703100303g165a95a2of066b8b1eb97f3bc@mail.gmail.com>
Date: Sat, 10 Mar 2007 11:03:29 +0000
From: "Dino Korah" <dckorah@gmail.com>
To: "lucene list" <java-user@lucene.apache.org>
Subject: index optimisation - disk fill-up
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11221_20125660.1173524609096"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_11221_20125660.1173524609096
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi All,

I understand lucene has a requirement of double the size of index available
free on the disk on which the index is being optimised. But if in case the
disk gets filled up during optimisation, what will happen to the index,
theoretically? Is there an effective way of avoiding this?

Many Thanks
Dino


--=20
d i n o    k o r a h
51=B024'26.01"N   0=B016'38.56"W

------=_Part_11221_20125660.1173524609096--

From java-user-return-26760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 11:43:00 2007
Return-Path: <java-user-return-26760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68814 invoked from network); 10 Mar 2007 11:42:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 11:42:58 -0000
Received: (qmail 53316 invoked by uid 500); 10 Mar 2007 11:43:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53276 invoked by uid 500); 10 Mar 2007 11:43:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53264 invoked by uid 99); 10 Mar 2007 11:43:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 03:43:01 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 03:42:50 -0800
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id 041E51F58A5
	for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 06:42:29 -0500 (EST)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Sat, 10 Mar 2007 06:42:29 -0500
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 9412C16AD19; Sat, 10 Mar 2007 06:42:29 -0500 (EST)
Message-Id: <1173526949.32064.1178741685@webmail.messagingengine.com>
X-Sasl-Enc: BOz3tgTmyZwEiVLLVzZjxDY+urFve6dnaXiTRBvsESk+ 1173526949
From: "Michael McCandless" <lucene@mikemccandless.com>
To: "Lucene Users" <java-user@lucene.apache.org>
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <926b35870703100303g165a95a2of066b8b1eb97f3bc@mail.gmail.com>
Subject: Re: index optimisation - disk fill-up
In-Reply-To: <926b35870703100303g165a95a2of066b8b1eb97f3bc@mail.gmail.com>
Date: Sat, 10 Mar 2007 06:42:29 -0500
X-Virus-Checked: Checked by ClamAV on apache.org

"Dino Korah" <dckorah@gmail.com> wrote:
> I understand lucene has a requirement of double the size of index
> available
> free on the disk on which the index is being optimised. But if in case
> the
> disk gets filled up during optimisation, what will happen to the index,
> theoretically? Is there an effective way of avoiding this?

Beware, if you have readers using the index while optimize is running,
the disk space required is 3X the index size.  Worse, if those readers
are refreshing while optimize is running (by checking isCurrent() for
example), it will be even more than 3X.  It's best not to refresh
readers during an optimize.  LUCENE-710 (patch pending) aims to make
this easier by adding a "commit only on close" mode to the IndexWriter
such that readers don't see any changes until the writer is closed.

Also note that addDocument() periodically merges segments.  Every so
often (maxBufferedDocs * powers of mergeFactor) that merging will
completely cascade (produce 1 segment), making it the equivalent of an
optimize() call.  So the same disk usage caveat applies for those
addDocument() calls.

On disk full during addDocument() or during optimize(), the index will
not become corrupt.  However: prior to Lucene 2.1, you will find extra
unused partially written large files in your index (often they end
with .tmp).  As of Lucene 2.1, Lucene tries to remove such files on
hitting an exception (disk full or otherwise).

Note that if you hit disk full during addIndexes(), prior to Lucene
2.1 this could corrupt your index.  As of Lucene 2.1, it won't.  (See
LUCENE-702 for details.)

The only way to avoid disk full is to get more disk space, I think.
Unfortunately, simply "never calling optimize" won't do it because of
the case above where addDocument effectively results in an optimize.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 11:49:54 2007
Return-Path: <java-user-return-26761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13821 invoked from network); 10 Mar 2007 11:49:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 11:49:52 -0000
Received: (qmail 57395 invoked by uid 500); 10 Mar 2007 11:49:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57361 invoked by uid 500); 10 Mar 2007 11:49:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57348 invoked by uid 99); 10 Mar 2007 11:49:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 03:49:55 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.249] (HELO web60921.mail.yahoo.com) (209.73.178.249)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 10 Mar 2007 03:49:43 -0800
Received: (qmail 23386 invoked by uid 60001); 10 Mar 2007 11:49:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=RnPnfy0Fg8P7WWTD27SvD9CTFQccGdT7RfI9DBL4b8lV0MhA+O4dg7fIC3dm1mS7tC26+y9/tmSCao+x2u+xQfIjxMYK6DZX2luAPOS45HTTdffe4l6PtwPclk1hIPdhPz8r/AyN5QGSCKTWwJVjSlw/JPdoCJXuiUwecCpC8S4=;
X-YMail-OSG: 80pW0SIVM1nqhW.WPCR9zLwi1scWaoQSEbdU_Bk92CDbMe85O86zB1qyajs01Bedkj4YfuzEwutJfHY5qdc_t0y_5bgs84Gp5QEIFOikBwB06ssB7q5fhtkCMtDXtD9KnyxsbZrRxwJQfgCtVHnHfCgGQyo-
Received: from [124.43.223.214] by web60921.mail.yahoo.com via HTTP; Sat, 10 Mar 2007 03:49:21 PST
Date: Sat, 10 Mar 2007 03:49:21 -0800 (PST)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Need a help
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-309287863-1173527361=:23098"
Content-Transfer-Encoding: 8bit
Message-ID: <467517.23098.qm@web60921.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-309287863-1173527361=:23098
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi all,
   
  I'm new to this group,
   
  I'm using lucene for indexing. I have a problem. Any help gratly appreciate.
   
  Please see the following code
  // three fields
  MultiFieldQueryParser parser = new MultiFieldQueryParser(new String[]{"title", "tags", "content"}, new StandardAnalyzer());
  // OR operator
        parser.setDefaultOperator(QueryParser.Operator.OR);
  // first step : search in lucene indexes
        IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)
   
  // searchString is a String with many words
  Query lquery = parser.parse(searchString);

  //new QueryParser("content", new StandardAnalyzer());
Hits hits = searcher.search(lquery);
   
  How can I find the matched words in searchString.
  for a example
  will say the searchString="wordone wordtwo wordthree". there are some hits for "wordone" and "wordthree". but no hits for "wordtwo". 
  So what I want is to get "wordone" and "wordthree". (results are available only for "wordone" and "wordthree". ).(I hope question is clear now)
  How can i get this with lucene.
   
  Many thanks.
  Chaminda Amarasighe

 
---------------------------------
Food fight? Enjoy some healthy debate
in the Yahoo! Answers Food & Drink Q&A.
--0-309287863-1173527361=:23098--

From java-user-return-26762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 13:33:38 2007
Return-Path: <java-user-return-26762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31543 invoked from network); 10 Mar 2007 13:33:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 13:33:37 -0000
Received: (qmail 1492 invoked by uid 500); 10 Mar 2007 13:33:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1463 invoked by uid 500); 10 Mar 2007 13:33:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1451 invoked by uid 99); 10 Mar 2007 13:33:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 05:33:38 -0800
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of dziadgba@googlemail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 05:33:25 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1664296ugc
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 05:33:04 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=googlemail.com; s=beta;
        h=domainkey-signature:received:received:date:to:subject:organization:content-type:mime-version:content-transfer-encoding:message-id:user-agent:from;
        b=CaR3ShDMujAOAElhc50QnZY+WLOeL8qhG8xiYnlKtJqbfx5RP6OmAmykRA9wwVfIQK9hosoJItatR+Kj5dvYpn9XzG4a98s/Rkf0jH+CugqTdyJeO5U1aFUqxOCj94MGmYiw87p75ps9oJR0slOe5zDIDy0UNqQotDihKRYC150=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=beta;
        h=received:date:to:subject:organization:content-type:mime-version:content-transfer-encoding:message-id:user-agent:from;
        b=buFVT+pO5BAnz2OaIii06zjwFbplI5F9ma7bE/GRlL5Mtomm7k7vxCx8piV52bckP/cm+MK5Nh0aun/MG+t61XZqVLUL3Z78OcrgEZk3IY1gNWTId6S8W2G0xlqtDEIxDFY4Xup3xQGKEwcZM1JQU8DVOmkA9jbWlEYUeuh9kgE=
Received: by 10.67.29.12 with SMTP id g12mr12244104ugj.1173533584507;
        Sat, 10 Mar 2007 05:33:04 -0800 (PST)
Received: from idefix.residential.fw ( [213.140.22.74])
        by mx.google.com with ESMTP id g1sm13606202muf.2007.03.10.05.33.03;
        Sat, 10 Mar 2007 05:33:03 -0800 (PST)
Date: Sat, 10 Mar 2007 14:33:03 +0100
To: java-user@lucene.apache.org
Subject: HITS and termDoc give different results
Organization: GMAIL
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
MIME-Version: 1.0
Content-Transfer-Encoding: Quoted-Printable
Message-ID: <op.toy6ldi0329srq@idefix.residential.fw>
User-Agent: Opera Mail/9.10 (Win32)
From: dziadgba <dziadgba@googlemail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

hye,
I want to extract documents which contain a specific term.
I tried to do it in two different ways:

1 Using the 'iterator' termdocs =3D reader.termDocs(term);
2 Using search and examing Hits

turns out that the result are sometimes equal, sometimes the first is a =
 =

subset of the
second and sometimes there is no connection between the two results.

can somebody give me a hint?

bye


    public void addDocumentsToTerm(int debug, String myterm) throws  =

Exception
     { TermEnum terms=3Dreader.terms();

       MyDocument doc;
       Document docLucene;
       int count=3D0;
       boolean b=3Dfalse;
       if(debug=3D=3D1) System.out.print("Checking (MyTerm) "+myterm+" .=
.. ");

       while (terms.next())
       { Term t =3D terms.term();
         if(t.text().compareTo(myterm)=3D=3D0)
         { TermDocs termDocs =3D reader.termDocs(t);
           while(termDocs.next())
           {
             if(debug=3D=3D1 && count=3D=3D0) System.out.println("equal =
to (Term)  =

"+t.text());
             count++;
             docLucene =3D reader.document(termDocs.doc());
               if(debug=3D=3D1) System.out.println("  docLucene:  =

["+termDocs.doc()+"-
                             "+docLucene.getField("Code").stringValue()+=
"]  =

");
             b=3Dtrue;
           }
             System.out.println();

             QueryParser pars =3D new QueryParser("Text",new  =

StandardAnalyzer());
             Query q=3D pars.parse(t.text());
             Hits hits =3D searcher.search(q);

             System.out.println("Found "+hits.length()+" matches for que=
ry  =

"+q);
             for(int i=3D0;i<hits.length();i++)
             {  Document d =3D hits.doc(i);
                System.out.println("        doc:  =

["+d.+"-"+d.getField("Code").stringValue()+"]");

             }

           System.out.println();
           if(b=3D=3Dfalse)
             System.out.println("No Document found for term:  =

"+myterm.getTerm());
           if(debug=3D=3D1)if(count < myterm.getDocFreq()&&count>0)  =

System.out.println("        Error term: "+myterm.getTerm()+", documents =
 =

found: "
                                                            +count+",  =

docFreq: "+myterm.getDocFreq());

           return;
         }
       }
     }

OUPUT

Checking (Myterm) zucca ... equal to (Term) zucca
   docLucene: [9963-356 U.S. 256]

Found 8 matches for query Text:zucca
         doc: [0-356 U.S. 256]
         doc: [1-365 U.S. 290]
         doc: [2-351 U.S. 91]
         doc: [3-356 U.S. 660]
         doc: [4-365 U.S. 265]
         doc: [5-377 U.S. 235]
         doc: [6-435 U.S. 519]
         doc: [7-441 U.S. 281]

         Error term: zucca, documents found: 1, docFreq: 8

Checking (Myterm) zimroth ... equal to (Term) zimroth
         doc: [16478-476 U.S. 467]
         doc: [17142-492 U.S. 257]
         doc: [17208-488 U.S. 235]
         doc: [17911-484 U.S. 1]
         doc: [17920-487 U.S. 1]
         doc: [18010-484 U.S. 301]

Found 8 matches for query Text:zimroth
         doc: [0-389 U.S. 143]
         doc: [1-468 U.S. 981]
         doc: [2-489 U.S. 688]
         doc: [3-491 U.S. 781]
         doc: [4-436 U.S. 412]
         doc: [5-445 U.S. 573]
         doc: [6-462 U.S. 213]
         doc: [7-468 U.S. 897]

         Error term: zimroth, documents found: 6, docFreq: 8




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 16:21:01 2007
Return-Path: <java-user-return-26763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63984 invoked from network); 10 Mar 2007 16:21:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 16:21:00 -0000
Received: (qmail 93472 invoked by uid 500); 10 Mar 2007 16:21:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93442 invoked by uid 500); 10 Mar 2007 16:21:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93431 invoked by uid 99); 10 Mar 2007 16:21:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 08:21:01 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mrs.nospam@gmail.com designates 64.233.184.239 as permitted sender)
Received: from [64.233.184.239] (HELO wr-out-0506.google.com) (64.233.184.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 08:20:49 -0800
Received: by wr-out-0506.google.com with SMTP id 68so1782310wra
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 08:20:28 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ewHyG21DFk7L1ymwS/MS6As3PbQsmweVyGkYam3GB0z8d+zZ0xu6pQ/oZ3qFX16aF6SDiHBZLEXoqt2cS8j4kPkrCpq1u29NGf8tt9W7N337HVvDdQIO97ebnZSfK0vIX+u/hvC/pekVllm9LlonNAPHGpI8u1Axh9fbgyKuy2A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=J8UOX5u0t4N4MMYdgHe3EYdpvXQfUd1lhxjY4NHt7ckmJLHqKLjMwRC9C17HZlmyGgfBOLdnVoYjmiqrz8o2M4RDv9B0ZNGPX05M1SfLIlHuVGiRSoJFJY0BsTv6wNuMmg8ULVvxoCXZ/scZOZ28h0v9JfWkt1h5pAqlydPGNcQ=
Received: by 10.90.81.14 with SMTP id e14mr1071199agb.1173543627799;
        Sat, 10 Mar 2007 08:20:27 -0800 (PST)
Received: by 10.90.31.3 with HTTP; Sat, 10 Mar 2007 08:20:27 -0800 (PST)
Message-ID: <bd818c7b0703100820k6d2389b7rd992ba75dddbaad7@mail.gmail.com>
Date: Sat, 10 Mar 2007 11:20:27 -0500
From: "no spam" <mrs.nospam@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: updating index
In-Reply-To: <359a92830702250705g3bef1f46rf8b20a957f772193@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6705_18089274.1173543627743"
References: <bd818c7b0702211442i78a202d7y8d527b12dbf441f6@mail.gmail.com>
	 <359a92830702211602k5214be53r81a81d776feec362@mail.gmail.com>
	 <bd818c7b0702241929l31c262e9l891bfeb486f94efc@mail.gmail.com>
	 <359a92830702250705g3bef1f46rf8b20a957f772193@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_6705_18089274.1173543627743
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

BTW Erick this works brilliantly with UN_TOKENIZED.  SUPER fast :)

On 2/25/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> Yes, I'm pretty sure you have to index the field (UN_TOKENIZED) to be able
> to fetch it with TermDocs/TermEnum! The loop I posted works like this....
>
> for each term in the index for the field
>     if  this is one I want to update
>          use a TermDocs to get to that document and operate on it.
>
>
> But this is actually pretty silly. Your loop uses a better approach,
> except
> you're not using TermDocs correctly. Try
>
>      TermDocs tDocs = new IndexReader.TermDocs()
>      for (Business biz : updates)
>        {
>            Term t = new Term("id", biz.getId());
>            tDocs.seek(t);
>            while (tDocs.next())
>            {
>                Document doc = reader.document(tDocs.doc());
>            }
>        }
>
> But TermDocs/TermEnum is looking at terms in the index. If you haven't
> indexed the term, you won't find it, so your Field.Index.NO is really
> hurting you here.
>
> Best
> Erick
>
> On 2/24/07, no spam <mrs.nospam@gmail.com> wrote:
> >
> > I didn't fully understand your last post and why I wanted to do
> > IndexReader.terms() then IndexReader.termDocs().  Won't something like
> > this
> > work?
> >
> >         for (Business biz : updates)
> >         {
> >             Term t = new Term("id", biz.getId()+"");
> >             TermDocs tDocs = reader.termDocs(t);
> >
> >             while (tDocs.next())
> >             {
> >                 Document doc = reader.document(tDocs.doc());
> >             }
> >         }
> >
> > But tDocs never contains any docs.   Is this because I've indexed my pk
> > like
> > this:
> >
> > doc.add(new Field("id", biz.getId(), Field.Store.YES, Field.Index.NO));
> >
> > instead of
> >
> > doc.add(new Field("id", biz.getId(), Field.Store.YES,
> > Field.Index.UNTOKENIZED));
> >
> > Mark
> >
> > On 2/21/07, Erick Erickson <erickerickson@gmail.com> wrote:
> > >
> > > I think you can get MUCH better efficiency by using TermEnum/TermDocs.
> > But
> > > I
> > > think you need to index (UN_TOKENIZED) your primary key (although now
> > I'm
> > > not sure. But I'd be surprised if TermEnum worked with un-indexed
> data.
> > > Still, it'd be worth trying but I've always assumed that TermEnums
> only
> > > worked on indexed fields....).....
> > >
> > > Anyway, your loop looks more like this...
> > >
> > > TermEnum terms = IndexReader.terms(new Term("primarykey", ""));
> > > TermDocs tDocs = IndexRreader.termDocs();
> > >
> > > while (terms.next()) {
> > >    if (docsToUpdate.contains(terms.text()) {
> > >        tDocs.seek(terms.term());
> > >        writer.updateDocument(tDocs.doc());
> > >    }
> > > }
> > >
> > > NOTE: I've been fast and loose with edge conditions, like insuring
> that
> > > while (terms.next()) doesn't skip the first term, so caveat emptor....
> > > This
> > > loop also assumes that there is one and only one document in your
> index
> > > with
> > > the primary key. Otherwise, you have to do some more work with the
> > > TermDocs
> > > class to process each document that has your primary key...
> > >
> > > This is similar to creating Lucene filters, which is very fast....
> > >
> > > Hope this helps
> > > Erick
> > >
> > >
> > >
> > >
> >
>

------=_Part_6705_18089274.1173543627743--

From java-user-return-26764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 10 19:05:06 2007
Return-Path: <java-user-return-26764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88647 invoked from network); 10 Mar 2007 19:05:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 10 Mar 2007 19:05:06 -0000
Received: (qmail 88429 invoked by uid 500); 10 Mar 2007 19:05:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88391 invoked by uid 500); 10 Mar 2007 19:05:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88380 invoked by uid 99); 10 Mar 2007 19:05:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 11:05:08 -0800
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [65.117.131.222] (HELO moloko.kubrick.com) (65.117.131.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 11:04:59 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Wildcard query with untokenized punctuation
Date: Sat, 10 Mar 2007 13:04:37 -0600
Message-ID: <A18C041B52678847A234B084224EF4D401AB9C20@moloko.kubrick.com>
In-Reply-To: <OF007F7E82.EACB2982-ON8825729A.002A0C3B-8825729A.002CACC1@il.ibm.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Wildcard query with untokenized punctuation
Thread-Index: Acdi64gcI9uUNlKpQ16bxUXVGdnFfwASfF5Q
References: <A18C041B52678847A234B084224EF4D401AB9BEF@moloko.kubrick.com> <OF007F7E82.EACB2982-ON8825729A.002A0C3B-8825729A.002CACC1@il.ibm.com>
From: "McGuigan, Colin" <cmcguigan@springcm.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Doron;

You're entirely correct about the analyzer (I'm using one that breaks on
non-alphanumeric characters, so all punctuation is ignored).  To be
honest, I hadn't thought about altering this, but I guess I could; just
reticent that there might be unforeseen consequences.

But I'm still curious about the original solution.  Shouldn't it be
possible to take "pagefile.*" and tokenize it (essentially throwing away
the wildcard at the end)? =20

--Colin McGuigan

-----Original Message-----
From: Doron Cohen [mailto:DORONC@il.ibm.com]=20
Sent: Saturday, March 10, 2007 2:08 AM
To: java-user@lucene.apache.org
Subject: Re: Wildcard query with untokenized punctuation

Hi Colin,

Is it possible that you are using an analyzer that breaks words on non
letters? For instance SimpleAnalyzer? if so, the doc text:
   pagefile.sys
is indexed as two words:
  pagefile sys
At search time, the query text:
  pagefile.sys
is also parsed-tokenized into a two words query:
  profile sys
but the query text:
  pagefile.sys*
is not analyzed (by design) and matches only words that start with:
  pagefile.sys
But there are no such words in the index, because it was indexed with
breaking words on non-letters...

Hopefully this gets you started... If this is the reason, you may want
to
use a different analyzer (See Wiki page "AnalysisParalysis").

Otherwise, make sure you use the same analyzers at indexing and search
...
and see the Lucene FAQ entry "Why am I getting no hits / incorrect
hits?".

If all this still fails, try to post here a simple code snippet showing
how
you index and how you search.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 01:56:37 2007
Return-Path: <java-user-return-26765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71852 invoked from network); 11 Mar 2007 01:56:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 01:56:36 -0000
Received: (qmail 31300 invoked by uid 500); 11 Mar 2007 01:56:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31268 invoked by uid 500); 11 Mar 2007 01:56:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31257 invoked by uid 99); 11 Mar 2007 01:56:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 17:56:39 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of dckorah@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 17:56:28 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1800227ugc
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 17:56:07 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lVBTnHUQND6s5FgzbqwyRIaYf72i3x3jpR5yqrgx0heUYqvnaO5TeELDD76CtbfOapncezrEtbFAyaS5JDhdxl8el2hAqORkGkIxNh+EdKQHuRtLtWQbDR0bF0zmqSgvEYNbzTOd0Bj0WBx5ezXHgupdDVUy8YufjykIvNvRO6M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=stH8G9xZg7rfo21vbtmrJbOquHZ78RWo5S3YUclU0fFLxEuPb20nmlpzJvirbCNPBbN6EeNr+UzAKEvCg7NFh9H+8SmoH83AsFk2sX36SIiOM5pHPfU0Coiszc+LAjfMDzhhXVAPkIJVvVQCHXEQxJ3wrd7fXTcrSUFi15roZbk=
Received: by 10.114.197.1 with SMTP id u1mr655959waf.1173578165960;
        Sat, 10 Mar 2007 17:56:05 -0800 (PST)
Received: by 10.114.173.12 with HTTP; Sat, 10 Mar 2007 17:56:05 -0800 (PST)
Message-ID: <926b35870703101756k2b168359te0118f9d5da5dc36@mail.gmail.com>
Date: Sun, 11 Mar 2007 01:56:05 +0000
From: "Dino Korah" <dckorah@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index optimisation - disk fill-up
In-Reply-To: <1173526949.32064.1178741685@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18048_15621447.1173578165927"
References: <926b35870703100303g165a95a2of066b8b1eb97f3bc@mail.gmail.com>
	 <1173526949.32064.1178741685@webmail.messagingengine.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_18048_15621447.1173578165927
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Cheers Michael.


On 10/03/07, Michael McCandless <lucene@mikemccandless.com> wrote:
>
> "Dino Korah" <dckorah@gmail.com> wrote:
> > I understand lucene has a requirement of double the size of index
> > available
> > free on the disk on which the index is being optimised. But if in case
> > the
> > disk gets filled up during optimisation, what will happen to the index,
> > theoretically? Is there an effective way of avoiding this?
>
> Beware, if you have readers using the index while optimize is running,
> the disk space required is 3X the index size.  Worse, if those readers
> are refreshing while optimize is running (by checking isCurrent() for
> example), it will be even more than 3X.  It's best not to refresh
> readers during an optimize.  LUCENE-710 (patch pending) aims to make
> this easier by adding a "commit only on close" mode to the IndexWriter
> such that readers don't see any changes until the writer is closed.
>
> Also note that addDocument() periodically merges segments.  Every so
> often (maxBufferedDocs * powers of mergeFactor) that merging will
> completely cascade (produce 1 segment), making it the equivalent of an
> optimize() call.  So the same disk usage caveat applies for those
> addDocument() calls.
>
> On disk full during addDocument() or during optimize(), the index will
> not become corrupt.  However: prior to Lucene 2.1, you will find extra
> unused partially written large files in your index (often they end
> with .tmp).  As of Lucene 2.1, Lucene tries to remove such files on
> hitting an exception (disk full or otherwise).
>
> Note that if you hit disk full during addIndexes(), prior to Lucene
> 2.1 this could corrupt your index.  As of Lucene 2.1, it won't.  (See
> LUCENE-702 for details.)
>
> The only way to avoid disk full is to get more disk space, I think.
> Unfortunately, simply "never calling optimize" won't do it because of
> the case above where addDocument effectively results in an optimize.
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--=20
d i n o    k o r a h
Tel: +44 795 66 65 283
--------------------------------
51=B024'26.01"N   0=B016'38.56"W

------=_Part_18048_15621447.1173578165927--

From java-user-return-26766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 03:32:48 2007
Return-Path: <java-user-return-26766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96600 invoked from network); 11 Mar 2007 03:32:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 03:32:47 -0000
Received: (qmail 83171 invoked by uid 500); 11 Mar 2007 03:32:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83129 invoked by uid 500); 11 Mar 2007 03:32:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83117 invoked by uid 99); 11 Mar 2007 03:32:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 19:32:48 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 19:32:37 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1813041ugc
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 19:32:15 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LyoxkpUG2sP96+FlNaf5EwWydoAw7NN3+SpqScyvfh8K1LEJYeRLup3bIYTor8MhMJeMnQTOJi+Uauxd9baaG0TKK0VrwQtZe2L/mW/O+ZbTQ2duFY2vfX7uALLbG0TNQFN2nIyDCw2+Ht5n9Hf9kEwJ0q6nMRgAjG31l3jYORY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=A+UYqzBmzKRkZphbtboNm7rZ7v402jdTbjtXY3zrZ/wjkPTUgu6v2v1jODEdVblY9CYgfoDwWznrB2Rx1GqzScdyy2HZ7kd76/50RldNIf+qQR41GZ6C2PDKKgDq4uQWAF2YLd6d0LDmY88MhDQkEo/hyf7iEZaOflgAnBGkYDk=
Received: by 10.114.72.1 with SMTP id u1mr683034waa.1173583934654;
        Sat, 10 Mar 2007 19:32:14 -0800 (PST)
Received: by 10.114.131.16 with HTTP; Sat, 10 Mar 2007 19:32:14 -0800 (PST)
Message-ID: <b6246fe60703101932o35228092yae42214779ffca06@mail.gmail.com>
Date: Sun, 11 Mar 2007 09:02:14 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <OF45321096.C074A0A7-ON88257298.002321C7-88257298.0023E9C5@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18340_12213451.1173583934611"
References: <b6246fe60703072039h22ca8ba8p595a3ace5e644a2e@mail.gmail.com>
	 <OF45321096.C074A0A7-ON88257298.002321C7-88257298.0023E9C5@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_18340_12213451.1173583934611
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

does that mean* jakarta&apache* should search for   * jakartaapache*
But using *jakarta&apache* am able to search for *jakarta apache* , but was
confused as no reference to this query String(jakarta&apache) could find
anywhere on net.

Regards,
Ruchi
On 3/8/07, Doron Cohen <DORONC@il.ibm.com> wrote:
>
> Most likely the string  jakarta&apache  is analyzed as a single word,
> both at indexing time and at search time.
>
> See also "AnalysisParalysis" in Lucene Wiki.
>
> "ruchi thakur" <ruchithakur1@gmail.com> wrote on 07/03/2007 20:39:27:
>
> > Thanks Patrick. One more question. The info in link says to use the
> below
> > query for phrase
> > "jakarta apache"      . It works fine.
> > But when i run     jakarta&apache     also, it has the same effect, ie;
> like
> > a phrase. It works fine too. Though it is working but still am little
> > doubtful as i could not find this phase representation anywhere on net.
> So
> > am worried if  jakarta&apache , might slip somewhere.
> >
> > Regards,
> > Ruchi
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_18340_12213451.1173583934611--

From java-user-return-26767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 05:09:13 2007
Return-Path: <java-user-return-26767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12353 invoked from network); 11 Mar 2007 05:09:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 05:09:12 -0000
Received: (qmail 17193 invoked by uid 500); 11 Mar 2007 05:09:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17151 invoked by uid 500); 11 Mar 2007 05:09:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17140 invoked by uid 99); 11 Mar 2007 05:09:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 21:09:15 -0800
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=HTML_MESSAGE,PLING_PLING,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 66.249.82.226 as permitted sender)
Received: from [66.249.82.226] (HELO wx-out-0506.google.com) (66.249.82.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 21:09:03 -0800
Received: by wx-out-0506.google.com with SMTP id i29so1365030wxd
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 21:08:41 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=sgG9sJt4Sc45eKabtvLBcMxVWycuJhy/UsMRD5XDLbFzyivKyA7Tus6LrJZIev4o2VCNEiTmJzL/pcFK36WBvO/dtlNmxDRW/v7podGKR1cDr6MZh6w1zicNpKhXLA0Co5WX1y2kU2FfsxPfi7c9kZoF2j0ufHHP/6ua7mpTAIQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=HuFLothRpGG4jLI2aJ7DgAe1YeE8piFKEhdAH/cybbhnI1Q5dKXheTkCSGeHAve2JzNi5FVrt8c/F6mJlAl0yI/E/cpt8lM8EeNxDj86CwH8Hvj7dMcbVMjZm7TiYoLvqnY/4GylUoUYpsFB+9h4iQ8K8fZIPobalpgqp7NqIHU=
Received: by 10.70.57.8 with SMTP id f8mr7056946wxa.1173589721053;
        Sat, 10 Mar 2007 21:08:41 -0800 (PST)
Received: by 10.65.225.16 with HTTP; Sat, 10 Mar 2007 21:08:40 -0800 (PST)
Message-ID: <2b817f360703102108m23a3611fv218e740d979600d4@mail.gmail.com>
Date: Sun, 11 Mar 2007 10:38:40 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: tomcat-dev@jakarta.apache.org, java-user@lucene.apache.org
Subject: help!!!!
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5734_21600532.1173589720968"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_5734_21600532.1173589720968
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi all my name is ashwin i am trying to connect my servlet front end to my
backend lucene search program

these r the two programs


<<frontend servlet program>>

import javax.servlet.*;
import javax.servlet.http.*;
import java.io.*;
import java.lang.*;

//import java.io.*;
import java.io.FileReader;
import java.io.Reader;
import java.util.Date;
//import frontend.mainpage;
import java.lang.*;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Searchable;
import org.apache.lucene.search.Searcher;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.Query;

public class mainpage extends HttpServlet
{
    static int numRequest=0;

    public void init(ServletConfig config)throws ServletException
    {
        super.init(config);
    }



    public void doGet(HttpServletRequest req,HttpServletResponse res)throws
ServletException,IOException
    {
        try
        {
            res.setContentType("text/html");


            PrintWriter out=res.getWriter();




             out.println("<html><head><title>testing</title></head>");

            out.println("<body>");

             out.println("<h1>Distrubuted Desktop Search using
lucene</h1>");

              TextFileIndexer index=new TextFileIndexer(out);

            out.println("<br><form method=\"post\">");

            out.println("<input type=\"text\" name =\"toSearch\" size=100
maxlength=100>");

            out.println(" <input type=\"submit\" name=\"searchbutton\"
value=\"search\"><br>");

            out.println("</form>");

            out.println("</body></html>");
            out.close();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }


    }

    public String getServletInfo()
    {
        return "good";
    }

    public void doPost(HttpServletRequest req,HttpServletResponse res)throws
ServletException, IOException
    {
        try
        {
            res.setContentType("text/html");

            String searchString = req.getParameter("toSearch");

            PrintWriter out=res.getWriter();

            out.println("<head><title>testing</title></head>");

            out.println("<body>");

            out.println("<h1>"+searchString+"</h1>");

            TextFileMatch match=new TextFileMatch(searchString,out);

            out.println("</body></html>");

            out.close();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }

    }
    public void destroy()
    {

    }
}


<<backend lucene search program>>

import java.io.*;
import java.io.FileReader;
import java.io.Reader;
import java.util.Date;
//import frontend.mainpage;
import java.lang.*;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Searchable;
import org.apache.lucene.search.Searcher;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.Query;

class TextFileMatch
{
    public TextFileMatch(String searchString,PrintWriter out)throws
Exception
    {
          Searcher searcher = new IndexSearcher("C:\\luceneIndex");
         Analyzer analyzer = new StandardAnalyzer();

         String toSearch=searchString;
         String buffer=new String("");

         System.out.println("\n"+toSearch+"\n");

           Query query = QueryParser.parse(toSearch,"content",analyzer);
          out.println("Searching for: " + query.toString("text"));
          Hits hits = searcher.search(query);
          System.out.println("Number of matching documents = " + hits.length
());
           for (int i = 0; i < hits.length(); i++)
            {
             Document doc = hits.doc(i);
             //buffer=buffer+"\n"+"file :"+doc.get("path")+"\n";
              out.println("File: " + doc.get("path") +   "  ,   score: " +
hits.score(i));
          }
    }
}

class TextFileIndexer
{
 public TextFileIndexer(PrintWriter out) throws Exception
 {

    out.println("*************");
   File fileDir= new File("C:\\files");

   File indexDir= new File("C:\\luceneIndex");

   Boolean flag=false;

   Analyzer luceneAnalyzer = new StandardAnalyzer();


   IndexWriter indexWriter = new IndexWriter(indexDir,luceneAnalyzer,true);

   File[] textFiles= fileDir.listFiles();

   long startTime = new Date().getTime();

   System.out.println("\n the total number of files in the directory is
"+textFiles.length+"\n");

   for(int i = 0; i < textFiles.length; i++)
   {

       if(textFiles[i].getName().endsWith(".txt"))
       {
            System.out.println("\n File " +
textFiles[i].getCanonicalPath()+" is being indexed");
         Reader textReader = new FileReader(textFiles[i]);
         Document document = new Document();
         document.add(Field.Text("content",textReader));
         document.add(Field.Text("path",textFiles[i].getPath()));
         indexWriter.addDocument(document);

       }
       else if(textFiles[i].getName().endsWith(".pdf"))
       {


       }

   }

   indexWriter.optimize();
   indexWriter.close();
   long endTime = new Date().getTime();

   System.out.println("It took " + (endTime - startTime) + " milliseconds to
create an index for the files in the directory "+ fileDir.getPath());
  }
}



<<note>>
all programs and class files are inside a same folder

the error msg i am getting is

HTTP Status 500 -
------------------------------

*type* Exception report

*message*

*description* *The server encountered an internal error () that prevented it
from fulfilling this request.*

*exception*

javax.servlet.ServletException: Servlet execution threw an exception
	filters.ExampleFilter.doFilter(ExampleFilter.java:101)

*root cause*

java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
	mainpage.doGet(mainpage.java:54)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	filters.ExampleFilter.doFilter(ExampleFilter.java:101)

*note* *The full stack trace of the root cause is available in the Apache
Tomcat/5.5.8 logs.*
------------------------------
Apache Tomcat/5.5.8
pls help me debug this error

thanks
regards
ashwin

------=_Part_5734_21600532.1173589720968--

From java-user-return-26768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 05:51:21 2007
Return-Path: <java-user-return-26768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17868 invoked from network); 11 Mar 2007 05:51:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 05:51:20 -0000
Received: (qmail 37651 invoked by uid 500); 11 Mar 2007 05:51:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37096 invoked by uid 500); 11 Mar 2007 05:51:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37081 invoked by uid 99); 11 Mar 2007 05:51:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 21:51:22 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 21:51:11 -0800
Received: by nf-out-0910.google.com with SMTP id g2so1400568nfe
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 21:50:49 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DP+e8CS3kOnZ/OFYMEITeCEMy7vHlu05dVMrSdQ15rD28KnrCwF5g/PyE+WF/TX4C8Drn1EAyQ8BhfgO4FWDVHivBTE8BTZidu/XLtPVNZwtdicnyOIZdfVEUhzFj3Fft6oW9S9m74lu/6eT+0oV3RzlF3Q9g7XrFiU/KXum3xc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nDoA+8gxJMgDzdrtx8iPQTFAwmR3jc6ML15W84h3IDHrWM/ZitCOKT8srgjn9AUMB0q2SkeIYljjb+/rvNGyuPGm1HJwQRnHBi+cBCBWiZ8TpciHIiOjcUktv8loqVRGzuXuGI+EfAqPV0MFGoEF7XDIkbehVUpKyfJPZ90pqds=
Received: by 10.82.167.5 with SMTP id p5mr5862927bue.1173592249474;
        Sat, 10 Mar 2007 21:50:49 -0800 (PST)
Received: by 10.82.180.11 with HTTP; Sat, 10 Mar 2007 21:50:49 -0800 (PST)
Message-ID: <34b8543c0703102150x19182a2q4c9f25291cf975ca@mail.gmail.com>
Date: Sun, 11 Mar 2007 09:20:49 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: A solution to HitCollector-based searches problems
In-Reply-To: <e71b9bb40703081123o6fc4ed6fv567cfc3ee6821bd4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11875_32619499.1173592249390"
References: <e71b9bb40702251556j33575bd3x60f5e346489d68ce@mail.gmail.com>
	 <e71b9bb40703081123o6fc4ed6fv567cfc3ee6821bd4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_11875_32619499.1173592249390
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGkgT3JhbWFzCmlmIEkgdXNlIHRoYXQgamFyIGZpbGUsIGl0IGNvbmZsaWN0cyB3aXRoIGx1Y2Vu
ZS1jb3JlLmphciBmaWxlLiBmb3IgZXhhbXBsLApJbmRleFNlYXJjaGVyIGNsYXNzIHRoYXQgeW91
IGRlZmluZWQgaXMgZGlmZmVyZW50IGZyb20gdGhlIG9yaWdpbmFsIG9uZS4gRG8KSSBoYXZlIHRv
IHJlbW92ZSB0aGUgbHVjZW5lLWNvcmUgamFyIGZpbGU/CmlmIHllcywgaG93IGFib3V0IHRoZSBv
dGhlciBvcmlnaW5hbCBjbGFzc2VzCgpPbiAzLzgvMDcsIG9yYW1hcyBtYXJ0w61uIDxqbG9yYW1h
c0BnbWFpbC5jb20+IHdyb3RlOgo+Cj4gSGVsbG8sCj4KPiBJIGhhdmUganVzdCBhZGRlZCBzb21l
IHNlYXJjaCBpbXBsZW1lbnRhdGlvbiBzYW1wbGVzIGJhc2VkIG9uIHRoaXMKPiBjb2xsZWN0b3IK
PiBzb2x1dGlvbiwgdG8gZWFzeSB0aGUgdXNlIGFuZCB1bmRlcnN0YW5kaW5nIG9yIGl0Ogo+Cj4g
ICAgIC0gS2V5d29yZFNlYXJjaDogRXh0cmFjdCB0aGUgdGVybXMgKGFuZCBmcmVxdWVuY3kpIGZv
dW5kIGluIGEgbGlzdCBvZgo+IGZpZWxkcwo+ICAgICAgICAgICAgICAgICAgICAgIGZyb20gdGhl
IHJlc3VsdHMgb2YgYSBxdWVyeS9maWx0ZXIgc2VhcmNoCj4KPiAgICAgLSBHb29nbGVTZWFyY2g6
IFJldHVybiBhbiBvcmRlcmVkIHNlYXJjaCByZXN1bHQgZ3JvdXBlZCBhIGxhIEdvb2dsZSwKPiBi
YXNlZAo+ICAgICAgICAgICAgICAgICAgICAgb24gdGhlIHRlcm1zIGZvdW5kIGluIGEgbGlzdCBv
ZiBmaWVsZHMKPgo+ICAgICAtIEdldEZpZWxkTmFtZXNPcDogT3BlcmF0aW9uIHRvIG1pbWljIHRo
ZSBnZXRGaWVsZE5hbWVzIG1ldGhvZCBvZgo+ICAgICAgICAgICAgICAgICAgICAgICAgSW5kZXhS
ZWFkZXIgYnV0IHVzaW5nIGEgc2VhcmNoZXIuIFdpdGggaXQsIGl0IGlzCj4gcG9zc2libGUKPiAg
ICAgICAgICAgICAgICAgICAgICAgIHRvIGV4cGxvcmUgdGhlIGZpZWxkcyBvZiByZW1vdGUgaW5k
ZXhlcy4KPgo+IFNlZSBodHRwOi8vc291cmNlZm9yZ2UubmV0L3Byb2plY3RzL2x1Y29sbGVjdG9y
LyBmb3IgdGhlIHNvdXJjZSBjb2RlICgKPiBsdS1jb2xsZWN0b3Itc3JjLXNhbXBsZW9wLTAuOC56
aXApLgo+Cj4gUmVnYXJkcywKPiBKb3PDqSBMLiBPcmFtYXMKPgo+IE9uIDIvMjYvMDcsIG9yYW1h
cyBtYXJ0w61uIDxqbG9yYW1hc0BnbWFpbC5jb20+IHdyb3RlOgo+ID4KPiA+Cj4gPiBIZWxsbywK
PiA+Cj4gPiBBcyB5b3UgcHJvYmFibHkga25vdywgdGhlIEhpdENvbGxlY3Rvci1iYXNlZCBzZWFy
Y2ggQVBJIGlzIG5vdCBtZWFudCB0bwo+ID4gd29yayByZW1vdGVseSwgYmVjYXVzZSBpdCB3aWxs
IGdlbmVyYXRlIGEgUlBDLWNhbGxiYWNrIGZvciBldmVyeQo+IG5vbi16ZXJvCj4gPiBzY29yZS4K
PiA+Cj4gPiBUaGVyZSBpcyBhbm90aGVyIHByb2JsZW0gd2l0aCBNdWx0aVNlYXJjaGVyLUhpdENv
bGxlY3Rvci1iYXNlZCBzZWFyY2gKPiA+IHdoaWNoIGtub3dzIG5vdGhpbmcgYWJvdXQgbWl4IEhp
dENvbGxlY3RvciBiYXNlZCBzZWFyY2hlcyAobm90IHRvIHNheSBpdAo+IGhhcwo+ID4gaGFyZGNv
ZGUgdGhlIHdheSB0byBtaXggVG9wRG9jcyBmb3IgdGhlIHNjb3JlIGFuZCBmb3IgdGhlIFNvcnQK
PiBzZWFyY2hlcykuCj4gPiBBbHNvIHRoZSBQYXJhbGxlbE11bHRpU2VhcmNoZXIgaW5oZXJpdHMg
dGhpcyBwcm9ibGVtcyBhbmQgaXMgdW5hYmxlIHRvCj4gPiBwYXJhbGxlbGl6ZSB0aGUgSGl0Q29s
bGVjdG9yLWJhc2VkIHNlYXJjaGVyLgo+ID4KPiA+IEEgZmluYWwgcHJvYmxlbSB3aXRoIHRoZSBI
aXRDb2xsZWN0b3ItYmFzZWQgc2VhcmNoIGlzIHJlbGF0ZWQgdG8gdGhlCj4gbG9zdAo+ID4gb2Yg
YSBsaW1pdCBpbiB0aGUgcmVzdWx0cywgYXMgdGhlIEhpdHMgY2xhc3MgaW1wbGVtZW50cyB0aG91
Z2h0IHRoZQo+ID4gZ2V0TW9yZURvY3MoKSBmdW5jdGlvbiwgYW5kIGxhenkgbG9hZGluZyBhbmQg
Y2FjaGluZyBvZiBkb2N1bWVudHMgaXQKPiBkb2VzLgo+ID4KPiA+Cj4gPiBUbyBzb2x2ZSB0aG9z
ZSBwcm9ibGVtcyBpdCBpcyBuZWNlc3NhcnkgYSBmYWN0b3J5IChIaXRDb2xsZWN0b3JTb3VyY2Up
Cj4gPiBhYmxlIHRvIGdlbmVyYXRlIGNvbGxlY3RvcnMgZm9yIHNpbmdsZSAoU2luZ2xlSGl0Q29s
bGVjdG9yKSBhbiBtdWx0aQo+ID4gKE11bHRpSGl0Q29sbGVjdG9yKSBzZWFyY2hlcywgYW5kIGEg
bmV3IHNlYXJjaCBtZXRob2QgaW4gdGhlCj4gPiBTZWFyY2hhYmxlIGludGVyZmFjZSBmb3IgaXQu
IFRvIGF2b2lkIG1vZGlmaWNhdGlvbnMgdG8gdGhlIGx1Y2VuZSBjb3JlLAo+IHRoZQo+ID4gbGF0
ZXIgcmVxdWlyZW1lbnQgaXMgTk9UIElNUExFTUVOVEVEIGluIHRoZSBsaWJyYXJ5IEkgaGF2ZSBq
dXN0IGNyZWF0ZWQuCj4gPiBJbnN0ZWFkLCBhbiB1Z2x5IHNvbHV0aW9uLCBhIHdyYXBwZXIgZm9y
IHRob3NlIHNlYXJjaGVycwo+ID4gKFNlYXJjaGVySENTb3VyY2VXcmFwcGVyKSBhbmQgYSBGaWx0
ZXIgd3JhcHBlcgo+IChGaWx0ZXJIaXRDb2xsZWN0b3JTb3VyY2UpIHRvCj4gPiBjYXJyeSB0aGUg
ZmFjdG9yeS1iYXNlZCBzZWFyY2hlcywgaXMgcHJvdmlkZWQuCj4gPgo+ID4gRWFjaCBjb2xsZWN0
b3IgaXMgYmFzZWQgaW4gYSB0d28gc3RlcHMgc2VxdWVuY2UsIG9uZSBmb3IgY29sbGVjdGluZyBo
aXRzCj4gPiBvciBzdWJzZWFyY2hlciByZXN1bHRzLCBhbmQgYW5vdGhlciBmb3IgZ2VuZXJhdGlu
ZyB0aGUgZmluYWwgcmVzdWx0Lgo+ID4KPiA+IEFsc28sIGp1c3QgaW4gY2FzZSB5b3UgZG9uJ3Qg
d2FudCB0byBhZGQgYSB3cmFwcGVyIHRvIGVhY2ggc2VhcmNoZXIgb2YKPiA+IHlvdXIgcHJvamVj
dCwgdGhlcmUgaXMgYW4gYWRhcHRlZCB2ZXJzaW9uIG9mIEluZGV4U2VhcmNoZXIsCj4gTXVsdGlT
ZWFyY2hlcgo+ID4gYW5kIFBhcmFsbGVsTXVsdGlTZWFyY2hlciAob25seSBmb3IgdmVyc2lvbiAy
LjEpIG1vZGlmaWVkIGV4YWN0bHkgdGhlCj4gc2FtZQo+ID4gd2F5IHRoZSB3cmFwcGVyIGNsYXNz
IFNlYXJjaGVySENTb3VyY2VXcmFwcGVyIGRvZXMuIEp1c3QgcHV0IHRoZW0gaW4KPiB5b3VyCj4g
PiBjbGFzcy1wYXRoIChiZWZvcmUgdGhlIEx1Y2VuZSBjb3JlIGphcikgYW5kIHlvdSB3aWxsIGJl
IHVzaW5nIHRoZSBuZXcKPiA+IGNvbGxlY3RvciBpbnRlcmZhY2VzIHdpdGhvdXQgbW9kaWZ5aW5n
IHlvdXIgY29kZS4KPiA+Cj4gPiBUaGVyZSBhcmUgc29tZSB1bml0IHRlc3RpbmcgKGNvcGllZCBh
bmQgYWRhcHRlZCBmcm9tIHRoZSBMdWNlbmUKPiAyLjFkaXN0cmlidXRpb24pLgo+ID4KPiA+IFNl
ZSBodHRwOi8vc291cmNlZm9yZ2UubmV0L3Byb2plY3RzL2x1Y29sbGVjdG9yLyBmb3IgdGhlIGph
ciBmaWxlcyBhbmQKPiB0aGUKPiA+IGNvZGUuCj4gPgo+ID4gSWYgeW91IGZpbmQgaXQgaW50ZXJl
c3RpbmcgdG8gY29tcGxlbWVudCB0aGUgTHVjZW5lIHByb2plY3QsIHRlbGwgbWUgaG93Cj4gPiB0
byBwdXQgaXQgaW4gdGhlIGNvbnRyaWJ1dGlvbiBhcmVhLgo+ID4KPiA+IFJlZ2FyZHMsCj4gPiBK
b3PDqSBMLiBPcmFtYXMKPiA+Cj4KCgoKLS0gClJlZ2FyZHMsCk1vaGFtbWFkCg==
------=_Part_11875_32619499.1173592249390--

From java-user-return-26769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 07:00:57 2007
Return-Path: <java-user-return-26769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25249 invoked from network); 11 Mar 2007 07:00:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 07:00:56 -0000
Received: (qmail 63528 invoked by uid 500); 11 Mar 2007 07:00:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63501 invoked by uid 500); 11 Mar 2007 07:00:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63490 invoked by uid 99); 11 Mar 2007 07:00:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:00:58 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:00:46 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2B70OPk226964
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 07:00:24 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2B70OMP1269998
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:00:24 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2B70Of1011549
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:00:24 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2B70O0l011546
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:00:24 +0100
In-Reply-To: <op.toy6ldi0329srq@idefix.residential.fw>
Subject: Re: HITS and termDoc give different results
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF3E98B691.F7BA4E83-ON8825729B.00251599-8825729B.0025F436@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Sat, 10 Mar 2007 22:54:33 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 11/03/2007 09:00:23
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Is "Text" the only field in the index?

Note that the search only looks at field "Text", while the terms()
iteration as appears in that code might bump into a term with same text but
in another field. A better comparison would be to create a Term
("Text",<your-word>), and compare TermQuery(thatTerm) to
termDocs(thatTerm). Btw, if iterating all terms is ever a must, note
TermEnum.skipTo(Term).

Hope this helps,
Doron

dziadgba <dziadgba@googlemail.com> wrote on 10/03/2007 05:33:03:

> hye,
> I want to extract documents which contain a specific term.
> I tried to do it in two different ways:
>
> 1 Using the 'iterator' termdocs = reader.termDocs(term);
> 2 Using search and examing Hits
>
> turns out that the result are sometimes equal, sometimes the first is a
> subset of the
> second and sometimes there is no connection between the two results.
>
> can somebody give me a hint?
>
> bye
>
>
>     public void addDocumentsToTerm(int debug, String myterm) throws
> Exception
>      { TermEnum terms=reader.terms();
>
>        MyDocument doc;
>        Document docLucene;
>        int count=0;
>        boolean b=false;
>        if(debug==1) System.out.print("Checking (MyTerm) "+myterm+" ...
");
>
>        while (terms.next())
>        { Term t = terms.term();
>          if(t.text().compareTo(myterm)==0)
>          { TermDocs termDocs = reader.termDocs(t);
>            while(termDocs.next())
>            {
>              if(debug==1 && count==0) System.out.println("equal to (Term)

> "+t.text());
>              count++;
>              docLucene = reader.document(termDocs.doc());
>                if(debug==1) System.out.println("  docLucene:
> ["+termDocs.doc()+"-
>
"+docLucene.getField("Code").stringValue()+"]
> ");
>              b=true;
>            }
>              System.out.println();
>
>              QueryParser pars = new QueryParser("Text",new
> StandardAnalyzer());
>              Query q= pars.parse(t.text());
>              Hits hits = searcher.search(q);
>
>              System.out.println("Found "+hits.length()+" matches for
query
> "+q);
>              for(int i=0;i<hits.length();i++)
>              {  Document d = hits.doc(i);
>                 System.out.println("        doc:
> ["+d.+"-"+d.getField("Code").stringValue()+"]");
>
>              }
>
>            System.out.println();
>            if(b==false)
>              System.out.println("No Document found for term:
> "+myterm.getTerm());
>            if(debug==1)if(count < myterm.getDocFreq()&&count>0)
> System.out.println("        Error term: "+myterm.getTerm()+", documents
> found: "
>                                                             +count+",
> docFreq: "+myterm.getDocFreq());
>
>            return;
>          }
>        }
>      }
>
> OUPUT
>
> Checking (Myterm) zucca ... equal to (Term) zucca
>    docLucene: [9963-356 U.S. 256]
>
> Found 8 matches for query Text:zucca
>          doc: [0-356 U.S. 256]
>          doc: [1-365 U.S. 290]
>          doc: [2-351 U.S. 91]
>          doc: [3-356 U.S. 660]
>          doc: [4-365 U.S. 265]
>          doc: [5-377 U.S. 235]
>          doc: [6-435 U.S. 519]
>          doc: [7-441 U.S. 281]
>
>          Error term: zucca, documents found: 1, docFreq: 8
>
> Checking (Myterm) zimroth ... equal to (Term) zimroth
>          doc: [16478-476 U.S. 467]
>          doc: [17142-492 U.S. 257]
>          doc: [17208-488 U.S. 235]
>          doc: [17911-484 U.S. 1]
>          doc: [17920-487 U.S. 1]
>          doc: [18010-484 U.S. 301]
>
> Found 8 matches for query Text:zimroth
>          doc: [0-389 U.S. 143]
>          doc: [1-468 U.S. 981]
>          doc: [2-489 U.S. 688]
>          doc: [3-491 U.S. 781]
>          doc: [4-436 U.S. 412]
>          doc: [5-445 U.S. 573]
>          doc: [6-462 U.S. 213]
>          doc: [7-468 U.S. 897]
>
>          Error term: zimroth, documents found: 6, docFreq: 8
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 07:19:34 2007
Return-Path: <java-user-return-26770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28227 invoked from network); 11 Mar 2007 07:19:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 07:19:33 -0000
Received: (qmail 72572 invoked by uid 500); 11 Mar 2007 07:19:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72535 invoked by uid 500); 11 Mar 2007 07:19:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72524 invoked by uid 99); 11 Mar 2007 07:19:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:19:36 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:19:22 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2B7J1RD020570
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 07:19:01 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2B7J12U2003052
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:19:01 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2B7J1TB029430
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:19:01 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2B7J1Ib029427
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:19:01 +0100
In-Reply-To: <A18C041B52678847A234B084224EF4D401AB9C20@moloko.kubrick.com>
Subject: RE: Wildcard query with untokenized punctuation
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFACC682E7.99FB8A30-ON8825729B.0026F90B-8825729B.0027B459@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Sat, 10 Mar 2007 23:13:40 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 11/03/2007 09:19:00
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

"McGuigan, Colin" <cmcguigan@springcm.com> wrote on 10/03/2007 11:04:37:

> You're entirely correct about the analyzer (I'm using one that breaks on
> non-alphanumeric characters, so all punctuation is ignored).  To be
> honest, I hadn't thought about altering this, but I guess I could; just
> reticent that there might be unforeseen consequences.
>
> But I'm still curious about the original solution.  Shouldn't it be
> possible to take "pagefile.*" and tokenize it (essentially throwing away
> the wildcard at the end)?

I can't see a consistent way for something like this - assume this is done,
we might have these steps:
 query text:  aa.bb.cc*
 remove '*':  aa.bb.cc
 analyze:     aa bb cc
 add the '*' back(?):
   would it be: aa* bb* cc*
   or: aa bb cc*
Doesn't makes sense to me.

The reasoning behind not analyzing wildcard queries is also explained in
the FAQ: "Are Wildcard, Prefix, and Fuzzy queries case sensitive?"

Regards,
Doron

>
> --Colin McGuigan
>
> -----Original Message-----
> From: Doron Cohen [mailto:DORONC@il.ibm.com]
> Sent: Saturday, March 10, 2007 2:08 AM
> To: java-user@lucene.apache.org
> Subject: Re: Wildcard query with untokenized punctuation
>
> Hi Colin,
>
> Is it possible that you are using an analyzer that breaks words on non
> letters? For instance SimpleAnalyzer? if so, the doc text:
>    pagefile.sys
> is indexed as two words:
>   pagefile sys
> At search time, the query text:
>   pagefile.sys
> is also parsed-tokenized into a two words query:
>   profile sys
> but the query text:
>   pagefile.sys*
> is not analyzed (by design) and matches only words that start with:
>   pagefile.sys
> But there are no such words in the index, because it was indexed with
> breaking words on non-letters...
>
> Hopefully this gets you started... If this is the reason, you may want
> to
> use a different analyzer (See Wiki page "AnalysisParalysis").
>
> Otherwise, make sure you use the same analyzers at indexing and search
> ...
> and see the Lucene FAQ entry "Why am I getting no hits / incorrect
> hits?".
>
> If all this still fails, try to post here a simple code snippet showing
> how
> you index and how you search.
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 07:29:34 2007
Return-Path: <java-user-return-26771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31826 invoked from network); 11 Mar 2007 07:29:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 07:29:33 -0000
Received: (qmail 77857 invoked by uid 500); 11 Mar 2007 07:29:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77817 invoked by uid 500); 11 Mar 2007 07:29:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77802 invoked by uid 99); 11 Mar 2007 07:29:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:29:36 -0800
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [66.249.90.179] (HELO ik-out-1112.google.com) (66.249.90.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:29:25 -0800
Received: by ik-out-1112.google.com with SMTP id b35so1451058ika
        for <java-user@lucene.apache.org>; Sat, 10 Mar 2007 23:29:03 -0800 (PST)
Received: by 10.114.181.1 with SMTP id d1mr716140waf.1173598142401;
        Sat, 10 Mar 2007 23:29:02 -0800 (PST)
Received: by 10.114.160.3 with HTTP; Sat, 10 Mar 2007 23:29:02 -0800 (PST)
Message-ID: <7cbc67ff0703102329rd9e0c34ked1efe19ba2fa079@mail.gmail.com>
Date: Sun, 11 Mar 2007 12:59:02 +0530
From: "Harini Raghavan" <harini.raghavan@insideview.com>
To: java-user@lucene.apache.org
Subject: Delete document with keyword field
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18420_21703272.1173598142372"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_18420_21703272.1173598142372
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi All,

I have a lucene index with many fields, one of which is a Keyword field IS.
The values stored in this field are the document ids like _839930494,
_839930492.
But I am unable to delete  the documents using this id. Is this something to
do with the underscore? Can someone suggest how I should delete these
documents?

Thanks,
Harini

------=_Part_18420_21703272.1173598142372--

From java-user-return-26772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 07:37:36 2007
Return-Path: <java-user-return-26772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33082 invoked from network); 11 Mar 2007 07:37:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 07:37:36 -0000
Received: (qmail 82005 invoked by uid 500); 11 Mar 2007 07:37:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81967 invoked by uid 500); 11 Mar 2007 07:37:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81956 invoked by uid 99); 11 Mar 2007 07:37:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:37:39 -0800
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 23:37:26 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2B7b5Dn035926
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 07:37:05 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2B7b5tO1962104
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:37:05 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2B7b4Yg002289
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:37:04 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2B7b49p002286
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 08:37:04 +0100
In-Reply-To: <b6246fe60703101932o35228092yae42214779ffca06@mail.gmail.com>
Subject: Re: Query String for a phrase?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFEA456C84.41BAA172-ON8825729B.002852BC-8825729B.0029538E@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Sat, 10 Mar 2007 23:31:23 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 11/03/2007 09:37:04
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

"ruchi thakur" <ruchithakur1@gmail.com> wrote on 10/03/2007 19:32:14:

> does that mean* jakarta&apache* should search for   * jakartaapache*

I assume '*' here is for emphasizing the query text, - this is somewhat
confusing because '*' is part of Lucene's query syntax for wildcard search.
To the question - usually no, but it depends. You could write an analyzer
that would emit a token jakartaapache for input of jakarta&apache though my
guess is that this is not the case, and jakarta&apache and jakartaapache
are two distinct words in your index. See the Lucene FAQ, in particular "
Why am I getting no hits / incorrect hits?", starting with its
recommendation to examine query.toString().

Hope this helps,
Doron

> But using *jakarta&apache* am able to search for *jakarta apache* , but
was
> confused as no reference to this query String(jakarta&apache) could find
> anywhere on net.
>
> Regards,
> Ruchi
> On 3/8/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> >
> > Most likely the string  jakarta&apache  is analyzed as a single word,
> > both at indexing time and at search time.
> >
> > See also "AnalysisParalysis" in Lucene Wiki.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 09:16:27 2007
Return-Path: <java-user-return-26773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63631 invoked from network); 11 Mar 2007 09:16:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 09:16:26 -0000
Received: (qmail 21635 invoked by uid 500); 11 Mar 2007 09:16:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21598 invoked by uid 500); 11 Mar 2007 09:16:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21587 invoked by uid 99); 11 Mar 2007 09:16:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 01:16:28 -0800
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jloramas@gmail.com designates 66.249.82.232 as permitted sender)
Received: from [66.249.82.232] (HELO wx-out-0506.google.com) (66.249.82.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 01:16:17 -0800
Received: by wx-out-0506.google.com with SMTP id i29so1396518wxd
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 01:15:56 -0800 (PST)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kLTJlwwuHOOafay4IDuz4TUdOB2YCCdgi6clCW6P58LxUEuC+spFcQx9jtYZ/7DmyuI3dGjnN732ecossxsp2Jm2ILXol4YuSqIN5JG7g6UlCxisvuNek4YChBJ10QgfzZsGY4y4u7MTQiu5xhcXDKYMHu3MW1gTZAVgBTcIrOE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DIQUOWEpA7XesCxfIAlJ/7L8AKDB6GRiopx1YNAgYsaIGOnb3ccdseCQl2AVn+W7gCkiPJhGHotvhMmFaytw5CRpV6LI0psttAKtee8fpT5VJOAVoL1RDTMwgFdkZktocGfQHI3xXvDKVOBb+eGQlgiEqVr3OTTtrIZgCOzl//M=
Received: by 10.70.16.6 with SMTP id 6mr7500774wxp.1173604556855;
        Sun, 11 Mar 2007 01:15:56 -0800 (PST)
Received: by 10.65.206.15 with HTTP; Sun, 11 Mar 2007 01:15:56 -0800 (PST)
Message-ID: <e71b9bb40703110115k544db276xc3b0a7671838f611@mail.gmail.com>
Date: Sun, 11 Mar 2007 10:15:56 +0100
From: "=?ISO-8859-1?Q?oramas_mart=EDn?=" <jloramas@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: A solution to HitCollector-based searches problems
In-Reply-To: <34b8543c0703102150x19182a2q4c9f25291cf975ca@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2915_23091024.1173604556790"
References: <e71b9bb40702251556j33575bd3x60f5e346489d68ce@mail.gmail.com>
	 <e71b9bb40703081123o6fc4ed6fv567cfc3ee6821bd4@mail.gmail.com>
	 <34b8543c0703102150x19182a2q4c9f25291cf975ca@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_2915_23091024.1173604556790
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello Mohammad,

You don't have to remove the lucene-core jar file, just play with the
classpath order to load the jar files.

You have two possibilities:

    1.- Use the searcher wrapper (valid for Lucene 2.0 or 2.1 version): Put
"lu-collector-0.8.jar" AFTER "lucene-core-2.1.0.jar" and wrap any
IndexSearcher, MultiSearcher and ParallelSearcher with
SearcherHCSourceWrapper

    2.- Use the modified lucene core searcher classes (valid for
Lucene 2.1version): Put "
lu-collector-0.8.jar" BEFORE "lucene-core-2.1.0.jar" in the classpath, and
call "IndexSearcher.USE_NEW_COLLECTOR =3D true;" at the beginning of your
program.

If you take a look at the test files, you can see the usage of both method.

Hope this help,
Jos=E9 L. Oramas


On 3/11/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> Hi Oramas
> if I use that jar file, it conflicts with lucene-core.jar file. for
> exampl,
> IndexSearcher class that you defined is different from the original one.
> Do
> I have to remove the lucene-core jar file?
> if yes, how about the other original classes
>
> On 3/8/07, oramas mart=EDn <jloramas@gmail.com> wrote:
> >
> > Hello,
> >
> > I have just added some search implementation samples based on this
> > collector
> > solution, to easy the use and understanding or it:
> >
> >     - KeywordSearch: Extract the terms (and frequency) found in a list
> of
> > fields
> >                      from the results of a query/filter search
> >
> >     - GoogleSearch: Return an ordered search result grouped a la Google=
,
> > based
> >                     on the terms found in a list of fields
> >
> >     - GetFieldNamesOp: Operation to mimic the getFieldNames method of
> >                        IndexReader but using a searcher. With it, it is
> > possible
> >                        to explore the fields of remote indexes.
> >
> > See http://sourceforge.net/projects/lucollector/ for the source code (
> > lu-collector-src-sampleop-0.8.zip).
> >
> > Regards,
> > Jos=E9 L. Oramas
> >
> > On 2/26/07, oramas mart=EDn <jloramas@gmail.com> wrote:
> > >
> > >
> > > Hello,
> > >
> > > As you probably know, the HitCollector-based search API is not meant
> to
> > > work remotely, because it will generate a RPC-callback for every
> > non-zero
> > > score.
> > >
> > > There is another problem with MultiSearcher-HitCollector-based search
> > > which knows nothing about mix HitCollector based searches (not to say
> it
> > has
> > > hardcode the way to mix TopDocs for the score and for the Sort
> > searches).
> > > Also the ParallelMultiSearcher inherits this problems and is unable t=
o
> > > parallelize the HitCollector-based searcher.
> > >
> > > A final problem with the HitCollector-based search is related to the
> > lost
> > > of a limit in the results, as the Hits class implements thought the
> > > getMoreDocs() function, and lazy loading and caching of documents it
> > does.
> > >
> > >
> > > To solve those problems it is necessary a factory (HitCollectorSource=
)
> > > able to generate collectors for single (SingleHitCollector) an multi
> > > (MultiHitCollector) searches, and a new search method in the
> > > Searchable interface for it. To avoid modifications to the lucene
> core,
> > the
> > > later requirement is NOT IMPLEMENTED in the library I have just
> created.
> > > Instead, an ugly solution, a wrapper for those searchers
> > > (SearcherHCSourceWrapper) and a Filter wrapper
> > (FilterHitCollectorSource) to
> > > carry the factory-based searches, is provided.
> > >
> > > Each collector is based in a two steps sequence, one for collecting
> hits
> > > or subsearcher results, and another for generating the final result.
> > >
> > > Also, just in case you don't want to add a wrapper to each searcher o=
f
> > > your project, there is an adapted version of IndexSearcher,
> > MultiSearcher
> > > and ParallelMultiSearcher (only for version 2.1) modified exactly the
> > same
> > > way the wrapper class SearcherHCSourceWrapper does. Just put them in
> > your
> > > class-path (before the Lucene core jar) and you will be using the new
> > > collector interfaces without modifying your code.
> > >
> > > There are some unit testing (copied and adapted from the Lucene
> > 2.1distribution).
> > >
> > > See http://sourceforge.net/projects/lucollector/ for the jar files an=
d
> > the
> > > code.
> > >
> > > If you find it interesting to complement the Lucene project, tell me
> how
> > > to put it in the contribution area.
> > >
> > > Regards,
> > > Jos=E9 L. Oramas
> > >
> >
>
>
>
> --
> Regards,
> Mohammad
>

------=_Part_2915_23091024.1173604556790--

From java-user-return-26774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 11:37:11 2007
Return-Path: <java-user-return-26774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88796 invoked from network); 11 Mar 2007 11:37:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 11:37:10 -0000
Received: (qmail 79921 invoked by uid 500); 11 Mar 2007 11:37:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79894 invoked by uid 500); 11 Mar 2007 11:37:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79883 invoked by uid 99); 11 Mar 2007 11:37:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 04:37:12 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 03:37:01 -0800
Received: by nf-out-0910.google.com with SMTP id g2so1446460nfe
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 04:36:40 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EWFWCAVIFxAt86hSVPrfc31wgISsRINk8ivz62sdCOklBZWIlS5PDulkjOHpSj+lb1v5BsY1HLk7+PRK6XcNUvWcsNdiP4MSAiHsJd3UEtiZuXReiKq7Iqri3mNWYwYGwqSKjsnm4wBYfm/w0+Xfm7YPzX1MNyd6HFxwIu4NFRI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XJvmuuo1K5BPOri075yOtIubtVWhvvN9UGl8nGIMa7Ejec3Yn8bVcV1/kDso6TNskxdbsXn3b3onVijA5dS6AdFtbPsEm5UgbDCpnLa6TCaIrIycI/VHGdrBRjw1eEOnbZGrv5Ldk4bjYRHNwGruH5mDP36S8SHRI5zUnUsUAco=
Received: by 10.115.108.1 with SMTP id k1mr777795wam.1173612999163;
        Sun, 11 Mar 2007 04:36:39 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Sun, 11 Mar 2007 04:36:39 -0700 (PDT)
Message-ID: <b6246fe60703110436n69b252bexc47586a1cc86ddd4@mail.gmail.com>
Date: Sun, 11 Mar 2007 17:06:39 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <OFEA456C84.41BAA172-ON8825729B.002852BC-8825729B.0029538E@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20254_19620374.1173612999127"
References: <b6246fe60703101932o35228092yae42214779ffca06@mail.gmail.com>
	 <OFEA456C84.41BAA172-ON8825729B.002852BC-8825729B.0029538E@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_20254_19620374.1173612999127
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

am sorry , guess "*" caused confusion.
My question is that, using jakarta&apache am able to search for jakarta
apache, but
was confused as no reference to this query String(jakarta&apache) could find
anywhere on net.

So just wanted to make sure if

jakarta&apache  -> jakarta apache
like
"jakarta apache"  -> jakarta apache

ie; jakarta&apache seaches for phrase jakarta apache
Regards,
Ruchi


On 3/11/07, Doron Cohen <DORONC@il.ibm.com> wrote:
>
> "ruchi thakur" <ruchithakur1@gmail.com> wrote on 10/03/2007 19:32:14:
>
> > does that mean* jakarta&apache* should search for   * jakartaapache*
>
> I assume '*' here is for emphasizing the query text, - this is somewhat
> confusing because '*' is part of Lucene's query syntax for wildcard
> search.
> To the question - usually no, but it depends. You could write an analyzer
> that would emit a token jakartaapache for input of jakarta&apache though
> my
> guess is that this is not the case, and jakarta&apache and jakartaapache
> are two distinct words in your index. See the Lucene FAQ, in particular "
> Why am I getting no hits / incorrect hits?", starting with its
> recommendation to examine query.toString().
>
> Hope this helps,
> Doron
>
> > But using *jakarta&apache* am able to search for *jakarta apache* , but
> was
> > confused as no reference to this query String(jakarta&apache) could find
> > anywhere on net.
> >
> > Regards,
> > Ruchi
> > On 3/8/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> > >
> > > Most likely the string  jakarta&apache  is analyzed as a single word,
> > > both at indexing time and at search time.
> > >
> > > See also "AnalysisParalysis" in Lucene Wiki.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20254_19620374.1173612999127--

From java-user-return-26775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 13:11:18 2007
Return-Path: <java-user-return-26775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8518 invoked from network); 11 Mar 2007 13:11:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 13:11:16 -0000
Received: (qmail 24256 invoked by uid 500); 11 Mar 2007 13:11:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24209 invoked by uid 500); 11 Mar 2007 13:11:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24198 invoked by uid 99); 11 Mar 2007 13:11:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 06:11:19 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 209.85.132.251 as permitted sender)
Received: from [209.85.132.251] (HELO an-out-0708.google.com) (209.85.132.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 05:11:08 -0800
Received: by an-out-0708.google.com with SMTP id c3so940771ana
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 06:10:47 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=GUCI1BDmcK22lGX6S4XhFqZnH+IxGKGkFOnpy3Poec9NASeebFFLJPKxkJDP/r2TxCxhOFk6RI1k2wveZVKYG8oJgPAdFV2vj4lp1l9T6rP8m0hGLU2ICg1rWBLcd33o7xi4NMqdSiu+LOtiEQEHaXEGl8AiSdHA1+Daq8/UGOY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=YQPbk0QJRvrNAAbikf49WWlscM01klGigMRb0RG2nqHcr3FGodGYWWuMrDew8YxlHiWPeJB/ZsbUsx903biQXMzsq96UPYqSLrG7C+A+X/piE0dPJE4HhPD7MuPA5YvvfhQAkkNsRKPrEKLYDP4J1IKgkc72oOF143AAYd1UISU=
Received: by 10.115.14.1 with SMTP id r1mr788537wai.1173618647075;
        Sun, 11 Mar 2007 06:10:47 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Sun, 11 Mar 2007 06:10:47 -0700 (PDT)
Message-ID: <b6246fe60703110610h673e73bbpc3531b23352543ad@mail.gmail.com>
Date: Sun, 11 Mar 2007 18:40:47 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: ensuring search String availability in the content returned by lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21083_10525359.1173618647025"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_21083_10525359.1173618647025
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Am using lucene search. I have a field as "summary" in my Document, which is
having large amount of content/data. In each search i want to get not more
than 200 words from the field "summary". Now i want that in the 200 words
that i get, there should be search String available. If this possible in
lucene search to get the relevant search result having search String.
Thanks and Regards,
Ruchika

------=_Part_21083_10525359.1173618647025--

From java-user-return-26776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 13:58:59 2007
Return-Path: <java-user-return-26776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16310 invoked from network); 11 Mar 2007 13:58:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 13:58:58 -0000
Received: (qmail 39468 invoked by uid 500); 11 Mar 2007 13:59:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39428 invoked by uid 500); 11 Mar 2007 13:59:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39415 invoked by uid 99); 11 Mar 2007 13:59:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 06:59:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=PLING_PLING,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 66.249.82.238 as permitted sender)
Received: from [66.249.82.238] (HELO wx-out-0506.google.com) (66.249.82.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 05:58:48 -0800
Received: by wx-out-0506.google.com with SMTP id i29so1437954wxd
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 06:58:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=TpLfBlAmTuZE/ywhpb6DZHfM2nLpHAfKXmhmakMh4oTMkK1eWtZ4sSpO2PjEnd5ROVBbaZoVBZ7mjHyUgXQpYnOSu8Eat1T+0QtlOoOvVB2A6fVfRgAFd0jopQ2eR81IT2c6F9cfi/rMOrUnjY5eKn7+DaO9NDyGrOVI/uV/kzI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=e5rgq+1crrwUSKo/d4veKZBDo33/Sx9Edva8gqWzHuKPkizdDumE19uLyMXyy4N7aenVD1HoFZMQ0xhw0JxzQrrTvM8pFGilb37L9BKlO3XOGJ6+sRqLCSBalyixEf67w+M00SyDU6SFvmkObwqGq3pIkAxT2hkUMRUF3gNe4fg=
Received: by 10.90.68.15 with SMTP id q15mr2316805aga.1173621507404;
        Sun, 11 Mar 2007 06:58:27 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id 6sm5162395agb.2007.03.11.06.58.25;
        Sun, 11 Mar 2007 06:58:26 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <2b817f360703102108m23a3611fv218e740d979600d4@mail.gmail.com>
References: <2b817f360703102108m23a3611fv218e740d979600d4@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F4C0EEEA-5542-49F7-994E-17931B1D5931@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: help!!!!
Date: Sun, 11 Mar 2007 09:58:23 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Looks like the Lucene libraries are not in your classpath.

On Mar 11, 2007, at 12:08 AM, ashwin kumar wrote:

> hi all my name is ashwin i am trying to connect my servlet front  
> end to my
> backend lucene search program
>
> these r the two programs
>
>
> <<frontend servlet program>>
>
> import javax.servlet.*;
> import javax.servlet.http.*;
> import java.io.*;
> import java.lang.*;
>
> //import java.io.*;
> import java.io.FileReader;
> import java.io.Reader;
> import java.util.Date;
> //import frontend.mainpage;
> import java.lang.*;
>
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Searchable;
> import org.apache.lucene.search.Searcher;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.Query;
>
> public class mainpage extends HttpServlet
> {
>    static int numRequest=0;
>
>    public void init(ServletConfig config)throws ServletException
>    {
>        super.init(config);
>    }
>
>
>
>    public void doGet(HttpServletRequest req,HttpServletResponse res) 
> throws
> ServletException,IOException
>    {
>        try
>        {
>            res.setContentType("text/html");
>
>
>            PrintWriter out=res.getWriter();
>
>
>
>
>             out.println("<html><head><title>testing</title></head>");
>
>            out.println("<body>");
>
>             out.println("<h1>Distrubuted Desktop Search using
> lucene</h1>");
>
>              TextFileIndexer index=new TextFileIndexer(out);
>
>            out.println("<br><form method=\"post\">");
>
>            out.println("<input type=\"text\" name =\"toSearch\"  
> size=100
> maxlength=100>");
>
>            out.println(" <input type=\"submit\" name=\"searchbutton\"
> value=\"search\"><br>");
>
>            out.println("</form>");
>
>            out.println("</body></html>");
>            out.close();
>        }
>        catch(Exception e)
>        {
>            e.printStackTrace();
>        }
>
>
>    }
>
>    public String getServletInfo()
>    {
>        return "good";
>    }
>
>    public void doPost(HttpServletRequest req,HttpServletResponse  
> res)throws
> ServletException, IOException
>    {
>        try
>        {
>            res.setContentType("text/html");
>
>            String searchString = req.getParameter("toSearch");
>
>            PrintWriter out=res.getWriter();
>
>            out.println("<head><title>testing</title></head>");
>
>            out.println("<body>");
>
>            out.println("<h1>"+searchString+"</h1>");
>
>            TextFileMatch match=new TextFileMatch(searchString,out);
>
>            out.println("</body></html>");
>
>            out.close();
>        }
>        catch(Exception e)
>        {
>            e.printStackTrace();
>        }
>
>    }
>    public void destroy()
>    {
>
>    }
> }
>
>
> <<backend lucene search program>>
>
> import java.io.*;
> import java.io.FileReader;
> import java.io.Reader;
> import java.util.Date;
> //import frontend.mainpage;
> import java.lang.*;
>
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Searchable;
> import org.apache.lucene.search.Searcher;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.Query;
>
> class TextFileMatch
> {
>    public TextFileMatch(String searchString,PrintWriter out)throws
> Exception
>    {
>          Searcher searcher = new IndexSearcher("C:\\luceneIndex");
>         Analyzer analyzer = new StandardAnalyzer();
>
>         String toSearch=searchString;
>         String buffer=new String("");
>
>         System.out.println("\n"+toSearch+"\n");
>
>           Query query = QueryParser.parse 
> (toSearch,"content",analyzer);
>          out.println("Searching for: " + query.toString("text"));
>          Hits hits = searcher.search(query);
>          System.out.println("Number of matching documents = " +  
> hits.length
> ());
>           for (int i = 0; i < hits.length(); i++)
>            {
>             Document doc = hits.doc(i);
>             //buffer=buffer+"\n"+"file :"+doc.get("path")+"\n";
>              out.println("File: " + doc.get("path") +   "  ,    
> score: " +
> hits.score(i));
>          }
>    }
> }
>
> class TextFileIndexer
> {
> public TextFileIndexer(PrintWriter out) throws Exception
> {
>
>    out.println("*************");
>   File fileDir= new File("C:\\files");
>
>   File indexDir= new File("C:\\luceneIndex");
>
>   Boolean flag=false;
>
>   Analyzer luceneAnalyzer = new StandardAnalyzer();
>
>
>   IndexWriter indexWriter = new IndexWriter 
> (indexDir,luceneAnalyzer,true);
>
>   File[] textFiles= fileDir.listFiles();
>
>   long startTime = new Date().getTime();
>
>   System.out.println("\n the total number of files in the directory is
> "+textFiles.length+"\n");
>
>   for(int i = 0; i < textFiles.length; i++)
>   {
>
>       if(textFiles[i].getName().endsWith(".txt"))
>       {
>            System.out.println("\n File " +
> textFiles[i].getCanonicalPath()+" is being indexed");
>         Reader textReader = new FileReader(textFiles[i]);
>         Document document = new Document();
>         document.add(Field.Text("content",textReader));
>         document.add(Field.Text("path",textFiles[i].getPath()));
>         indexWriter.addDocument(document);
>
>       }
>       else if(textFiles[i].getName().endsWith(".pdf"))
>       {
>
>
>       }
>
>   }
>
>   indexWriter.optimize();
>   indexWriter.close();
>   long endTime = new Date().getTime();
>
>   System.out.println("It took " + (endTime - startTime) + "  
> milliseconds to
> create an index for the files in the directory "+ fileDir.getPath());
>  }
> }
>
>
>
> <<note>>
> all programs and class files are inside a same folder
>
> the error msg i am getting is
>
> HTTP Status 500 -
> ------------------------------
>
> *type* Exception report
>
> *message*
>
> *description* *The server encountered an internal error () that  
> prevented it
> from fulfilling this request.*
>
> *exception*
>
> javax.servlet.ServletException: Servlet execution threw an exception
> 	filters.ExampleFilter.doFilter(ExampleFilter.java:101)
>
> *root cause*
>
> java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
> 	mainpage.doGet(mainpage.java:54)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
> 	javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
> 	filters.ExampleFilter.doFilter(ExampleFilter.java:101)
>
> *note* *The full stack trace of the root cause is available in the  
> Apache
> Tomcat/5.5.8 logs.*
> ------------------------------
> Apache Tomcat/5.5.8
> pls help me debug this error
>
> thanks
> regards
> ashwin

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 16:03:11 2007
Return-Path: <java-user-return-26777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40187 invoked from network); 11 Mar 2007 16:03:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 16:03:10 -0000
Received: (qmail 32013 invoked by uid 500); 11 Mar 2007 16:03:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31965 invoked by uid 500); 11 Mar 2007 16:03:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31952 invoked by uid 99); 11 Mar 2007 16:03:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 09:03:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [88.191.28.222] (HELO frog.goupilfr.org) (88.191.28.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 08:03:02 -0800
Received: from localhost (frog [88.191.28.222])
	by frog.goupilfr.org (Postfix) with ESMTP id 9010F41C42B
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 17:02:55 +0100 (CET)
From: Thomas Klein <tkl@laposte.net>
To: java-user@lucene.apache.org
Subject: date range querys
Date: Sun, 11 Mar 2007 17:02:27 +0100
User-Agent: KMail/1.9.6
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200703111702.27987.tkl@laposte.net>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi there,

I'm indexing a lot of documents with lucene and I'm really happy with 
it :)

Observing my users, I understand they are querying only small range of 
time. Often, they only read results back from 1 month.

I got some years in my 1.3Go index. Querys takes some seconds getting 
and returning docs IDs.

I'm indexing a some date field like that : 
20060612223456
2006061222
20060612
200606
2006

In your opinion, will range query be fast enough or will I need to 
create, for exemple, one index per month and then open and parse them 
regarding querys ?

Regards,

Thomas.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 16:06:55 2007
Return-Path: <java-user-return-26778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40736 invoked from network); 11 Mar 2007 16:06:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 16:06:54 -0000
Received: (qmail 41211 invoked by uid 500); 11 Mar 2007 16:06:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40994 invoked by uid 500); 11 Mar 2007 16:06:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40983 invoked by uid 99); 11 Mar 2007 16:06:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 09:06:56 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 08:06:45 -0800
Received: by an-out-0708.google.com with SMTP id c3so959624ana
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 09:06:24 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LSJvm8BpaAN9VztAe1ZVem58WoDdIGuRPT+MSmNYJ5FhXIk6EvqHt0FtRtIHu5jESpWK7lkcbCaLpKMCIziB5T/TfPEiRNCVLCMDJZ37rqqFE2LOmscimHlQJCd+BMNy7fjAbJVdXsP5/V8ULSSjlmhpIvuL2hlnXcaeZb6vha8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lCxQO6M0Avsz7gpQvasqxlZEoPSCGKuWz8araITZTDe8/5R9jIOnd99xpeEpwSmVPbWKRQVBviGM/fPqLJtN9b0vR8OjMSJLelAO2AYdf3Sz1JbpbTDcyHRWgPCjXVJVc+90xdMKR3D2d/XaFsjKdAeDGcA/IT1eaI2aNA7AEWw=
Received: by 10.114.53.1 with SMTP id b1mr880621waa.1173629183605;
        Sun, 11 Mar 2007 09:06:23 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 11 Mar 2007 09:06:23 -0700 (PDT)
Message-ID: <359a92830703110906s20212193v2d11ea21b24191f9@mail.gmail.com>
Date: Sun, 11 Mar 2007 12:06:23 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Delete document with keyword field
In-Reply-To: <7cbc67ff0703102329rd9e0c34ked1efe19ba2fa079@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20753_6068402.1173629183564"
References: <7cbc67ff0703102329rd9e0c34ked1efe19ba2fa079@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_20753_6068402.1173629183564
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

1> what analyzers are you using at index time?
2> Have you used Luke to look at your index and see what's actually there?

It's entirely possible that what you really have in your index is, as you
suspect, 839930494, it all depends upon the analyzer you used.

Erick

On 3/11/07, Harini Raghavan <harini.raghavan@insideview.com> wrote:
>
> Hi All,
>
> I have a lucene index with many fields, one of which is a Keyword field
> IS.
> The values stored in this field are the document ids like _839930494,
> _839930492.
> But I am unable to delete  the documents using this id. Is this something
> to
> do with the underscore? Can someone suggest how I should delete these
> documents?
>
> Thanks,
> Harini
>

------=_Part_20753_6068402.1173629183564--

From java-user-return-26779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 16:13:08 2007
Return-Path: <java-user-return-26779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41657 invoked from network); 11 Mar 2007 16:13:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 16:13:07 -0000
Received: (qmail 44953 invoked by uid 500); 11 Mar 2007 16:13:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44909 invoked by uid 500); 11 Mar 2007 16:13:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44898 invoked by uid 99); 11 Mar 2007 16:13:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 09:13:10 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 08:12:59 -0800
Received: by an-out-0708.google.com with SMTP id c3so960332ana
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 09:12:38 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=N/aIRl8bxkZBO8zvi+HxRAvNb6XCvK9zhqctYTfedEIiihXPl0skpB73z+FD3MDbiQ8OWi0He6i+yGo23NC9RgQnHS1Ta2WzXm1sKUzB04x2gSlqyK64oWG199igrk1B6Jy05tL+OA2ZsqjOm2SdcPNjuHJMzvLXAn75dCFx5Zc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oHeEJXnGtpgJma7GXGFoD5SxefK8tkjiA2szKx9YMDl/HPuoVBGt8CC5mb7Fnk23nZzcfFhWDLCuz6lpHFRQ0fie9D0/0dPEdZznWOj9UEva4PeNF5/T60CeS8VaRU/ZLRUHt3G0iyRFPnzAENa3zEq9i+wXq+XOZ1vYa6O0ziM=
Received: by 10.114.60.19 with SMTP id i19mr885585waa.1173629557793;
        Sun, 11 Mar 2007 09:12:37 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 11 Mar 2007 09:12:37 -0700 (PDT)
Message-ID: <359a92830703110912y4271209fn6949f2b9fb135d3@mail.gmail.com>
Date: Sun, 11 Mar 2007 12:12:37 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <b6246fe60703110436n69b252bexc47586a1cc86ddd4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20837_10685420.1173629557681"
References: <b6246fe60703101932o35228092yae42214779ffca06@mail.gmail.com>
	 <OFEA456C84.41BAA172-ON8825729B.002852BC-8825729B.0029538E@il.ibm.com>
	 <b6246fe60703110436n69b252bexc47586a1cc86ddd4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_20837_10685420.1173629557681
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

It depends upon your analyzer during both index and search operations.

WhitespaceAnalyzer would do nothing to your string, and
you'd have "jakarta&apache".

StandardAnalyzer would give you two terms, "jakarta" and "apache"
and at query time this would be either jakarta AND apache
or jakarta OR apache, depending on what the default operator is.

and phrase search is something else again. that is, a
PhraseQuery with the term "jakarta apache" would only match the
two words if they were right next to each other.

You'll get a lot more and better help if you tell us what analyzers
you're using <G>...

Erick




On 3/11/07, ruchi thakur <ruchithakur1@gmail.com> wrote:
>
> am sorry , guess "*" caused confusion.
> My question is that, using jakarta&apache am able to search for jakarta
> apache, but
> was confused as no reference to this query String(jakarta&apache) could
> find
> anywhere on net.
>
> So just wanted to make sure if
>
> jakarta&apache  -> jakarta apache
> like
> "jakarta apache"  -> jakarta apache
>
> ie; jakarta&apache seaches for phrase jakarta apache
> Regards,
> Ruchi
>
>
> On 3/11/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> >
> > "ruchi thakur" <ruchithakur1@gmail.com> wrote on 10/03/2007 19:32:14:
> >
> > > does that mean* jakarta&apache* should search for   * jakartaapache*
> >
> > I assume '*' here is for emphasizing the query text, - this is somewhat
> > confusing because '*' is part of Lucene's query syntax for wildcard
> > search.
> > To the question - usually no, but it depends. You could write an
> analyzer
> > that would emit a token jakartaapache for input of jakarta&apache though
> > my
> > guess is that this is not the case, and jakarta&apache and jakartaapache
> > are two distinct words in your index. See the Lucene FAQ, in particular
> "
> > Why am I getting no hits / incorrect hits?", starting with its
> > recommendation to examine query.toString().
> >
> > Hope this helps,
> > Doron
> >
> > > But using *jakarta&apache* am able to search for *jakarta apache* ,
> but
> > was
> > > confused as no reference to this query String(jakarta&apache) could
> find
> > > anywhere on net.
> > >
> > > Regards,
> > > Ruchi
> > > On 3/8/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> > > >
> > > > Most likely the string  jakarta&apache  is analyzed as a single
> word,
> > > > both at indexing time and at search time.
> > > >
> > > > See also "AnalysisParalysis" in Lucene Wiki.
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_20837_10685420.1173629557681--

From java-user-return-26780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 16:20:32 2007
Return-Path: <java-user-return-26780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42621 invoked from network); 11 Mar 2007 16:20:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 16:20:31 -0000
Received: (qmail 53399 invoked by uid 500); 11 Mar 2007 16:20:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53362 invoked by uid 500); 11 Mar 2007 16:20:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53351 invoked by uid 99); 11 Mar 2007 16:20:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 09:20:34 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 08:20:23 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1937474ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 09:20:02 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mnXGxjUMv86vErsyl4+LFNDqc7sgoQITWfi60zKIxes6e4uvku3+aVRz6835XKVxi78PUtotpSRgUpJrnaf0hu0yDJFIC3uAAOXSeKVWLxRtp3ZEkh+H3m/EnWd1oAVdX82DKdSgOokkF/4rHPWTfjAqyid4gFEeVT88euWDYt0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=jnxEU1cq4pSbjFOs3YwUBMRHZARRNjOVkXiRHjJNdQKU4pVU+TRmKf5y0+SsbissXHyN4FEInfjvhArgVyuQqGDaZj2uwhP1TByFllEEXiQCmHFuTkRT3GLZj7gom75t0dplW4VnEeR4nXeb7bn8M2LuTsNITiz95f1G9arOWcg=
Received: by 10.114.56.1 with SMTP id e1mr892359waa.1173630000882;
        Sun, 11 Mar 2007 09:20:00 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 11 Mar 2007 09:20:00 -0700 (PDT)
Message-ID: <359a92830703110920v5ebb4dfdvb3f40b9b76a01244@mail.gmail.com>
Date: Sun, 11 Mar 2007 12:20:00 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: date range querys
In-Reply-To: <200703111702.27987.tkl@laposte.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20901_27244169.1173630000834"
References: <200703111702.27987.tkl@laposte.net>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_20901_27244169.1173630000834
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Search the mail archive for DateRange, Date, DateTools
ConstantScoreRangeQuery, etc and you'll find a wealth of
discussion on dates, which turn out to be
more complex than you think <G>...

But the first thing I'd think about is your resolution. Understand
that range queries may assemble a giant OR query for all
the values in your index that fall in the range. Also remember
that dates are simply strings, they aren't a distinct data type.

So, it looks from your example like you're storing your dates with
varying resolutions, and possibly assembling far larger queries
than you think.

I suspect that if you stored your dates (use DateTools) as strings
with a resolution of a day you'd get much faster queries, assuming
that this is fine enough for your app.

Best
Erick

On 3/11/07, Thomas Klein <tkl@laposte.net> wrote:
>
> Hi there,
>
> I'm indexing a lot of documents with lucene and I'm really happy with
> it :)
>
> Observing my users, I understand they are querying only small range of
> time. Often, they only read results back from 1 month.
>
> I got some years in my 1.3Go index. Querys takes some seconds getting
> and returning docs IDs.
>
> I'm indexing a some date field like that :
> 20060612223456
> 2006061222
> 20060612
> 200606
> 2006
>
> In your opinion, will range query be fast enough or will I need to
> create, for exemple, one index per month and then open and parse them
> regarding querys ?
>
> Regards,
>
> Thomas.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20901_27244169.1173630000834--

From java-user-return-26781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 16:40:40 2007
Return-Path: <java-user-return-26781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45153 invoked from network); 11 Mar 2007 16:40:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 16:40:38 -0000
Received: (qmail 64529 invoked by uid 500); 11 Mar 2007 16:40:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64499 invoked by uid 500); 11 Mar 2007 16:40:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64487 invoked by uid 99); 11 Mar 2007 16:40:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 09:40:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 08:40:27 -0800
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2BGe5XQ043116
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 16:40:05 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2BGe4u22248778
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 17:40:04 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2BGe44R004396
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 17:40:04 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2BGe4hx004393
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 17:40:04 +0100
In-Reply-To: <b6246fe60703110436n69b252bexc47586a1cc86ddd4@mail.gmail.com>
Subject: Re: Query String for a phrase?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF553A7F49.94FD3F3D-ON8825729B.005A0F30-8825729B.005B0798@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Sun, 11 Mar 2007 08:34:17 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 11/03/2007 18:40:04
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

"ruchi thakur" <ruchithakur1@gmail.com> wrote on 11/03/2007 04:36:39:

> So just wanted to make sure if
>
> jakarta&apache  -> jakarta apache
> like
> "jakarta apache"  -> jakarta apache
>
> ie; jakarta&apache seaches for phrase jakarta apache
> Regards,
> Ruchi

q1: jakarta&apache  -> BooleanQurey("jakarta" OR/AND "apache")
q2: "jakarta apache"  -> PhraseQuery("jakarta apache")

For two doccuments d1="jakarta otherword apache" and d2="jakarta apache
otherword", q1 would find both documents but q2 would only find d2.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 17:28:45 2007
Return-Path: <java-user-return-26782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53833 invoked from network); 11 Mar 2007 17:28:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 17:28:44 -0000
Received: (qmail 99856 invoked by uid 500); 11 Mar 2007 17:28:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99829 invoked by uid 500); 11 Mar 2007 17:28:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99818 invoked by uid 99); 11 Mar 2007 17:28:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 10:28:44 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 09:28:33 -0800
Received: by ug-out-1314.google.com with SMTP id k40so1951899ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 10:28:12 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=uOk59daqFHC6TW0BgL0nY9y6GDZvpKNReR0djpp2WeAlncd4MVo7KY4DqagDa3zxE7psU++9kaLAsjLOoJVRPETCHCIv7FVvBYLWugKpUNdpYaLUfMnBYtT/o79K8eQMQpmCChmRfDnOEf+HMRX73+Cu8tybLu5O/2/fX4bsMEA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=RzFvcDvHdQDaBDdUIb2e7KhAVyfiZAacumuLh+uCj88G3PBOCizT8MGP/v5Fjx3xlZVLxSBRQiK2MNJ6v3BDwFnyGI01vt8hb4kzsFhkcMOkatCskbSbtwkQtWgfrts8Ase1GbDuOodKQN7NM4C4jBdD2qbUcb+D//7j3gdOFDo=
Received: by 10.114.179.1 with SMTP id b1mr966116waf.1173634091264;
        Sun, 11 Mar 2007 10:28:11 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Sun, 11 Mar 2007 10:28:11 -0700 (PDT)
Message-ID: <b6246fe60703111028o36d1e118jcaf2e1a0ce3c2a92@mail.gmail.com>
Date: Sun, 11 Mar 2007 22:58:11 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <OF553A7F49.94FD3F3D-ON8825729B.005A0F30-8825729B.005B0798@il.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_22966_27503810.1173634091220"
References: <b6246fe60703110436n69b252bexc47586a1cc86ddd4@mail.gmail.com>
	 <OF553A7F49.94FD3F3D-ON8825729B.005A0F30-8825729B.005B0798@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_22966_27503810.1173634091220
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks a lot for your help..
below is  a snapshot from the code, am using for search
org.apache.lucene.analysis.StopAnalyzer sa = new
org.apache.lucene.analysis.StopAnalyzer();
org.apache.lucene.analysis.Analyzer analyzer = sa;
QueryParser parser = new QueryParser(dIndexField, analyzer);
Query query = parser.parse(sSearchStr);
hits = is.search(query);

q1: jakarta&apache  -> BooleanQurey("jakarta" OR/AND "apache")
q2: "jakarta apache"  -> PhraseQuery("jakarta apache")

when i use the queries above, i get the same result. This is what i am also
wondering at.
For two doccuments d1="jakarta otherword apache" and d2="jakarta apache
otherword", both q1 and q2 find only d2. ie; query q1 is also looking for
documents with jakarta apache as one phrase

Any ideas? I have tested it . Though i will test it again as suggested..
Regards,
Reena
On 3/11/07, Doron Cohen <DORONC@il.ibm.com> wrote:

> "ruchi thakur" <ruchithakur1@gmail.com> wrote on 11/03/2007 04:36:39:
>
> > So just wanted to make sure if
> >
> > jakarta&apache  -> jakarta apache
> > like
> > "jakarta apache"  -> jakarta apache
> >
> > ie; jakarta&apache seaches for phrase jakarta apache
> > Regards,
> > Ruchi
>
> q1: jakarta&apache  -> BooleanQurey("jakarta" OR/AND "apache")
> q2: "jakarta apache"  -> PhraseQuery("jakarta apache")
>
> For two doccuments d1="jakarta otherword apache" and d2="jakarta apache
> otherword", q1 would find both documents but q2 would only find d2.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_22966_27503810.1173634091220--

From java-user-return-26783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 19:48:15 2007
Return-Path: <java-user-return-26783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80595 invoked from network); 11 Mar 2007 19:48:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 19:48:13 -0000
Received: (qmail 6318 invoked by uid 500); 11 Mar 2007 19:48:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6280 invoked by uid 500); 11 Mar 2007 19:48:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6258 invoked by uid 99); 11 Mar 2007 19:48:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 12:48:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=PLING_PLING,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of michael.wechner@wyona.com designates 195.226.6.68 as permitted sender)
Received: from [195.226.6.68] (HELO mx1.wyona.com) (195.226.6.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 11:48:03 -0800
Received: from 205.81.77.83.cust.bluewin.ch ([83.77.81.205] helo=[192.168.1.39])
	by mx1.wyona.com with asmtp (Exim 3.35 #1 (Debian))
	id 1HQU15-0002k9-00; Sun, 11 Mar 2007 20:47:39 +0100
Message-ID: <45F45CD0.6030403@wyona.com>
Date: Sun, 11 Mar 2007 20:47:28 +0100
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.12) Gecko/20050920
X-Accept-Language: en, de, en-us, fr-ch
MIME-Version: 1.0
To:  java-user@lucene.apache.org
CC:  tomcat-dev@jakarta.apache.org
Subject: Re: help!!!!
References: <2b817f360703102108m23a3611fv218e740d979600d4@mail.gmail.com>
In-Reply-To: <2b817f360703102108m23a3611fv218e740d979600d4@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

ashwin kumar wrote:

>
>
> java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
>     mainpage.doGet(mainpage.java:54)
>     javax.servlet.http.HttpServlet.service(HttpServlet.java:689)
>     javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
>     filters.ExampleFilter.doFilter(ExampleFilter.java:101)
>
> *note* *The full stack trace of the root cause is available in the Apache
> Tomcat/5.5.8 logs.*
> ------------------------------
> Apache Tomcat/5.5.8
> pls help me debug this error



have you got the library containing the class above within your lib dir 
(WEB-INF/lib)?

HTH

Michael

>
> thanks
> regards
> ashwin
>


-- 
Michael Wechner
Wyona      -   Open Source Content Management   -    Apache Lenya
http://www.wyona.com                      http://lenya.apache.org
michael.wechner@wyona.com                        michi@apache.org
+41 44 272 91 61


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 19:48:37 2007
Return-Path: <java-user-return-26784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80676 invoked from network); 11 Mar 2007 19:48:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 19:48:36 -0000
Received: (qmail 7781 invoked by uid 500); 11 Mar 2007 19:48:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7745 invoked by uid 500); 11 Mar 2007 19:48:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7734 invoked by uid 99); 11 Mar 2007 19:48:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 12:48:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [132.230.150.3] (HELO atlas.informatik.uni-freiburg.de) (132.230.150.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 11:48:26 -0800
Received: from e176234126.adsl.alicedsl.de ([85.176.234.126])
	by atlas.informatik.uni-freiburg.de with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.66)
	(envelope-from <robisbob@web.de>)
	id 1HQU1U-0002b6-AJ
	for java-user@lucene.apache.org; Sun, 11 Mar 2007 20:48:04 +0100
Message-ID: <45F45CF2.40109@web.de>
Date: Sun, 11 Mar 2007 20:48:02 +0100
From: robisbob <robisbob@web.de>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Indexing-Error: Cannot delete <File>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Thanx for your help. I am using now lucene 2.1 and no problems anymore.

cheers
Rob

> There are several sneaky IO related issues in Lucene, that have now been
> fixed
> in Lucene 2.1, that could explain this.  Is it possible to test Lucene
> 2.1 to
> see if this issue is still happening?
>
> Mike


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 20:27:22 2007
Return-Path: <java-user-return-26785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95483 invoked from network); 11 Mar 2007 20:27:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 20:27:21 -0000
Received: (qmail 46024 invoked by uid 500); 11 Mar 2007 20:27:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45993 invoked by uid 500); 11 Mar 2007 20:27:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45981 invoked by uid 99); 11 Mar 2007 20:27:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 13:27:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 12:27:13 -0800
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id 11E391F729B
	for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 16:26:53 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Sun, 11 Mar 2007 16:26:53 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id E9F4115FBA8; Sun, 11 Mar 2007 16:26:52 -0400 (EDT)
Message-Id: <1173644812.31815.1178879303@webmail.messagingengine.com>
X-Sasl-Enc: 0G/6SYa0amNwHWhAk1NIzBtCSfbfrIwSS/dhdPHOn4vQ 1173644812
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <45F45CF2.40109@web.de>
Subject: Re: Indexing-Error: Cannot delete <File>
In-Reply-To: <45F45CF2.40109@web.de>
Date: Sun, 11 Mar 2007 16:26:52 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"robisbob" <robisbob@web.de> wrote:
> Thanx for your help. I am using now lucene 2.1 and no problems anymore.
> 
> cheers
> Rob
> 
> > There are several sneaky IO related issues in Lucene, that have now been
> > fixed
> > in Lucene 2.1, that could explain this.  Is it possible to test Lucene
> > 2.1 to
> > see if this issue is still happening?
> >
> > Mike

Excellent!  I'm glad to hear that.  And, thanks for following up.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 11 21:07:36 2007
Return-Path: <java-user-return-26786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2747 invoked from network); 11 Mar 2007 21:07:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 11 Mar 2007 21:07:35 -0000
Received: (qmail 79012 invoked by uid 500); 11 Mar 2007 21:07:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78978 invoked by uid 500); 11 Mar 2007 21:07:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78967 invoked by uid 99); 11 Mar 2007 21:07:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 14:07:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [81.169.146.188] (HELO mo-p07-ob.rzone.de) (81.169.146.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 13:07:26 -0800
Received: from [192.168.178.20] (p57BB430B.dip0.t-ipconnect.de [87.187.67.11])
	by post.webmailer.de (mrclete mo61) (RZmta 4.10)
	with ESMTP id D0047dj2BG8OoI for <java-user@lucene.apache.org>;
	Sun, 11 Mar 2007 22:07:02 +0100 (MET)
From: "Steffen Heinrich" <lucene-users@atablis.com>
To: java-user@lucene.apache.org
Date: Sun, 11 Mar 2007 22:06:56 +0100
MIME-Version: 1.0
Subject: Re: Query String for a phrase?
Message-ID: <45F47D80.9371.29FB7D6@lucene-users.atablis.com>
Priority: normal
In-reply-to: <b6246fe60703111028o36d1e118jcaf2e1a0ce3c2a92@mail.gmail.com>
References: <OF553A7F49.94FD3F3D-ON8825729B.005A0F30-8825729B.005B0798@il.ibm.com>
X-mailer: Pegasus Mail for Windows (4.31, DE v4.31 R1)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body
X-RZG-AUTH: jtz0MUsFuuf6oFDp3IiuuL5tq2uJr2xgKjtNOWqOfpGIlwVGYmele5T0IBw7pl+8BXY=
X-RZG-CLASS-ID: mo07
X-Virus-Checked: Checked by ClamAV on apache.org

On 11 Mar 2007 at 22:58, ruchi thakur wrote:

> Thanks a lot for your help..
> below is  a snapshot from the code, am using for search
> org.apache.lucene.analysis.StopAnalyzer sa = new
> org.apache.lucene.analysis.StopAnalyzer();
> org.apache.lucene.analysis.Analyzer analyzer = sa;
> QueryParser parser = new QueryParser(dIndexField, analyzer);
> Query query = parser.parse(sSearchStr);
> hits = is.search(query);
> 
> q1: jakarta&apache  -> BooleanQurey("jakarta" OR/AND "apache")
> q2: "jakarta apache"  -> PhraseQuery("jakarta apache")
> 
> when i use the queries above, i get the same result. This is what i am also
> wondering at.
> For two doccuments d1="jakarta otherword apache" and d2="jakarta apache
> otherword", both q1 and q2 find only d2. ie; query q1 is also looking for
> documents with jakarta apache as one phrase
> 
> Any ideas? I have tested it . Though i will test it again as suggested..
> Regards,
> Reena
> On 3/11/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> 
> > "ruchi thakur" <ruchithakur1@gmail.com> wrote on 11/03/2007 04:36:39:
> >
> > > So just wanted to make sure if
> > >
> > > jakarta&apache  -> jakarta apache
> > > like
> > > "jakarta apache"  -> jakarta apache
> > >
> > > ie; jakarta&apache seaches for phrase jakarta apache
> > > Regards,
> > > Ruchi
> >
> > q1: jakarta&apache  -> BooleanQurey("jakarta" OR/AND "apache")
> > q2: "jakarta apache"  -> PhraseQuery("jakarta apache")
> >
> > For two doccuments d1="jakarta otherword apache" and d2="jakarta apache
> > otherword", q1 would find both documents but q2 would only find d2.
> >
Hi Ruchi,

trying out with Luke and using the StopAnalyzer, reveals that q1gets 
actually also translated to "jakarta apache".
The syntax for the Boolean query should be (with space)
jakarta +apche

Cheers, Steffen


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 04:27:58 2007
Return-Path: <java-user-return-26787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90647 invoked from network); 12 Mar 2007 04:27:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 04:27:57 -0000
Received: (qmail 75690 invoked by uid 500); 12 Mar 2007 04:27:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75648 invoked by uid 500); 12 Mar 2007 04:27:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75637 invoked by uid 99); 12 Mar 2007 04:27:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 21:27:55 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 20:27:44 -0800
Received: by ug-out-1314.google.com with SMTP id k40so2093409ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 21:27:23 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gZDgr0NRwt1/ndIpk7H89UZSl5E0Gd/HFVe2xCh1EkFRqEhcU+CEgEE2buwZCt4S4QMzZCAEIHKJ96Xb8M5dsVQxF5tCT+KIuMsom/WHVcP6dDlPwXAwAvJB5yiXwkf8DWbmK9tk5shTvrVUkcbo7OBgffnjzG36YmXuE2HzkzQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=HrSbgxORqMyn8f+/TP/fisxn9PSBuDicxirmwRnym7FD8VUX23Eo56bix1fXDZcV8XZPlMx6MsmynLvO36Bd17M82tViaMm5Df+9CqvEtsyVNSzbTwKWfzC1CfxwgpGYS+UL8WXCprRRojrRERQYlStn8sMbOe7T1n3UeHBZDSM=
Received: by 10.114.210.2 with SMTP id i2mr1103859wag.1173673642063;
        Sun, 11 Mar 2007 21:27:22 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Sun, 11 Mar 2007 21:27:21 -0700 (PDT)
Message-ID: <b6246fe60703112127q1dcbee41sb1d163d5fdd320df@mail.gmail.com>
Date: Mon, 12 Mar 2007 09:57:21 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <45F47D80.9371.29FB7D6@lucene-users.atablis.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_29607_2759176.1173673641999"
References: <OF553A7F49.94FD3F3D-ON8825729B.005A0F30-8825729B.005B0798@il.ibm.com>
	 <b6246fe60703111028o36d1e118jcaf2e1a0ce3c2a92@mail.gmail.com>
	 <45F47D80.9371.29FB7D6@lucene-users.atablis.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_29607_2759176.1173673641999
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

ok, so does that mean i can use both q1 and q2 for phrase query ie; for
searching words adjacent to each other. Actually that was my only concern,
as i wanted to use q1 for phrase query, rather than q2.
Regards,

On 3/12/07, Steffen Heinrich <lucene-users@atablis.com> wrote:
>
> On 11 Mar 2007 at 22:58, ruchi thakur wrote:
>
> > Thanks a lot for your help..
> > below is  a snapshot from the code, am using for search
> > org.apache.lucene.analysis.StopAnalyzer sa = new
> > org.apache.lucene.analysis.StopAnalyzer();
> > org.apache.lucene.analysis.Analyzer analyzer = sa;
> > QueryParser parser = new QueryParser(dIndexField, analyzer);
> > Query query = parser.parse(sSearchStr);
> > hits = is.search(query);
> >
> > q1: jakarta&apache  -> BooleanQurey("jakarta" OR/AND "apache")
> > q2: "jakarta apache"  -> PhraseQuery("jakarta apache")
> >
> > when i use the queries above, i get the same result. This is what i am
> also
> > wondering at.
> > For two doccuments d1="jakarta otherword apache" and d2="jakarta apache
> > otherword", both q1 and q2 find only d2. ie; query q1 is also looking
> for
> > documents with jakarta apache as one phrase
> >
> > Any ideas? I have tested it . Though i will test it again as suggested..
> > Regards,
> > Ruchi
> > On 3/11/07, Doron Cohen <DORONC@il.ibm.com> wrote:
> >
> > > "ruchi thakur" <ruchithakur1@gmail.com> wrote on 11/03/2007 04:36:39:
> > >
> > > > So just wanted to make sure if
> > > >
> > > > jakarta&apache  -> jakarta apache
> > > > like
> > > > "jakarta apache"  -> jakarta apache
> > > >
> > > > ie; jakarta&apache seaches for phrase jakarta apache
> > > > Regards,
> > > > Ruchi
> > >
> > > q1: jakarta&apache  -> BooleanQurey("jakarta" OR/AND "apache")
> > > q2: "jakarta apache"  -> PhraseQuery("jakarta apache")
> > >
> > > For two doccuments d1="jakarta otherword apache" and d2="jakarta
> apache
> > > otherword", q1 would find both documents but q2 would only find d2.
> > >
> Hi Ruchi,
>
> trying out with Luke and using the StopAnalyzer, reveals that q1gets
> actually also translated to "jakarta apache".
> The syntax for the Boolean query should be (with space)
> jakarta +apche
>
> Cheers, Steffen
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_29607_2759176.1173673641999--

From java-user-return-26788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 04:45:16 2007
Return-Path: <java-user-return-26788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96802 invoked from network); 12 Mar 2007 04:45:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 04:45:15 -0000
Received: (qmail 93074 invoked by uid 500); 12 Mar 2007 04:45:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93036 invoked by uid 500); 12 Mar 2007 04:45:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93025 invoked by uid 99); 12 Mar 2007 04:45:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 21:45:16 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.254] (HELO web60911.mail.yahoo.com) (209.73.178.254)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 11 Mar 2007 20:45:04 -0800
Received: (qmail 54523 invoked by uid 60001); 12 Mar 2007 04:44:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=VGYuxQRRVcf9+N0nV/NX9S7x+LO0D3S8v8MYotlyVqUkXKtgs18GZ3Dr0G1HT1r5Tp3ZCnxixN8JM8EmO02wbGbg3ksH5QHNjvW5IT9rQ0Fd6dcBNtM5g4x8s04iLjVMeBj9R37eJ7jAZU2ZfNml3vVbetRO9k2jFOwkA5t9nZk=;
X-YMail-OSG: CikhiiYVM1lEt_YF280cJZAlHxpiuzhFX2T2O9FlhJcH9BoYyOIoC98G.P4GXzqzAiRvXr8WIkY.tbSuhEn.2J0eNqHX0vA5uLRENfY2_0OMo1.kx9mv48IXKII5VhIPjHJgW5m1KZWvT31Ue7szMFcD_mw-
Received: from [124.43.224.0] by web60911.mail.yahoo.com via HTTP; Sun, 11 Mar 2007 21:44:42 PDT
Date: Sun, 11 Mar 2007 21:44:42 -0700 (PDT)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Need a help
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-1372956111-1173674682=:54240"
Content-Transfer-Encoding: 8bit
Message-ID: <956591.54240.qm@web60911.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1372956111-1173674682=:54240
Content-Type: multipart/alternative; boundary="0-1973115514-1173674682=:54240"

--0-1973115514-1173674682=:54240
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit



Note: forwarded message attached.
 
---------------------------------
Don't be flakey. Get Yahoo! Mail for Mobile and 
always stay connected to friends.
--0-1973115514-1173674682=:54240
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<BR><BR>Note: forwarded message attached.<p>&#32;

<hr size=1>Don't be flakey. <a href="http://us.rd.yahoo.com/evt=43909/*http://mobile.yahoo.com/mail">Get Yahoo! Mail for Mobile</a> and <br><a href="http://us.rd.yahoo.com/evt=43909/*http://mobile.yahoo.com/mail">always stay connected</a> to friends.
--0-1973115514-1173674682=:54240--
--0-1372956111-1173674682=:54240
Content-Type: message/rfc822
Content-Transfer-Encoding: 8bit

X-Apparently-To: amcainforsys@yahoo.com via 209.73.178.249; Sat, 10 Mar 2007 03:49:50 -0800
X-Originating-IP: [140.211.11.2]
Authentication-Results: mta366.mail.mud.yahoo.com  from=yahoo.com; domainkeys=fail (bad sig)
Received: from 140.211.11.2  (HELO mail.apache.org) (140.211.11.2)
  by mta366.mail.mud.yahoo.com with SMTP; Sat, 10 Mar 2007 03:49:50 -0800
Received: (qmail 57361 invoked by uid 500); 10 Mar 2007 11:49:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57348 invoked by uid 99); 10 Mar 2007 11:49:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Mar 2007 03:49:55 -0800
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.249] (HELO web60921.mail.yahoo.com) (209.73.178.249)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 10 Mar 2007 03:49:43 -0800
Received: (qmail 23386 invoked by uid 60001); 10 Mar 2007 11:49:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=RnPnfy0Fg8P7WWTD27SvD9CTFQccGdT7RfI9DBL4b8lV0MhA+O4dg7fIC3dm1mS7tC26+y9/tmSCao+x2u+xQfIjxMYK6DZX2luAPOS45HTTdffe4l6PtwPclk1hIPdhPz8r/AyN5QGSCKTWwJVjSlw/JPdoCJXuiUwecCpC8S4=;
X-YMail-OSG: 80pW0SIVM1nqhW.WPCR9zLwi1scWaoQSEbdU_Bk92CDbMe85O86zB1qyajs01Bedkj4YfuzEwutJfHY5qdc_t0y_5bgs84Gp5QEIFOikBwB06ssB7q5fhtkCMtDXtD9KnyxsbZrRxwJQfgCtVHnHfCgGQyo-
Received: from [124.43.223.214] by web60921.mail.yahoo.com via HTTP; Sat, 10 Mar 2007 03:49:21 PST
Date: Sat, 10 Mar 2007 03:49:21 -0800 (PST)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Need a help
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-309287863-1173527361=:23098"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
Content-Length: 709

--0-309287863-1173527361=:23098
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi all,
   
  I'm new to this group,
   
  I'm using lucene for indexing. I have a problem. Any help gratly appreciate.
   
  Please see the following code
  // three fields
  MultiFieldQueryParser parser = new MultiFieldQueryParser(new String[]{"title", "tags", "content"}, new StandardAnalyzer());
  // OR operator
        parser.setDefaultOperator(QueryParser.Operator.OR);
  // first step : search in lucene indexes
        IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)
   
  // searchString is a String with many words
  Query lquery = parser.parse(searchString);

  //new QueryParser("content", new StandardAnalyzer());
Hits hits = searcher.search(lquery);
   
  How can I find the matched words in searchString.
  for a example
  will say the searchString="wordone wordtwo wordthree". there are some hits for "wordone" and "wordthree". but no hits for "wordtwo". 
  So what I want is to get "wordone" and "wordthree". (results are available only for "wordone" and "wordthree". ).(I hope question is clear now)
  How can i get this with lucene.
   
  Many thanks.
  Chaminda Amarasighe

 
---------------------------------
Food fight? Enjoy some healthy debate
in the Yahoo! Answers Food & Drink Q&A.
--0-309287863-1173527361=:23098--


--0-1372956111-1173674682=:54240
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--0-1372956111-1173674682=:54240--

From java-user-return-26789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 05:01:54 2007
Return-Path: <java-user-return-26789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1484 invoked from network); 12 Mar 2007 05:01:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 05:01:53 -0000
Received: (qmail 4542 invoked by uid 500); 12 Mar 2007 05:01:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4504 invoked by uid 500); 12 Mar 2007 05:01:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4490 invoked by uid 99); 12 Mar 2007 05:01:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 22:01:55 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.250] (HELO web60922.mail.yahoo.com) (209.73.178.250)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 11 Mar 2007 21:01:43 -0800
Received: (qmail 95751 invoked by uid 60001); 12 Mar 2007 05:01:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=adKYEmUU3CKYedoiD3pVvjAhOOarNhsYcJMzOGGG7ov1BXK0J4jVdbaYZQHIMwSqEKfX16EPafRg4Uh75foaZ1n/Fapy8ygXC5kN/sUJsqtZ9TMF1mgoVjBOikyENCUR2GhvR8iqztl+t2k2OwiQAjFKRkmIYplxyLouo0iQWe4=;
X-YMail-OSG: CAF6xtkVM1mgh6Cs1gNiTjVkR61ms1cOo.wagvokNINpVLylj9OJGX19cwTYQC67sOJS87zFst_pfSA_CgPb910IyH7dm8u5OFdax9rCjvT2l1eIu7VTVT6F4nx1cBBSt95fIntQ10Lp65fxNJVN3DZYQm0-
Received: from [124.43.224.0] by web60922.mail.yahoo.com via HTTP; Sun, 11 Mar 2007 22:01:22 PDT
Date: Sun, 11 Mar 2007 22:01:22 -0700 (PDT)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Lucene Indexing - Getting Hited words in a query
To: java-user@lucene.apache.org
In-Reply-To: <956591.54240.qm@web60911.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-570206645-1173675682=:94493"
Content-Transfer-Encoding: 8bit
Message-ID: <305165.94493.qm@web60922.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-570206645-1173675682=:94493
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi all,

I'm new to this group,

I'm using lucene for indexing. I have a problem. Any help gratly appreciate.

Please see the following code
// three fields
MultiFieldQueryParser parser = new MultiFieldQueryParser(new String[]{"title", "tags", "content"}, new StandardAnalyzer());
// OR operator
parser.setDefaultOperator(QueryParser.Operator.OR);
// first step : search in lucene indexes
IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)

// searchString is a String with many words
Query lquery = parser.parse(searchString);

//new QueryParser("content", new StandardAnalyzer());
Hits hits = searcher.search(lquery);

How can I find the matched words in searchString.
for a example
will say the searchString="wordone wordtwo wordthree". there are some hits for "wordone" and "wordthree". but no hits for "wordtwo". 
So what I want is to get "wordone" and "wordthree". (results are available only for "wordone" and "wordthree". ).(I hope question is clear now)
How can i get this with lucene.

Many thanks.
Chaminda Amarasighe

 
---------------------------------
Food fight? Enjoy some healthy debate
in the Yahoo! Answers Food & Drink Q&A.
--0-570206645-1173675682=:94493--

From java-user-return-26790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 05:02:02 2007
Return-Path: <java-user-return-26790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1576 invoked from network); 12 Mar 2007 05:02:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 05:02:01 -0000
Received: (qmail 5907 invoked by uid 500); 12 Mar 2007 05:02:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5874 invoked by uid 500); 12 Mar 2007 05:02:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5852 invoked by uid 99); 12 Mar 2007 05:02:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 22:02:01 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 21:01:48 -0800
Received: by ug-out-1314.google.com with SMTP id k40so2099889ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 22:01:26 -0700 (PDT)
Received: by 10.114.169.2 with SMTP id r2mr1123149wae.1173675684949;
        Sun, 11 Mar 2007 22:01:24 -0700 (PDT)
Received: by 10.114.160.3 with HTTP; Sun, 11 Mar 2007 22:01:24 -0700 (PDT)
Message-ID: <7cbc67ff0703112201q70464062sc7eb0fd455f07d8d@mail.gmail.com>
Date: Mon, 12 Mar 2007 10:31:24 +0530
From: "Harini Raghavan" <harini.raghavan@insideview.com>
To: java-user@lucene.apache.org
Subject: Re: Delete document with keyword field
In-Reply-To: <359a92830703110906s20212193v2d11ea21b24191f9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30126_23528995.1173675684660"
References: <7cbc67ff0703102329rd9e0c34ked1efe19ba2fa079@mail.gmail.com>
	 <359a92830703110906s20212193v2d11ea21b24191f9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_30126_23528995.1173675684660
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Erick,

I am using StandardAnalyzer. Also I have used LUCLI to query the index and
it shows the value for the Id field with the underscore. But I  am unable to
retrieve the document with any of the queries in Lucli :

lucli> tokens +Id:_839930494
-or-
lucli> tokens +Id:839930494

I have no clue how to fetch/delete these documents without the id.

-Harini

On 3/11/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> 1> what analyzers are you using at index time?
> 2> Have you used Luke to look at your index and see what's actually there?
>
> It's entirely possible that what you really have in your index is, as you
> suspect, 839930494, it all depends upon the analyzer you used.
>
> Erick
>
> On 3/11/07, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> >
> > Hi All,
> >
> > I have a lucene index with many fields, one of which is a Keyword field
> > IS.
> > The values stored in this field are the document ids like _839930494,
> > _839930492.
> > But I am unable to delete  the documents using this id. Is this
> something
> > to
> > do with the underscore? Can someone suggest how I should delete these
> > documents?
> >
> > Thanks,
> > Harini
> >
>

------=_Part_30126_23528995.1173675684660--

From java-user-return-26791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:03:42 2007
Return-Path: <java-user-return-26791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14812 invoked from network); 12 Mar 2007 06:03:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:03:40 -0000
Received: (qmail 56601 invoked by uid 500); 12 Mar 2007 06:03:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56565 invoked by uid 500); 12 Mar 2007 06:03:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56554 invoked by uid 99); 12 Mar 2007 06:03:33 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:03:33 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.184.226 as permitted sender)
Received: from [64.233.184.226] (HELO wr-out-0506.google.com) (64.233.184.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 22:03:22 -0800
Received: by wr-out-0506.google.com with SMTP id i28so888248wra
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:03:02 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=lJVktmO2qD6mXQUM+6i7SKuMLI2CAc2tuxQ69kg6LUOnr3R/xqLV9nqBzLP998tYfSj+xThpkYnwVHFbBPjRAfABi3HXyi5BQexl2D7clplCJQw0gUrVPiAmFIY+k0L3/Jf6z1yLZigH4wwjknDyIkJpsPd58beFaJE1P94Y7sg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=c8l9yShrtszTGJc7DieCkWbc3Gok0koV3GNHoHTiAdxyvwB5cQMeL/3MuhdzycTl6/xKm1lbF7O1xha7epAHClYV9rkkarxEMq7JLTXbb9hS5u4iV8s4BmjgYX5KXlEgmrTve7B8l1DkYiMiyumOjvYhN4tgoix9tV5kMutqSGw=
Received: by 10.90.25.3 with SMTP id 3mr3518905agy.1173679381994;
        Sun, 11 Mar 2007 23:03:01 -0700 (PDT)
Received: by 10.65.225.16 with HTTP; Sun, 11 Mar 2007 23:03:01 -0700 (PDT)
Message-ID: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com>
Date: Mon, 12 Mar 2007 11:33:01 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: pdf box help
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9076_27545472.1173679381941"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9076_27545472.1173679381941
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi all i am able to convert a pdf in to a text file using pdfbox. and this
is the code that i used

import org.pdfbox.pdfparser.PDFParser;
import org.pdfbox.pdmodel.PDDocument;
import org.pdfbox.util.PDFTextStripper;
import org.pdfbox.*;

import java.io.*;

public class PDFConvert
{

public static void main(String [] args)
{
String content = null;
try
{

    String pdfFile=new String ("D:\\ASHWIN\\res\\ashwin.pdf");
    PDDocument doc = PDDocument.load(pdfFile);
    PDFTextStripper strip = new PDFTextStripper();
    content = strip.getText(doc);
    System.out.println(content);
}
catch(Exception e)
{
    e.printStackTrace();
}

}
}

now i want to index this text information with lucene . wat is code required
for that pls help

regards
ashwin

------=_Part_9076_27545472.1173679381941--

From java-user-return-26792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:34:52 2007
Return-Path: <java-user-return-26792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21545 invoked from network); 12 Mar 2007 06:34:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:34:51 -0000
Received: (qmail 85991 invoked by uid 500); 12 Mar 2007 06:34:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85946 invoked by uid 500); 12 Mar 2007 06:34:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85935 invoked by uid 99); 12 Mar 2007 06:34:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:34:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:34:40 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2117658ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:34:19 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=sVWTGkc44fEYr8NXQXDVuoFWTaTht6skuaef0i5+A+Hd+ZxZXG5CdIR/w/LXWZOKEmSqhRxCMo0/ehsA4LbJfJUdNVnX10JXZBxQjdJakmKIWKP8Q7/9kBc++gNWbQqv9ilT/47sQC6dXh8L9fr/hQR0eIfIZPPiwTrn32QsP8g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=E0nbgd5GLmuZn7Vp73XBF2tresS9GK+IcAXgzMovqErG4gNkMjLMHpgEbc+V2UbHcUzBA+RYNAyyFv7NihezCLFi79Uh6iwwv2AFqoKivi7Z2Pqq65qibuq4ULKKe8xphDLPGm5Fz9VwNl23m18RsFrCa2dST2poe37J2C1N5po=
Received: by 10.67.92.1 with SMTP id u1mr16706003ugl.1173681258933;
        Sun, 11 Mar 2007 23:34:18 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e8sm20652273muf.2007.03.11.23.34.17;
        Sun, 11 Mar 2007 23:34:17 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com>
References: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D72C63AA-A1E3-4C3E-B398-D5FC877E9780@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: pdf box help
Date: Mon, 12 Mar 2007 07:34:15 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 07.03 skrev ashwin kumar:

> hi all i am able to convert a pdf in to a text file using pdfbox.  
> and this
> is the code that i used
> {
>
>    String pdfFile=new String ("D:\\ASHWIN\\res\\ashwin.pdf");
>    PDDocument doc = PDDocument.load(pdfFile);
>    PDFTextStripper strip = new PDFTextStripper();
>    content = strip.getText(doc);
>    System.out.println(content);
> }

> now i want to index this text information with lucene . wat is code  
> required
> for that pls help

You might want to start here:

<http://lucene.apache.org/java/2_1_0/api/overview- 
summary.html#overview_description>

There are lots of tutorials out there. Try your favorite search engine.

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:38:24 2007
Return-Path: <java-user-return-26793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23021 invoked from network); 12 Mar 2007 06:38:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:38:24 -0000
Received: (qmail 89775 invoked by uid 500); 12 Mar 2007 06:38:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89730 invoked by uid 500); 12 Mar 2007 06:38:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89717 invoked by uid 99); 12 Mar 2007 06:38:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:38:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:38:13 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2118367ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:37:52 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=nrznA0CjCaIBMP/aOqCxVQsquEJ+asAHKLK7wDN9z4/fu5IWqQwyYIHOEdSUaF6R7A1+ZRkzO7xQF6Vn0MRsCj7qUKrqTUfoeOQd9yM6I8CRy9cj4gzAHGqZjxYIJxHL0tF9NiUZzy89TPE3J1Pu6Z86eVGyPIzu+hQj23GzTz8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=jWNwi5KB0Vx5AUAU0f4q5YAAS6fvQW1V3+5f2yDykr5AMO1KMme/9nQEBqLvM7EPCs2jIQ1vexkdxvPDt0k7bLcuudjAOtjm7MhHHhYK7SByjTYuWDI/7UlGXJ4r7XDbT5iXm3qx/rpu9gJXp6O5+Gp8+0gO7Mnc+ntCMsiwbxc=
Received: by 10.66.243.2 with SMTP id q2mr16704123ugh.1173681471347;
        Sun, 11 Mar 2007 23:37:51 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id w7sm18688010mue.2007.03.11.23.37.49;
        Sun, 11 Mar 2007 23:37:49 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <7cbc67ff0703112201q70464062sc7eb0fd455f07d8d@mail.gmail.com>
References: <7cbc67ff0703102329rd9e0c34ked1efe19ba2fa079@mail.gmail.com> <359a92830703110906s20212193v2d11ea21b24191f9@mail.gmail.com> <7cbc67ff0703112201q70464062sc7eb0fd455f07d8d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7CACC321-9E82-4147-BF04-65BC734E6BAE@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Delete document with keyword field
Date: Mon, 12 Mar 2007 07:37:47 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 06.01 skrev Harini Raghavan:

> I am using StandardAnalyzer. Also I have used LUCLI to query the  
> index and
> it shows the value for the Id field with the underscore. But I  am  
> unable to
> retrieve the document with any of the queries in Lucli :
>
> lucli> tokens +Id:_839930494
> -or-
> lucli> tokens +Id:839930494

Did you really index the field or did you just store it? And do you  
really need to tokenize the field using an analyzer?

-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:44:53 2007
Return-Path: <java-user-return-26794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23671 invoked from network); 12 Mar 2007 06:44:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:44:52 -0000
Received: (qmail 96058 invoked by uid 500); 12 Mar 2007 06:44:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96022 invoked by uid 500); 12 Mar 2007 06:44:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96011 invoked by uid 99); 12 Mar 2007 06:44:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:44:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:44:43 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2119648ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:44:22 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=MJAT1MXfc2mrZxT2F2zwLK0Whi1PlaA+JPgqd4st3uSG24Xu5BmlBpVx3y1KCU5X5v7ImwDc5klQWiktdURre+qvYFbSi7m/RBwlBba1xLPRgcTd+pzqlSSQ7xbzUbm42OAa8VI5iJheqWvcQxk6cmMv0bJYAEi4JZRTJa5/lPg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=JUGwekUIhbpL4H2K8+YggfmeXdmE+REZjgRc6YH1fsm6QkBFd6tc+f7x/RoLRNT6RNP9R8xnP1DwXkXkgqWqqmAWAUvCDPLQO6j9/iuEuY8qR0tEduOjU/PDJUPdEpJvBX5wB4mEpVyJ7hicH/nNn3RBPCrYSnKrFzSDkYX1zQ0=
Received: by 10.114.94.1 with SMTP id r1mr1151645wab.1173681861260;
        Sun, 11 Mar 2007 23:44:21 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Sun, 11 Mar 2007 23:44:20 -0700 (PDT)
Message-ID: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
Date: Mon, 12 Mar 2007 12:14:21 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: search for phrase with specail chars?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30737_20547557.1173681861128"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_30737_20547557.1173681861128
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I want to search for phrase     =84innere Organe" bezeichnet
am using query q1  =3D     "=84innere Organe\" bezeichnet"

is there any issue with q1
am getting Exception in retrieveQuery().IndexDirec:Lexical error at line 1,
column 30. Encountered: <EOF> after : ""

Regards,
Ruchika

------=_Part_30737_20547557.1173681861128--

From java-user-return-26795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:45:20 2007
Return-Path: <java-user-return-26795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23783 invoked from network); 12 Mar 2007 06:45:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:45:19 -0000
Received: (qmail 97707 invoked by uid 500); 12 Mar 2007 06:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97676 invoked by uid 500); 12 Mar 2007 06:45:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97664 invoked by uid 99); 12 Mar 2007 06:45:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:45:21 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 66.249.82.230 as permitted sender)
Received: from [66.249.82.230] (HELO wx-out-0506.google.com) (66.249.82.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:45:10 -0700
Received: by wx-out-0506.google.com with SMTP id i29so1620532wxd
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:44:50 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JOmxPsEYfJjtFK8ompaIMvtunn1NzmmpWbDrN9kfGeeErR1kILgXh7aK7gsoW0vKNDxWofBwxJJl5biN3pTw4kdXZk96HF2udYBlPPEqYC2NLVSjQaYqaopNEsBTUeikFl93yiKpw3lMY6EiLUg5CMNiCxAO5cecnnD3d99vTj4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Zb4njlqoXia+IkE73l8pkj3qgW7kYk4vpcQhf2bLEwGws83Kvzp3uyq3vHBDQMxRvuS7B7XMIZDS79wZwtQEJChlDh8VzmnSbyI1HAMAJhvbd2LGAgpBLcECsrDXtNZReW/ozBp41k39xcOlmHU/B04mQrorTW6T96eOX4ZvDy4=
Received: by 10.90.88.13 with SMTP id l13mr3614150agb.1173681890125;
        Sun, 11 Mar 2007 23:44:50 -0700 (PDT)
Received: by 10.65.225.16 with HTTP; Sun, 11 Mar 2007 23:44:50 -0700 (PDT)
Message-ID: <2b817f360703112344j9ac1f75i8ce335fd3818d00d@mail.gmail.com>
Date: Mon, 12 Mar 2007 12:14:50 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: pdf box help
In-Reply-To: <D72C63AA-A1E3-4C3E-B398-D5FC877E9780@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9093_11498616.1173681890070"
References: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com>
	 <D72C63AA-A1E3-4C3E-B398-D5FC877E9780@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9093_11498616.1173681890070
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

it says that the requested URL is not found

On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 12 mar 2007 kl. 07.03 skrev ashwin kumar:
>
> > hi all i am able to convert a pdf in to a text file using pdfbox.
> > and this
> > is the code that i used
> > {
> >
> >    String pdfFile=new String ("D:\\ASHWIN\\res\\ashwin.pdf");
> >    PDDocument doc = PDDocument.load(pdfFile);
> >    PDFTextStripper strip = new PDFTextStripper();
> >    content = strip.getText(doc);
> >    System.out.println(content);
> > }
>
> > now i want to index this text information with lucene . wat is code
> > required
> > for that pls help
>
> You might want to start here:
>
> <http://lucene.apache.org/java/2_1_0/api/overview-
> summary.html#overview_description>
>
> There are lots of tutorials out there. Try your favorite search engine.
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9093_11498616.1173681890070--

From java-user-return-26796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:50:21 2007
Return-Path: <java-user-return-26796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24242 invoked from network); 12 Mar 2007 06:50:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:50:21 -0000
Received: (qmail 2063 invoked by uid 500); 12 Mar 2007 06:50:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2022 invoked by uid 500); 12 Mar 2007 06:50:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2011 invoked by uid 99); 12 Mar 2007 06:50:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:50:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:50:11 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2120907ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:49:49 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=a2GWsqctZ5we2cm6CbRjLvdcEyJ3R6/CxmNnKRs7u4zHhHes3M2bK9pX6cNfnG0feKz/kcOv/L2+/kNDZi6xlT+e4yqNZqT9FMX2Y3TrJyJ3bXwMlfJayHSCIjfNxmooj57H31wSeFc7fNbu1QfNfsMcdhJS7L1tMo6+cH4jVN4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=oe/Yjrl0KeyYosJyREX0aNkff3JS2VmD1zTJltDRKsajXADpfQi8XaCaILLighrFGr/2kXhXvK18Zy+EzwmLVJKfo7MVJQGww7rlntUTf6FPN+J18+TQQmaq3oETROc/8JZ4Kmz/YU2qnI142SWk8d4oh+3py5IweUDAO3dm9oI=
Received: by 10.66.232.9 with SMTP id e9mr16744407ugh.1173682189799;
        Sun, 11 Mar 2007 23:49:49 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id j9sm20624705mue.2007.03.11.23.49.48;
        Sun, 11 Mar 2007 23:49:48 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <2b817f360703112344j9ac1f75i8ce335fd3818d00d@mail.gmail.com>
References: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com> <D72C63AA-A1E3-4C3E-B398-D5FC877E9780@gmail.com> <2b817f360703112344j9ac1f75i8ce335fd3818d00d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <08CE6F35-1624-4454-BB98-353872FC5262@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: pdf box help
Date: Mon, 12 Mar 2007 07:49:46 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 07.44 skrev ashwin kumar:

> it says that the requested URL is not found

Compare the URL in your browser with the URL in the mail. Perhaps  
your mail client does not handle the line feed?

>
> On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 12 mar 2007 kl. 07.03 skrev ashwin kumar:
>>
>> > hi all i am able to convert a pdf in to a text file using pdfbox.
>> > and this
>> > is the code that i used
>> > {
>> >
>> >    String pdfFile=new String ("D:\\ASHWIN\\res\\ashwin.pdf");
>> >    PDDocument doc = PDDocument.load(pdfFile);
>> >    PDFTextStripper strip = new PDFTextStripper();
>> >    content = strip.getText(doc);
>> >    System.out.println(content);
>> > }
>>
>> > now i want to index this text information with lucene . wat is code
>> > required
>> > for that pls help
>>
>> You might want to start here:
>>
>> <http://lucene.apache.org/java/2_1_0/api/overview-
>> summary.html#overview_description>
>>
>> There are lots of tutorials out there. Try your favorite search  
>> engine.
>>
>> --
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:52:27 2007
Return-Path: <java-user-return-26797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26039 invoked from network); 12 Mar 2007 06:52:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:52:22 -0000
Received: (qmail 6438 invoked by uid 500); 12 Mar 2007 06:52:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6404 invoked by uid 500); 12 Mar 2007 06:52:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6393 invoked by uid 99); 12 Mar 2007 06:52:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:52:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:52:11 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2121346ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:51:49 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=kNa6ATObnXv9QumZ4sUIlSQHU0FKlKVEahJhteN0Wo2496PkIGM3HEE4qBI0dD4lJIUOlGn1QRy+gteaunw8olEZYVL6hUD+yaFRsq+rpXsmLFBM6k0sAvyGjVLpcQKZYEFCseNp03cnkRVNXQEEnDGjyf/wYeEmlhRyRNyXw+o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=bHvuUqArO0b0jiroq5wBlSXNccSZylvah66mKdhKw1/hNp9PcXBD/yPq292qtHPcUpZTMXosEseE5Y0AtC0r9J623JftFbUoHLkd4CQx+TCN3YM7ZbDk0A81+s05WapCcuAQ/ThU3QYmbK5Qep20eREXOKghez/p3ynH13oKvz4=
Received: by 10.66.221.6 with SMTP id t6mr16730412ugg.1173682309046;
        Sun, 11 Mar 2007 23:51:49 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e9sm20731695muf.2007.03.11.23.51.47;
        Sun, 11 Mar 2007 23:51:48 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
Content-Type: text/plain; charset=WINDOWS-1252; delsp=yes; format=flowed
Message-Id: <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com>
Content-Transfer-Encoding: quoted-printable
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: search for phrase with specail chars?
Date: Mon, 12 Mar 2007 07:51:45 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 07.44 skrev ruchi thakur:

> I want to search for phrase     =84innere Organe" bezeichnet
> am using query q1  =3D     "=84innere Organe\" bezeichnet"
>
> is there any issue with q1
> am getting Exception in retrieveQuery().IndexDirec:Lexical error at =20=

> line 1,
> column 30. Encountered: <EOF> after : ""

Is there something more to this exception? Something like what it =20
expected?

--=20
karl=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:53:21 2007
Return-Path: <java-user-return-26798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26829 invoked from network); 12 Mar 2007 06:52:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:52:57 -0000
Received: (qmail 9515 invoked by uid 500); 12 Mar 2007 06:52:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9491 invoked by uid 500); 12 Mar 2007 06:52:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9480 invoked by uid 99); 12 Mar 2007 06:52:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:52:58 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:52:47 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2121346ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:52:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=O46cs6K3ZgUHso9OE7nzjpe3VABa/wGfU7gwtTJyC1RY1jroYnyZm7WVrlTrt5wMIp2Cv4ohM8g9r/odt/ng27nqmZTNxSofNkIPmBo5u+j6lHdjf0sH2yvoGgn6KCEwZRRg4nC3UTUCiRNlZ87YRlBphDg6I8zJ1aniLSIZ07Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=cC4DwffZRZvXK/IYW+MCzdOB2zNWHWNysMgcwhnH1Cb65iJjsmp4yHsNMPEHbHIsHCS8a/CxGVpLcw6M4vtNkD1be+5q8G9iR0KIRSc1oEh2tbo3nD5Vc+6kQ6Kt8WFrQfVWOyED2LhiicKgcLP+9Hnj57CuvAYa71wR96Kn1Uk=
Received: by 10.115.17.1 with SMTP id u1mr1146038wai.1173682345677;
        Sun, 11 Mar 2007 23:52:25 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Sun, 11 Mar 2007 23:52:25 -0700 (PDT)
Message-ID: <b6246fe60703112352s383e2af4xde1474b3f99bcb9d@mail.gmail.com>
Date: Mon, 12 Mar 2007 12:22:25 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: search for phrase with specail chars?
In-Reply-To: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30861_17481841.1173682345641"
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_30861_17481841.1173682345641
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
column 30. Encountered: <EOF> after : ""
On 3/12/07, ruchi thakur <ruchithakur1@gmail.com> wrote:
>
>
> I want to search for phrase     =84innere Organe" bezeichnet
> am using query q1  =3D     "=84innere Organe\" bezeichnet"
>
> is there any issue with q1
> am getting Exception in retrieveQuery().IndexDirec:Lexical error at line
> 1, column 30. Encountered: <EOF> after : ""
>
> Regards,
> Ruchika
>

------=_Part_30861_17481841.1173682345641--

From java-user-return-26799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:54:12 2007
Return-Path: <java-user-return-26799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28088 invoked from network); 12 Mar 2007 06:54:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:54:10 -0000
Received: (qmail 12289 invoked by uid 500); 12 Mar 2007 06:54:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12251 invoked by uid 500); 12 Mar 2007 06:54:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12240 invoked by uid 99); 12 Mar 2007 06:54:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:54:11 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:54:00 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2121346ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:53:39 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=na3vz1v6GBNjtFa+K7Wjkd9V3MHTkjlxUx7GfVkJyptAqQ0OD/w9wA2CSAniBqjxuNxHdlEpG8anjK4cws2mjbMGFaxTWgXq8uoYBJk0v9eU46r0mb/sum1dCZniqOkYO4k4Z10ie77T128njXeE36CWLRElcNRCuHb3rfNgJTA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qI8KRItLHcpZDJ4zigQMdmYtiBKdsvQLPByLsBOs9MrGRdADkHnRJXNRRk4IFt8Ejd6bVXhXONfFNr6N/kmn5NTMCbohbDFJUEA/r/XyHUSOcjJ9B8e6DavQreNuphArsruIQB2gNpDrwQmljcqFaBIpGD8WoYnCvDPDlbhCpkg=
Received: by 10.114.151.13 with SMTP id y13mr1150073wad.1173682417535;
        Sun, 11 Mar 2007 23:53:37 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Sun, 11 Mar 2007 23:53:37 -0700 (PDT)
Message-ID: <b6246fe60703112353i4b3b4d2cjd2a4bc36946332c3@mail.gmail.com>
Date: Mon, 12 Mar 2007 12:23:37 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: search for phrase with specail chars?
In-Reply-To: <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30877_10758382.1173682417499"
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
	 <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_30877_10758382.1173682417499
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

 no, i just get the folowing
org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
column 30. Encountered: <EOF> after : ""

On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 12 mar 2007 kl. 07.44 skrev ruchi thakur:
>
> > I want to search for phrase     =84innere Organe" bezeichnet
> > am using query q1  =3D     "=84innere Organe\" bezeichnet"
> >
> > is there any issue with q1
> > am getting Exception in retrieveQuery().IndexDirec:Lexical error at
> > line 1,
> > column 30. Encountered: <EOF> after : ""
>
> Is there something more to this exception? Something like what it
> expected?
>
> --
> karl
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_30877_10758382.1173682417499--

From java-user-return-26800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:55:01 2007
Return-Path: <java-user-return-26800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28261 invoked from network); 12 Mar 2007 06:55:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:55:00 -0000
Received: (qmail 14204 invoked by uid 500); 12 Mar 2007 06:55:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14168 invoked by uid 500); 12 Mar 2007 06:55:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14149 invoked by uid 99); 12 Mar 2007 06:55:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:55:01 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.184.224 as permitted sender)
Received: from [64.233.184.224] (HELO wr-out-0506.google.com) (64.233.184.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:54:50 -0700
Received: by wr-out-0506.google.com with SMTP id i28so894285wra
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:54:30 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=RPc15tcpMUiCmQNsRHMtKJrU/8ZnMLEfgG3lYEl2ZsCNn54GCrRnzKVz8xWCM8ZyruWt4vdYP7o1qKD6b46g6ITW3hAOXviBRd4LmJ0TunOSRZlRZ/eYEgMnot4J+Y2D2FzqOBg/SgDHlB6nipqiFTTksvKDLy6j55hnH4uH4Dw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=W3ucssUPV/LycCoBwpOwIZN46B5y7hBudVvT+46xqXh/UheK+A2P3MXlmrM+abbt7E9+IXzNYyXGjbzHBkzGKL8vvPatiuLGMitN2VeyFET1l3tb4NDxK4WEDVXC/f9TWvoiKsWhnfz6Ot7L/sed6qasriNheeR60yPQnNji6r0=
Received: by 10.90.52.2 with SMTP id z2mr3600371agz.1173682470091;
        Sun, 11 Mar 2007 23:54:30 -0700 (PDT)
Received: by 10.65.225.16 with HTTP; Sun, 11 Mar 2007 23:54:30 -0700 (PDT)
Message-ID: <2b817f360703112354v7e3ef5afte2f30284447139ef@mail.gmail.com>
Date: Mon, 12 Mar 2007 12:24:30 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: pdf box help
In-Reply-To: <08CE6F35-1624-4454-BB98-353872FC5262@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9133_26257954.1173682470026"
References: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com>
	 <D72C63AA-A1E3-4C3E-B398-D5FC877E9780@gmail.com>
	 <2b817f360703112344j9ac1f75i8ce335fd3818d00d@mail.gmail.com>
	 <08CE6F35-1624-4454-BB98-353872FC5262@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9133_26257954.1173682470026
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

ya sorry got it but that link contains only a program to index text i have
already successfully indexed .txt now want to index pdf

On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 12 mar 2007 kl. 07.44 skrev ashwin kumar:
>
> > it says that the requested URL is not found
>
> Compare the URL in your browser with the URL in the mail. Perhaps
> your mail client does not handle the line feed?
>
> >
> > On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
> >>
> >>
> >> 12 mar 2007 kl. 07.03 skrev ashwin kumar:
> >>
> >> > hi all i am able to convert a pdf in to a text file using pdfbox.
> >> > and this
> >> > is the code that i used
> >> > {
> >> >
> >> >    String pdfFile=new String ("D:\\ASHWIN\\res\\ashwin.pdf");
> >> >    PDDocument doc = PDDocument.load(pdfFile);
> >> >    PDFTextStripper strip = new PDFTextStripper();
> >> >    content = strip.getText(doc);
> >> >    System.out.println(content);
> >> > }
> >>
> >> > now i want to index this text information with lucene . wat is code
> >> > required
> >> > for that pls help
> >>
> >> You might want to start here:
> >>
> >> <http://lucene.apache.org/java/2_1_0/api/overview-
> >> summary.html#overview_description>
> >>
> >> There are lots of tutorials out there. Try your favorite search
> >> engine.
> >>
> >> --
> >> karl
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9133_26257954.1173682470026--

From java-user-return-26801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 06:59:12 2007
Return-Path: <java-user-return-26801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28709 invoked from network); 12 Mar 2007 06:59:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 06:59:11 -0000
Received: (qmail 17840 invoked by uid 500); 12 Mar 2007 06:59:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17790 invoked by uid 500); 12 Mar 2007 06:59:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17779 invoked by uid 99); 12 Mar 2007 06:59:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:59:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Mar 2007 23:59:00 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2122791ugc
        for <java-user@lucene.apache.org>; Sun, 11 Mar 2007 23:58:38 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Ey4a6uKyrh7OjPJzAhtJBvsJ+Wc5YoQQ2nW+7Uw0xRKj7jiQJ0KMWcvImg4CuPgjYcwMyEhxrNZm9U8jdf5EtrMRbcesc4gjqa172/EI8Ie3A5klZOmPEjJYz6u6N7HUVLNnM3iD58L+owZJn/m7EBi+ykHBmNlfPspuqgSlwWo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Mja2FFlZY9LJNVRs+frexZTzCvEIdxF/iPxpfW0O+QRXyR5xKUxU6kaophFzWP9pFz0LSARJOXZH2hb2E7XHg6bXvjMeT1RxaiSb6SzE12tkzaLWGVfc85NBqdDTKRcaI+YKV5kUWNyr9g25o/k6kIUWlioDT7yFnx1U6Mcwg1Y=
Received: by 10.67.92.1 with SMTP id u1mr16750947ugl.1173682718729;
        Sun, 11 Mar 2007 23:58:38 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id g8sm20747320muf.2007.03.11.23.58.37;
        Sun, 11 Mar 2007 23:58:37 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <b6246fe60703112353i4b3b4d2cjd2a4bc36946332c3@mail.gmail.com>
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com> <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com> <b6246fe60703112353i4b3b4d2cjd2a4bc36946332c3@mail.gmail.com>
Content-Type: text/plain; charset=WINDOWS-1252; delsp=yes; format=flowed
Message-Id: <52527B2E-3962-416E-AEB3-B6B3340C2C4F@gmail.com>
Content-Transfer-Encoding: quoted-printable
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: search for phrase with specail chars?
Date: Mon, 12 Mar 2007 07:58:35 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 07.53 skrev ruchi thakur:

> no, i just get the folowing
> org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
> column 30. Encountered: <EOF> after : ""

The problem is probably that you have a " in your query, and it =20
expects an end "-token. So it needs to be escaped. Programatically:

String q =3D "\"=84innere Organe\\\" bezeichnet\"";

--=20
karl

>
> On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 12 mar 2007 kl. 07.44 skrev ruchi thakur:
>>
>> > I want to search for phrase     =84innere Organe" bezeichnet
>> > am using query q1  =3D     "=84innere Organe\" bezeichnet"
>> >
>> > is there any issue with q1
>> > am getting Exception in retrieveQuery().IndexDirec:Lexical error at
>> > line 1,
>> > column 30. Encountered: <EOF> after : ""
>>
>> Is there something more to this exception? Something like what it
>> expected?
>>
>> --
>> karl
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 07:06:54 2007
Return-Path: <java-user-return-26802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31147 invoked from network); 12 Mar 2007 07:06:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 07:06:53 -0000
Received: (qmail 26040 invoked by uid 500); 12 Mar 2007 07:06:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26007 invoked by uid 500); 12 Mar 2007 07:06:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25996 invoked by uid 99); 12 Mar 2007 07:06:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:06:54 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:06:42 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2124557ugc
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 00:06:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=CJhBF91/Yat+XqxrxNYZGEhSCwSQR2FfpJEBEKjLJW06BQuvrfkMYVkvvb/6zGDkyQ805BDQnwzZuAGQBf5JTrL8GwY1hXpbksF1qvWKSCtcEWPZnTpawWDHmD4scGASiH+z1vG7h181XCB5+V8sEUCPDoXaBZ2TQ4ijYO9XXuU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=n2/Jau+9FEe1Ja+I/hNXd08bkMjTZ7lWXgd+6Fk5oy3MNrJGu4UK7RbLwaIEpGtg1fhVupXrryZkDpcVi3xvlqsyqaVhbHvkpGJPxzCe25OxcuZcgg7n5bU3KChq2DZTmrLrTRRB/5fF6E2k1xj4v2ewBHeZRUAqp5mC3xhJWQk=
Received: by 10.66.225.1 with SMTP id x1mr16771160ugg.1173682793877;
        Sun, 11 Mar 2007 23:59:53 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e9sm20753780muf.2007.03.11.23.59.52;
        Sun, 11 Mar 2007 23:59:53 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <2b817f360703112354v7e3ef5afte2f30284447139ef@mail.gmail.com>
References: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com> <D72C63AA-A1E3-4C3E-B398-D5FC877E9780@gmail.com> <2b817f360703112344j9ac1f75i8ce335fd3818d00d@mail.gmail.com> <08CE6F35-1624-4454-BB98-353872FC5262@gmail.com> <2b817f360703112354v7e3ef5afte2f30284447139ef@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <751149C0-440B-4711-A870-E93601AA526C@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: pdf box help
Date: Mon, 12 Mar 2007 07:59:50 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 07.54 skrev ashwin kumar:

> ya sorry got it but that link contains only a program to index text  
> i have
> already successfully indexed .txt now want to index pdf

You can not index the PDF. You need to index the text you have  
extracted.

> >> >    content = strip.getText(doc);

So add content to a field.

-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 07:24:45 2007
Return-Path: <java-user-return-26803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35557 invoked from network); 12 Mar 2007 07:24:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 07:24:44 -0000
Received: (qmail 42622 invoked by uid 500); 12 Mar 2007 07:24:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42589 invoked by uid 500); 12 Mar 2007 07:24:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42565 invoked by uid 99); 12 Mar 2007 07:24:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:24:43 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:24:32 -0700
Received: by nf-out-0910.google.com with SMTP id g2so1679458nfe
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 00:24:11 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gPpEm5qCnTIey9/0kvehK9SpYQKj096XoezQhqLO69smt1TKfsBvIA0GzJrwQyRkk7R7V94czT8jfmxosoQNAxSmYHya88QXan8kLsA+4nOIMddNHgRauBu333m/7VHOdgNrWU6DOKe/jaJ2+AVWKYrLT2yIjlEPjFoDv6bYVQE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rhcafo7s5cuZC4kRozlXLNWxPyFUcIgKgfQgDtTGWB46wLyS1Bx/OoNLAKUvX9UFdR2EPRwNFG/8dsiSuiYBpNK34NQgu4TLYQssnRM9+YKTkX9ba0EAL+WZzRXCIgr/xwdnZEOIXxbU2MPXtVgFx6vU9fRAoHxuJ8lshvhKDgk=
Received: by 10.114.124.1 with SMTP id w1mr1141391wac.1173684250215;
        Mon, 12 Mar 2007 00:24:10 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Mon, 12 Mar 2007 00:24:10 -0700 (PDT)
Message-ID: <b6246fe60703120024p20efc8d4nba2862fa376f1587@mail.gmail.com>
Date: Mon, 12 Mar 2007 12:54:10 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: search for phrase with specail chars?
In-Reply-To: <52527B2E-3962-416E-AEB3-B6B3340C2C4F@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_31165_15185683.1173684250180"
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
	 <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com>
	 <b6246fe60703112353i4b3b4d2cjd2a4bc36946332c3@mail.gmail.com>
	 <52527B2E-3962-416E-AEB3-B6B3340C2C4F@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_31165_15185683.1173684250180
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

yes that is exactly what i am doing
in java String i have something like
String aSearchStr =3D "\"=84innere Organe\\\" bezeichnet\"";
Query query =3D parser.parse(aSearchStr);

2nd line to parse gives me the Exception. In this case as i understand the
search String input that goes to lucene is actually  "=84innere Organe\"
bezeichnet"
Should i send something else..
Regards,
Ruchika
On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 12 mar 2007 kl. 07.53 skrev ruchi thakur:
>
> > no, i just get the folowing
> > org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
> > column 30. Encountered: <EOF> after : ""
>
> The problem is probably that you have a " in your query, and it
> expects an end "-token. So it needs to be escaped. Programatically:
>
> String q =3D "\"=84innere Organe\\\" bezeichnet\"";
>
> --
> karl
>
> >
> > On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
> >>
> >>
> >> 12 mar 2007 kl. 07.44 skrev ruchi thakur:
> >>
> >> > I want to search for phrase     =84innere Organe" bezeichnet
> >> > am using query q1  =3D     "=84innere Organe\" bezeichnet"
> >> >
> >> > is there any issue with q1
> >> > am getting Exception in retrieveQuery().IndexDirec:Lexical error at
> >> > line 1,
> >> > column 30. Encountered: <EOF> after : ""
> >>
> >> Is there something more to this exception? Something like what it
> >> expected?
> >>
> >> --
> >> karl
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_31165_15185683.1173684250180--

From java-user-return-26804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 07:36:25 2007
Return-Path: <java-user-return-26804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40313 invoked from network); 12 Mar 2007 07:36:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 07:36:24 -0000
Received: (qmail 57177 invoked by uid 500); 12 Mar 2007 07:36:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57149 invoked by uid 500); 12 Mar 2007 07:36:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57132 invoked by uid 99); 12 Mar 2007 07:36:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:36:25 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.179.1] (HELO web60912.mail.yahoo.com) (209.73.179.1)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 00:36:13 -0700
Received: (qmail 20182 invoked by uid 60001); 12 Mar 2007 07:35:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=apufYeB7k4Gcb9ZL4yont6B62bzOYF/aQ27OQEz1rQw3e605KU7OBQPvxhAo9sKALVBJ8VQUXMfyQNz0A5kZ5qmL+3PKhSNi9EIDu6Nq38Gif1hyZe0PK5xY+jhAL+yAMprBdcolpi6aQ/QQsfIbuamxULr84FPQc2701D/5BEA=;
X-YMail-OSG: 5k_NmQsVM1mGNSeMdw7l39wC5b9q7owsGzSQpwfxdJBddRzXHpNyW2ZyrhyYKnMhoopNVqDySXkDmJFreIIXsVzWZjrDcdrh0iYKXPzVostmHjkWpn3u6O_jT1ZHIswbqJa3fp7ebOAQyGfpyhBoET3B3MQ-
Received: from [124.43.224.0] by web60912.mail.yahoo.com via HTTP; Mon, 12 Mar 2007 00:35:49 PDT
Date: Mon, 12 Mar 2007 00:35:49 -0700 (PDT)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Re: Lucene Indexing - Getting Hited words in a query
To: java-user@lucene.apache.org
In-Reply-To: <305165.94493.qm@web60922.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-706232433-1173684949=:17624"
Content-Transfer-Encoding: 8bit
Message-ID: <152204.17624.qm@web60912.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-706232433-1173684949=:17624
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Why nobody is anwering me?
  Pls help me.

Chaminda Amarasinghe <amcainforsys@yahoo.com> wrote:
  Hi all,

I'm new to this group,

I'm using lucene for indexing. I have a problem. Any help gratly appreciate.

Please see the following code
// three fields
MultiFieldQueryParser parser = new MultiFieldQueryParser(new String[]{"title", "tags", "content"}, new StandardAnalyzer());
// OR operator
parser.setDefaultOperator(QueryParser.Operator.OR);
// first step : search in lucene indexes
IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)

// searchString is a String with many words
Query lquery = parser.parse(searchString);

//new QueryParser("content", new StandardAnalyzer());
Hits hits = searcher.search(lquery);

How can I find the matched words in searchString.
for a example
will say the searchString="wordone wordtwo wordthree". there are some hits for "wordone" and "wordthree". but no hits for "wordtwo". 
So what I want is to get "wordone" and "wordthree". (results are available only for "wordone" and "wordthree". ).(I hope question is clear now)
How can i get this with lucene.

Many thanks.
Chaminda Amarasighe


---------------------------------
Food fight? Enjoy some healthy debate
in the Yahoo! Answers Food & Drink Q&A.

 
---------------------------------
Now that's room service! Choose from over 150,000 hotels 
in 45,000 destinations on Yahoo! Travel to find your fit.
--0-706232433-1173684949=:17624--

From java-user-return-26805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 07:41:10 2007
Return-Path: <java-user-return-26805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42337 invoked from network); 12 Mar 2007 07:41:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 07:41:09 -0000
Received: (qmail 66215 invoked by uid 500); 12 Mar 2007 07:41:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65748 invoked by uid 500); 12 Mar 2007 07:41:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65737 invoked by uid 99); 12 Mar 2007 07:41:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:41:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:40:58 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2133122ugc
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 00:40:37 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=gfHE909+gkribTqqcx0lKfrAWcmLooXEK8iQl7L45KQqOreUY4ihWvUu36U38r22KWDfGebruEGqyBgDp/Ffgq93w9FtnPiEFZVIimVFN0LI6gQ1QA6ugTk1JkOxr6HAtAknz6XicIZ1LUItJeFjBhacd63btjeqhJGeyEIO2bs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=QJcUtSbkPNVMRNwh1Pg9b9S6WUJz3hOElwKpa6zx5dN6RA08wGFsgFt949dS/R5xfc7RHdVw/QacUrhFFnm4jYvAOOd/61Lvc1r0HV8oUwPVx0lztN5/R9aczq2no/NlL85CDOzB17x+IohH3ViMEDkNZEskv0XA9lZacaPt0SM=
Received: by 10.66.216.20 with SMTP id o20mr16786952ugg.1173685237461;
        Mon, 12 Mar 2007 00:40:37 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id u9sm18976690muf.2007.03.12.00.40.35;
        Mon, 12 Mar 2007 00:40:36 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <152204.17624.qm@web60912.mail.yahoo.com>
References: <152204.17624.qm@web60912.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B817FF25-992E-408E-B8EB-6587BEF7BA3F@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Lucene Indexing - Getting Hited words in a query
Date: Mon, 12 Mar 2007 08:40:34 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 08.35 skrev Chaminda Amarasinghe:

> Why nobody is anwering me?
>   Pls help me.

It might take some time until someone that knows the answer reads you  
question.

>
> Chaminda Amarasinghe <amcainforsys@yahoo.com> wrote:
>   Hi all,
>
> I'm new to this group,
>
> I'm using lucene for indexing. I have a problem. Any help gratly  
> appreciate.
>
> Please see the following code
> // three fields
> MultiFieldQueryParser parser = new MultiFieldQueryParser(new String 
> []{"title", "tags", "content"}, new StandardAnalyzer());
> // OR operator
> parser.setDefaultOperator(QueryParser.Operator.OR);
> // first step : search in lucene indexes
> IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)
>
> // searchString is a String with many words
> Query lquery = parser.parse(searchString);
>
> //new QueryParser("content", new StandardAnalyzer());
> Hits hits = searcher.search(lquery);
>
> How can I find the matched words in searchString.
> for a example
> will say the searchString="wordone wordtwo wordthree". there are  
> some hits for "wordone" and "wordthree". but no hits for "wordtwo".
> So what I want is to get "wordone" and "wordthree". (results are  
> available only for "wordone" and "wordthree". ).(I hope question is  
> clear now)
> How can i get this with lucene.
>
> Many thanks.
> Chaminda Amarasighe
>
>
> ---------------------------------
> Food fight? Enjoy some healthy debate
> in the Yahoo! Answers Food & Drink Q&A.
>
>
> ---------------------------------
> Now that's room service! Choose from over 150,000 hotels
> in 45,000 destinations on Yahoo! Travel to find your fit.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 07:43:18 2007
Return-Path: <java-user-return-26806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42638 invoked from network); 12 Mar 2007 07:43:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 07:43:16 -0000
Received: (qmail 68256 invoked by uid 500); 12 Mar 2007 07:43:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68222 invoked by uid 500); 12 Mar 2007 07:43:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68210 invoked by uid 99); 12 Mar 2007 07:43:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 00:43:17 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.250] (HELO web60922.mail.yahoo.com) (209.73.178.250)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 00:43:04 -0700
Received: (qmail 47358 invoked by uid 60001); 12 Mar 2007 07:42:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=XIy04XC5yri+lWO5AdrTIGmlqsKN1StJ4RT9rjvUC0Ez7TE43jSyXgWK5UMkR/NSlL/71V54iKDmXG2Yp3NjRaR75zwun4RWgsruJlBYlbV/iYk/cBJWHJfXH3ePzJfm9d5+I1uLQUScdw3ICGsFhwM66LZdq5Y3ujS+IAI+9Qw=;
X-YMail-OSG: l63RqPEVM1lYJzLHXkhvbUwLDjdHS3vetf1RQBuvyIuD4qxjxBDDIBQPpYBLaCBpess4HfRcYVxfxoC4.dd4jWwK59lAlk8CUshWPDQPwVNnLiG8ngz34W52Wg5A.GRUtkA4an6975KKOi5jEvHOXlOSd8Q-
Received: from [124.43.224.0] by web60922.mail.yahoo.com via HTTP; Mon, 12 Mar 2007 00:42:43 PDT
Date: Mon, 12 Mar 2007 00:42:43 -0700 (PDT)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Re: Lucene Indexing - Getting Hited words in a query
To: java-user@lucene.apache.org
In-Reply-To: <B817FF25-992E-408E-B8EB-6587BEF7BA3F@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1266633559-1173685363=:41282"
Content-Transfer-Encoding: 8bit
Message-ID: <744864.41282.qm@web60922.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1266633559-1173685363=:41282
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

thanks karl,

karl wettin <karl.wettin@gmail.com> wrote:  
12 mar 2007 kl. 08.35 skrev Chaminda Amarasinghe:

> Why nobody is anwering me?
> Pls help me.

It might take some time until someone that knows the answer reads you 
question.

>
> Chaminda Amarasinghe wrote:
> Hi all,
>
> I'm new to this group,
>
> I'm using lucene for indexing. I have a problem. Any help gratly 
> appreciate.
>
> Please see the following code
> // three fields
> MultiFieldQueryParser parser = new MultiFieldQueryParser(new String 
> []{"title", "tags", "content"}, new StandardAnalyzer());
> // OR operator
> parser.setDefaultOperator(QueryParser.Operator.OR);
> // first step : search in lucene indexes
> IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)
>
> // searchString is a String with many words
> Query lquery = parser.parse(searchString);
>
> //new QueryParser("content", new StandardAnalyzer());
> Hits hits = searcher.search(lquery);
>
> How can I find the matched words in searchString.
> for a example
> will say the searchString="wordone wordtwo wordthree". there are 
> some hits for "wordone" and "wordthree". but no hits for "wordtwo".
> So what I want is to get "wordone" and "wordthree". (results are 
> available only for "wordone" and "wordthree". ).(I hope question is 
> clear now)
> How can i get this with lucene.
>
> Many thanks.
> Chaminda Amarasighe
>
>
> ---------------------------------
> Food fight? Enjoy some healthy debate
> in the Yahoo! Answers Food & Drink Q&A.
>
>
> ---------------------------------
> Now that's room service! Choose from over 150,000 hotels
> in 45,000 destinations on Yahoo! Travel to find your fit.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Expecting? Get great news right away with email Auto-Check.
Try the Yahoo! Mail Beta.
--0-1266633559-1173685363=:41282--

From java-user-return-26807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 08:18:32 2007
Return-Path: <java-user-return-26807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49028 invoked from network); 12 Mar 2007 08:18:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 08:18:31 -0000
Received: (qmail 8319 invoked by uid 500); 12 Mar 2007 08:18:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8276 invoked by uid 500); 12 Mar 2007 08:18:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8265 invoked by uid 99); 12 Mar 2007 08:18:32 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 01:18:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 01:18:20 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2142172ugc
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 01:17:58 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=PgIjDLKZ97Cm5JN1GbLx5snswNkKw6SfRIdTljYX0zR5NVA/2a5eyW4pbKLDEUmvOuNV+hJsuY1gkGHgbIJw8XT/X9XuTCdlQQKwjvil3LGSb7IcY92mEbLkytIrPA5IAjdyRy+5IUfdqIxmqOBqvFjP67OP8NJV30CtRi+5U3Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=aOWWV9nrB0p48ajbErduZRvmjgee0GmO9p4Y5nCNgx6wGGFt2QSVMvs5T4EFfuq2OtMb29+iRZrCpeOZS0MDuNCW3J12FaKRWl7yfgquGUVC/uhc8uhFgsWAX58TX364qfzghKoCvI3dNEnOw433EcUhLSd3GDrFx8hFCD8OpNI=
Received: by 10.67.19.17 with SMTP id w17mr16929003ugi.1173687478867;
        Mon, 12 Mar 2007 01:17:58 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e9sm20978200muf.2007.03.12.01.17.57;
        Mon, 12 Mar 2007 01:17:57 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <b6246fe60703120024p20efc8d4nba2862fa376f1587@mail.gmail.com>
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com> <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com> <b6246fe60703112353i4b3b4d2cjd2a4bc36946332c3@mail.gmail.com> <52527B2E-3962-416E-AEB3-B6B3340C2C4F@gmail.com> <b6246fe60703120024p20efc8d4nba2862fa376f1587@mail.gmail.com>
Content-Type: text/plain; charset=WINDOWS-1252; delsp=yes; format=flowed
Message-Id: <3D98F1F2-F9C6-4845-8A3D-E9FC57827EED@gmail.com>
Content-Transfer-Encoding: quoted-printable
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: search for phrase with specail chars?
Date: Mon, 12 Mar 2007 09:17:53 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


12 mar 2007 kl. 08.24 skrev ruchi thakur:

> yes that is exactly what i am doing
> in java String i have something like
> String aSearchStr =3D "\"=84innere Organe\\\" bezeichnet\"";
> Query query =3D parser.parse(aSearchStr);

I'm not sure why you get this exception. Perhaps it has something to =20
do with the =84 character.

What analyzer do you use? Does it really store =84 and "? What if you =20=

just query for "innere Organe bezeichnet"?

--=20
karl

>
> 2nd line to parse gives me the Exception. In this case as i =20
> understand the
> search String input that goes to lucene is actually  "=84innere =
Organe\"
> bezeichnet"
> Should i send something else..
> Regards,
> Ruchika
> On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 12 mar 2007 kl. 07.53 skrev ruchi thakur:
>>
>> > no, i just get the folowing
>> > org.apache.lucene.queryParser.ParseException: Lexical error at =20
>> line 1,
>> > column 30. Encountered: <EOF> after : ""
>>
>> The problem is probably that you have a " in your query, and it
>> expects an end "-token. So it needs to be escaped. Programatically:
>>
>> String q =3D "\"=84innere Organe\\\" bezeichnet\"";
>>
>> --
>> karl
>>
>> >
>> > On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>> >>
>> >>
>> >> 12 mar 2007 kl. 07.44 skrev ruchi thakur:
>> >>
>> >> > I want to search for phrase     =84innere Organe" bezeichnet
>> >> > am using query q1  =3D     "=84innere Organe\" bezeichnet"
>> >> >
>> >> > is there any issue with q1
>> >> > am getting Exception in retrieveQuery().IndexDirec:Lexical =20
>> error at
>> >> > line 1,
>> >> > column 30. Encountered: <EOF> after : ""
>> >>
>> >> Is there something more to this exception? Something like what it
>> >> expected?
>> >>
>> >> --
>> >> karl
>> >> =20
>> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 08:32:59 2007
Return-Path: <java-user-return-26808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59361 invoked from network); 12 Mar 2007 08:32:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 08:32:57 -0000
Received: (qmail 37109 invoked by uid 500); 12 Mar 2007 08:32:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37052 invoked by uid 500); 12 Mar 2007 08:32:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37016 invoked by uid 99); 12 Mar 2007 08:32:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 01:32:50 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 01:29:03 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2144879ugc
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 01:28:41 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=OfFNFUDG+N6dm3OY2lkdkhoT9KZG5717WQEIGVvXu092ULvFsxZJNyQFRDNsj1EwHyphzRAVOXEu20A8LeaGxcao69/qunqdAx3/XHk3EiOfDTngw+m04DyitahsuGNgARXnLVkZQBDSvKJJzeW2eKJyx5D+vJwe3IfY1w5y2rc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gfZkIZpTfmWyxECYnRP0dpfTl66XNpiFepERP+xUEDVI5O8iPkMMHhlcs1twN4W/R5yxXJz3iErIyIhuGUb/BDMOqQLprAumsp2gCyfPhOqw2WZQll0mDatSpboYoHglWF+UYn62IdlFa0JoW5+9RExOUaVcfX+aSOE3X12FYjM=
Received: by 10.115.46.9 with SMTP id y9mr1167614waj.1173688120673;
        Mon, 12 Mar 2007 01:28:40 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Mon, 12 Mar 2007 01:28:40 -0700 (PDT)
Message-ID: <b6246fe60703120128g11508b2aie73123a2e9118fb0@mail.gmail.com>
Date: Mon, 12 Mar 2007 13:58:40 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: search for phrase with specail chars?
In-Reply-To: <3D98F1F2-F9C6-4845-8A3D-E9FC57827EED@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_31929_15078771.1173688120633"
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>
	 <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com>
	 <b6246fe60703112353i4b3b4d2cjd2a4bc36946332c3@mail.gmail.com>
	 <52527B2E-3962-416E-AEB3-B6B3340C2C4F@gmail.com>
	 <b6246fe60703120024p20efc8d4nba2862fa376f1587@mail.gmail.com>
	 <3D98F1F2-F9C6-4845-8A3D-E9FC57827EED@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_31929_15078771.1173688120633
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

i am using StopAnalyszer.
Yes something like "innere Organe bezeichnet" works exactly fine

=84 character should not be a probelm, as if i remove this character, i sti=
ll
get the error

I get this error tiil the point i have Organe\" in my query. Guess it is th=
e
double quote inside a phrase, which is causing the issue. But i dont
understand why because i am escaping it, before i send it to lucene
Regards,

On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 12 mar 2007 kl. 08.24 skrev ruchi thakur:
>
> > yes that is exactly what i am doing
> > in java String i have something like
> > String aSearchStr =3D "\"=84innere Organe\\\" bezeichnet\"";
> > Query query =3D parser.parse(aSearchStr);
>
> I'm not sure why you get this exception. Perhaps it has something to
> do with the =84 character.
>
> What analyzer do you use? Does it really store =84 and "? What if you
> just query for "innere Organe bezeichnet"?
>
> --
> karl
>
> >
> > 2nd line to parse gives me the Exception. In this case as i
> > understand the
> > search String input that goes to lucene is actually  "=84innere Organe\=
"
> > bezeichnet"
> > Should i send something else..
> > Regards,
> > Ruchika
> > On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
> >>
> >>
> >> 12 mar 2007 kl. 07.53 skrev ruchi thakur:
> >>
> >> > no, i just get the folowing
> >> > org.apache.lucene.queryParser.ParseException: Lexical error at
> >> line 1,
> >> > column 30. Encountered: <EOF> after : ""
> >>
> >> The problem is probably that you have a " in your query, and it
> >> expects an end "-token. So it needs to be escaped. Programatically:
> >>
> >> String q =3D "\"=84innere Organe\\\" bezeichnet\"";
> >>
> >> --
> >> karl
> >>
> >> >
> >> > On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
> >> >>
> >> >>
> >> >> 12 mar 2007 kl. 07.44 skrev ruchi thakur:
> >> >>
> >> >> > I want to search for phrase     =84innere Organe" bezeichnet
> >> >> > am using query q1  =3D     "=84innere Organe\" bezeichnet"
> >> >> >
> >> >> > is there any issue with q1
> >> >> > am getting Exception in retrieveQuery().IndexDirec:Lexical
> >> error at
> >> >> > line 1,
> >> >> > column 30. Encountered: <EOF> after : ""
> >> >>
> >> >> Is there something more to this exception? Something like what it
> >> >> expected?
> >> >>
> >> >> --
> >> >> karl
> >> >>
> >> ---------------------------------------------------------------------
> >> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >> >>
> >> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_31929_15078771.1173688120633--

From java-user-return-26809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 09:00:59 2007
Return-Path: <java-user-return-26809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66147 invoked from network); 12 Mar 2007 09:00:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 09:00:59 -0000
Received: (qmail 77989 invoked by uid 500); 12 Mar 2007 09:00:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77962 invoked by uid 500); 12 Mar 2007 09:00:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77951 invoked by uid 99); 12 Mar 2007 09:00:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 02:00:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [64.202.165.238] (HELO smtpout10-04.prod.mesa1.secureserver.net) (64.202.165.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 02:00:45 -0700
Received: (qmail 18542 invoked from network); 12 Mar 2007 09:00:23 -0000
Received: from unknown (124.125.135.242)
  by smtpout10-04.prod.mesa1.secureserver.net (64.202.165.238) with ESMTP; 12 Mar 2007 09:00:22 -0000
Subject: Re: Lucene Indexing - Getting Hited words in a query
From: Vipin <vipin@qburst.com>
To: java-user@lucene.apache.org
In-Reply-To: <744864.41282.qm@web60922.mail.yahoo.com>
References: <744864.41282.qm@web60922.mail.yahoo.com>
Content-Type: text/plain
Date: Mon, 12 Mar 2007 14:37:32 +0600
Message-Id: <1173688652.2935.16.camel@vipin.qburst.local>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.2 (2.2.2-5) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org








Hi chaminda,

you just go through this link....

http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1   

in this articles last portion(page 3) the author has suggested a way to
handle such kind of things(Composite didyoumean parser)..

i think it will open up a way...

Regards,

vipin







On Mon, 2007-03-12 at 00:42 -0700, Chaminda Amarasinghe wrote:
> thanks karl,
> 
> karl wettin <karl.wettin@gmail.com> wrote:  
> 12 mar 2007 kl. 08.35 skrev Chaminda Amarasinghe:
> 
> > Why nobody is anwering me?
> > Pls help me.
> 
> It might take some time until someone that knows the answer reads you 
> question.
> 
> >
> > Chaminda Amarasinghe wrote:
> > Hi all,
> >
> > I'm new to this group,
> >
> > I'm using lucene for indexing. I have a problem. Any help gratly 
> > appreciate.
> >
> > Please see the following code
> > // three fields
> > MultiFieldQueryParser parser = new MultiFieldQueryParser(new String 
> > []{"title", "tags", "content"}, new StandardAnalyzer());
> > // OR operator
> > parser.setDefaultOperator(QueryParser.Operator.OR);
> > // first step : search in lucene indexes
> > IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)
> >
> > // searchString is a String with many words
> > Query lquery = parser.parse(searchString);
> >
> > //new QueryParser("content", new StandardAnalyzer());
> > Hits hits = searcher.search(lquery);
> >
> > How can I find the matched words in searchString.
> > for a example
> > will say the searchString="wordone wordtwo wordthree". there are 
> > some hits for "wordone" and "wordthree". but no hits for "wordtwo".
> > So what I want is to get "wordone" and "wordthree". (results are 
> > available only for "wordone" and "wordthree". ).(I hope question is 
> > clear now)
> > How can i get this with lucene.
> >
> > Many thanks.
> > Chaminda Amarasighe
> >
> >
> > ---------------------------------
> > Food fight? Enjoy some healthy debate
> > in the Yahoo! Answers Food & Drink Q&A.
> >
> >
> > ---------------------------------
> > Now that's room service! Choose from over 150,000 hotels
> > in 45,000 destinations on Yahoo! Travel to find your fit.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
>  
> ---------------------------------
> Expecting? Get great news right away with email Auto-Check.
> Try the Yahoo! Mail Beta.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 09:04:06 2007
Return-Path: <java-user-return-26810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67258 invoked from network); 12 Mar 2007 09:04:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 09:04:04 -0000
Received: (qmail 82947 invoked by uid 500); 12 Mar 2007 09:04:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82917 invoked by uid 500); 12 Mar 2007 09:04:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82906 invoked by uid 99); 12 Mar 2007 09:04:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 02:04:05 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.253] (HELO web60925.mail.yahoo.com) (209.73.178.253)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 02:03:52 -0700
Received: (qmail 70562 invoked by uid 60001); 12 Mar 2007 09:03:27 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=D5pxFbd+e/zZYt4DWpb4WQgoxLRxg/MQq/Hdf4rpIaPXXms4y/t6OFyIK6DsIn+lB7HbFOjwfqbbfVU6BiiuabBW6bP9vWeivRruKeoFlzKS1sFmymnM0oSA7I9uYd7yzINpkzLbS4SbFyHq79vo7U0BBJnBaxSUbcnjVBZohzs=;
X-YMail-OSG: Jpj67dYVM1keP6CQKpwY1L97e7JXA90pEQSQO0T0LjTFEl_tw8kKkzBP_IFvIkLjYAJFMxdapkZkA5WumhReOYVQKuJwNKvMCGmpddpVvUiVkDHc_oTBWhff0mGE66MZTkYXHZBo3eFUqsqkoRDE3gBJHhE-
Received: from [124.43.224.0] by web60925.mail.yahoo.com via HTTP; Mon, 12 Mar 2007 02:03:27 PDT
Date: Mon, 12 Mar 2007 02:03:27 -0700 (PDT)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Re: Lucene Indexing - Getting Hited words in a query
To: java-user@lucene.apache.org
In-Reply-To: <1173688652.2935.16.camel@vipin.qburst.local>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-763718798-1173690207=:69615"
Content-Transfer-Encoding: 8bit
Message-ID: <341588.69615.qm@web60925.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-763718798-1173690207=:69615
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Many thaks Vipin,
  I'l check

Vipin <vipin@qburst.com> wrote:
  






Hi chaminda,

you just go through this link....

http://today.java.net/pub/a/today/2005/08/09/didyoumean.html?page=1 

in this articles last portion(page 3) the author has suggested a way to
handle such kind of things(Composite didyoumean parser)..

i think it will open up a way...

Regards,

vipin







On Mon, 2007-03-12 at 00:42 -0700, Chaminda Amarasinghe wrote:
> thanks karl,
> 
> karl wettin wrote: 
> 12 mar 2007 kl. 08.35 skrev Chaminda Amarasinghe:
> 
> > Why nobody is anwering me?
> > Pls help me.
> 
> It might take some time until someone that knows the answer reads you 
> question.
> 
> >
> > Chaminda Amarasinghe wrote:
> > Hi all,
> >
> > I'm new to this group,
> >
> > I'm using lucene for indexing. I have a problem. Any help gratly 
> > appreciate.
> >
> > Please see the following code
> > // three fields
> > MultiFieldQueryParser parser = new MultiFieldQueryParser(new String 
> > []{"title", "tags", "content"}, new StandardAnalyzer());
> > // OR operator
> > parser.setDefaultOperator(QueryParser.Operator.OR);
> > // first step : search in lucene indexes
> > IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)
> >
> > // searchString is a String with many words
> > Query lquery = parser.parse(searchString);
> >
> > //new QueryParser("content", new StandardAnalyzer());
> > Hits hits = searcher.search(lquery);
> >
> > How can I find the matched words in searchString.
> > for a example
> > will say the searchString="wordone wordtwo wordthree". there are 
> > some hits for "wordone" and "wordthree". but no hits for "wordtwo".
> > So what I want is to get "wordone" and "wordthree". (results are 
> > available only for "wordone" and "wordthree". ).(I hope question is 
> > clear now)
> > How can i get this with lucene.
> >
> > Many thanks.
> > Chaminda Amarasighe
> >
> >
> > ---------------------------------
> > Food fight? Enjoy some healthy debate
> > in the Yahoo! Answers Food & Drink Q&A.
> >
> >
> > ---------------------------------
> > Now that's room service! Choose from over 150,000 hotels
> > in 45,000 destinations on Yahoo! Travel to find your fit.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 
> ---------------------------------
> Expecting? Get great news right away with email Auto-Check.
> Try the Yahoo! Mail Beta.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Be a PS3 game guru.
Get your game face on with the latest PS3 news and previews at Yahoo! Games.
--0-763718798-1173690207=:69615--

From java-user-return-26811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 09:16:50 2007
Return-Path: <java-user-return-26811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76017 invoked from network); 12 Mar 2007 09:16:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 09:16:50 -0000
Received: (qmail 6941 invoked by uid 500); 12 Mar 2007 09:16:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6914 invoked by uid 500); 12 Mar 2007 09:16:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6903 invoked by uid 99); 12 Mar 2007 09:16:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 02:16:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.218] (HELO web26007.mail.ukl.yahoo.com) (217.12.10.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 02:16:37 -0700
Received: (qmail 65861 invoked by uid 60001); 12 Mar 2007 09:16:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=XKxSoRbY9m1JRW0HBF7xc5S15rCgoTfEZQ+FEI1I2/GivxkYjDdMH3BcQPTi6Qaf/ObdsmGbdI58bjPNnLw80RQjR6FLCTNuMMhf31T/QLhnGiKqMF/PrZbacLxryo9m+Qbgsu6EWdu+z0uywZHk5HDIIW5uNc4EqE0QajAHLZ0=;
X-YMail-OSG: _aiVSS8VM1kE89_0r8pZ1eoxKIyf9sqqEzf6gVwNnbXG5sH_..ioqd9hCJfPnD_jjjHx4HVr0FulEWT1ATux.EsVwVsKZEl73zG.b3d3j88JzJU4DOfLAuHbEkc9vHSZZgN0Ga6b.HmIYg6g2wB1fL4-
Received: from [193.36.230.96] by web26007.mail.ukl.yahoo.com via HTTP; Mon, 12 Mar 2007 09:16:14 GMT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Mon, 12 Mar 2007 09:16:14 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene Indexing - Getting Hited words in a query
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <351737.65506.qm@web26007.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

>> Why nobody is anwering me?=0A=0AApologies for your 2 hour delay earlier =
this morning. The Lucene 24 hour helpdesk was temporarily closed while we h=
ad a weekend/life/sleep.=0AIf you file an official complaint you will be en=
titled to an immediate and full refund of your support fee.=0A=0A=0AAs for =
your problem - I suspect you want to look at the Highlighter package in the=
 "contrib" section of the lucene distribution.=0AThe Junit test rig gives s=
ome example uses.=0A=0A=0A=0A=0A=0A=0A----- Original Message ----=0AFrom: k=
arl wettin <karl.wettin@gmail.com>=0ATo: java-user@lucene.apache.org=0ASent=
: Monday, 12 March, 2007 7:40:34 AM=0ASubject: Re: Lucene Indexing - Gettin=
g Hited words in a query=0A=0A=0A12 mar 2007 kl. 08.35 skrev Chaminda Amara=
singhe:=0A=0A> Why nobody is anwering me?=0A>   Pls help me.=0A=0AIt might =
take some time until someone that knows the answer reads you  =0Aquestion.=
=0A=0A>=0A> Chaminda Amarasinghe <amcainforsys@yahoo.com> wrote:=0A>   Hi a=
ll,=0A>=0A> I'm new to this group,=0A>=0A> I'm using lucene for indexing. I=
 have a problem. Any help gratly  =0A> appreciate.=0A>=0A> Please see the f=
ollowing code=0A> // three fields=0A> MultiFieldQueryParser parser =3D new =
MultiFieldQueryParser(new String =0A> []{"title", "tags", "content"}, new S=
tandardAnalyzer());=0A> // OR operator=0A> parser.setDefaultOperator(QueryP=
arser.Operator.OR);=0A> // first step : search in lucene indexes=0A> IndexS=
earcher searcher =3D new IndexSearcher(eventsBothDirectory)=0A>=0A> // sear=
chString is a String with many words=0A> Query lquery =3D parser.parse(sear=
chString);=0A>=0A> //new QueryParser("content", new StandardAnalyzer());=0A=
> Hits hits =3D searcher.search(lquery);=0A>=0A> How can I find the matched=
 words in searchString.=0A> for a example=0A> will say the searchString=3D"=
wordone wordtwo wordthree". there are  =0A> some hits for "wordone" and "wo=
rdthree". but no hits for "wordtwo".=0A> So what I want is to get "wordone"=
 and "wordthree". (results are  =0A> available only for "wordone" and "word=
three". ).(I hope question is  =0A> clear now)=0A> How can i get this with =
lucene.=0A>=0A> Many thanks.=0A> Chaminda Amarasighe=0A>=0A>=0A> ----------=
-----------------------=0A> Food fight? Enjoy some healthy debate=0A> in th=
e Yahoo! Answers Food & Drink Q&A.=0A>=0A>=0A> ----------------------------=
-----=0A> Now that's room service! Choose from over 150,000 hotels=0A> in 4=
5,000 destinations on Yahoo! Travel to find your fit.=0A=0A=0A-------------=
--------------------------------------------------------=0ATo unsubscribe, =
e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional commands, =
e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=09=0A=09=0A=
=09=09=0A___________________________________________________________ =0ANew=
 Yahoo! Mail is the ultimate force in competitive emailing. Find out more a=
t the Yahoo! Mail Championships. Plus: play games and win prizes. =0Ahttp:/=
/uk.rd.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 09:39:14 2007
Return-Path: <java-user-return-26812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84323 invoked from network); 12 Mar 2007 09:39:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 09:39:14 -0000
Received: (qmail 53362 invoked by uid 500); 12 Mar 2007 09:39:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53331 invoked by uid 500); 12 Mar 2007 09:39:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53315 invoked by uid 99); 12 Mar 2007 09:39:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 02:39:13 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.246] (HELO web60918.mail.yahoo.com) (209.73.178.246)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 02:30:44 -0700
Received: (qmail 88225 invoked by uid 60001); 12 Mar 2007 09:30:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=mpczRumKdLxCKY+QubDrWA6csBsaFMiPx4GA00izwsWlxRArLUtpIpBugRHRjHFet2RbQWTW65bCuBUrOcTc9rBWB4JW2SWIMcg40lYbU7vF8Pb3rGywpnXwUCfuF1LD1Obj99rAA8cHlzOrpWr7mG0gRaGyuBxod2nBBqv7QZU=;
X-YMail-OSG: jk_5SDcVM1nxt6GD1tyELHdWhjTR3nT0IjFj8QIgsxmHx4A6BWqWvHBJkghkBkta0pYlOwG42UUOqZFNLcqszDX2lzsJnTHvrQciEi62m1JdRgBTWFzIBI8951B8ye1tZOFLaKqONW_BG5OPwirdXCA.lBk-
Received: from [124.43.224.0] by web60918.mail.yahoo.com via HTTP; Mon, 12 Mar 2007 02:30:22 PDT
Date: Mon, 12 Mar 2007 02:30:22 -0700 (PDT)
From: Chaminda Amarasinghe <amcainforsys@yahoo.com>
Subject: Re: Lucene Indexing - Getting Hited words in a query
To: java-user@lucene.apache.org
In-Reply-To: <351737.65506.qm@web26007.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-264483710-1173691822=:85945"
Content-Transfer-Encoding: 8bit
Message-ID: <968769.85945.qm@web60918.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-264483710-1173691822=:85945
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thanks mark harwood ,
   
  I want something like Highlighter thing
   
  where can i find such examples
   
  Regards Chaminda
  

mark harwood <markharw00d@yahoo.co.uk> wrote:
  >> Why nobody is anwering me?

Apologies for your 2 hour delay earlier this morning. The Lucene 24 hour helpdesk was temporarily closed while we had a weekend/life/sleep.
If you file an official complaint you will be entitled to an immediate and full refund of your support fee.


As for your problem - I suspect you want to look at the Highlighter package in the "contrib" section of the lucene distribution.
The Junit test rig gives some example uses.






----- Original Message ----
From: karl wettin 
To: java-user@lucene.apache.org
Sent: Monday, 12 March, 2007 7:40:34 AM
Subject: Re: Lucene Indexing - Getting Hited words in a query


12 mar 2007 kl. 08.35 skrev Chaminda Amarasinghe:

> Why nobody is anwering me?
> Pls help me.

It might take some time until someone that knows the answer reads you 
question.

>
> Chaminda Amarasinghe wrote:
> Hi all,
>
> I'm new to this group,
>
> I'm using lucene for indexing. I have a problem. Any help gratly 
> appreciate.
>
> Please see the following code
> // three fields
> MultiFieldQueryParser parser = new MultiFieldQueryParser(new String 
> []{"title", "tags", "content"}, new StandardAnalyzer());
> // OR operator
> parser.setDefaultOperator(QueryParser.Operator.OR);
> // first step : search in lucene indexes
> IndexSearcher searcher = new IndexSearcher(eventsBothDirectory)
>
> // searchString is a String with many words
> Query lquery = parser.parse(searchString);
>
> //new QueryParser("content", new StandardAnalyzer());
> Hits hits = searcher.search(lquery);
>
> How can I find the matched words in searchString.
> for a example
> will say the searchString="wordone wordtwo wordthree". there are 
> some hits for "wordone" and "wordthree". but no hits for "wordtwo".
> So what I want is to get "wordone" and "wordthree". (results are 
> available only for "wordone" and "wordthree". ).(I hope question is 
> clear now)
> How can i get this with lucene.
>
> Many thanks.
> Chaminda Amarasighe
>
>
> ---------------------------------
> Food fight? Enjoy some healthy debate
> in the Yahoo! Answers Food & Drink Q&A.
>
>
> ---------------------------------
> Now that's room service! Choose from over 150,000 hotels
> in 45,000 destinations on Yahoo! Travel to find your fit.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org









___________________________________________________________ 
New Yahoo! Mail is the ultimate force in competitive emailing. Find out more at the Yahoo! Mail Championships. Plus: play games and win prizes. 
http://uk.rd.yahoo.com/evt=44106/*http://mail.yahoo.net/uk

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
No need to miss a message. Get email on-the-go 
with Yahoo! Mail for Mobile. Get started.
--0-264483710-1173691822=:85945--

From java-user-return-26813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 09:56:53 2007
Return-Path: <java-user-return-26813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91479 invoked from network); 12 Mar 2007 09:56:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 09:56:52 -0000
Received: (qmail 89067 invoked by uid 500); 12 Mar 2007 09:56:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89011 invoked by uid 500); 12 Mar 2007 09:56:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88906 invoked by uid 99); 12 Mar 2007 09:56:33 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 02:56:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.36] (HELO web26014.mail.ukl.yahoo.com) (217.146.177.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 02:52:55 -0700
Received: (qmail 98475 invoked by uid 60001); 12 Mar 2007 09:52:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=C92HS/jv2UDVRIBLsIPXRzcA4aEV7J9YN7N9DpNIIiVJDfYxDsd3pWJDsXP9XaUEzYKQLDje29SX56gj+wVIWd56OFgIZpISOyXQR8CGM+NNQCArQC6PLkReaqxL+R6XDUoORLuA3NM9nUA0eOyvkEVvBV2vWcxGoCnLRM7umao=;
X-YMail-OSG: 5C71MSgVM1n9fYewXBqNgEQsbRBCVLPoph1Ma4Pmrliv6c6LIm0g0s6jIxIVnKbjkkUAuS4LvBN2AOFXxREExbd6VPUZotMMyy8duXM24yczOVDjL8FOGERAdV92pa6VxHyvxuVeBm0LHn3e2ZFYCZE-
Received: from [193.36.230.96] by web26014.mail.ukl.yahoo.com via HTTP; Mon, 12 Mar 2007 09:52:33 GMT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Mon, 12 Mar 2007 09:52:33 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene Indexing - Getting Hited words in a query
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <236176.98115.qm@web26014.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

>>  where can i find such examples=0A=0AIn the source distribution here: ht=
tp://apache.rmplc.co.uk/lucene/java/lucene-2.1.0-src.zip=0ASee the "Highlig=
hterTest.java" file=0A=0AAlternatively, read the Javadocs example for the H=
ighlighter package here http://lucene.apache.org/java/docs/api/=0A=0A=0A=0A=
----- Original Message ----=0AFrom: Chaminda Amarasinghe <amcainforsys@yaho=
o.com>=0ATo: java-user@lucene.apache.org=0ASent: Monday, 12 March, 2007 9:3=
0:22 AM=0ASubject: Re: Lucene Indexing - Getting Hited words in a query=0A=
=0AThanks mark harwood ,=0A   =0A  I want something like Highlighter thing=
=0A   =0A  where can i find such examples=0A   =0A  Regards Chaminda=0A  =
=0A=0Amark harwood <markharw00d@yahoo.co.uk> wrote:=0A  >> Why nobody is an=
wering me?=0A=0AApologies for your 2 hour delay earlier this morning. The L=
ucene 24 hour helpdesk was temporarily closed while we had a weekend/life/s=
leep.=0AIf you file an official complaint you will be entitled to an immedi=
ate and full refund of your support fee.=0A=0A=0AAs for your problem - I su=
spect you want to look at the Highlighter package in the "contrib" section =
of the lucene distribution.=0AThe Junit test rig gives some example uses.=
=0A=0A=0A=0A=0A=0A=0A----- Original Message ----=0AFrom: karl wettin =0ATo:=
 java-user@lucene.apache.org=0ASent: Monday, 12 March, 2007 7:40:34 AM=0ASu=
bject: Re: Lucene Indexing - Getting Hited words in a query=0A=0A=0A12 mar =
2007 kl. 08.35 skrev Chaminda Amarasinghe:=0A=0A> Why nobody is anwering me=
?=0A> Pls help me.=0A=0AIt might take some time until someone that knows th=
e answer reads you =0Aquestion.=0A=0A>=0A> Chaminda Amarasinghe wrote:=0A> =
Hi all,=0A>=0A> I'm new to this group,=0A>=0A> I'm using lucene for indexin=
g. I have a problem. Any help gratly =0A> appreciate.=0A>=0A> Please see th=
e following code=0A> // three fields=0A> MultiFieldQueryParser parser =3D n=
ew MultiFieldQueryParser(new String =0A> []{"title", "tags", "content"}, ne=
w StandardAnalyzer());=0A> // OR operator=0A> parser.setDefaultOperator(Que=
ryParser.Operator.OR);=0A> // first step : search in lucene indexes=0A> Ind=
exSearcher searcher =3D new IndexSearcher(eventsBothDirectory)=0A>=0A> // s=
earchString is a String with many words=0A> Query lquery =3D parser.parse(s=
earchString);=0A>=0A> //new QueryParser("content", new StandardAnalyzer());=
=0A> Hits hits =3D searcher.search(lquery);=0A>=0A> How can I find the matc=
hed words in searchString.=0A> for a example=0A> will say the searchString=
=3D"wordone wordtwo wordthree". there are =0A> some hits for "wordone" and =
"wordthree". but no hits for "wordtwo".=0A> So what I want is to get "wordo=
ne" and "wordthree". (results are =0A> available only for "wordone" and "wo=
rdthree". ).(I hope question is =0A> clear now)=0A> How can i get this with=
 lucene.=0A>=0A> Many thanks.=0A> Chaminda Amarasighe=0A>=0A>=0A> ---------=
------------------------=0A> Food fight? Enjoy some healthy debate=0A> in t=
he Yahoo! Answers Food & Drink Q&A.=0A>=0A>=0A> ---------------------------=
------=0A> Now that's room service! Choose from over 150,000 hotels=0A> in =
45,000 destinations on Yahoo! Travel to find your fit.=0A=0A=0A------------=
---------------------------------------------------------=0ATo unsubscribe,=
 e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional commands,=
 e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=0A=0A=0A____=
_______________________________________________________ =0ANew Yahoo! Mail =
is the ultimate force in competitive emailing. Find out more at the Yahoo! =
Mail Championships. Plus: play games and win prizes. =0Ahttp://uk.rd.yahoo.=
com/evt=3D44106/*http://mail.yahoo.net/uk=0A=0A----------------------------=
-----------------------------------------=0ATo unsubscribe, e-mail: java-us=
er-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail: java-us=
er-help@lucene.apache.org=0A=0A=0A=0A =0A---------------------------------=
=0ANo need to miss a message. Get email on-the-go =0Awith Yahoo! Mail for M=
obile. Get started.=0A=0A=0A=0A=0A=09=0A=09=0A=09=09=0A____________________=
_______________________________________ =0ANew Yahoo! Mail is the ultimate =
force in competitive emailing. Find out more at the Yahoo! Mail Championshi=
ps. Plus: play games and win prizes. =0Ahttp://uk.rd.yahoo.com/evt=3D44106/=
*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 10:35:06 2007
Return-Path: <java-user-return-26814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6899 invoked from network); 12 Mar 2007 10:35:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 10:35:05 -0000
Received: (qmail 72365 invoked by uid 500); 12 Mar 2007 10:35:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72328 invoked by uid 500); 12 Mar 2007 10:35:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72317 invoked by uid 99); 12 Mar 2007 10:35:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 03:35:05 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lukas.vlcek@gmail.com designates 209.85.132.247 as permitted sender)
Received: from [209.85.132.247] (HELO an-out-0708.google.com) (209.85.132.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 03:34:51 -0700
Received: by an-out-0708.google.com with SMTP id c3so1100095ana
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 03:34:31 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=DZIOCWia6y+BLR4nNQr3I3CCGc+lRnXbSqOohpN4BT//mht1wKCW+vmyxNY6fZ+8p7cjuW61aUub5mAmDOGRrmh+XNgMGIsnQA1Av6SKXueTRKDebd3YWBu/n8coE4dzmx6WEmnuatH3qVK/cYi4NQM/nlbRdvGsMr7YpgeXTvY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=XHX22UqlGGYx8TumpJh/ck4iPch+sTcFRefSCW1YiHtsL/kn4LKua/1RKzrtZNtucDk51ErSQRrO0JR8U/i5Wk4CtFXniIHbP882zgsfujW3juNNnUj0zaY8L9MH9p9ZsBL6cuj/UlwUXzdCGBd554Hs5ynKtJxOkdtdX4mkBRo=
Received: by 10.115.106.7 with SMTP id i7mr1231685wam.1173695670707;
        Mon, 12 Mar 2007 03:34:30 -0700 (PDT)
Received: by 10.114.136.13 with HTTP; Mon, 12 Mar 2007 03:34:30 -0700 (PDT)
Message-ID: <52c3ddca0703120334t7caa6731pfc93ace71b7f5e1f@mail.gmail.com>
Date: Mon, 12 Mar 2007 11:34:30 +0100
From: "Lukas Vlcek" <lukas.vlcek@gmail.com>
Reply-To: java-user@lucene.apache.org
To: java-user@lucene.apache.org
Subject: Re: ensuring search String availability in the content returned by lucene
In-Reply-To: <b6246fe60703110610h673e73bbpc3531b23352543ad@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32715_29104707.1173695670679"
References: <b6246fe60703110610h673e73bbpc3531b23352543ad@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_32715_29104707.1173695670679
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I am not sure if I can help you a lot but you can check how Nutch does this
(although it does not do exactly what you want). See

*org.apache.nutch.summary.basic.BasicSummarizer
*

or

*org.apache.nutch.summary.lucene.LuceneSummarizer*

You should also check Highliter API (
http://lucene.apache.org/java/docs/api/org/apache/lucene/search/highlight/Highlighter.html#getBestFragment(org.apache.lucene.analysis.TokenStream,%20java.lang.String)<http://lucene.apache.org/java/docs/api/org/apache/lucene/search/highlight/Highlighter.html#getBestFragment%28org.apache.lucene.analysis.TokenStream,%20java.lang.String%29>
)

Regards,
Lukas


On 3/11/07, ruchi thakur <ruchithakur1@gmail.com> wrote:
>
> Am using lucene search. I have a field as "summary" in my Document, which
> is
> having large amount of content/data. In each search i want to get not more
> than 200 words from the field "summary". Now i want that in the 200 words
> that i get, there should be search String available. If this possible in
> lucene search to get the relevant search result having search String.
> Thanks and Regards,
> Ruchika
>

------=_Part_32715_29104707.1173695670679--

From java-user-return-26815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 11:24:02 2007
Return-Path: <java-user-return-26815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24550 invoked from network); 12 Mar 2007 11:24:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 11:24:01 -0000
Received: (qmail 63732 invoked by uid 500); 12 Mar 2007 11:24:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63693 invoked by uid 500); 12 Mar 2007 11:24:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63682 invoked by uid 99); 12 Mar 2007 11:24:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 04:24:00 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 04:23:47 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2192512ugc
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 04:23:25 -0700 (PDT)
Received: by 10.115.88.1 with SMTP id q1mr1287758wal.1173698604606;
        Mon, 12 Mar 2007 04:23:24 -0700 (PDT)
Received: by 10.114.160.3 with HTTP; Mon, 12 Mar 2007 04:23:24 -0700 (PDT)
Message-ID: <7cbc67ff0703120423w6e79ad09ya7055f66a2365f8c@mail.gmail.com>
Date: Mon, 12 Mar 2007 16:53:24 +0530
From: "Harini Raghavan" <harini.raghavan@insideview.com>
To: java-user@lucene.apache.org
Subject: Scalability Issues with Indexing
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_34500_14273985.1173698604573"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_34500_14273985.1173698604573
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Everyone,

We have been using Lucene integrated with our application for over a year
now. The indexing and searching has been pretty fast until recently. But now
we are having some scalability issues. We have a job that indexes around
20000 documents in to index every day. There are 2 processes, one that
download articles and another one that processes the articles and adds them
to the index. The processing time for the articles has increased because of
the growing index.

We have been using default values for mergeFactor, maxMergeDocs and
minMergeDocs parameters in the IndexWriter. But since our indexing load has
increased, would it be a better idea to modify these values? We are using a
dual core, 4 CPU machine with 4GB RAM for the lucene indexing. What would be
the optimum values for the indexing parameters we should be using for this
kind of Indexing requirement?

Any pointers would be appreciated.

Thanks,
Harini

------=_Part_34500_14273985.1173698604573--

From java-user-return-26816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 11:27:58 2007
Return-Path: <java-user-return-26816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25819 invoked from network); 12 Mar 2007 11:27:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 11:27:56 -0000
Received: (qmail 76451 invoked by uid 500); 12 Mar 2007 11:27:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76416 invoked by uid 500); 12 Mar 2007 11:27:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76402 invoked by uid 99); 12 Mar 2007 11:27:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 04:27:57 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lmenaria@chambal.com designates 209.85.132.247 as permitted sender)
Received: from [209.85.132.247] (HELO an-out-0708.google.com) (209.85.132.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 04:27:44 -0700
Received: by an-out-0708.google.com with SMTP id c3so1113149ana
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 04:27:23 -0700 (PDT)
Received: by 10.115.60.1 with SMTP id n1mr1299065wak.1173698841840;
        Mon, 12 Mar 2007 04:27:21 -0700 (PDT)
Received: by 10.114.39.18 with HTTP; Mon, 12 Mar 2007 04:27:21 -0700 (PDT)
Message-ID: <1324e4e20703120427p5556a7b7g7999285f76f684bc@mail.gmail.com>
Date: Mon, 12 Mar 2007 16:57:21 +0530
From: "Laxmilal Menaria" <lmenaria@chambal.com>
To: java-user@lucene.apache.org
Subject: Re: Scalability Issues with Indexing
In-Reply-To: <7cbc67ff0703120423w6e79ad09ya7055f66a2365f8c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_38048_11285546.1173698841763"
References: <7cbc67ff0703120423w6e79ad09ya7055f66a2365f8c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_38048_11285546.1173698841763
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think you can try

MergeFactor =1000
MaxMergeDocs=2147483647
MaxBufferedDocs=1000

--LM


On 3/12/07, Harini Raghavan <harini.raghavan@insideview.com> wrote:
>
> Hi Everyone,
>
> We have been using Lucene integrated with our application for over a year
> now. The indexing and searching has been pretty fast until recently. But
> now
> we are having some scalability issues. We have a job that indexes around
> 20000 documents in to index every day. There are 2 processes, one that
> download articles and another one that processes the articles and adds
> them
> to the index. The processing time for the articles has increased because
> of
> the growing index.
>
> We have been using default values for mergeFactor, maxMergeDocs and
> minMergeDocs parameters in the IndexWriter. But since our indexing load
> has
> increased, would it be a better idea to modify these values? We are using
> a
> dual core, 4 CPU machine with 4GB RAM for the lucene indexing. What would
> be
> the optimum values for the indexing parameters we should be using for this
> kind of Indexing requirement?
>
> Any pointers would be appreciated.
>
> Thanks,
> Harini
>

------=_Part_38048_11285546.1173698841763--

From java-user-return-26817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 12:50:41 2007
Return-Path: <java-user-return-26817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56636 invoked from network); 12 Mar 2007 12:50:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 12:50:40 -0000
Received: (qmail 26419 invoked by uid 500); 12 Mar 2007 12:50:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26379 invoked by uid 500); 12 Mar 2007 12:50:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26368 invoked by uid 99); 12 Mar 2007 12:50:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 05:50:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.215] (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Mar 2007 05:50:27 -0700
Received: (qmail 21286 invoked by uid 60001); 12 Mar 2007 12:50:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=aNn91uJ18LNlEOay4uZX4Xbau0D1sHvrmZSQA/lmtRM+VYVIl3xC5U3yeUThGslSc8FH5Uhc6QcrIhWx9J+RlYOdxvu5HJq55obkpBzU5STucjJ+M+o1KpV7MOpOvvbd56gul+rvfICz5oMn3kHGs9Tpu3VV65KPlPGcmwU0zCs=;
X-YMail-OSG: 0UTiIcQVM1kUg1D2uyg9dRNXpmGgsiyT391vKeD1qn5TFAJzLI.3ExuwRvV2GpNJgw--
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Mon, 12 Mar 2007 12:50:04 GMT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Mon, 12 Mar 2007 12:50:03 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Scalability Issues with Indexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <316154.18755.qm@web26004.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

As of Lucene 2.1 you can make optimal use of RAM by monitoring IndexWriter.=
ramSizeInBytes() and calling IndexWriter.flush() when memory is tight.=0A=
=0AThis avoids the issue of trying to estimate a value for maxBufferedDocs =
which you think can fit into RAM.=0A=0ACheers=0AMark=0A=0A----- Original Me=
ssage ----=0AFrom: Laxmilal Menaria <lmenaria@chambal.com>=0ATo: java-user@=
lucene.apache.org=0ASent: Monday, 12 March, 2007 11:27:21 AM=0ASubject: Re:=
 Scalability Issues with Indexing=0A=0AI think you can try=0A=0AMergeFactor=
 =3D1000=0AMaxMergeDocs=3D2147483647=0AMaxBufferedDocs=3D1000=0A=0A--LM=0A=
=0A=0AOn 3/12/07, Harini Raghavan <harini.raghavan@insideview.com> wrote:=
=0A>=0A> Hi Everyone,=0A>=0A> We have been using Lucene integrated with our=
 application for over a year=0A> now. The indexing and searching has been p=
retty fast until recently. But=0A> now=0A> we are having some scalability i=
ssues. We have a job that indexes around=0A> 20000 documents in to index ev=
ery day. There are 2 processes, one that=0A> download articles and another =
one that processes the articles and adds=0A> them=0A> to the index. The pro=
cessing time for the articles has increased because=0A> of=0A> the growing =
index.=0A>=0A> We have been using default values for mergeFactor, maxMergeD=
ocs and=0A> minMergeDocs parameters in the IndexWriter. But since our index=
ing load=0A> has=0A> increased, would it be a better idea to modify these v=
alues? We are using=0A> a=0A> dual core, 4 CPU machine with 4GB RAM for the=
 lucene indexing. What would=0A> be=0A> the optimum values for the indexing=
 parameters we should be using for this=0A> kind of Indexing requirement?=
=0A>=0A> Any pointers would be appreciated.=0A>=0A> Thanks,=0A> Harini=0A>=
=0A=0A=0A=0A=0A=0A=09=09=0A________________________________________________=
___________ =0AThe all-new Yahoo! Mail goes wherever you go - free your ema=
il address from your Internet provider. http://uk.docs.yahoo.com/nowyoucan.=
html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 14:49:11 2007
Return-Path: <java-user-return-26818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5641 invoked from network); 12 Mar 2007 14:49:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 14:49:11 -0000
Received: (qmail 61622 invoked by uid 500); 12 Mar 2007 14:49:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61591 invoked by uid 500); 12 Mar 2007 14:49:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61576 invoked by uid 99); 12 Mar 2007 14:49:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 07:49:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 07:49:00 -0700
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.16051CA8@mailer.syr.edu>; Mon, 12 Mar 2007 10:48:39 -0400
Message-ID: <45F56847.9010103@syr.edu>
Date: Mon, 12 Mar 2007 10:48:39 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: pdf box help
References: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com>
In-Reply-To: <2b817f360703112303w5ec3a035uaf33c620813f3cb@mail.gmail.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

This may help:

http://www.pdfbox.org/userguide/text_extraction.html#Lucene+Integration

ashwin kumar wrote:
> hi all i am able to convert a pdf in to a text file using pdfbox. and this
> is the code that i used
> 
> import org.pdfbox.pdfparser.PDFParser;
> import org.pdfbox.pdmodel.PDDocument;
> import org.pdfbox.util.PDFTextStripper;
> import org.pdfbox.*;
> 
> import java.io.*;
> 
> public class PDFConvert
> {
> 
> public static void main(String [] args)
> {
> String content = null;
> try
> {
> 
>    String pdfFile=new String ("D:\\ASHWIN\\res\\ashwin.pdf");
>    PDDocument doc = PDDocument.load(pdfFile);
>    PDFTextStripper strip = new PDFTextStripper();
>    content = strip.getText(doc);
>    System.out.println(content);
> }
> catch(Exception e)
> {
>    e.printStackTrace();
> }
> 
> }
> }
> 
> now i want to index this text information with lucene . wat is code
> required
> for that pls help
> 
> regards
> ashwin
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 15:35:04 2007
Return-Path: <java-user-return-26819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20742 invoked from network); 12 Mar 2007 15:35:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 15:35:03 -0000
Received: (qmail 46203 invoked by uid 500); 12 Mar 2007 15:35:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46138 invoked by uid 500); 12 Mar 2007 15:35:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46107 invoked by uid 99); 12 Mar 2007 15:35:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 08:35:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 08:34:52 -0700
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.16052530@mailer.syr.edu>; Mon, 12 Mar 2007 11:34:31 -0400
Message-ID: <45F57307.6030009@syr.edu>
Date: Mon, 12 Mar 2007 11:34:31 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: search for phrase with specail chars?
References: <b6246fe60703112344p74501c7dg7f621b00cb535486@mail.gmail.com>	 <01531EF4-1EB1-4DF7-847D-B5CECBEB6764@gmail.com>	 <b6246fe60703112353i4b3b4d2cjd2a4bc36946332c3@mail.gmail.com>	 <52527B2E-3962-416E-AEB3-B6B3340C2C4F@gmail.com> <b6246fe60703120024p20efc8d4nba2862fa376f1587@mail.gmail.com>
In-Reply-To: <b6246fe60703120024p20efc8d4nba2862fa376f1587@mail.gmail.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ruchika,

Are there are any quote characters in your index (may the Luke be with
you[1])?  If not, you could just remove all quotes from your query
(except the surrounding ones indicating phrase matching, of course), and
things will work, as you have indicated.

Which version of Lucene are you using?  The bug below, a fix for which
was included in the 2.1.0 release, may address your issue:

   http://issues.apache.org/jira/browse/LUCENE-573

>From the release notes for 2.1.0[2]:

   7. LUCENE-573: QueryParser now allows backslash escaping in
      quoted terms and phrases. (Michael Busch via Yonik Seeley)

Steve

[1] http://www.getopt.org/luke/
[2]
http://svn.apache.org/repos/asf/lucene/java/tags/lucene_2_1_0/CHANGES.txt

ruchi thakur wrote:
> yes that is exactly what i am doing
> in java String i have something like
> String aSearchStr = "\"innere Organe\\\" bezeichnet\"";
> Query query = parser.parse(aSearchStr);
> 
> 2nd line to parse gives me the Exception. In this case as i understand the
> search String input that goes to lucene is actually  "innere Organe\"
> bezeichnet"
> Should i send something else..
> Regards,
> Ruchika
> On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 12 mar 2007 kl. 07.53 skrev ruchi thakur:
>>
>> > no, i just get the folowing
>> > org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
>> > column 30. Encountered: <EOF> after : ""
>>
>> The problem is probably that you have a " in your query, and it
>> expects an end "-token. So it needs to be escaped. Programatically:
>>
>> String q = "\"innere Organe\\\" bezeichnet\"";
>>
>> -- 
>> karl
>>
>> >
>> > On 3/12/07, karl wettin <karl.wettin@gmail.com> wrote:
>> >>
>> >>
>> >> 12 mar 2007 kl. 07.44 skrev ruchi thakur:
>> >>
>> >> > I want to search for phrase     innere Organe" bezeichnet
>> >> > am using query q1  =     "innere Organe\" bezeichnet"
>> >> >
>> >> > is there any issue with q1
>> >> > am getting Exception in retrieveQuery().IndexDirec:Lexical error at
>> >> > line 1,
>> >> > column 30. Encountered: <EOF> after : ""
>> >>
>> >> Is there something more to this exception? Something like what it
>> >> expected?
>> >>
>> >> --
>> >> karl
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 18:41:33 2007
Return-Path: <java-user-return-26820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9955 invoked from network); 12 Mar 2007 18:41:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 18:41:31 -0000
Received: (qmail 34862 invoked by uid 500); 12 Mar 2007 18:41:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34835 invoked by uid 500); 12 Mar 2007 18:41:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34824 invoked by uid 99); 12 Mar 2007 18:41:32 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 11:41:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of supriya.shyamal@artnology.com designates 80.67.18.43 as permitted sender)
Received: from [80.67.18.43] (HELO smtprelay05.ispgateway.de) (80.67.18.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 11:41:19 -0700
Received: (qmail 21348 invoked from network); 12 Mar 2007 18:40:57 -0000
Received: from unknown (HELO [192.168.100.19]) ([pbs]794682@[195.143.217.178])
          (envelope-sender <supriya.shyamal@artnology.com>)
          by smtprelay05.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <java-user@lucene.apache.org>; 12 Mar 2007 18:40:57 -0000
Message-ID: <45F59EB9.70307@artnology.com>
Date: Mon, 12 Mar 2007 19:40:57 +0100
From: Supriya Kumar Shyamal <supriya.shyamal@artnology.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Possible Memory leak in CSIndexInput
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi All,

I have a question regarding the close() CSIndexInput class, why there is 
no close operation defined...
Like ...
base.close()

If I analyze the memory dump of  our server I can see lot of object of 
type CSIndexInput. So I am not sure if I call close() on IndexeSearcher 
it closes all index accessing objects.

Thanks,
supriya

-- 
Mit freundlichen Gren / Regards
 
Supriya Kumar Shyamal

Software Developer
tel +49 (30) 443 50 99 -22
fax +49 (30) 443 50 99 -99
email supriya.shyamal@artnology.com
___________________________
artnology GmbH
Milastr. 4
10437 Berlin
___________________________

http://www.artnology.com
__________________________________________________________________________

 News / Aktuelle Projekte:
 * artnology gewinnt Ausschreibung des Bundesministeriums des Innern:
   Softwarelsung fr die Verwaltung der Sammlung zeitgenssischer
   Kunstwerke zur kulturellen Reprsentation des Bundes.

 Projektreferenzen:
 * Globaler eShop und Corporate-Site fr Springer: www.springeronline.com
 * E-Detailing-Portal fr Novartis: www.interaktiv.novartis.de
 * Service-Center-Plattform fr Biogen: www.ms-life.de
 * eCRM-System fr Grnenthal: www.gruenenthal.com

___________________________________________________________________________ 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 20:37:00 2007
Return-Path: <java-user-return-26821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61799 invoked from network); 12 Mar 2007 20:36:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 20:36:58 -0000
Received: (qmail 72715 invoked by uid 500); 12 Mar 2007 20:37:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72682 invoked by uid 500); 12 Mar 2007 20:37:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72668 invoked by uid 99); 12 Mar 2007 20:37:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 13:37:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 13:36:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3F7F95B763; Mon, 12 Mar 2007 13:36:28 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3486E7F403
	for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 13:36:28 -0700 (PDT)
Date: Mon, 12 Mar 2007 13:36:28 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <b6246fe60703112127q1dcbee41sb1d163d5fdd320df@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703121332400.10998@hal.rescomp.berkeley.edu>
References: <OF553A7F49.94FD3F3D-ON8825729B.005A0F30-8825729B.005B0798@il.ibm.com>
  <b6246fe60703111028o36d1e118jcaf2e1a0ce3c2a92@mail.gmail.com> 
 <45F47D80.9371.29FB7D6@lucene-users.atablis.com>
 <b6246fe60703112127q1dcbee41sb1d163d5fdd320df@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: ok, so does that mean i can use both q1 and q2 for phrase query ie; for
: searching words adjacent to each other. Actually that was my only concern,
: as i wanted to use q1 for phrase query, rather than q2.
: Regards,

Your example "q1" is not hte correct syntax for a phrase query .. the
correct syntax is to put quotes arround your words.

you happen to be getting phrase queries for your "q1" example because of
the analyzer you are using.   QueryParser does one pass at parsing to
look for special meta characters it udnerstands, and then passes the
tokens it finds to your analyzer, if hte analyzer gives it back a
stream of tokens it makes  phrase query out of it... because your analyzer
splits "apaceh&lucene" into two tokens, QueryParser makes a phrase query.

you should not rely on this behavior, because if at some point your
analyzer changes (or if you are using StandardAnalyzer and it encounters a
situation where it assumes the "&" is a legitimate interword character (it
might in cases i can't think of off hte top of my head) you won't get a
phrase query, you'll get a single word query.

use the syntax documented to get the behavior documented: if you don't
like that syntax, you'll need a different query parser.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 20:46:16 2007
Return-Path: <java-user-return-26822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65694 invoked from network); 12 Mar 2007 20:46:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 20:46:15 -0000
Received: (qmail 93436 invoked by uid 500); 12 Mar 2007 20:46:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93402 invoked by uid 500); 12 Mar 2007 20:46:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93391 invoked by uid 99); 12 Mar 2007 20:46:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 13:46:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 13:46:06 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id DFCDD5B763; Mon, 12 Mar 2007 13:45:45 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id DA2767F403
	for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 13:45:45 -0700 (PDT)
Date: Mon, 12 Mar 2007 13:45:45 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: date range querys
In-Reply-To: <359a92830703110920v5ebb4dfdvb3f40b9b76a01244@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703121342380.10998@hal.rescomp.berkeley.edu>
References: <200703111702.27987.tkl@laposte.net>
 <359a92830703110920v5ebb4dfdvb3f40b9b76a01244@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I suspect that if you stored your dates (use DateTools) as strings
: with a resolution of a day you'd get much faster queries, assuming
: that this is fine enough for your app.

...especialy if you use ConstanScoreRangeQUery ... if you find that isn't
fast enough, having the various granularities *may* help improve
performance, but only if they are stored in seperate fields (so the
when you query only at year granularity the termEnum doesn't have to
iterate over all the terms at finer granularity)

I've never tried this myself ... 99.99% of hte time i'm using Solr,
storing things with millisecond resolution, and trusting Solr's caching to
take care of makingthings fast enough for me (searching at day/hour
granularity 98% of the time makes that caching very effective)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 20:53:28 2007
Return-Path: <java-user-return-26823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67449 invoked from network); 12 Mar 2007 20:53:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 20:53:27 -0000
Received: (qmail 7828 invoked by uid 500); 12 Mar 2007 20:53:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7797 invoked by uid 500); 12 Mar 2007 20:53:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7786 invoked by uid 99); 12 Mar 2007 20:53:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 13:53:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 13:53:17 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 55F905B763; Mon, 12 Mar 2007 13:52:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 491827F403
	for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 13:52:57 -0700 (PDT)
Date: Mon, 12 Mar 2007 13:52:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Wildcard query with untokenized punctuation
In-Reply-To: <A18C041B52678847A234B084224EF4D401AB9C20@moloko.kubrick.com>
Message-ID: <Pine.LNX.4.58.0703121347520.10998@hal.rescomp.berkeley.edu>
References: <A18C041B52678847A234B084224EF4D401AB9BEF@moloko.kubrick.com>
 <OF007F7E82.EACB2982-ON8825729A.002A0C3B-8825729A.002CACC1@il.ibm.com>
 <A18C041B52678847A234B084224EF4D401AB9C20@moloko.kubrick.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: You're entirely correct about the analyzer (I'm using one that breaks on
: non-alphanumeric characters, so all punctuation is ignored).  To be
: honest, I hadn't thought about altering this, but I guess I could; just
: reticent that there might be unforeseen consequences.

this is where the PerFieldAnalyzerWraper and the KeywordAnalyzer come into
play ... any field you index as UN_TOKENIZED should be registered to use
the KeywordAnalyzer in the PerFieldAnalyzerWraper you pass to QueryParser,
so that filename:pagefile.sys and filename:pagetype.* both work.

(the first because analysis returns one token, the second becaues prefix
query doesn't do any analysis)

: But I'm still curious about the original solution.  Shouldn't it be
: possible to take "pagefile.*" and tokenize it (essentially throwing away
: the wildcard at the end)?

nope ... an Analyzer can be a one way function (consider stemming an
lowercasing) so there's no way to every analyze "foo" in a query for
"foo*" and assume that the Analyzer will produce the correct term to build
a prefix query out of that will match "food", "fools", etc...

the only safe thing to do is skip Analysis alltogether, and have options
for some of the really common things people want (ie:
QueryParser.setLowercaseExpandedTerms)

if you think PrefixQuerie ar bad, try wrapping your head arroudn the
issues of Analyzing wildcard queries.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 12 21:58:42 2007
Return-Path: <java-user-return-26824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95885 invoked from network); 12 Mar 2007 21:58:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 12 Mar 2007 21:58:41 -0000
Received: (qmail 58622 invoked by uid 500); 12 Mar 2007 21:58:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58584 invoked by uid 500); 12 Mar 2007 21:58:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58573 invoked by uid 99); 12 Mar 2007 21:58:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 14:58:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 14:58:29 -0700
Received: from emss09g01.ems.lmco.com (relay6.ems.lmco.com [166.17.13.59])by mailgw3a.lmco.com  (LM-6) with ESMTP id l2CLw8t9015458for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 17:58:08 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.3-x3 #31239)
 id <0JET00B0190W4K@lmco.com> for java-user@lucene.apache.org; Mon, 12 Mar 2007 17:58:08 -0400 (EDT)
Received: from EMSS09I00.us.lmco.com ([158.183.26.31]) by lmco.com (PMDF V6.3-x3 #31239)
 with ESMTP id <0JET0071790MIZ@lmco.com> for java-user@lucene.apache.org; Mon, 12 Mar 2007 17:57:58 -0400 (EDT)
Received: from emss10m05.us.lmco.com ([158.187.0.248]) by EMSS09I00.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Mon,
 12 Mar 2007 17:57:58 -0400
Date: Mon, 12 Mar 2007 17:57:58 -0400
From: "Walker, Keith 1" <keith.1.walker@lmco.com>
Subject: RE: Words not found, large file indexing
In-reply-to: <45F1B7EA.19582.7902206@lucene-users.atablis.com>
To: java-user@lucene.apache.org
Message-id: <1AEC2AECA2A5B04BA1A56FADE29F0302024FCB8F@emss10m05.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Words not found, large file indexing
Thread-Index: AcdiemBHCRky+vbAS9WH8TuJ+geJswCdxRig
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <1AEC2AECA2A5B04BA1A56FADE29F0302024FCB7F@emss10m05.us.lmco.com> <45F1B7EA.19582.7902206@lucene-users.atablis.com>
X-OriginalArrivalTime: 12 Mar 2007 21:57:58.0859 (UTC) FILETIME=[7F46C9B0:01C764F1]
X-Virus-Checked: Checked by ClamAV on apache.org

That worked for me too.  Thanks! 

-----Original Message-----
From: Steffen Heinrich [mailto:lucene-users@atablis.com] 
Sent: Friday, March 09, 2007 1:39 PM
To: java-user@lucene.apache.org
Subject: Re: Words not found, large file indexing

Hello Chris,

this is incredible!
I'm new to Lucene and did just subscribe to the list for this very
phenomena. Keith' problem was also my problem.

Your mail was the first one I read and is _exactly_ what I needed to
know.

Thanks a lotta!

Cheers, Steffen

On 9 Mar 2007 at 9:25, Chris Hostetter wrote:

> 
> are you perhaps exceding this...
> 
> http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWr
> iter
> .html#setMaxFieldLength(int)
> 

--
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --
-- steffen heinrich, berlin, germany --


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 02:52:17 2007
Return-Path: <java-user-return-26825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79630 invoked from network); 13 Mar 2007 02:52:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 02:52:15 -0000
Received: (qmail 21624 invoked by uid 500); 13 Mar 2007 02:52:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21131 invoked by uid 500); 13 Mar 2007 02:52:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21120 invoked by uid 99); 13 Mar 2007 02:52:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 19:52:16 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.184.238 as permitted sender)
Received: from [64.233.184.238] (HELO wr-out-0506.google.com) (64.233.184.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 19:52:05 -0700
Received: by wr-out-0506.google.com with SMTP id 68so2376966wra
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 19:51:44 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=Et06TtZH4MASdfi/oN+ivyCOiPOgYRbScHawf6A83WaQL44RBBCF2U9xY7GTZ0eA44k35i4XopbmQfTFbiGQSoJinSMKh6zcSF+Uo2rdKiJRQsdDCUXZFWxhU0d4bAjFgV8NbOIHu/Dc3lxFgUI0ljYaTg1u3iurvpV8b+ZA/Mc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=hoCwP6CL7xQVNrYAZj+IWFEm0+HELEqJJ71R09v/2JR1h2hLJQsG+nCtDqV5BYlKcnt9YFywBnbdoR5r1A016eKwg8dfQ9nIk4Gci7kosDt0JVEbfN4JFyq1XSQnA9NRpZNcsqhmGEc0daQI9Q3pYn7gzEXPlLYpRsyve7rZvPo=
Received: by 10.65.251.17 with SMTP id d17mr864144qbs.1173754303903;
        Mon, 12 Mar 2007 19:51:43 -0700 (PDT)
Received: by 10.65.225.16 with HTTP; Mon, 12 Mar 2007 19:51:43 -0700 (PDT)
Message-ID: <2b817f360703121951i346f29f6q52bea96c72a6c0f0@mail.gmail.com>
Date: Tue, 13 Mar 2007 08:21:43 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: indexing .doc
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1210_27662843.1173754303867"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1210_27662843.1173754303867
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi all i have successfully indexed .txt and .pdf files using lucene . Now i
want to index word documents , Excel sheets and power point slides .and for
this i have downloaded POI api

from the following link

http://jakarta.apache.org/poi/

can some one help me with sample codes for indexing the above documents

------=_Part_1210_27662843.1173754303867--

From java-user-return-26826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 02:56:35 2007
Return-Path: <java-user-return-26826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80556 invoked from network); 13 Mar 2007 02:56:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 02:56:34 -0000
Received: (qmail 26563 invoked by uid 500); 13 Mar 2007 02:56:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26507 invoked by uid 500); 13 Mar 2007 02:56:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26464 invoked by uid 99); 13 Mar 2007 02:56:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 19:56:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 19:56:22 -0700
Received: by ug-out-1314.google.com with SMTP id k40so105900ugc
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 19:56:01 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=TeNqtWAoB1yzcOPW6Md0rmXHqvrMEbF0wt8I5ybsHJXb9H8SBfoilEZn180cU/NAmd0JgGSyZmym62ODRn+aGS26S1ZuFq55bdy7NAvOugrqlY9SrgY4QiEbuCvAerZNBgIhP/j661psIVzxc9EhHa938Ceq5O0eoQeC+MTYkOU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=UTIVb3LCrh6qramoQkN2Njn2gvDQZmoAzBSjaF9XPqqJwQfGnOaU5z0PM8W2PuGPKe2+NY88PpXCXJ1rTRbztm150Zdt3ocddobfG91sebAaACdkp9clc8/EGJhNSbqhsxUEemPaVOhDFGpmSjrlTn6QYY443z3jkN4e/fJQCPE=
Received: by 10.66.244.11 with SMTP id r11mr768936ugh.1173754561233;
        Mon, 12 Mar 2007 19:56:01 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id w7sm22488051mue.2007.03.12.19.55.59;
        Mon, 12 Mar 2007 19:56:00 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <2b817f360703121951i346f29f6q52bea96c72a6c0f0@mail.gmail.com>
References: <2b817f360703121951i346f29f6q52bea96c72a6c0f0@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8273CF05-DF51-4B82-B05A-35EBAAB366C5@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: indexing .doc
Date: Tue, 13 Mar 2007 03:55:57 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


13 mar 2007 kl. 03.51 skrev ashwin kumar:

> hi all i have successfully indexed .txt and .pdf files using  
> lucene . Now i
> want to index word documents , Excel sheets and power point  
> slides .and for
> this i have downloaded POI api
>
> from the following link
>
> http://jakarta.apache.org/poi/
>
> can some one help me with sample codes for indexing the above  
> documents

It is the same thing as indexing any other document. First you  
extract the text using the lib (POI) and then you add that extracted  
text to a document just as you did when you indexed .txt and .pdf.

If you need help with how to use POI, talk to the POI forum.

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 03:02:20 2007
Return-Path: <java-user-return-26827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81813 invoked from network); 13 Mar 2007 03:02:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 03:02:18 -0000
Received: (qmail 36179 invoked by uid 500); 13 Mar 2007 03:02:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36144 invoked by uid 500); 13 Mar 2007 03:02:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36133 invoked by uid 99); 13 Mar 2007 03:02:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 20:02:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.184.237 as permitted sender)
Received: from [64.233.184.237] (HELO wr-out-0506.google.com) (64.233.184.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 20:02:08 -0700
Received: by wr-out-0506.google.com with SMTP id 68so2378794wra
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 20:01:47 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=owMnew2mdHsEqHini58o4NrSZSpgW5vK7s3rVZtA/WoiErAWCFjftacObaJ2qxyg9s9HH2JYmGtqHpwDD9H0BSo8xGmwuAqb9PaI5KvacrH7Xb1rlBaOBwRFkrw8gb6+k7pxNz6L39+5r7tr0vix76FaQzs79+rsCnYjh5ENXHE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sPwwjl6Y/+uREtzOMhtbmGPydMLACk3ZXg1PPHxemwWbrOsF6ntYosnEd2gq2RlgdtqJYZrjXpE5FF3+dm/F5/OWUHDxAVOsCEq8J4DIyznF40Bgh4zvr202+SjnEN4guudhuFRIvwZE9xaP67QtBfdAfUBF5yjL9U0lhWNr04k=
Received: by 10.64.114.10 with SMTP id m10mr295291qbc.1173754907305;
        Mon, 12 Mar 2007 20:01:47 -0700 (PDT)
Received: by 10.65.225.16 with HTTP; Mon, 12 Mar 2007 20:01:47 -0700 (PDT)
Message-ID: <2b817f360703122001p3133d2ebv7373fdd3a441e8d1@mail.gmail.com>
Date: Tue, 13 Mar 2007 08:31:47 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing .doc
In-Reply-To: <8273CF05-DF51-4B82-B05A-35EBAAB366C5@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1238_16419230.1173754907244"
References: <2b817f360703121951i346f29f6q52bea96c72a6c0f0@mail.gmail.com>
	 <8273CF05-DF51-4B82-B05A-35EBAAB366C5@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1238_16419230.1173754907244
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

can u please give any links to poi forums


On 3/13/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 13 mar 2007 kl. 03.51 skrev ashwin kumar:
>
> > hi all i have successfully indexed .txt and .pdf files using
> > lucene . Now i
> > want to index word documents , Excel sheets and power point
> > slides .and for
> > this i have downloaded POI api
> >
> > from the following link
> >
> > http://jakarta.apache.org/poi/
> >
> > can some one help me with sample codes for indexing the above
> > documents
>
> It is the same thing as indexing any other document. First you
> extract the text using the lib (POI) and then you add that extracted
> text to a document just as you did when you indexed .txt and .pdf.
>
> If you need help with how to use POI, talk to the POI forum.
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1238_16419230.1173754907244--

From java-user-return-26828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 03:04:52 2007
Return-Path: <java-user-return-26828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82109 invoked from network); 13 Mar 2007 03:04:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 03:04:51 -0000
Received: (qmail 40270 invoked by uid 500); 13 Mar 2007 03:04:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39896 invoked by uid 500); 13 Mar 2007 03:04:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39880 invoked by uid 99); 13 Mar 2007 03:04:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 20:04:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 20:04:41 -0700
Received: by ug-out-1314.google.com with SMTP id k40so108036ugc
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 20:04:19 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=KMchVpa9wPEidwhUBV7uWmcUFsY+4eyXSga3CpPOnCbtG8WHhGyaNBf4GX32Q2lnPxHC8lznQ35OrwumGL0DuB5QWTLnWfZykdlg+yBo7iBz3yjZpB5by6lW0oVtyER75iOc8VIxY5KtlA6mmNWHI8hTgopQEK+cO/Ve9VdU2x8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=qJVPNwbxtg0k6sA6J4jk83nyPFW3te26ktjqy/6LGkgxl25j0/O8ln6OWuCinJ5AMCrQDLTyN1Se923y+FGefFA6XPxIiyZs7quYZkk5kvB3s4cOeARYdfKFOioMGLTRdiM5FwZvpbJ0jywoa0+Tc14bURDqo+LVrkQCHHxhIPk=
Received: by 10.67.19.17 with SMTP id w17mr798423ugi.1173755057608;
        Mon, 12 Mar 2007 20:04:17 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id w7sm22507797mue.2007.03.12.20.04.16;
        Mon, 12 Mar 2007 20:04:16 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <2b817f360703122001p3133d2ebv7373fdd3a441e8d1@mail.gmail.com>
References: <2b817f360703121951i346f29f6q52bea96c72a6c0f0@mail.gmail.com> <8273CF05-DF51-4B82-B05A-35EBAAB366C5@gmail.com> <2b817f360703122001p3133d2ebv7373fdd3a441e8d1@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9A8CB214-B9BD-4EFE-98BF-DA9D359B961E@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: indexing .doc
Date: Tue, 13 Mar 2007 04:04:14 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


13 mar 2007 kl. 04.01 skrev ashwin kumar:

> can u please give any links to poi forums

Sure,

http://www.google.com/search?q=poi+forum

-- 
karl


>
> On 3/13/07, karl wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 13 mar 2007 kl. 03.51 skrev ashwin kumar:
>>
>> > hi all i have successfully indexed .txt and .pdf files using
>> > lucene . Now i
>> > want to index word documents , Excel sheets and power point
>> > slides .and for
>> > this i have downloaded POI api
>> >
>> > from the following link
>> >
>> > http://jakarta.apache.org/poi/
>> >
>> > can some one help me with sample codes for indexing the above
>> > documents
>>
>> It is the same thing as indexing any other document. First you
>> extract the text using the lib (POI) and then you add that extracted
>> text to a document just as you did when you indexed .txt and .pdf.
>>
>> If you need help with how to use POI, talk to the POI forum.
>>
>> --
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 03:13:17 2007
Return-Path: <java-user-return-26829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83382 invoked from network); 13 Mar 2007 03:13:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 03:13:16 -0000
Received: (qmail 53094 invoked by uid 500); 13 Mar 2007 03:13:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53061 invoked by uid 500); 13 Mar 2007 03:13:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53050 invoked by uid 99); 13 Mar 2007 03:13:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 20:13:17 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 64.233.184.239 as permitted sender)
Received: from [64.233.184.239] (HELO wr-out-0506.google.com) (64.233.184.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 20:13:06 -0700
Received: by wr-out-0506.google.com with SMTP id 68so2380515wra
        for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 20:12:45 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TVnFLP2gcsyNsZTjzgW8w+Aa9MHoePWW2KhZJxPqzSRlth5QUh/WU9563IT1l56Lf7h13U9d4yQ/FxL74AUZj9ojfT14ALxPlCetGUcQA781GqYf6yY+/oFT5raurbvjkYZBOE07VOnHyuaDwHChrQfYmr2/KxZ36+0moI9xFvU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UH+CT+awg/X9hoTHDE2gdRP2eTo0rYIp88DRCiANkCnyTDyLeuixRo1xleNJPv6Jb7jKVfAEgOhSZmgAAL6Vm+5e3jjEP9xEQptWn8+mpHOrF4nOz+zByz907i7kB8ANdVsAkJKGEm1bwsx0WnnuzE7jwDjVwFftwolMHxitdYk=
Received: by 10.64.156.3 with SMTP id d3mr895330qbe.1173755565428;
        Mon, 12 Mar 2007 20:12:45 -0700 (PDT)
Received: by 10.65.225.16 with HTTP; Mon, 12 Mar 2007 20:12:45 -0700 (PDT)
Message-ID: <2b817f360703122012t3c917f2enf64f80639ca7585@mail.gmail.com>
Date: Tue, 13 Mar 2007 08:42:45 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing .doc
In-Reply-To: <9A8CB214-B9BD-4EFE-98BF-DA9D359B961E@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1278_17184796.1173755565372"
References: <2b817f360703121951i346f29f6q52bea96c72a6c0f0@mail.gmail.com>
	 <8273CF05-DF51-4B82-B05A-35EBAAB366C5@gmail.com>
	 <2b817f360703122001p3133d2ebv7373fdd3a441e8d1@mail.gmail.com>
	 <9A8CB214-B9BD-4EFE-98BF-DA9D359B961E@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1278_17184796.1173755565372
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

thanks
regards
ashwin

On 3/13/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 13 mar 2007 kl. 04.01 skrev ashwin kumar:
>
> > can u please give any links to poi forums
>
> Sure,
>
> http://www.google.com/search?q=poi+forum
>
> --
> karl
>
>
> >
> > On 3/13/07, karl wettin <karl.wettin@gmail.com> wrote:
> >>
> >>
> >> 13 mar 2007 kl. 03.51 skrev ashwin kumar:
> >>
> >> > hi all i have successfully indexed .txt and .pdf files using
> >> > lucene . Now i
> >> > want to index word documents , Excel sheets and power point
> >> > slides .and for
> >> > this i have downloaded POI api
> >> >
> >> > from the following link
> >> >
> >> > http://jakarta.apache.org/poi/
> >> >
> >> > can some one help me with sample codes for indexing the above
> >> > documents
> >>
> >> It is the same thing as indexing any other document. First you
> >> extract the text using the lib (POI) and then you add that extracted
> >> text to a document just as you did when you indexed .txt and .pdf.
> >>
> >> If you need help with how to use POI, talk to the POI forum.
> >>
> >> --
> >> karl
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_1278_17184796.1173755565372--

From java-user-return-26830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 04:26:26 2007
Return-Path: <java-user-return-26830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98768 invoked from network); 13 Mar 2007 04:26:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 04:26:25 -0000
Received: (qmail 39382 invoked by uid 500); 13 Mar 2007 04:26:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39336 invoked by uid 500); 13 Mar 2007 04:26:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39324 invoked by uid 99); 13 Mar 2007 04:26:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 21:26:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 21:26:13 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 031975B76C; Mon, 12 Mar 2007 21:25:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id EA8A47F403
	for <java-user@lucene.apache.org>; Mon, 12 Mar 2007 21:25:52 -0700 (PDT)
Date: Mon, 12 Mar 2007 21:25:52 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Possible Memory leak in CSIndexInput
In-Reply-To: <45F59EB9.70307@artnology.com>
Message-ID: <Pine.LNX.4.58.0703122120510.10283@hal.rescomp.berkeley.edu>
References: <45F59EB9.70307@artnology.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

:
: I have a question regarding the close() CSIndexInput class, why there is
: no close operation defined...
: Like ...
: base.close()

i'm not expert on this kind of thing, but since CSIndexInput only reads
from a portion of another IndexInput, closing base seems like a bad idea
... super.close() might make sense, but not base.close() i don't think.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 04:40:13 2007
Return-Path: <java-user-return-26831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4563 invoked from network); 13 Mar 2007 04:40:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 04:40:12 -0000
Received: (qmail 58314 invoked by uid 500); 13 Mar 2007 04:40:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57728 invoked by uid 500); 13 Mar 2007 04:40:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57717 invoked by uid 99); 13 Mar 2007 04:40:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 21:40:13 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 21:40:02 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2D4dZ45025607
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 06:39:35 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3d63ych; 13 Mar 2007 06:39:00 +0200
Message-ID: <45F62B04.1050702@teamware.com>
Date: Tue, 13 Mar 2007 15:39:32 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Performance between Filter and HitCollector?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Tue, 13 Mar 2007 06:39:35 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

There are (at least) two ways to generate a BitSet which can be used for filtering.

Filter.bits()

   BitSet bits = new BitSet(reader.maxDoc());
   TermDocs td = reader.termDocs(new Term("field", "text");
   while (td.next())
   {
       bits.set(td.doc());
   }
   return bits;

and HitCollector.collect(), as suggested in Javadocs

    final BitSet bits = new BitSet(indexReader.maxDoc());
    searcher.search(query, new HitCollector() {
        public void collect(int doc, float score) {
          bits.set(doc);
        }
      });

SOLR seems to use DocSetHitCollector in places which allows the DocSet interface 
to be used rather then plain old BitSet which allows small sets to be optimised, 
but does anyone know the performance implications of using HitCollector, if 
score is not required, against using Filter and then generating a DocSet?

Antony






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 05:38:21 2007
Return-Path: <java-user-return-26832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17566 invoked from network); 13 Mar 2007 05:38:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 05:38:19 -0000
Received: (qmail 45626 invoked by uid 500); 13 Mar 2007 05:38:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45086 invoked by uid 500); 13 Mar 2007 05:38:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45064 invoked by uid 99); 13 Mar 2007 05:38:20 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 22:38:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Mar 2007 22:38:09 -0700
Received: from Monolith (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 331984A80D5
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 16:39:41 +1100 (EST)
Message-ID: <3A52444DA03D4BBBA2A23246C5485410@Monolith>
From: "Daniel Noll" <daniel@nuix.com>
To: <java-user@lucene.apache.org>
References: <767529.82911.qm@web37213.mail.mud.yahoo.com> <FC296FEF-33C3-4F2C-8D3D-A54CF858A467@gmail.com>
In-Reply-To: <FC296FEF-33C3-4F2C-8D3D-A54CF858A467@gmail.com>
Subject: Re: Negative Filtering (such as for profanity)
Date: Tue, 13 Mar 2007 16:36:35 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Windows Mail 6.0.6000.16386
X-MimeOLE: Produced By Microsoft MimeOLE V6.0.6000.16386
X-Virus-Checked: Checked by ClamAV on apache.org



>I _think_ Lucene 2.1 (or is it trunk?, I lose track) has the ability  to 
>delete all documents containing a term.

Actually it's been in IndexReader for longer than I can remember.  We're 
still on 1.4.3 and it's in there.

(Only difference in 2.1 is that it's now on IndexWriter as well.)

Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 08:04:51 2007
Return-Path: <java-user-return-26833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58825 invoked from network); 13 Mar 2007 08:04:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 08:04:51 -0000
Received: (qmail 2827 invoked by uid 500); 13 Mar 2007 08:04:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2805 invoked by uid 500); 13 Mar 2007 08:04:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2794 invoked by uid 99); 13 Mar 2007 08:04:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 01:04:50 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.148] (HELO web60420.mail.yahoo.com) (209.73.178.148)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 01:04:37 -0700
Received: (qmail 57713 invoked by uid 60001); 13 Mar 2007 08:04:16 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=ADSBskKWJv+jREKJiSemeszq+RJ5Evc8d2zM9AK8UYls1PyCuz0ZeeRugUMiWnXv39gUko/18nBLGgVlBHUSo1xlkCgU8WeVnlbAmKEGVrBO7vrgjq2Y1/fPYbK1vUSR63kiO/vOwVkYUDuHZhqHrmSdx8fZbRi7naeO4mdQTYQ=;
X-YMail-OSG: HTn3bQEVM1m.qJssqmTUdaXXxtu5CN15i0OWW0VTbyWzNouWrA5ZrxHzjbxJ3_m6ea50rGoIpiszb7a.5s9bcCG.02ib4sF4arwm1ymirA5AmhLSuyhwbOncUMCFVL.iwfVRTayTY04ArxMimBZskbhqGkQ-
Received: from [155.69.173.173] by web60420.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 01:04:16 PDT
Date: Tue, 13 Mar 2007 01:04:16 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: Urgent : How much actually the disk space needed to optimize the index?
To: java-user@lucene.apache.org
In-Reply-To: <3A52444DA03D4BBBA2A23246C5485410@Monolith>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1702816196-1173773056=:56915"
Content-Transfer-Encoding: 8bit
Message-ID: <439191.56915.qm@web60420.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1702816196-1173773056=:56915
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Dear All
  
  How much actually the disk space needed to optimize the index?The  explanation given in documentation seems to be very different with the  practical situation
  
  I have an index file of size 18.6 G and I am going to optimize it.I  keep this index in mobile Hard Disk with capacity of 100 Gb....I did  not use any index reader,and I merely call index writer to optimize  this index.However,to my surprise,now while optimizing, the Index size  grow to almost occupy all the free space.I am preety sure that later it  will terminated due to there is no sufficient disk space.
  
  This is the content on the index file
  ------------------------------------------------------------------------------------------
  Microsoft Windows XP [Version 5.1.2600]
  (C) Copyright 1985-2001 Microsoft Corp.
  F:\DI>dir
   Volume in drive F has no label.
   Volume Serial Number is 9454-C24E
  
   Directory of F:\DI
  
  03/13/2007  02:14 PM    <DIR>          .
  03/13/2007  02:14 PM    <DIR>          ..
  03/13/2007  02:14  PM                 20 segments.gen
  03/13/2007  02:14  PM                 67 segments_34s4
  03/13/2007  12:06  PM                  0 write.lock
  03/13/2007  02:14 PM    41,705,009,152 _1ke1.cfs
  03/13/2007  12:15 PM     1,638,320,227 _1ke1.fdt
  03/13/2007  12:15 PM         4,461,912 _1ke1.fdx
  03/13/2007  12:09 PM         6,295,065 _1ke1.fnm
  03/13/2007  12:26 PM       232,520,666 _1ke1.frq
  03/13/2007  02:08 PM    44,927,549,671 _1ke1.nrm
  03/13/2007  12:26 PM       170,766,513 _1ke1.prx
  03/13/2007  12:26 PM         1,281,924 _1ke1.tii
  03/13/2007  12:26 PM       103,094,835 _1ke1.tis
  03/13/2007  02:14 PM        51,688,575 _1ke1.tvd
  03/13/2007  02:14 PM       882,304,866 _1ke1.tvf
  03/13/2007  02:14 PM         4,461,916 _1ke1.tvx
  03/12/2007  03:24 PM     5,594,336,501 _8km.cfs
                16 File(s) 95,322,091,910 bytes
                  2 Dir(s)   3,915,960,320 bytes free
  
  F:\DI>
  
  
  ----------------------------------------------------------------------------------------
  
  
  I wonder what was happening...I read in the documentation that calling  the optimizer will need available disk space about 2 times current  index size.And I have more than 2 times 18.6 Gb of free space !!!
  
  I really confuse and dont know what is going wrong.This is my code for optimizing :
  ----------------------------------------------------------------------------------------
  package edu.ntu.ce.maureen.index.optimize;
  
  import java.util.Date;
  
  import org.apache.lucene.analysis.Analyzer;
  import org.apache.lucene.analysis.snowball.SnowballAnalyzer;
  import org.apache.lucene.analysis.standard.StandardAnalyzer;
  import org.apache.lucene.index.IndexWriter;
  
  public class OptimizeDI {
  private static Analyzer analyzer = new SnowballAnalyzer("English",StandardAnalyzer.STOP_WORDS);    
  private static IndexWriter writerOpt;
  
  public static void OpenIndexDir(String indexDir)throws Exception{
      try
      {
          
          writerOpt = new IndexWriter(indexDir,analyzer,false);
      }
      catch (Exception e)
      {
          System.out.println("Cannot create index writer");
          e.printStackTrace();
      }
  }
  
  public static void OptimizeIndex() throws Exception{
      try
      {    
          System.out.println("Optimizing DI...");
          writerOpt.optimize();
          
      }catch(Exception e)
      {
          System.out.println("Exception in writerOpt.optimize()");
          e.printStackTrace();
      }
      
  }
  
  public static void closeIndex() throws Exception{
      try
      {    
          writerOpt.close();
          
      }catch(Exception e)
      {
          System.out.println("Cannot close index writer");
          e.printStackTrace();
      }
  }    
  public static void main(String args[]){
      long start = new Date().getTime();
      
      try{
      OptimizeDI.OpenIndexDir("F:/DI");
      OptimizeDI.OptimizeIndex();
      OptimizeDI.closeIndex();}catch(Exception e){
          System.out.println("Fail to optimize DI");
          e.printStackTrace();
      }
      long end = new Date().getTime();
      System.out.println("Optimized DI is created in "+(end-start)+" ms");
  }
  
  }
  
  ----------------------------------------------------------------------------------------
  
  Can somebody help me?Thanks a lot >_<
  
  
  Regards,
  Maureen
  

 
---------------------------------
Never miss an email again!
Yahoo! Toolbar alerts you the instant new Mail arrives. Check it out.
--0-1702816196-1173773056=:56915--

From java-user-return-26834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 09:20:43 2007
Return-Path: <java-user-return-26834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90072 invoked from network); 13 Mar 2007 09:20:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 09:20:42 -0000
Received: (qmail 11953 invoked by uid 500); 13 Mar 2007 09:20:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11915 invoked by uid 500); 13 Mar 2007 09:20:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11904 invoked by uid 99); 13 Mar 2007 09:20:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 02:20:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 02:20:31 -0700
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id A98391F7CDD
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 05:20:10 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Tue, 13 Mar 2007 05:20:10 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 8DCC715D698; Tue, 13 Mar 2007 05:20:10 -0400 (EDT)
Message-Id: <1173777610.23552.1179165257@webmail.messagingengine.com>
X-Sasl-Enc: 5LhvMkYQ6wQ/V3URO7LYSEdTRCUbBBqgv0mxoFvquGHG 1173777610
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <439191.56915.qm@web60420.mail.yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the
   index?
In-Reply-To: <439191.56915.qm@web60420.mail.yahoo.com>
Date: Tue, 13 Mar 2007 05:20:10 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"maureen tanuwidjaja" <autumn_musique@yahoo.com> wrote:

>   How much actually the disk space needed to optimize the index?The 
>   explanation given in documentation seems to be very different with the 
>   practical situation
>   
>   I have an index file of size 18.6 G and I am going to optimize it.I 
>   keep this index in mobile Hard Disk with capacity of 100 Gb....I did 
>   not use any index reader,and I merely call index writer to optimize 
>   this index.However,to my surprise,now while optimizing, the Index size 
>   grow to almost occupy all the free space.I am preety sure that later it
>    will terminated due to there is no sufficient disk space.
>   
>   This is the content on the index file
>   ------------------------------------------------------------------------------------------
>   03/13/2007  02:14 PM    <DIR>          .
>   03/13/2007  02:14 PM    <DIR>          ..
>   03/13/2007  02:14  PM                 20 segments.gen
>   03/13/2007  02:14  PM                 67 segments_34s4
>   03/13/2007  12:06  PM                  0 write.lock
>   03/13/2007  02:14 PM    41,705,009,152 _1ke1.cfs
>   03/13/2007  12:15 PM     1,638,320,227 _1ke1.fdt
>   03/13/2007  12:15 PM         4,461,912 _1ke1.fdx
>   03/13/2007  12:09 PM         6,295,065 _1ke1.fnm
>   03/13/2007  12:26 PM       232,520,666 _1ke1.frq
>   03/13/2007  02:08 PM    44,927,549,671 _1ke1.nrm
>   03/13/2007  12:26 PM       170,766,513 _1ke1.prx
>   03/13/2007  12:26 PM         1,281,924 _1ke1.tii
>   03/13/2007  12:26 PM       103,094,835 _1ke1.tis
>   03/13/2007  02:14 PM        51,688,575 _1ke1.tvd
>   03/13/2007  02:14 PM       882,304,866 _1ke1.tvf
>   03/13/2007  02:14 PM         4,461,916 _1ke1.tvx
>   03/12/2007  03:24 PM     5,594,336,501 _8km.cfs


As best I know, it should only require 2X the disk space.  In your
case this means you should only have needed 18.6 GB of free space (ie,
1X is the current index, then another 1X in free space).

So something odd is happening here.

One thing that stands out in your listing is: your norms file
(_1ke1.nrm) is enormous compared to all other files.  Are you indexing
many tiny docs where each docs has highly variable fields or something?

Hmmm.  In fact if you are doing this, then on merge, the norms (which
are not stored "sparsely") could in fact grow far larger than 2X.

Can you send a listing of the 18.6 GB index before optimizing?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 10:19:48 2007
Return-Path: <java-user-return-26835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7728 invoked from network); 13 Mar 2007 10:19:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 10:19:47 -0000
Received: (qmail 8187 invoked by uid 500); 13 Mar 2007 10:19:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8145 invoked by uid 500); 13 Mar 2007 10:19:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8133 invoked by uid 99); 13 Mar 2007 10:19:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 03:19:49 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 217.68.146.190 as permitted sender)
Received: from [217.68.146.190] (HELO cluster-b.mailcontrol.com) (217.68.146.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 03:19:34 -0700
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly32b.srv.mailcontrol.com (MailControl) with SMTP id l2DAJ9ho011113
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 10:19:10 GMT
Received: From SGBD012101.wsatkins.com ([10.202.26.15]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173781132317; Tue, 13 Mar 2007 10:18:52 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012101.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 13 Mar 2007 10:18:52 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76558.FF461174"
Subject: Complete field search
Date: Tue, 13 Mar 2007 10:18:50 -0000
Message-ID: <BC1CFC544422CB4A934908E126A4742706290DB8@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Complete field search
Thread-Index: AcdlWP64WlRVAhK3QB6JRNArMOZSkQ==
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 13 Mar 2007 10:18:52.0027 (UTC) FILETIME=[FF6DECB0:01C76558]
X-Scanned-By: MailControl A-07-06-90 (www.mailcontrol.com) on 10.66.0.142
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76558.FF461174
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi all,

Is it possible to search whether a term is equal to the entire contents
of a field rather than that the field contains a term?

So for example if I have a field with this text: "world cup" and I do a
search for "cup" I want it to return false but for another field that
contains exactly the text "cup" I want the result to be true.

Thanks in advance


This email and any attached files are confidential and copyright protected.=
 If you are not the addressee, any dissemination of this communication is s=
trictly prohibited. Unless otherwise expressly agreed in writing, nothing s=
tated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc.  Register=
ed in England No. 1885586.  Registered Office Woodcote Grove, Ashley Road, =
Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really =
need to.=20

------_=_NextPart_001_01C76558.FF461174--

From java-user-return-26836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 10:25:22 2007
Return-Path: <java-user-return-26836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9168 invoked from network); 13 Mar 2007 10:25:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 10:25:21 -0000
Received: (qmail 18389 invoked by uid 500); 13 Mar 2007 10:25:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18085 invoked by uid 500); 13 Mar 2007 10:25:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18074 invoked by uid 99); 13 Mar 2007 10:25:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 03:25:22 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.197.35.8] (HELO rediff.co.in) (203.197.35.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 03:25:10 -0700
Received: (qmail 7415 invoked from network); 13 Mar 2007 15:50:56 +0530
Received: from unknown (HELO bhavin) (202.137.232.130)
  by mailserver with SMTP; 13 Mar 2007 15:50:56 +0530
Message-ID: <002101c76559$c7e421a0$d50310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <BC1CFC544422CB4A934908E126A4742706290DB8@SGBLOW2101.wsatkins.com>
Subject: Re: Complete field search
Date: Tue, 13 Mar 2007 15:54:27 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org

Hi kainth,

>So for example if I have a field with this text: "world cup" and I do a
>search for "cup" I want it to return false but for another field that
>contains exactly the text "cup" I want the result to be true.

You fire only phrase query on the first field where you want only "world 
cup" as a result
while on second field fire Phrase query as well as term query...Or only term 
query depends on your need.

Thanks.
Bhavin pandya

----- Original Message ----- 
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
Sent: Tuesday, March 13, 2007 3:48 PM
Subject: Complete field search


Hi all,

Is it possible to search whether a term is equal to the entire contents
of a field rather than that the field contains a term?

So for example if I have a field with this text: "world cup" and I do a
search for "cup" I want it to return false but for another field that
contains exactly the text "cup" I want the result to be true.

Thanks in advance


This email and any attached files are confidential and copyright protected. 
If you are not the addressee, any dissemination of this communication is 
strictly prohibited. Unless otherwise expressly agreed in writing, nothing 
stated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc. 
Registered in England No. 1885586.  Registered Office Woodcote Grove, Ashley 
Road, Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really 
need to.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 11:31:46 2007
Return-Path: <java-user-return-26837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33678 invoked from network); 13 Mar 2007 11:31:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 11:31:45 -0000
Received: (qmail 26238 invoked by uid 500); 13 Mar 2007 11:31:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26200 invoked by uid 500); 13 Mar 2007 11:31:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26189 invoked by uid 99); 13 Mar 2007 11:31:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 04:31:45 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.158] (HELO web60415.mail.yahoo.com) (209.73.178.158)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 04:31:32 -0700
Received: (qmail 35286 invoked by uid 60001); 13 Mar 2007 11:31:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=ZtdRuu7902WhwKTX0M+C1Xy7w7fm4Ktkq0NY4+7KijGGBcYZW+lrry6/jaG4rtJBaVCm8Sk3woiCZEtz95qDD291Tjp7gqKpSWUjJeibtOXsMwUnsFq3ulvx3R+uIXUIXDIJaNXxmyrWs84+thhf4fvgqFJSj24PfQRljSCoWRY=;
X-YMail-OSG: QxFJQLYVM1n5.i8yZT60wSazHrxFb2RHtShKUzb15jfjfhih4pS9JzHRRmrPOPIG7g--
Received: from [155.69.173.173] by web60415.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 04:31:11 PDT
Date: Tue, 13 Mar 2007 04:31:11 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the   index?
To: java-user@lucene.apache.org
In-Reply-To: <1173777610.23552.1179165257@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1739476118-1173785471=:34677"
Content-Transfer-Encoding: 8bit
Message-ID: <809484.34677.qm@web60415.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1739476118-1173785471=:34677
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi Mike..
  
  "One thing that stands out in your listing is: your norms file
  (_1ke1.nrm) is enormous compared to all other files.  Are you indexing
  many tiny docs where each docs has highly variable fields or something?"
  
  Ya I also confuse why this nrm file is trmendous in size.
  I am indexing a total of 657739 XML document .
  Total number of fields are 37552 fields (I am using XML tags as the field)
  
  
  OK,this is the listing of the index file before I optimize...
  
  D:\dual_index\DI>dir
   Volume in drive D is SELAB
   Volume Serial Number is 44A7-7D50
  
   Directory of D:\dual_index\DI
  
  03/13/2007  09:29 AM    <DIR>          .
  03/13/2007  09:29 AM    <DIR>          ..
  03/13/2007  05:56  AM                 20 segments.gen
  03/13/2007  05:56 AM               712 segments_34rz
  03/13/2007  01:56 AM     2,491,551,624 _16v6.cfs
  03/13/2007  04:30 AM     2,140,779,671 _1fft.cfs
  03/13/2007  04:42 AM        76,813,296 _1gao.cfs
  03/13/2007  04:53 AM        78,626,916 _1h5j.cfs
  03/13/2007  05:06 AM       101,981,232 _1i0e.cfs
  03/13/2007  05:24 AM       182,544,071 _1iv9.cfs
  03/13/2007  05:43 AM       185,825,480 _1jq4.cfs
  03/13/2007  05:44 AM        10,569,811 _1jt7.cfs
  03/13/2007  05:46 AM        12,100,629 _1jwa.cfs
  03/13/2007  05:48 AM        12,127,317 _1jzd.cfs
  03/13/2007  05:49 AM        11,478,747 _1k2g.cfs
  03/13/2007  05:51 AM        11,483,235 _1k5j.cfs
  03/13/2007  05:53 AM        11,864,730 _1k8m.cfs
  03/13/2007  05:54 AM        10,966,413 _1kbp.cfs
  03/13/2007  05:55 AM           936,961 _1kc0.cfs
  03/13/2007  05:55 AM         1,144,949 _1kcb.cfs
  03/13/2007  05:55 AM         1,314,375 _1kcm.cfs
  03/13/2007  05:55 AM           951,460 _1kcx.cfs
  03/13/2007  05:55 AM         1,175,376 _1kd8.cfs
  03/13/2007  05:55 AM         1,171,232 _1kdj.cfs
  03/13/2007  05:55 AM         1,176,141 _1kdu.cfs
  03/13/2007  05:56 AM           124,219 _1kdv.cfs
  03/13/2007  05:56 AM           117,425 _1kdw.cfs
  03/13/2007  05:56 AM           158,673 _1kdx.cfs
  03/13/2007  05:56 AM           117,591 _1kdy.cfs
  03/12/2007  03:24 PM     5,594,336,501 _8km.cfs
  03/12/2007  06:07 PM     3,322,027,221 _h59.cfs
  03/12/2007  08:51 PM     3,017,631,411 _ppw.cfs
  03/12/2007  11:25 PM     2,383,550,153 _yaj.cfs
                31 File(s) 19,664,647,592 bytes
                 2 Dir(s)  20,398,489,600 bytes free
  
----------------------------------------------------------------------------------------------
  
  And there is another thing I want to ask...is it searching on the  optimized index render significantly faster searching compared to the  unoptimized one?
  
  It tooks me various numbers from 40second to 3minutes in searching inside this unoptimized index....
  
  How bout the memory consumption?will it took greater amount of memory consumption if using the optimized one?
  
  
  
  Thanks a lot
  
  Regards,
  Maureen
  
  
Michael McCandless <lucene@mikemccandless.com> wrote:  
"maureen tanuwidjaja"  wrote:

>   How much actually the disk space needed to optimize the index?The 
>   explanation given in documentation seems to be very different with the 
>   practical situation
>   
>   I have an index file of size 18.6 G and I am going to optimize it.I 
>   keep this index in mobile Hard Disk with capacity of 100 Gb....I did 
>   not use any index reader,and I merely call index writer to optimize 
>   this index.However,to my surprise,now while optimizing, the Index size 
>   grow to almost occupy all the free space.I am preety sure that later it
>    will terminated due to there is no sufficient disk space.
>   
>   This is the content on the index file
>   ------------------------------------------------------------------------------------------
>   03/13/2007  02:14 PM              .
>   03/13/2007  02:14 PM              ..
>   03/13/2007  02:14  PM                 20 segments.gen
>   03/13/2007  02:14  PM                 67 segments_34s4
>   03/13/2007  12:06  PM                  0 write.lock
>   03/13/2007  02:14 PM    41,705,009,152 _1ke1.cfs
>   03/13/2007  12:15 PM     1,638,320,227 _1ke1.fdt
>   03/13/2007  12:15 PM         4,461,912 _1ke1.fdx
>   03/13/2007  12:09 PM         6,295,065 _1ke1.fnm
>   03/13/2007  12:26 PM       232,520,666 _1ke1.frq
>   03/13/2007  02:08 PM    44,927,549,671 _1ke1.nrm
>   03/13/2007  12:26 PM       170,766,513 _1ke1.prx
>   03/13/2007  12:26 PM         1,281,924 _1ke1.tii
>   03/13/2007  12:26 PM       103,094,835 _1ke1.tis
>   03/13/2007  02:14 PM        51,688,575 _1ke1.tvd
>   03/13/2007  02:14 PM       882,304,866 _1ke1.tvf
>   03/13/2007  02:14 PM         4,461,916 _1ke1.tvx
>   03/12/2007  03:24 PM     5,594,336,501 _8km.cfs


As best I know, it should only require 2X the disk space.  In your
case this means you should only have needed 18.6 GB of free space (ie,
1X is the current index, then another 1X in free space).

So something odd is happening here.

One thing that stands out in your listing is: your norms file
(_1ke1.nrm) is enormous compared to all other files.  Are you indexing
many tiny docs where each docs has highly variable fields or something?

Hmmm.  In fact if you are doing this, then on merge, the norms (which
are not stored "sparsely") could in fact grow far larger than 2X.

Can you send a listing of the 18.6 GB index before optimizing?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Sucker-punch spam with award-winning protection.
 Try the free Yahoo! Mail Beta.
--0-1739476118-1173785471=:34677--

From java-user-return-26838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 13:45:27 2007
Return-Path: <java-user-return-26838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94623 invoked from network); 13 Mar 2007 13:45:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 13:45:27 -0000
Received: (qmail 88016 invoked by uid 500); 13 Mar 2007 13:45:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87986 invoked by uid 500); 13 Mar 2007 13:45:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87975 invoked by uid 99); 13 Mar 2007 13:45:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 06:45:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 06:45:16 -0700
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id E18B21F82BC
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 09:44:55 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Tue, 13 Mar 2007 09:44:55 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id D8D22161F1A; Tue, 13 Mar 2007 09:44:55 -0400 (EDT)
Message-Id: <1173793495.1211.1179203559@webmail.messagingengine.com>
X-Sasl-Enc: 1ClJSmVdAzptkw5U8d5LoAQduIpkXLkfzuDB12eH5auX 1173793495
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <809484.34677.qm@web60415.mail.yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the  
   index?
In-Reply-To: <809484.34677.qm@web60415.mail.yahoo.com>
Date: Tue, 13 Mar 2007 09:44:55 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

"maureen tanuwidjaja" <autumn_musique@yahoo.com> wrote:

>   "One thing that stands out in your listing is: your norms file
>   (_1ke1.nrm) is enormous compared to all other files.  Are you indexing
>   many tiny docs where each docs has highly variable fields or
>   something?"
>   
>   Ya I also confuse why this nrm file is trmendous in size.
>   I am indexing a total of 657739 XML document .
>   Total number of fields are 37552 fields (I am using XML tags as the
>   field)

OK, this is going to be a problem for Lucene.

This case will definitely go over 2X disk usage during optimize.  I
will update the javadocs to call out this caveat.

The .nrm file (norms) require 1 byte per document per unique field in
the segment, regardless of whether that document has that field (ie,
it's not a "sparse" representation).

When you have many small docs, and each doc has (somewhat) different
fields from the others, this results in a tremendously large storage
for the norms.

The thing is, within one segment it may be OK since that segment has a
subset of all docs and fields.  But then when segments are merged
(like optimize does) the product of #docs and #fields grows
"multiplicatively" and results in far far more storage required than
the sum of the individual segments.

The only simple workaround I can think of is to set maxMergeDocs to
keep all segments "small".  But then you may have too many segments
with time.  Either that or find a way to reduce the number of unique
fields that you actually need to store.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 13:52:26 2007
Return-Path: <java-user-return-26839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1188 invoked from network); 13 Mar 2007 13:52:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 13:52:25 -0000
Received: (qmail 13955 invoked by uid 500); 13 Mar 2007 13:52:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13926 invoked by uid 500); 13 Mar 2007 13:52:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13915 invoked by uid 99); 13 Mar 2007 13:52:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 06:52:22 -0700
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,MIME_BOUND_NEXTPART,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.154.194.71] (HELO srs2na11.bgl.lu) (194.154.194.71)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 06:52:11 -0700
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e5832a6f30aaf150a0ae@srs2na12.domain> for <java-user@lucene.apache.org>;
 Tue, 13 Mar 2007 14:53:13 +0100
Received: from SPMWB02L.luinternal.fortis.bank ([10.172.252.140]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 13 Mar 2007 14:51:35 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-80179142-e686-4233-98ed-cd3954ccd5b8"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: Open / Close   when   Merging
Date: Tue, 13 Mar 2007 14:51:35 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248809A2BD26@SPMWB02L.luinternal.fortis.bank>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Open / Close   when   Merging
Thread-Index: AcdldrdZ4GiRbFriQ9y8BuZquQ+YdA==
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 13 Mar 2007 13:51:35.0673 (UTC) FILETIME=[B727BE90:01C76576]
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPartTM-000-80179142-e686-4233-98ed-cd3954ccd5b8
Content-Type: multipart/alternative; 
	boundary="----_=_NextPart_001_01C76576.B7091EBF"

------_=_NextPart_001_01C76576.B7091EBF
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I need to merge several indexes (I call them incremental index) with my
main index.

Each  incremental index can contain the same url's of the main index,=20
that's why I have a list of url's to update, that I will delete from the
main index before merging with an incremental index.
I have also a list of urls to delete,
Then after these operations I can merge the indexes.

I am not sure about the operations Open / Close on the Index Writer,
I may need some help ...


for  i=3D0 ; i < list_increment_indexes.size() ; ++i=20

{ // BEGIN WHILE

1.	OPEN A SECOND READER ON THE MAININDEX=20
	(for not interrupting user queries on=20
	 the main indexreader on the main index)

2.	DELETE DOCS TO BE DELETED
	DELETE DOCS TO BE UPDATED

3.	CLOSE THE SECOND READER ON THE MAIN INDEX =3D=3D> FLUSH DELETIONS !!

4.	RE-OPEN A SECOND READER ON THE MAIN INDEX FOR MERGING

5.	OPEN A READER ON THE INCREMENTAL INDEX

6.	OPEN AN INDEXWRITER=20
	TO MERGE THE READER ON THE INCREMENTAL INDEX=20
	WITH THE READER ON THE MAIN INDEX

7.	CLOSE THE INDEXWRITER

8.	CLOSE THE SECOND READER ON THE MAIN INDEX

9.	CLOSE THE READER ON THE INCREMENTAL INDEX

} // END WHILE !

10.	CLOSE THE INDEXSEARCHER

11.	CLOSE THE MAIN INDEXREADER ON THE MAIN INDEX

12.	OPEN A NEW READER ON THE INDEX



I am not sure if I can open the idnexwriter *before* the loop and close
it *outside*,
So I do it in the loop for each incremental index for now on ...


__________________________________

   Matt



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


------_=_NextPart_001_01C76576.B7091EBF
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version 6.5.7651.52">
<TITLE>Open / Close   when   Merging</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><FONT SIZE=3D2 FACE=3D"Arial">Hi,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I need to merge several indexes (I call th=
em incremental index) with my main index.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Each&nbsp; incremental index can contain t=
he same url's of the main index, </FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">that's why I have a list of url's to upda=
te, that I will delete from the main index before merging with an increment=
al index.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I have also a list of urls to delete,</FON=
T>

<BR><FONT SIZE=3D2 FACE=3D"Arial">Then after these operations I can merge t=
he indexes.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I am not sure about the operations Open / =
Close on the Index Writer,</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">I may need some help ...</FONT>
</P>
<BR>

<P><B><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier=
 New">for</FONT></SPAN></B><SPAN LANG=3D"fr-be"></SPAN><SPAN LANG=3D"en-us"=
>&nbsp;<FONT SIZE=3D2 FACE=3D"Courier New"></FONT></SPAN><SPAN LANG=3D"en-u=
s"><B></B><B></B></SPAN><B><SPAN LANG=3D"fr-be"> <FONT COLOR=3D"#000000" SI=
ZE=3D2 FACE=3D"Courier New">i=3D0 ; i &lt; list_increment_indexes.size() ; =
++i </FONT></SPAN></B>
</P>

<P><SPAN LANG=3D"fr-be"><B><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier=
 New">{</FONT></B><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New"> //=
</FONT><B> <FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">BEGIN WHIL=
E</FONT></B></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPEN A SECOND READER ON THE MAININDEX <=
/FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">(for not interrupting user q=
ueries on </FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<F=
ONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New"> the main indexreader o=
n the main index)</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DELETE DOCS TO BE DELETED</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">DELETE DOCS TO BE UPDATED</F=
ONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLOSE THE SECOND READER ON THE MAIN IND=
EX =3D=3D&gt; FLUSH DELETIONS !!</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RE-OPEN A SECOND READER ON THE MAIN IND=
EX FOR MERGING</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPEN A READER ON THE INCREMENTAL INDEX<=
/FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPEN AN INDEXWRITER </FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">TO MERGE THE READER ON THE I=
NCREMENTAL INDEX </FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">WITH THE READER ON THE MAIN =
INDEX</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLOSE THE INDEXWRITER</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLOSE THE SECOND READER ON THE MAIN IND=
EX</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CLOSE THE READER ON THE INCREMENTAL IND=
EX</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><B><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier=
 New">}</FONT></B><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New"></F=
ONT><B> <FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">// END WHILE =
!</FONT></B></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">10.&nbsp;&nbsp;&nbsp;&nbsp; CLOSE THE INDEXSEARCHER</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">11.&nbsp;&nbsp;&nbsp;&nbsp; CLOSE THE MAIN INDEXREADER ON THE MAIN INDEX=
</FONT></SPAN>
</P>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">12.&nbsp;&nbsp;&nbsp;&nbsp; OPEN A NEW READER ON THE INDEX</FONT></SPAN>
</P>
<BR>
<BR>

<P><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">I am not sure if I can open the idnexwriter *before* the loop and close =
it *outside*,</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">So I do it in the loop for each incremental index for now on ...</FONT>=
</SPAN>
</P>
<BR>

<P><B><SPAN LANG=3D"fr"><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><=
WBR><WBR><WBR><WBR><WBR><WBR><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verda=
na">__________________________________</FONT></SPAN></B>
</P>

<P><B><SPAN LANG=3D"fr"><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verdana">&=
nbsp;&nbsp; Matt</FONT></SPAN></B><SPAN LANG=3D"fr"><I></I><I></I></SPAN><I=
><SPAN LANG=3D"en-us"></SPAN></I>
</P>

<CODE><FONT SIZE=3D3><BR>
<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
</FONT></CODE>
</BODY>
</HTML>
------_=_NextPart_001_01C76576.B7091EBF--


------=_NextPartTM-000-80179142-e686-4233-98ed-cd3954ccd5b8
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPartTM-000-80179142-e686-4233-98ed-cd3954ccd5b8--


From java-user-return-26840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 14:05:53 2007
Return-Path: <java-user-return-26840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11577 invoked from network); 13 Mar 2007 14:05:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 14:05:52 -0000
Received: (qmail 49557 invoked by uid 500); 13 Mar 2007 14:05:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49532 invoked by uid 500); 13 Mar 2007 14:05:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49521 invoked by uid 99); 13 Mar 2007 14:05:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:05:49 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.155] (HELO web60412.mail.yahoo.com) (209.73.178.155)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 07:05:36 -0700
Received: (qmail 63473 invoked by uid 60001); 13 Mar 2007 14:05:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=M1F0m/K2i7qrno1P8yIuIM4gBzVnkbkhy09hDyAntADdI0hxVHPXqA4Ck7gcDGtzU8QZetGB7VJY2iE62HbnWU5pjB4+FJMspOwloaAzwwHzxxia75BwXE2nBi2pLxqq8g0b2GqnUx/GcNp33iOFGzDgkxWYfy/zG4BDnnmk3BA=;
X-YMail-OSG: 6IsmwfIVM1lQNrU0y_x08pGUWH79l_iqQjm5ZAFHFrRAgiiJOi4U0zYIRLXdQsllihkbkGbU5t18zjsM4COKoe6yYl2xpztPD9vopSocPH7CbUjfRPHt_LB90XN_S.WTGXT59PWUQJ1lsZvLx7kxl_gvYMw-
Received: from [155.69.173.173] by web60412.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 07:05:11 PDT
Date: Tue, 13 Mar 2007 07:05:11 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the     index?
To: java-user@lucene.apache.org
In-Reply-To: <1173793495.1211.1179203559@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1618698720-1173794711=:60968"
Content-Transfer-Encoding: 8bit
Message-ID: <932316.60968.qm@web60412.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1618698720-1173794711=:60968
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi mike
  
  
"The only simple workaround I can think of is to set maxMergeDocs to
keep all segments "small".  But then you may have too many segments
with time.  Either that or find a way to reduce the number of unique
fields that you actually need to store."
  It is not possible for me to reduce the number of fields needed to store...
  
  Could you recommend what is the maxMerge value that is small enough to keep all segment small?
  
  I also would like to ask wheter, if optimize is successful,will it then  perform faster  searching significantly compared to the  unoptimized one?
  
  I have the searching result in 30 to 3 minutes, which is actually quite  unacceptable for the "search engine" I build...Is there any  recommendation on how faster searching could be done? 
  
  Thanks,
  Maureen
  
  

Michael McCandless <lucene@mikemccandless.com> wrote:  "maureen tanuwidjaja"  wrote:

>   "One thing that stands out in your listing is: your norms file
>   (_1ke1.nrm) is enormous compared to all other files.  Are you indexing
>   many tiny docs where each docs has highly variable fields or
>   something?"
>   
>   Ya I also confuse why this nrm file is trmendous in size.
>   I am indexing a total of 657739 XML document .
>   Total number of fields are 37552 fields (I am using XML tags as the
>   field)

OK, this is going to be a problem for Lucene.

This case will definitely go over 2X disk usage during optimize.  I
will update the javadocs to call out this caveat.

The .nrm file (norms) require 1 byte per document per unique field in
the segment, regardless of whether that document has that field (ie,
it's not a "sparse" representation).

When you have many small docs, and each doc has (somewhat) different
fields from the others, this results in a tremendously large storage
for the norms.

The thing is, within one segment it may be OK since that segment has a
subset of all docs and fields.  But then when segments are merged
(like optimize does) the product of #docs and #fields grows
"multiplicatively" and results in far far more storage required than
the sum of the individual segments.

The only simple workaround I can think of is to set maxMergeDocs to
keep all segments "small".  But then you may have too many segments
with time.  Either that or find a way to reduce the number of unique
fields that you actually need to store.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
No need to miss a message. Get email on-the-go 
with Yahoo! Mail for Mobile. Get started.
--0-1618698720-1173794711=:60968--

From java-user-return-26841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 14:09:05 2007
Return-Path: <java-user-return-26841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13899 invoked from network); 13 Mar 2007 14:09:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 14:09:04 -0000
Received: (qmail 58147 invoked by uid 500); 13 Mar 2007 14:09:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58119 invoked by uid 500); 13 Mar 2007 14:09:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58108 invoked by uid 99); 13 Mar 2007 14:09:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:09:04 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.158] (HELO web60415.mail.yahoo.com) (209.73.178.158)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 07:08:52 -0700
Received: (qmail 88745 invoked by uid 60001); 13 Mar 2007 14:08:31 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=OM7F1n3GFFNJpo9efu5vXbF3MU52cbpjWyjFINvjWYvRKdfSkCQDSHhrE+6wANEqQWDAEyzBmobrT3+i1U8XO0ciw54i0UHUEH4kWriVVYeDTwfiGnsGbWUordSf5HwYRcjFKRM+uULF10cwODzQwqOw6zxjpKs9ElPptcI1e6g=;
X-YMail-OSG: 2SuEnWcVM1n72XFVAdqHP4rZG03c8mG_9V_6htPkiT.HXKL6Eeotjm9xiJPAG0crDwoqd_2PPysLvkyYUwdZhGYuTSF9L3afJqfdLGQOUDR0SMX6EAVHavz6bdhPEJG.eXgF9JkbI7N.gJm7FHGcm3OYXrM-
Received: from [155.69.173.173] by web60415.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 07:08:31 PDT
Date: Tue, 13 Mar 2007 07:08:31 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the     index?
To: java-user@lucene.apache.org
In-Reply-To: <932316.60968.qm@web60412.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-36091748-1173794911=:88461"
Content-Transfer-Encoding: 8bit
Message-ID: <640492.88461.qm@web60415.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-36091748-1173794911=:88461
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Oops sorry,mistyping..

  I have the searching result in 30 SECONDS to 3 minutes, which is actually 
quite  unacceptable for the "search engine" I build...Is there any  
recommendation on how faster searching could be done? 
  

maureen tanuwidjaja <autumn_musique@yahoo.com> wrote:  Hi mike
  
  
"The only simple workaround I can think of is to set maxMergeDocs to
keep all segments "small".  But then you may have too many segments
with time.  Either that or find a way to reduce the number of unique
fields that you actually need to store."
  It is not possible for me to reduce the number of fields needed to store...
  
  Could you recommend what is the maxMerge value that is small enough to keep all segment small?
  
  I also would like to ask wheter, if optimize is successful,will it then  perform faster searching significantly compared to the unoptimized one?
  
  I have the searching result in 30 to 3 minutes, which is actually quite  unacceptable for the "search engine" I build...Is there any  recommendation on how faster searching could be done? 
  
  Thanks,
  Maureen
  
  

Michael McCandless  wrote:  "maureen tanuwidjaja"  wrote:

>   "One thing that stands out in your listing is: your norms file
>   (_1ke1.nrm) is enormous compared to all other files.  Are you indexing
>   many tiny docs where each docs has highly variable fields or
>   something?"
>   
>   Ya I also confuse why this nrm file is trmendous in size.
>   I am indexing a total of 657739 XML document .
>   Total number of fields are 37552 fields (I am using XML tags as the
>   field)

OK, this is going to be a problem for Lucene.

This case will definitely go over 2X disk usage during optimize.  I
will update the javadocs to call out this caveat.

The .nrm file (norms) require 1 byte per document per unique field in
the segment, regardless of whether that document has that field (ie,
it's not a "sparse" representation).

When you have many small docs, and each doc has (somewhat) different
fields from the others, this results in a tremendously large storage
for the norms.

The thing is, within one segment it may be OK since that segment has a
subset of all docs and fields.  But then when segments are merged
(like optimize does) the product of #docs and #fields grows
"multiplicatively" and results in far far more storage required than
the sum of the individual segments.

The only simple workaround I can think of is to set maxMergeDocs to
keep all segments "small".  But then you may have too many segments
with time.  Either that or find a way to reduce the number of unique
fields that you actually need to store.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
No need to miss a message. Get email on-the-go 
with Yahoo! Mail for Mobile. Get started.

  
---------------------------------
Looking for earth-friendly autos? 
 Browse Top Cars by "Green Rating" at Yahoo! Autos' Green Center.  
--0-36091748-1173794911=:88461--

From java-user-return-26842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 14:15:56 2007
Return-Path: <java-user-return-26842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17037 invoked from network); 13 Mar 2007 14:15:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 14:15:56 -0000
Received: (qmail 72938 invoked by uid 500); 13 Mar 2007 14:15:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72725 invoked by uid 500); 13 Mar 2007 14:15:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72714 invoked by uid 99); 13 Mar 2007 14:15:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:15:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:15:46 -0700
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id BF20B1F776A
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 10:15:25 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Tue, 13 Mar 2007 10:15:25 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id B528E1612DB; Tue, 13 Mar 2007 10:15:25 -0400 (EDT)
Message-Id: <1173795325.6264.1179210157@webmail.messagingengine.com>
X-Sasl-Enc: EM2Jz/i1JhMjD5UtsvoRiS+0fF9D1GCgfR4SzJRjqKuP 1173795325
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <809484.34677.qm@web60415.mail.yahoo.com>
   <1173793495.1211.1179203559@webmail.messagingengine.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the   
    index?
In-Reply-To: <1173793495.1211.1179203559@webmail.messagingengine.com>
Date: Tue, 13 Mar 2007 10:15:25 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"Michael McCandless" <lucene@mikemccandless.com> wrote:

> The only simple workaround I can think of is to set maxMergeDocs to
> keep all segments "small".  But then you may have too many segments
> with time.  Either that or find a way to reduce the number of unique
> fields that you actually need to store.

Actually one more, even simpler, workaround is to turn off norms
for these fields.

I've opened Jira issue 830 to track this:

    http://issues.apache.org/jira/browse/LUCENE-830

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 14:22:53 2007
Return-Path: <java-user-return-26843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25722 invoked from network); 13 Mar 2007 14:22:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 14:22:52 -0000
Received: (qmail 87469 invoked by uid 500); 13 Mar 2007 14:22:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87437 invoked by uid 500); 13 Mar 2007 14:22:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87426 invoked by uid 99); 13 Mar 2007 14:22:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:22:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:22:41 -0700
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id 3A9E01F85D7
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 10:22:21 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Tue, 13 Mar 2007 10:22:21 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 2DEFE1612DA; Tue, 13 Mar 2007 10:22:21 -0400 (EDT)
Message-Id: <1173795741.7161.1179210899@webmail.messagingengine.com>
X-Sasl-Enc: uylpBIxF7P/u0FZeivMeATbOeE3Zer68YzZQQi9DYU4N 1173795741
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <932316.60968.qm@web60412.mail.yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the   
    index?
In-Reply-To: <932316.60968.qm@web60412.mail.yahoo.com>
Date: Tue, 13 Mar 2007 10:22:21 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

"maureen tanuwidjaja" <autumn_musique@yahoo.com> wrote:
   
> "The only simple workaround I can think of is to set maxMergeDocs to
> keep all segments "small".  But then you may have too many segments
> with time.  Either that or find a way to reduce the number of unique
> fields that you actually need to store."
>   It is not possible for me to reduce the number of fields needed to
>   store...
>   
>   Could you recommend what is the maxMerge value that is small enough to
>   keep all segment small?
>   
>   I also would like to ask wheter, if optimize is successful,will it then
>    perform faster  searching significantly compared to the  unoptimized
>   one?

I think you'd need to test different values for your situation.  Maybe
try 66,000 which will give you ~ 10 segments at your current number of
docs?

>   I have the searching result in 30 to 3 minutes, which is actually quite
>    unacceptable for the "search engine" I build...Is there any 
>   recommendation on how faster searching could be done? 

I think you'll need to turn off norms.  I expect alot of the slowness is
in loading the large norms files for the first time.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 14:32:42 2007
Return-Path: <java-user-return-26844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29939 invoked from network); 13 Mar 2007 14:32:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 14:32:41 -0000
Received: (qmail 7872 invoked by uid 500); 13 Mar 2007 14:32:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7828 invoked by uid 500); 13 Mar 2007 14:32:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7817 invoked by uid 99); 13 Mar 2007 14:32:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:32:41 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.158] (HELO web60415.mail.yahoo.com) (209.73.178.158)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 07:32:29 -0700
Received: (qmail 97233 invoked by uid 60001); 13 Mar 2007 14:32:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=AyBf7OsFlsV7bz5gtMXiXKdwGytXM4SHJf1Y4HqBK0rcIdMVM0vMLgjbd6aMKQCS9cDFDrgWWZ3UKSKtG4pi/G2K5dwvSREL33xUVeD6KI17rGOfOYLhumvpfqxWDkophHZbeEHyszD2MqoRaSmzLO9C0xxU/oZqYU7R1ibBPys=;
X-YMail-OSG: KqakUY8VM1kU0kVAhpQibzDjHu1fRm1_Np1Lfer1roMHdC3cJyuZSUx8dPhwP.NrozmX4AoQhalTHm6Cum8FATS_NRqZnrRb65M.7.iVAtjhWBSU1V2Q8KRFl_dBrdt.a.8ewzsTGwQotTs2
Received: from [155.69.173.173] by web60415.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 07:32:08 PDT
Date: Tue, 13 Mar 2007 07:32:08 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the       index?
To: java-user@lucene.apache.org
In-Reply-To: <1173795741.7161.1179210899@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-953825561-1173796328=:96833"
Content-Transfer-Encoding: 8bit
Message-ID: <138983.96833.qm@web60415.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-953825561-1173796328=:96833
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi Mike,
  
  
  How to disable/turn off the norm?is it while indexing?
  
  Thanks,
  Maureen
  
 
---------------------------------
Need Mail bonding?
Go to the Yahoo! Mail Q&A for great tips from Yahoo! Answers users.
--0-953825561-1173796328=:96833--

From java-user-return-26845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 14:59:58 2007
Return-Path: <java-user-return-26845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45274 invoked from network); 13 Mar 2007 14:59:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 14:59:57 -0000
Received: (qmail 73120 invoked by uid 500); 13 Mar 2007 14:59:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73086 invoked by uid 500); 13 Mar 2007 14:59:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73075 invoked by uid 99); 13 Mar 2007 14:59:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:59:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [129.177.30.12] (HELO noralf.uib.no) (129.177.30.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 07:59:46 -0700
Received: from alfred.uib.no (smtp.uib.no) [129.177.30.120] 
	by noralf.uib.no for java-user@lucene.apache.org with esmtp  (Exim 4.34)
	id 1HR8TD-0002pq-DJ; Tue, 13 Mar 2007 15:59:24 +0100
Received: from ak024197.klientdrift.uib.no [129.177.24.197] 
	by smtp.uib.no for java-user@lucene.apache.org with esmtp (Exim 4.34)
	id 1HR8TD-0003gK-6v; Tue, 13 Mar 2007 15:59:23 +0100
Message-ID: <45F6BC48.2060508@aksis.uib.no>
Date: Tue, 13 Mar 2007 15:59:20 +0100
From: Oystein Reigem <oystein.reigem@aksis.uib.no>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Highlighting of original documents
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD26@SPMWB02L.luinternal.fortis.bank>
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248809A2BD26@SPMWB02L.luinternal.fortis.bank>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-checked-clean: by exiscan on noralf
X-Scanner: 52bf2aae7fa0479d320b2f2d12083d81 http://tjinfo.uib.no/virus.html
X-UiB-SpamFlag: NO UIB: -23.4 hits, 8.0 required
X-UiB-SpamReport: spamassassin found;
   -15 From is listed in 'whitelist_SA'
 -9.0 Message received from UIB
 -0.4 Did not pass through any untrusted hosts
  1.0 BODY: UIB_MAILWON
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I want to implement fulltext search on a collection of documents. I try 
to figure out which system is the better choice - eXist, or Lucene, or 
some combination of the two. I have some knowledge of eXist, but don't 
know too much about Lucene.

I'd like to display the result of a search as a list of 
excerpts/snippets with highlighted search words. When the user clicks an 
item in the result list to bring up the document in full, I'd like to 
have search words highlighted in the full document as well.

The document collection is very diverse. There are pure text documents 
and well-formed XML and HTML documents, but unfortunately also HTML 
documents that are not quite well-formed, Word documents and PDFs. Many 
of the formats go beyond what eXist and Lucene can handle, and I realise 
some conversion, or text extraction, is necessary. As far as I know 
Lucene can only index and search pure text (and fields), so the 
documents must be run through appropriate filters extracting the text 
(and field values). Afterwards fulltext search is possible.

But what about highlighting? I know it is possible to get highlighting 
in the pure text version, but what about the original document, when the 
original document is something else than pure text, e.g, a simple XML 
document? Is it at all possible to get the search words tagged in the 
XML document?

I assume not, but ask anyway. :-)

Cheers,

- ystein -


-- 
ystein Reigem, The department of culture, language and information technology (Aksis), Allegt 27, N-5007 Bergen, Norway. Tel: +47 55 58 32 42. Fax: +47 55 58 94 70. E-mail: <oystein.reigem@aksis.uib.no>. Home tel: +47 56 14 06 11. Mobile: +47 97 16 96 64. Home e-mail: <oreigem@broadpark.no>. Aksis home page: <www.aksis.uib.no>.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 15:14:08 2007
Return-Path: <java-user-return-26846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52176 invoked from network); 13 Mar 2007 15:14:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 15:14:07 -0000
Received: (qmail 21681 invoked by uid 500); 13 Mar 2007 15:14:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21631 invoked by uid 500); 13 Mar 2007 15:14:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21613 invoked by uid 99); 13 Mar 2007 15:14:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:14:07 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.151] (HELO web60423.mail.yahoo.com) (209.73.178.151)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 08:13:55 -0700
Received: (qmail 22462 invoked by uid 60001); 13 Mar 2007 15:13:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=LAu/9zDUf4NjvX82w8MI/h3kbiEEONp1cBomOQLXYX4MdUcW9ERWXb0wH2LXSZPjC4qcnueVCBPJskJUg5dDEjSAH1aSLDl3/chyNW2eSh/8TnH/YKWC3f409kEyf457wU6N8hmzAB2NkL1f+xvaGLmx4mAz+w4DjYL2gTAiW+0=;
X-YMail-OSG: 9prdk6EVM1nvlixO5NcK6VmCGjQQPhi3WF2bWCwOqkOSNt8_.6DgB.mJpQTVuCmoK8USpy.o0g7Fkfkvu3m.4CAXCod05xB_KlxogJTXOQawPWfBav.AGz53_wkrqjOBln4ZHW__SQMdFRsYzAV7xM.udxA-
Received: from [155.69.173.173] by web60423.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 08:13:33 PDT
Date: Tue, 13 Mar 2007 08:13:33 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: How to disable lucene norm factor?
To: java-user@lucene.apache.org
In-Reply-To: <138983.96833.qm@web60415.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2104672856-1173798813=:21602"
Content-Transfer-Encoding: 8bit
Message-ID: <1753.21602.qm@web60423.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-2104672856-1173798813=:21602
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi all,
  How to disable lucene norm factor?
  
  Thanks,
  Maureen



 
---------------------------------
We won't tell. Get more on shows you hate to love
(and love to hate): Yahoo! TV's Guilty Pleasures list.
--0-2104672856-1173798813=:21602--

From java-user-return-26847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 15:43:53 2007
Return-Path: <java-user-return-26847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68414 invoked from network); 13 Mar 2007 15:43:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 15:43:53 -0000
Received: (qmail 16825 invoked by uid 500); 13 Mar 2007 15:43:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16772 invoked by uid 500); 13 Mar 2007 15:43:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16761 invoked by uid 99); 13 Mar 2007 15:43:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:43:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of markrmiller@gmail.com designates 209.85.132.240 as permitted sender)
Received: from [209.85.132.240] (HELO an-out-0708.google.com) (209.85.132.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:43:40 -0700
Received: by an-out-0708.google.com with SMTP id c3so1595216ana
        for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 08:43:20 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=XKV6l/oEK24uk+RLOx/1SMtNFjLoKAJcLc5CvGG9hegGaHiyNChTgW2jQOI4r6+w7l8JVb41i656EL4WNad3oETVtUzKXtgdpoW5uW6zbzOxaZ92hHE8uZWWm58SE1IA95y9/FrxiG3AQ/yYHYTykSFgNVeXQRJN/5iSOsBrk/g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=dxx+leLcpcncCf0/HKbBC8VZCIskXRjrDY+eK6quCH90mkUZe4lEBJ07lv2xZs9F2S3Oyk+ZBpZ1tcJUMkBksd9i3S7V1xuWqS7DFJKx0WFJ3BXRUdyWHnLcCQyVe1o+wEcj/Du20yf0+eJUt/1La0NWdRtLaTThm0SHf1vPUQ8=
Received: by 10.100.163.12 with SMTP id l12mr905244ane.1173800599951;
        Tue, 13 Mar 2007 08:43:19 -0700 (PDT)
Received: from ?192.168.1.105? ( [216.66.114.42])
        by mx.google.com with ESMTP id 29sm7411954wrl.2007.03.13.08.43.18;
        Tue, 13 Mar 2007 08:43:19 -0700 (PDT)
Message-ID: <45F6C681.6020705@gmail.com>
Date: Tue, 13 Mar 2007 11:42:57 -0400
From: Mark Miller <markrmiller@gmail.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Highlighting of original documents
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD26@SPMWB02L.luinternal.fortis.bank> <45F6BC48.2060508@aksis.uib.no>
In-Reply-To: <45F6BC48.2060508@aksis.uib.no>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Depends on the work you want to do. If you want to highlight a simple 
XML doc the approach would be to extract all of the text elements and 
run them through the highlighter and then correctly update them. That 
would be mostly simple DOM manipulation. The same approach should work 
with any format but the difficulty in modifying the text may increase. 
If you can pull the text out appropriately it would seem you could put 
it back in though, or modify it in place as you might with the DOM.

- Mark

Oystein Reigem wrote:
> Hi,
>
> I want to implement fulltext search on a collection of documents. I 
> try to figure out which system is the better choice - eXist, or 
> Lucene, or some combination of the two. I have some knowledge of 
> eXist, but don't know too much about Lucene.
>
> I'd like to display the result of a search as a list of 
> excerpts/snippets with highlighted search words. When the user clicks 
> an item in the result list to bring up the document in full, I'd like 
> to have search words highlighted in the full document as well.
>
> The document collection is very diverse. There are pure text documents 
> and well-formed XML and HTML documents, but unfortunately also HTML 
> documents that are not quite well-formed, Word documents and PDFs. 
> Many of the formats go beyond what eXist and Lucene can handle, and I 
> realise some conversion, or text extraction, is necessary. As far as I 
> know Lucene can only index and search pure text (and fields), so the 
> documents must be run through appropriate filters extracting the text 
> (and field values). Afterwards fulltext search is possible.
>
> But what about highlighting? I know it is possible to get highlighting 
> in the pure text version, but what about the original document, when 
> the original document is something else than pure text, e.g, a simple 
> XML document? Is it at all possible to get the search words tagged in 
> the XML document?
>
> I assume not, but ask anyway. :-)
>
> Cheers,
>
> - ystein -
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 15:44:14 2007
Return-Path: <java-user-return-26848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68532 invoked from network); 13 Mar 2007 15:44:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 15:44:13 -0000
Received: (qmail 18681 invoked by uid 500); 13 Mar 2007 15:44:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18650 invoked by uid 500); 13 Mar 2007 15:44:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18639 invoked by uid 99); 13 Mar 2007 15:44:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:44:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:44:03 -0700
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id 9DDA01F84EA
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 11:43:42 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Tue, 13 Mar 2007 11:43:42 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 7543D1828C2; Tue, 13 Mar 2007 11:43:42 -0400 (EDT)
Message-Id: <1173800622.20314.1179227477@webmail.messagingengine.com>
X-Sasl-Enc: Dfbxl8/Ar3fWrnZKO01EbALZZlZjzUExedNToKVlAe3v 1173800622
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <1753.21602.qm@web60423.mail.yahoo.com>
Subject: Re: How to disable lucene norm factor?
In-Reply-To: <1753.21602.qm@web60423.mail.yahoo.com>
Date: Tue, 13 Mar 2007 11:43:42 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"maureen tanuwidjaja" <autumn_musique@yahoo.com> wrote:

>   How to disable lucene norm factor?

Once you've created a Field and before adding to your Document
index, just call field.setOmitNorms(true).

Note, however, that you must do this for all Field instances by that
same field name because whenever Lucene merges segments, if even one
Document did not disable norms then this will "spread" so that all documents
keep their norms, for the same field name.

Ie you must fully rebuild your index with the above code change to
truly not store norms.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 15:57:43 2007
Return-Path: <java-user-return-26849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74078 invoked from network); 13 Mar 2007 15:57:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 15:57:42 -0000
Received: (qmail 56288 invoked by uid 500); 13 Mar 2007 15:57:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56251 invoked by uid 500); 13 Mar 2007 15:57:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56240 invoked by uid 99); 13 Mar 2007 15:57:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:57:43 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.147] (HELO web60419.mail.yahoo.com) (209.73.178.147)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 08:57:31 -0700
Received: (qmail 44275 invoked by uid 60001); 13 Mar 2007 15:57:09 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=P6aiEPLUkRlJFOOKqXDyZOtm9924pSLFDvhECdRPPOL7RfMcb5wJJm9FmOGo2MnzjNmk7O7DCdxuX6CYXq/7b5Ma3PyhPtQQiB5C22Ah+9YSEzbt71m9r49ckiXRamj+U9IhVp4zOMoaf6Cc38wpUnc0GmIV7gVUC6N4MR3Z9bw=;
X-YMail-OSG: pVhhGxEVM1mbObbi_iWmRwcveojV705scwuy9sjiaR3hLSjQKEu7R0VxLd7.Qr7e1uv_gmwyOVLUGR9JOlN9dMvQAbzYUx5rnG4NWFBhNXSMggtbUH07yo8fX6deagi.gZRbTvUhmIzvYl7AgorTSu.iUDg-
Received: from [155.69.173.173] by web60419.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 08:57:09 PDT
Date: Tue, 13 Mar 2007 08:57:09 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: Re: How to disable lucene norm factor?
To: java-user@lucene.apache.org
In-Reply-To: <1173800622.20314.1179227477@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1654539554-1173801429=:43502"
Content-Transfer-Encoding: 8bit
Message-ID: <827250.43502.qm@web60419.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1654539554-1173801429=:43502
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

ok mike.I'll try it and see wheter could work :) then I will proceed to optimize the index.
  Well then i guess it's fine to use the default value for maxMergeDocs which is INTEGER.MAX?
  
  Thanks a lot
  
  Regards,
  Maureen
  

Michael McCandless <lucene@mikemccandless.com> wrote:  
"maureen tanuwidjaja"  wrote:

>   How to disable lucene norm factor?

Once you've created a Field and before adding to your Document
index, just call field.setOmitNorms(true).

Note, however, that you must do this for all Field instances by that
same field name because whenever Lucene merges segments, if even one
Document did not disable norms then this will "spread" so that all documents
keep their norms, for the same field name.

Ie you must fully rebuild your index with the above code change to
truly not store norms.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Bored stiff? Loosen up...
Download and play hundreds of games for free on Yahoo! Games.
--0-1654539554-1173801429=:43502--

From java-user-return-26850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 15:58:25 2007
Return-Path: <java-user-return-26850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74268 invoked from network); 13 Mar 2007 15:58:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 15:58:24 -0000
Received: (qmail 59009 invoked by uid 500); 13 Mar 2007 15:58:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58982 invoked by uid 500); 13 Mar 2007 15:58:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58971 invoked by uid 99); 13 Mar 2007 15:58:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:58:24 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of walt.stoneburner@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 08:58:13 -0700
Received: by ug-out-1314.google.com with SMTP id k40so329588ugc
        for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 08:57:51 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=sDXCXXTqV7tdEgGxY8ppMNSJfZyv7vHgMqdbjDl+QL32HqNbIKEkp7GyRTIJGCrzRd+WIJOBTYD5VMriT5PB0VSIqComG30KQ6YEhUBzI9MLLbYDGkyTPAJAwB2tvhu5aSUkj6T8+BO/ul+MX7ZvV0OWRIynLMnjLBcTNgM04/8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=Baf5PKzoM1SC9HWOVx8m9ZdgllOVyF81Q83c1rbut8evOBFetIi9BZ8qLGamOqkInrDtK+IFpLFbl7u8tpnC0Y8O3F4eJR8ZI2jqjjRkYipecNh1fhiICzPPzXY987qsm/cAzM/6uWkigrLUV4zj/IaRcjOhEGIwXFT4RwyO1iw=
Received: by 10.114.193.1 with SMTP id q1mr2449478waf.1173801470721;
        Tue, 13 Mar 2007 08:57:50 -0700 (PDT)
Received: by 10.114.155.11 with HTTP; Tue, 13 Mar 2007 08:57:50 -0700 (PDT)
Message-ID: <ae6f38f60703130857w70eabb73g4b36e6d9c90afcd1@mail.gmail.com>
Date: Tue, 13 Mar 2007 11:57:50 -0400
From: "Walt Stoneburner" <walt.stoneburner@gmail.com>
To: java-user@lucene.apache.org
Subject: Finding matched terms
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

When performing a query and getting a result set back, if one wants to
know which terms from the query actually matched, is Highlighter still
the best way to go with the latest Lucene, or should I start looking
at query term frequency vectors?

Just trying to find a non-expensive way of doing this without using
the explain() method as shown by the Lucene in Action book, which
appears to incur at least a full order of magnitude performance
penalty.

Searching http://www.gossamer-threads.com/lists/lucene/java-user/
seems to suggest the Highlighter.

What makes this interesting is that, technically, I don't need to know
where, nor how many times, a term was found in the resulting document,
only that it occurred.  Any way to optimize for this special case?

e.g., CAT OR DOG
animals.txt -- CAT, DOG
felines.txt -- CAT
canines.txt - DOG

Thanks,
-wls

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 16:22:59 2007
Return-Path: <java-user-return-26851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84693 invoked from network); 13 Mar 2007 16:22:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 16:22:58 -0000
Received: (qmail 15216 invoked by uid 500); 13 Mar 2007 16:22:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15188 invoked by uid 500); 13 Mar 2007 16:22:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15168 invoked by uid 99); 13 Mar 2007 16:22:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 09:22:48 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [129.177.30.12] (HELO noralf.uib.no) (129.177.30.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 09:22:35 -0700
Received: from alfred.uib.no (smtp.uib.no) [129.177.30.120] 
	by noralf.uib.no for java-user@lucene.apache.org with esmtp  (Exim 4.34)
	id 1HR9l8-0004IB-VS; Tue, 13 Mar 2007 17:22:01 +0100
Received: from ak024197.klientdrift.uib.no [129.177.24.197] 
	by smtp.uib.no for java-user@lucene.apache.org with esmtp (Exim 4.34)
	id 1HR9l8-0004IN-N5; Tue, 13 Mar 2007 17:21:58 +0100
Message-ID: <45F6CFA3.6070704@aksis.uib.no>
Date: Tue, 13 Mar 2007 17:21:55 +0100
From: Oystein Reigem <oystein.reigem@aksis.uib.no>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Highlighting of original documents
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD26@SPMWB02L.luinternal.fortis.bank> <45F6BC48.2060508@aksis.uib.no> <45F6C681.6020705@gmail.com>
In-Reply-To: <45F6C681.6020705@gmail.com>
Content-Type: multipart/alternative;
 boundary="------------040603090407020908040806"
X-checked-clean: by exiscan on noralf
X-Scanner: 62395e026f5ff0d816b6ecec4a1a6ca8 http://tjinfo.uib.no/virus.html
X-UiB-SpamFlag: NO UIB: -23.2 hits, 8.0 required
X-UiB-SpamReport: spamassassin found;
   -15 From is listed in 'whitelist_SA'
 -9.0 Message received from UIB
 -0.4 Did not pass through any untrusted hosts
  1.0 BODY: UIB_MAILWON
  0.1 BODY: Message is 30% to 40% HTML
  0.0 BODY: HTML included in message
  0.0 BODY: HTML title contains no text
X-Virus-Checked: Checked by ClamAV on apache.org

--------------040603090407020908040806
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Mark Miller wrote:

> Depends on the work you want to do. If you want to highlight a simple 
> XML doc the approach would be to extract all of the text elements and 
> run them through the highlighter and then correctly update them. That 
> would be mostly simple DOM manipulation.

OK.

I guess there will be some details that need special attention. One case 
that springs to mind is the occurrence of words that in the original 
document are broken up by encoding, like "en<hyphen/>coding" or 
"<em>mid</em>range".

> The same approach should work with any format but the difficulty in 
> modifying the text may increase. If you can pull the text out 
> appropriately it would seem you could put it back in though, or modify 
> it in place as you might with the DOM.

Do you know if tools (classes) for "appropriate" extraction from "my" 
file formats already exist in Lucene? I.e, something that not just 
extracts the text, but keeps track of its position in the original?

I saw POI <http://jakarta.apache.org/poi/> mentioned in a posting on 
this list. Perhaps a solution for Word documents can be based on POI.

- ystein -

>
> - Mark
>
> Oystein Reigem wrote:
>
>> Hi,
>>
>> I want to implement fulltext search on a collection of documents. I 
>> try to figure out which system is the better choice - eXist, or 
>> Lucene, or some combination of the two. I have some knowledge of 
>> eXist, but don't know too much about Lucene.
>>
>> I'd like to display the result of a search as a list of 
>> excerpts/snippets with highlighted search words. When the user clicks 
>> an item in the result list to bring up the document in full, I'd like 
>> to have search words highlighted in the full document as well.
>>
>> The document collection is very diverse. There are pure text 
>> documents and well-formed XML and HTML documents, but unfortunately 
>> also HTML documents that are not quite well-formed, Word documents 
>> and PDFs. Many of the formats go beyond what eXist and Lucene can 
>> handle, and I realise some conversion, or text extraction, is 
>> necessary. As far as I know Lucene can only index and search pure 
>> text (and fields), so the documents must be run through appropriate 
>> filters extracting the text (and field values). Afterwards fulltext 
>> search is possible.
>>
>> But what about highlighting? I know it is possible to get 
>> highlighting in the pure text version, but what about the original 
>> document, when the original document is something else than pure 
>> text, e.g, a simple XML document? Is it at all possible to get the 
>> search words tagged in the XML document?
>>
>> I assume not, but ask anyway. :-)
>>
>> Cheers,
>>
>> - ystein -
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


-- 
ystein Reigem, The department of culture, language and information technology (Aksis), Allegt 27, N-5007 Bergen, Norway. Tel: +47 55 58 32 42. Fax: +47 55 58 94 70. E-mail: <oystein.reigem@aksis.uib.no>. Home tel: +47 56 14 06 11. Mobile: +47 97 16 96 64. Home e-mail: <oreigem@broadpark.no>. Aksis home page: <www.aksis.uib.no>.


--------------040603090407020908040806--

From java-user-return-26852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 16:24:38 2007
Return-Path: <java-user-return-26852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85241 invoked from network); 13 Mar 2007 16:24:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 16:24:36 -0000
Received: (qmail 22620 invoked by uid 500); 13 Mar 2007 16:24:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22593 invoked by uid 500); 13 Mar 2007 16:24:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22582 invoked by uid 99); 13 Mar 2007 16:24:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 09:24:35 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=HTML_MESSAGE,MIME_BOUND_NEXTPART,URG_BIZ
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.154.194.71] (HELO srs2na11.bgl.lu) (194.154.194.71)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 09:24:23 -0700
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e58bdf4630aaf150a0ae@srs2na12.domain> for <java-user@lucene.apache.org>;
 Tue, 13 Mar 2007 17:25:23 +0100
Received: from SPMWB02L.luinternal.fortis.bank ([10.172.252.140]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 13 Mar 2007 17:23:44 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-0fc69c15-1589-43ec-a9b5-bda2b2b8a97e"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: [Urgent] deleteDocuments fails after merging ...
Date: Tue, 13 Mar 2007 17:23:44 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248809A2BD2C@SPMWB02L.luinternal.fortis.bank>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: [Urgent] deleteDocuments fails after merging ...
Thread-Index: Acdli/iVD/3DoS1VSr67HNjfgKeCgA==
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 13 Mar 2007 16:23:44.0897 (UTC) FILETIME=[F898C710:01C7658B]
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPartTM-000-0fc69c15-1589-43ec-a9b5-bda2b2b8a97e
Content-Type: multipart/alternative; 
	boundary="----_=_NextPart_001_01C7658B.F86A3E84"

------_=_NextPart_001_01C7658B.F86A3E84
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi,

I have put this question as "urgent" because I can notice I don't have
often answers,
If I'm asking the wrong way, please tell me...


Before I delete a document I search it in the index to be sure there is
a hit (via a Term object),
When I find a hit I delete the document (with the same Term object),

But there is something very odd happing sometimes :

I find a hit, but the integer returned by deleteDocuments is equal to 0
This often happens after I merged the index for the first time,
it never happens before I merge ...



Term urlTerm =3D new Term("url", urlToDel);
Query query =3D new TermQuery(urlTerm);

Hits hits =3D search(query);
if (hits.length() > 0) {
	if (hits.length() > 1) {
		System.out.println("found in the index with
duplicates");
	}
	System.out.println("found in the index");
	try {
		int nb =3D mIndexReaderClone.deleteDocuments(urlTerm);
		if (nb > 0)
			System.out.println("successfully deleted");
		else
			throw new IOException("0 doc deleted");
	} catch (IOException e) {
		e.printStackTrace();
		throw new Exception(
			Thread.currentThread().getName() + " ---
Deleting old entry failed",
			e);
	}


What I get sometimes is :

found in the index
0 doc deleted


__________________________________

   Matt



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


------_=_NextPart_001_01C7658B.F86A3E84
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version 6.5.7651.52">
<TITLE>[Urgent] deleteDocuments fails after merging ...</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">Hi,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I have put this question as &quot;urgent&q=
uot; because I can notice I don't have often answers,</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">If I'm asking the wrong way, please tell =
me...</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">Before I delete a document I search it in =
the index to be sure there is a hit (via a Term object),</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">When I find a hit I delete the document (=
with the same Term object),</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">But there is something very odd happing so=
metimes :</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I find a hit, but the integer returned by<=
/FONT> <FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">deleteDocument=
s</FONT><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Couri=
er New"></FONT></SPAN><SPAN LANG=3D"en-us"> <FONT SIZE=3D2 FACE=3D"Arial">i=
s equal to 0</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">This often happens a=
fter I merged the index for the first time,</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">it never happens bef=
ore I merge ...</FONT></SPAN>
</P>
<BR>
<BR>

<P><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">Term</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#0=
00000" SIZE=3D2 FACE=3D"Courier New">urlTerm</FONT><FONT SIZE=3D2 FACE=3D"C=
ourier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=
=3D</FONT><FONT SIZE=3D2 FACE=3D"Courier New"><B> </B></FONT><B><FONT COLOR=
=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">new</FONT></B><FONT SIZE=3D2 FAC=
E=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier =
New">Term(</FONT><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quo=
t;url&quot;</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">,</=
FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SI=
ZE=3D2 FACE=3D"Courier New">urlToDel);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">Query</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"=
#000000" SIZE=3D2 FACE=3D"Courier New">query</FONT><FONT SIZE=3D2 FACE=3D"C=
ourier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=
=3D</FONT><FONT SIZE=3D2 FACE=3D"Courier New"></FONT><B> <FONT COLOR=3D"#7F=
0055" SIZE=3D2 FACE=3D"Courier New">new</FONT></B><FONT SIZE=3D2 FACE=3D"Co=
urier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">Te=
rmQuery(urlTerm);</FONT></SPAN>
</P>

<P><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier Ne=
w">Hits</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#0=
00000" SIZE=3D2 FACE=3D"Courier New">hits</FONT><FONT SIZE=3D2 FACE=3D"Cour=
ier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=3D<=
/FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" S=
IZE=3D2 FACE=3D"Courier New">search(query);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us"><B><FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courie=
r New">if</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=
=3D"#000000" SIZE=3D2 FACE=3D"Courier New">(hits.length()</FONT><FONT SIZE=
=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"=
Courier New">&gt;</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">0)</FONT><FONT SIZE=3D2 FACE=
=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier N=
ew">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FON=
T COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">if</FONT></B><FONT SIZE=
=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"=
Courier New">(hits.length()</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FO=
NT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT><FONT S=
IZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=
=3D"Courier New">1)</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT=
 COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT COLOR=3D"#000000" SIZE=3D2 FACE=
=3D"Courier New">System.out.println(&quot;</FONT></SPAN><SPAN LANG=3D"en-us=
"><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">found in the index =
with duplicates</FONT></SPAN><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#2A00FF" S=
IZE=3D2 FACE=3D"Courier New">&quot;</FONT><FONT SIZE=3D2 FACE=3D"Courier Ne=
w">);</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">System.out.println(&quot;</F=
ONT></SPAN><SPAN LANG=3D"en-us"><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Co=
urier New">found in the index</FONT></SPAN><SPAN LANG=3D"fr-be"><FONT COLOR=
=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quot;</FONT><FONT SIZE=3D2 FACE=
=3D"Courier New">);</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><=
SPAN LANG=3D"en-us"><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier Ne=
w">try</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D=
"#000000" SIZE=3D2 FACE=3D"Courier New">{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FAC=
E=3D"Courier New">int</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT=
><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">nb</FONT><FONT SIZE=
=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"=
Courier New">=3D</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT CO=
LOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">mIndexReaderClone.deleteDocum=
ents(urlTerm);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FAC=
E=3D"Courier New">if</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT>=
<FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">(nb</FONT><FONT SIZE=
=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"=
Courier New">&gt;</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">0)</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; <FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">System.out.printl=
n(&quot;</FONT></SPAN><SPAN LANG=3D"en-us"><FONT COLOR=3D"#2A00FF" SIZE=3D2=
 FACE=3D"Courier New">successfully deleted</FONT></SPAN><SPAN LANG=3D"fr-be=
"><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New">&quot;</FONT><FONT =
SIZE=3D2 FACE=3D"Courier New">);</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN LANG=3D"en-us"><B> <FONT CO=
LOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">else</FONT></B></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;<B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">throw</FONT></=
B><FONT SIZE=3D2 FACE=3D"Courier New"></FONT><B> <FONT COLOR=3D"#7F0055" SI=
ZE=3D2 FACE=3D"Courier New">new</FONT></B><FONT SIZE=3D2 FACE=3D"Courier Ne=
w"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">IOExceptio=
n(</FONT></SPAN><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#000000" SIZE=3D2 FACE=
=3D"Courier New">&quot;</FONT><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Cour=
ier New">0 doc deleted</FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Couri=
er New">&quot;</FONT></SPAN><SPAN LANG=3D"en-us"><FONT COLOR=3D"#000000" SI=
ZE=3D2 FACE=3D"Courier New">);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT><FONT SIZE=3D2 FACE=
=3D"Courier New"></FONT></SPAN><SPAN LANG=3D"en-us"><B> <FONT COLOR=3D"#7F0=
055" SIZE=3D2 FACE=3D"Courier New">catch</FONT></B><FONT SIZE=3D2 FACE=3D"C=
ourier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">(=
IOException</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=
=3D"#000000" SIZE=3D2 FACE=3D"Courier New">e)</FONT><FONT SIZE=3D2 FACE=3D"=
Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">=
{</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT COLOR=3D"#000000" SIZE=3D2 FACE=
=3D"Courier New">e.printStackTrace();</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FAC=
E=3D"Courier New">throw</FONT></B><FONT SIZE=3D2 FACE=3D"Courier New"></FON=
T><B> <FONT COLOR=3D"#7F0055" SIZE=3D2 FACE=3D"Courier New">new</FONT></B><=
FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COLOR=3D"#000000" SIZE=3D2=
 FACE=3D"Courier New">Exception(</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; <FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">Thread.currentThr=
ead().getName()</FONT><FONT SIZE=3D2 FACE=3D"Courier New"> </FONT><FONT COL=
OR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">+</FONT><FONT SIZE=3D2 FACE=3D=
"Courier New"> </FONT><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier New"=
>&quot; --- Deleting old entry failed&quot;</FONT><FONT COLOR=3D"#000000" S=
IZE=3D2 FACE=3D"Courier New">,</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp; <FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">e);</FONT></SPAN>

<BR><SPAN LANG=3D"en-us">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT C=
OLOR=3D"#000000" SIZE=3D2 FACE=3D"Courier New">}</FONT></SPAN>
</P>
<BR>

<P><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">What I get sometimes =
is :</FONT></SPAN>
</P>

<P><SPAN LANG=3D"en-us"><FONT COLOR=3D"#2A00FF" SIZE=3D2 FACE=3D"Courier Ne=
w">found in the index</FONT></SPAN>

<BR><SPAN LANG=3D"fr-be"><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier N=
ew">0 doc deleted</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN>
</P>
<BR>

<P><B><SPAN LANG=3D"fr"><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><=
WBR><WBR><WBR><WBR><WBR><WBR><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verda=
na">__________________________________</FONT></SPAN></B>
</P>

<P><B><SPAN LANG=3D"fr"><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verdana">&=
nbsp;&nbsp; Matt</FONT></SPAN></B><SPAN LANG=3D"fr"><I></I><I></I></SPAN><I=
><SPAN LANG=3D"en-us"></SPAN></I>
</P>

<CODE><FONT SIZE=3D3><BR>
<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
</FONT></CODE>
</BODY>
</HTML>
------_=_NextPart_001_01C7658B.F86A3E84--


------=_NextPartTM-000-0fc69c15-1589-43ec-a9b5-bda2b2b8a97e
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPartTM-000-0fc69c15-1589-43ec-a9b5-bda2b2b8a97e--


From java-user-return-26853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 16:51:39 2007
Return-Path: <java-user-return-26853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96441 invoked from network); 13 Mar 2007 16:51:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 16:51:38 -0000
Received: (qmail 83215 invoked by uid 500); 13 Mar 2007 16:51:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83041 invoked by uid 500); 13 Mar 2007 16:51:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83027 invoked by uid 99); 13 Mar 2007 16:51:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 09:51:36 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,URG_BIZ
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.228 as permitted sender)
Received: from [64.233.184.228] (HELO wr-out-0506.google.com) (64.233.184.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 09:51:25 -0700
Received: by wr-out-0506.google.com with SMTP id 68so2567795wra
        for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 09:51:03 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=W6ZMORddPqtDE8oWzztB4V78LMphwN3OlHUmXIgVFj9BSHUW8YLNMrZmPzPrwtZOp2prJfWZ5z48JOQ6c2UGX6w9G8LSp+MrZq1+MhwpReY2xxPWzGxyHoP3p+e5bTF3a528Q6T4xQO0uGPR6nhUbQO/t/EgL7h2r1fnzQ93muM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=okS8BjLpjwxZeFqahwH8hQZVXu7f+CZWSRI69/pJF/s9eyiGs/trb8P4CGHmQq892d1+RQe6fP5nAP8F71pCXg1QYP8Fs+C8WoHJ+yS1gWddGcm4WwVildZKkuvktbDlGLHI+6dzbHl3YMOA2uGDhexKB2F31DDea/2YWG4MvFY=
Received: by 10.114.182.1 with SMTP id e1mr2479817waf.1173804655243;
        Tue, 13 Mar 2007 09:50:55 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Tue, 13 Mar 2007 09:50:55 -0700 (PDT)
Message-ID: <359a92830703130950q3d72a1b3idee9e92bbec18b9a@mail.gmail.com>
Date: Tue, 13 Mar 2007 12:50:55 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: [Urgent] deleteDocuments fails after merging ...
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248809A2BD2C@SPMWB02L.luinternal.fortis.bank>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32414_5423647.1173804655163"
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD2C@SPMWB02L.luinternal.fortis.bank>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_32414_5423647.1173804655163
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, don't label things urgent. Since this forum is is free, you have
no right to demand a quick response.

You'd get better responses if there was some evidence that you
actually tried to find answers to your questions before posting
them. We all have other duties, and taking time out to answer
what look like questions that reflect minimum effort on your part
gets a very low priority.

Even a casual look at your code reveals a major problem, more
evidence that you aren't doing very much work before yelling
for help, thus going on the low-priority list.

The javadocs point out that this line

* int* nb = mIndexReaderClone.deleteDocuments(urlTerm)

removes*all* documents for a given term. So of course you'll fail
to delete any documents the second time you call
deleteDocuments with the same term.

Which is further evidence that your statement
"it never happens before I merge" shows that you haven't, for instance,
stepped through your code in a debugger trying to figure out what's
going on. If you had, you'd have noticed that the code always failed
on the second call. Which may have lead you to the answer for
yourself.

My overall point is that you seem to be treating this forum
as your personal help desk, with nothing better to do than
answer your questions as soon as they occur to you. This is
certainly the way many of your posts strike me.

Someone posted this URL a while back. While I think it's far
ruder than necessary, it does provide insights into asking for
help from free forums. I think you would get some valuable
information from it.

http://www.linuxforums.org/forum/linux-newbie/6322-asking-good-questions-2-a.html

Erick




On 3/13/07, DECAFFMEYER MATHIEU <MATHIEU.DECAFFMAYER@fortis.lu> wrote:
>
>
> Hi,
>
> I have put this question as "urgent" because I can notice I don't have
> often answers,
> If I'm asking the wrong way, please tell me...
>
> Before I delete a document I search it in the index to be sure there is a
> hit (via a Term object),
> When I find a hit I delete the document (with the same Term object),
>
> But there is something very odd happing sometimes :
>
> I find a hit, but the integer returned by deleteDocuments is equal to 0
> This often happens after I merged the index for the first time,
> it never happens before I merge ...
>
>
> Term urlTerm =* **new* Term("url", urlToDel);
> Query query =* new* TermQuery(urlTerm);
>
> Hits hits = search(query);
> *if* (hits.length() > 0) {
>        * if* (hits.length() > 1) {
>                 System.out.println("found in the index with duplicates");
>         }
>         System.out.println("found in the index");
>        * try* {
>                * int* nb = mIndexReaderClone.deleteDocuments(urlTerm);
>                * if* (nb > 0)
>                         System.out.println("successfully deleted");
>                * else*
>                        * throw** new* IOException("0 doc deleted");
>         }* catch* (IOException e) {
>                 e.printStackTrace();
>                * throw** new* Exception(
>                         Thread.currentThread().getName() + " --- Deleting
> old entry failed",
>                         e);
>         }
>
> What I get sometimes is :
>
> found in the index
> 0 doc deleted
>
> *__________________________________*
>
> *   Matt*******
>
>
> ============================================
> Internet communications are not secure and therefore Fortis Banque
> Luxembourg S.A. does not accept legal responsibility for the contents of
> this message. The information contained in this e-mail is confidential and
> may be legally privileged. It is intended solely for the addressee. If you
> are not the intended recipient, any disclosure, copying, distribution or any
> action taken or omitted to be taken in reliance on it, is prohibited and may
> be unlawful. Nothing in the message is capable or intended to create any
> legally binding obligations on either party and it is not intended to
> provide legal advice.
> ============================================
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

------=_Part_32414_5423647.1173804655163--

From java-user-return-26854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 17:17:33 2007
Return-Path: <java-user-return-26854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11234 invoked from network); 13 Mar 2007 17:17:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 17:17:31 -0000
Received: (qmail 91263 invoked by uid 500); 13 Mar 2007 17:17:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91127 invoked by uid 500); 13 Mar 2007 17:17:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91116 invoked by uid 99); 13 Mar 2007 17:17:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 10:17:31 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=URG_BIZ
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.154.194.71] (HELO srs2na11.bgl.lu) (194.154.194.71)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 10:17:20 -0700
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e58ee80fa0aaf150a0ae@srs2na12.domain> for <java-user@lucene.apache.org>;
 Tue, 13 Mar 2007 18:18:24 +0100
Received: from SPMWB02L.luinternal.fortis.bank ([10.172.252.140]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 13 Mar 2007 18:16:46 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: [Urgent] deleteDocuments fails after merging ...
Date: Tue, 13 Mar 2007 18:16:46 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248809A2BD2D@SPMWB02L.luinternal.fortis.bank>
In-Reply-To: <359a92830703130950q3d72a1b3idee9e92bbec18b9a@mail.gmail.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: [Urgent] deleteDocuments fails after merging ...
Thread-Index: Acdlj9kaMs+juF0yTeeB+3q8CF5pYQAAV4Uw
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 13 Mar 2007 17:16:46.0574 (UTC) FILETIME=[610628E0:01C76593]
X-Virus-Checked: Checked by ClamAV on apache.org

Thank u Erick,

I'll look more into docs to check why I get a search result and no
deletion ...

could have been less rude to me though ...
I feel a very mean person now :-(=20

anyway thank u for your time

__________________________________

   Matt

   =20

-----Original Message-----
From: Erick Erickson [mailto:erickerickson@gmail.com]=20
Sent: Tuesday, March 13, 2007 5:51 PM
To: java-user@lucene.apache.org
Subject: Re: [Urgent] deleteDocuments fails after merging ...

*****  This message comes from the Internet Network *****

Well, don't label things urgent. Since this forum is is free, you have
no right to demand a quick response.

You'd get better responses if there was some evidence that you
actually tried to find answers to your questions before posting
them. We all have other duties, and taking time out to answer
what look like questions that reflect minimum effort on your part
gets a very low priority.

Even a casual look at your code reveals a major problem, more
evidence that you aren't doing very much work before yelling
for help, thus going on the low-priority list.

The javadocs point out that this line

* int* nb =3D mIndexReaderClone.deleteDocuments(urlTerm)

removes*all* documents for a given term. So of course you'll fail
to delete any documents the second time you call
deleteDocuments with the same term.

Which is further evidence that your statement
"it never happens before I merge" shows that you haven't, for instance,
stepped through your code in a debugger trying to figure out what's
going on. If you had, you'd have noticed that the code always failed
on the second call. Which may have lead you to the answer for
yourself.

My overall point is that you seem to be treating this forum
as your personal help desk, with nothing better to do than
answer your questions as soon as they occur to you. This is
certainly the way many of your posts strike me.

Someone posted this URL a while back. While I think it's far
ruder than necessary, it does provide insights into asking for
help from free forums. I think you would get some valuable
information from it.

http://www.linuxforums.org/forum/linux-newbie/6322-asking-good-questions
-2-a.html

Erick




On 3/13/07, DECAFFMEYER MATHIEU <MATHIEU.DECAFFMAYER@fortis.lu> wrote:
>
>
> Hi,
>
> I have put this question as "urgent" because I can notice I don't have
> often answers,
> If I'm asking the wrong way, please tell me...
>
> Before I delete a document I search it in the index to be sure there
is a
> hit (via a Term object),
> When I find a hit I delete the document (with the same Term object),
>
> But there is something very odd happing sometimes :
>
> I find a hit, but the integer returned by deleteDocuments is equal to
0
> This often happens after I merged the index for the first time,
> it never happens before I merge ...
>
>
> Term urlTerm =3D* **new* Term("url", urlToDel);
> Query query =3D* new* TermQuery(urlTerm);
>
> Hits hits =3D search(query);
> *if* (hits.length() > 0) {
>        * if* (hits.length() > 1) {
>                 System.out.println("found in the index with
duplicates");
>         }
>         System.out.println("found in the index");
>        * try* {
>                * int* nb =3D mIndexReaderClone.deleteDocuments(urlTerm);
>                * if* (nb > 0)
>                         System.out.println("successfully deleted");
>                * else*
>                        * throw** new* IOException("0 doc deleted");
>         }* catch* (IOException e) {
>                 e.printStackTrace();
>                * throw** new* Exception(
>                         Thread.currentThread().getName() + " ---
Deleting
> old entry failed",
>                         e);
>         }
>
> What I get sometimes is :
>
> found in the index
> 0 doc deleted
>
> *__________________________________*
>
> *   Matt*******
>
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> Internet communications are not secure and therefore Fortis Banque
> Luxembourg S.A. does not accept legal responsibility for the contents
of
> this message. The information contained in this e-mail is confidential
and
> may be legally privileged. It is intended solely for the addressee. If
you
> are not the intended recipient, any disclosure, copying, distribution
or any
> action taken or omitted to be taken in reliance on it, is prohibited
and may
> be unlawful. Nothing in the message is capable or intended to create
any
> legally binding obligations on either party and it is not intended to
> provide legal advice.
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 17:25:38 2007
Return-Path: <java-user-return-26855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15221 invoked from network); 13 Mar 2007 17:25:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 17:25:37 -0000
Received: (qmail 30674 invoked by uid 500); 13 Mar 2007 17:25:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30633 invoked by uid 500); 13 Mar 2007 17:25:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30587 invoked by uid 99); 13 Mar 2007 17:25:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 10:25:37 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 217.68.146.190 as permitted sender)
Received: from [217.68.146.190] (HELO cluster-b.mailcontrol.com) (217.68.146.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 10:25:22 -0700
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly04b.srv.mailcontrol.com (MailControl) with SMTP id l2DHOv1G009476
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 17:24:57 GMT
Received: From SGBD012102.wsatkins.com ([10.202.26.16]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173806676942; Tue, 13 Mar 2007 17:24:36 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012102.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 13 Mar 2007 17:24:36 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76594.6868A29A"
Subject: IndexReader.GetTermFreqVectors
Date: Tue, 13 Mar 2007 17:24:07 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexReader.GetTermFreqVectors
Thread-Index: AcdllGgfNuHk1oLQTmWxhP7CapBP3g==
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 13 Mar 2007 17:24:36.0647 (UTC) FILETIME=[79359B70:01C76594]
X-Scanned-By: MailControl A-07-06-90 (www.mailcontrol.com) on 10.66.0.114
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76594.6868A29A
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi all,

The documentation for the above method mentions something called a
vectorized field.  Does anyone know what a vectorized field is?




This email and any attached files are confidential and copyright protected.=
 If you are not the addressee, any dissemination of this communication is s=
trictly prohibited. Unless otherwise expressly agreed in writing, nothing s=
tated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc.  Register=
ed in England No. 1885586.  Registered Office Woodcote Grove, Ashley Road, =
Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really =
need to.=20

------_=_NextPart_001_01C76594.6868A29A--

From java-user-return-26856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 18:31:12 2007
Return-Path: <java-user-return-26856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53028 invoked from network); 13 Mar 2007 18:31:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 18:31:11 -0000
Received: (qmail 80880 invoked by uid 500); 13 Mar 2007 18:31:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80844 invoked by uid 500); 13 Mar 2007 18:31:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80819 invoked by uid 99); 13 Mar 2007 18:31:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 11:31:10 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [129.177.30.12] (HELO noralf.uib.no) (129.177.30.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 11:30:58 -0700
Received: from alfred.uib.no (smtp.uib.no) [129.177.30.120] 
	by noralf.uib.no for java-user@lucene.apache.org with esmtp  (Exim 4.34)
	id 1HRBlc-0005fR-1A; Tue, 13 Mar 2007 19:30:37 +0100
Received: from ak024197.klientdrift.uib.no [129.177.24.197] 
	by smtp.uib.no for java-user@lucene.apache.org with esmtp (Exim 4.34)
	id 1HRBlb-0004xT-OO; Tue, 13 Mar 2007 19:30:35 +0100
Message-ID: <45F6EDC8.10703@aksis.uib.no>
Date: Tue, 13 Mar 2007 19:30:32 +0100
From: Oystein Reigem <oystein.reigem@aksis.uib.no>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Wildcard searches with * or ? as the first character
References: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com>
In-Reply-To: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com>
Content-Type: multipart/alternative;
 boundary="------------030400050800090400000209"
X-checked-clean: by exiscan on noralf
X-Scanner: b8d28f1d329167d2d2e435803e001246 http://tjinfo.uib.no/virus.html
X-UiB-SpamFlag: NO UIB: -23.3 hits, 8.0 required
X-UiB-SpamReport: spamassassin found;
   -15 From is listed in 'whitelist_SA'
 -9.0 Message received from UIB
 -0.4 Did not pass through any untrusted hosts
  1.0 BODY: UIB_MAILWON
  0.0 BODY: HTML included in message
  0.1 BODY: Message is 50% to 60% HTML
X-Virus-Checked: Checked by ClamAV on apache.org

--------------030400050800090400000209
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

Hi,

I have read that with Lucene it is not possible to do wildcard searches 
with * or ? as the first character. Wildcard searches with * as the 
first character (or both first and last character) are useful for text 
in languages that have a lot of compound words, like German and the 
Scandinavian languages.

Some systems do offer such searches, but at a penalty. I assume such 
systems sometimes do a sequential search of the text, which is slow, and 
sometimes a sequential search of an index, which might be a bit faster, 
but still quite slow.

But a slow search might be better than no search, as long as the user is 
aware of the consequences of doing wildcard searches starting with a 
wildcard character.

Any comments?

Cheers,

- ystein -

-- 
ystein Reigem, The department of culture, language and information technology (Aksis), Allegt 27, N-5007 Bergen, Norway. Tel: +47 55 58 32 42. Fax: +47 55 58 94 70. E-mail: <oystein.reigem@aksis.uib.no>. Home tel: +47 56 14 06 11. Mobile: +47 97 16 96 64. Home e-mail: <oreigem@broadpark.no>. Aksis home page: <www.aksis.uib.no>.


--------------030400050800090400000209--

From java-user-return-26857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 18:39:11 2007
Return-Path: <java-user-return-26857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58688 invoked from network); 13 Mar 2007 18:39:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 18:39:10 -0000
Received: (qmail 98292 invoked by uid 500); 13 Mar 2007 18:39:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98264 invoked by uid 500); 13 Mar 2007 18:39:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98253 invoked by uid 99); 13 Mar 2007 18:39:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 11:39:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [198.144.201.51] (HELO esseff.org) (198.144.201.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 11:39:00 -0700
Received: from localhost (localhost [127.0.0.1])
	by esseff.org (Postfix) with ESMTP id DC52462E521
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 11:42:35 -0700 (PDT)
X-Quarantine-ID: <Hk4Orn7NuEAN>
X-Virus-Scanned: amavisd-new at esseff.org
Received: from esseff.org ([127.0.0.1])
	by localhost (esseff.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Hk4Orn7NuEAN for <java-user@lucene.apache.org>;
	Tue, 13 Mar 2007 11:42:31 -0700 (PDT)
Received: from professorville.windows.esseff.org (professorville.windows.esseff.org [10.0.1.16])
	by esseff.org (Postfix) with ESMTP id 7FCFA62E4D6
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 11:42:31 -0700 (PDT)
Subject: RE: Wildcard searches with * or ? as the first character
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 13 Mar 2007 11:38:34 -0700
Content-class: urn:content-classes:message
Message-ID: <392521EA2692A2418DF48C331E61E32506AC3D@professorville.windows.esseff.org>
X-MimeOLE: Produced By Microsoft Exchange V6.5
In-Reply-To: <45F6EDC8.10703@aksis.uib.no>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Wildcard searches with * or ? as the first character
Thread-Index: AcdlncnE2ATx+wPQQTGHEmHpv/ygTQAAHdOA
References: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com> <45F6EDC8.10703@aksis.uib.no>
From: "Steven Parkes" <steven_parkes@esseff.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

It's possible to do leading wildcard searches in Lucene as of 2.1. See=20
http://wiki.apache.org/lucene-java/LuceneFAQ#head-4d62118417eaef0dcb87f43=
70583f809848ea695
(http://tinyurl.com/366suf)

-----Original Message-----
From: Oystein Reigem [mailto:oystein.reigem@aksis.uib.no]=20
Sent: Tuesday, March 13, 2007 11:31 AM
To: java-user@lucene.apache.org
Subject: Wildcard searches with * or ? as the first character

Hi,

I have read that with Lucene it is not possible to do wildcard searches=20
with * or ? as the first character. Wildcard searches with * as the=20
first character (or both first and last character) are useful for text=20
in languages that have a lot of compound words, like German and the=20
Scandinavian languages.

Some systems do offer such searches, but at a penalty. I assume such=20
systems sometimes do a sequential search of the text, which is slow, and =

sometimes a sequential search of an index, which might be a bit faster,=20
but still quite slow.

But a slow search might be better than no search, as long as the user is =

aware of the consequences of doing wildcard searches starting with a=20
wildcard character.

Any comments?

Cheers,

- =D8ystein -

--=20
=D8ystein Reigem, The department of culture, language and information =
technology (Aksis), Allegt 27, N-5007 Bergen, Norway. Tel: +47 55 58 32 =
42. Fax: +47 55 58 94 70. E-mail: <oystein.reigem@aksis.uib.no>. Home =
tel: +47 56 14 06 11. Mobile: +47 97 16 96 64. Home e-mail: =
<oreigem@broadpark.no>. Aksis home page: <www.aksis.uib.no>.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 19:29:01 2007
Return-Path: <java-user-return-26858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80897 invoked from network); 13 Mar 2007 19:29:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 19:29:00 -0000
Received: (qmail 175 invoked by uid 500); 13 Mar 2007 19:29:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 148 invoked by uid 500); 13 Mar 2007 19:29:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 123 invoked by uid 99); 13 Mar 2007 19:29:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 12:29:01 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 209.85.132.246 as permitted sender)
Received: from [209.85.132.246] (HELO an-out-0708.google.com) (209.85.132.246)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 12:28:48 -0700
Received: by an-out-0708.google.com with SMTP id c3so1675091ana
        for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 12:28:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=pZZRbGIs1NSwLBRmEeZf6zefkXCJHmXUz6OUOZLLmlJm3IXfv2ROEJYzCukKgKXYnXW1u7CEKCGYh7JLlgrKHJLlQCxH8fwVW+Sww4KZob4OCck3z+BOGczJt8FkckybmToQeE+FaULGhVVs6drtLo1nUKYF00FNb9JjB2J4W5c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=FQdJib6Sf8vf492gXDYrBPnzh4Q7M0Sa/53A7QZu9iLkjqa0ySmG/vYqTnQcT4KRHxRR/BgXBtvm4jJvOblSrjw0J30aac6FZMg16VMpC8PCiKXYVj58FruyHBJds8u4oEDPYIjSkVAurU4M5SnesxIp1mHAPxm1w4yRi6OWZDc=
Received: by 10.100.37.4 with SMTP id k4mr1200456ank.1173814107170;
        Tue, 13 Mar 2007 12:28:27 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id 39sm7793646wrl.2007.03.13.12.28.24;
        Tue, 13 Mar 2007 12:28:25 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com>
References: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <50D8CF9D-C181-4442-8792-CE6F025F923D@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: IndexReader.GetTermFreqVectors
Date: Tue, 13 Mar 2007 15:28:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

It means it return the term vectors for all the fields on that  
document where you have enabled TermVector when creating the Document.

i.e. new Field(...., TermVector.YES) (see http://lucene.apache.org/ 
java/docs/api/org/apache/lucene/document/Field.TermVector.html for  
the full array of options)

-Grant

On Mar 13, 2007, at 1:24 PM, Kainth, Sachin wrote:

> Hi all,
>
> The documentation for the above method mentions something called a
> vectorized field.  Does anyone know what a vectorized field is?
>
>
>
>
> This email and any attached files are confidential and copyright  
> protected. If you are not the addressee, any dissemination of this  
> communication is strictly prohibited. Unless otherwise expressly  
> agreed in writing, nothing stated in this communication shall be  
> legally binding.
>
> The ultimate parent company of the Atkins Group is WS Atkins plc.   
> Registered in England No. 1885586.  Registered Office Woodcote  
> Grove, Ashley Road, Epsom, Surrey KT18 5BW.
>
> Consider the environment. Please don't print this e-mail unless you  
> really need to.

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 21:03:02 2007
Return-Path: <java-user-return-26859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20607 invoked from network); 13 Mar 2007 21:03:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 21:03:01 -0000
Received: (qmail 89557 invoked by uid 500); 13 Mar 2007 21:03:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89531 invoked by uid 500); 13 Mar 2007 21:03:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89520 invoked by uid 99); 13 Mar 2007 21:03:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 14:03:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 14:02:52 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2DL2O1R025443
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 23:02:24 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3dn27oj; 13 Mar 2007 23:02:00 +0200
Message-ID: <45F7114F.7050309@teamware.com>
Date: Wed, 14 Mar 2007 08:02:07 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Wildcard searches with * or ? as the first character
References: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com> <45F6EDC8.10703@aksis.uib.no>
In-Reply-To: <45F6EDC8.10703@aksis.uib.no>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Tue, 13 Mar 2007 23:02:24 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

> I have read that with Lucene it is not possible to do wildcard searches 
> with * or ? as the first character. Wildcard searches with * as the 

Lucene supports it.  If you are using QueryParser to parse your queries see

http://lucene.apache.org/java/docs/api/org/apache/lucene/queryParser/QueryParser.html#setAllowLeadingWildcard(boolean)

Antony




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 13 21:13:44 2007
Return-Path: <java-user-return-26860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23960 invoked from network); 13 Mar 2007 21:13:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 13 Mar 2007 21:13:44 -0000
Received: (qmail 5780 invoked by uid 500); 13 Mar 2007 21:13:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5737 invoked by uid 500); 13 Mar 2007 21:13:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5726 invoked by uid 99); 13 Mar 2007 21:13:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 14:13:43 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 14:13:32 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2DLD5ar026161
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 23:13:05 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3dnd3hn; 13 Mar 2007 23:13:00 +0200
Message-ID: <45F713DE.3050704@teamware.com>
Date: Wed, 14 Mar 2007 08:13:02 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: [Urgent] deleteDocuments fails after merging ...
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD2C@SPMWB02L.luinternal.fortis.bank> <359a92830703130950q3d72a1b3idee9e92bbec18b9a@mail.gmail.com>
In-Reply-To: <359a92830703130950q3d72a1b3idee9e92bbec18b9a@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Tue, 13 Mar 2007 23:13:05 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=-0.185,
	required 5, autolearn=not spam, BAYES_40 -0.18)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Erick Erickson wrote:
> The javadocs point out that this line
> 
> * int* nb = mIndexReaderClone.deleteDocuments(urlTerm)
> 
> removes*all* documents for a given term. So of course you'll fail
> to delete any documents the second time you call
> deleteDocuments with the same term.

Isn't the code snippet below doing a search before attempting the deletion, so 
from the IndexReader's point of view (as used by the IndexSearcher) the item 
exists.  What is mIndexReaderClone?  Is that the same reader that is used in 
IndexSearcher?

I'm not sure, but if you search with one IndexReader and delete the document 
using another IndexReader and then repeat the process, I think that the search 
would still result in a hit, but the deletion would return 0.

> On 3/13/07, DECAFFMEYER MATHIEU <MATHIEU.DECAFFMAYER@fortis.lu> wrote:
>>
>> Before I delete a document I search it in the index to be sure there is a
>> hit (via a Term object),
>> When I find a hit I delete the document (with the same Term object),

>> Hits hits = search(query);
>> *if* (hits.length() > 0) {
>>        * if* (hits.length() > 1) {
>>                 System.out.println("found in the index with duplicates");
>>         }
>>         System.out.println("found in the index");
>>        * try* {
>>                * int* nb = mIndexReaderClone.deleteDocuments(urlTerm);
>>                * if* (nb > 0)
>>                         System.out.println("successfully deleted");
>>                * else*
>>                        * throw** new* IOException("0 doc deleted");
>>         }* catch* (IOException e) {
>>                 e.printStackTrace();
>>                * throw** new* Exception(
>>                         Thread.currentThread().getName() + " --- Deleting

Antony


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 01:53:37 2007
Return-Path: <java-user-return-26861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3854 invoked from network); 14 Mar 2007 01:53:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 01:53:36 -0000
Received: (qmail 36391 invoked by uid 500); 14 Mar 2007 01:53:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35993 invoked by uid 500); 14 Mar 2007 01:53:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35982 invoked by uid 99); 14 Mar 2007 01:53:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 18:53:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.re2.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 18:53:25 -0700
Received: (qmail 67764 invoked by uid 60001); 14 Mar 2007 01:53:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=vdmwmofSunNwSXln7sJzeQU30ICOj4BDshARve3omTLv/E1Ej9UBPtDy8cEpARJPyZ0m/1pIGb9XLZxdtJSEziMG3N/oc0wcjiNkTo91QmUNZr3bOvcJiJE2cZm9EJAkO78JFjKkD8ROPj8Sn4Xnu6tVHSPNGFFXvL7x/MFRo4M=  ;
Message-ID: <20070314015304.67762.qmail@web50306.mail.re2.yahoo.com>
X-YMail-OSG: DeDWMq4VM1l5IEopJzXYVxKRWCP.Ztw.0N6D.gHJrGO_QpEdJF7Y7O1Rbhq5tVuCdg--
Received: from [74.73.75.122] by web50306.mail.re2.yahoo.com via HTTP; Tue, 13 Mar 2007 18:53:04 PDT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Tue, 13 Mar 2007 18:53:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FieldCache: flush cache explicitly
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

John - a bug with code is best.  No gods here.=0A=0AOtis=0A=0A----- Origina=
l Message ----=0AFrom: John Wang <john.wang@gmail.com>=0ATo: java-user@luce=
ne.apache.org=0ASent: Friday, March 9, 2007 2:22:35 AM=0ASubject: FieldCach=
e: flush cache explicitly=0A=0AI think the api should allow for explicitly =
flush the fieldcache.=0A=0AI have a setup where new readers are being loade=
d very some period of=0Atime. I don't want to rely on Java WeakHashMap to f=
ree the cache, I=0Awant to be able to do it in a deterministic way.=0A=0AIt=
 would be great if this can be added to Lucene, I can create a bug=0Aif the=
 Lucene gods agree to it :)=0A=0AThanks=0A=0A-John=0A=0A-------------------=
--------------------------------------------------=0ATo unsubscribe, e-mail=
: java-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail=
: java-user-help@lucene.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 02:46:57 2007
Return-Path: <java-user-return-26862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31708 invoked from network); 14 Mar 2007 02:46:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 02:46:56 -0000
Received: (qmail 511 invoked by uid 500); 14 Mar 2007 02:46:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 474 invoked by uid 500); 14 Mar 2007 02:46:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 463 invoked by uid 99); 14 Mar 2007 02:46:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 19:46:57 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.196.97.111] (HELO web57007.mail.re3.yahoo.com) (66.196.97.111)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 19:46:45 -0700
Received: (qmail 95431 invoked by uid 60001); 14 Mar 2007 02:46:24 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=rhoeOLK5RwkIlW5hZmBG0Ni0MAsLz6RfC9CFVqjYEHpUh70s7fmKYN7OV8nqW+82TqY51AqiALiSHiKb4D3QO9zUbL4uQ56z57ZUfCEUBHau9+STBWvArCqSIpF1sRPR7C0NRifbowJBu/uQdZPe1HSxKxT55nVHJx96ihBPTZg=;
X-YMail-OSG: vSnjz10VM1ludGyVpkf6o0m3VJbwHmDpIOuSs1ZKkYe1zwuSMiEBskudKIYkRkCs3gaBd4K1D0_Y0dBH9p8qjcxfPLAwMrw_rOQZHmyMH3Pa9kgLE_D0prRWkWGmlLkn3ocMZ2u8GTYGiNTLpe9mA_81
Received: from [69.255.227.192] by web57007.mail.re3.yahoo.com via HTTP; Tue, 13 Mar 2007 19:46:23 PDT
Date: Tue, 13 Mar 2007 19:46:23 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the       index?
To: java-user@lucene.apache.org
In-Reply-To: <1173795741.7161.1179210899@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1033771656-1173840383=:92909"
Content-Transfer-Encoding: 8bit
Message-ID: <950141.92909.qm@web57007.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1033771656-1173840383=:92909
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

One side-effect of turning off the norms may be that the scoring/ranking will be different? Do you need to search by each of these many fields? If not, you probably don't have to index these fields (but store them for retrieval?).

Just a thought.
Xiaocheng

Michael McCandless <lucene@mikemccandless.com> wrote: "maureen tanuwidjaja"  wrote:
   
> "The only simple workaround I can think of is to set maxMergeDocs to
> keep all segments "small".  But then you may have too many segments
> with time.  Either that or find a way to reduce the number of unique
> fields that you actually need to store."
>   It is not possible for me to reduce the number of fields needed to
>   store...
>   
>   Could you recommend what is the maxMerge value that is small enough to
>   keep all segment small?
>   
>   I also would like to ask wheter, if optimize is successful,will it then
>    perform faster  searching significantly compared to the  unoptimized
>   one?

I think you'd need to test different values for your situation.  Maybe
try 66,000 which will give you ~ 10 segments at your current number of
docs?

>   I have the searching result in 30 to 3 minutes, which is actually quite
>    unacceptable for the "search engine" I build...Is there any 
>   recommendation on how faster searching could be done? 

I think you'll need to turn off norms.  I expect alot of the slowness is
in loading the large norms files for the first time.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Sucker-punch spam with award-winning protection.
 Try the free Yahoo! Mail Beta.
--0-1033771656-1173840383=:92909--

From java-user-return-26863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 02:49:48 2007
Return-Path: <java-user-return-26863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32604 invoked from network); 14 Mar 2007 02:49:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 02:49:47 -0000
Received: (qmail 5365 invoked by uid 500); 14 Mar 2007 02:49:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5226 invoked by uid 500); 14 Mar 2007 02:49:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5215 invoked by uid 99); 14 Mar 2007 02:49:47 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 19:49:47 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.196.97.111] (HELO web57007.mail.re3.yahoo.com) (66.196.97.111)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 19:49:35 -0700
Received: (qmail 96135 invoked by uid 60001); 14 Mar 2007 02:49:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=Pc83caBh3LKkXQvq9NxvaploXvePwCRaM7KO/BBUvuyoF7W27i8ZezXKN0pNorZ7IPi++EbHrKTf5VPG4/NmTL/ayNaDTsnutlFxL97UEpqLtGsPnFTklEtEVX1qYRk6FXqbh4zTrBrRBiS99Zygp2SHOno3J5qyR4xW942tXyY=;
X-YMail-OSG: C6BnQOUVM1kgNisMW0phse5WQfInxNUEqQgvzPMgLV7w9_5aITUpR7L82Auq3hfa3ikSXBiknTUFuA8Q3HLGWiRn1Yh3b_vvklddDmdqq8zj43s1lNJWSzpSfaHAMzsLzSDQMRUnizFnzv171qr55zABrg--
Received: from [69.255.227.192] by web57007.mail.re3.yahoo.com via HTTP; Tue, 13 Mar 2007 19:49:14 PDT
Date: Tue, 13 Mar 2007 19:49:14 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Re: Complete field search
To: java-user@lucene.apache.org, Bhavin Pandya <bhavinp@rediff.co.in>
In-Reply-To: <002101c76559$c7e421a0$d50310ac@bhavin>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1447292610-1173840554=:95924"
Content-Transfer-Encoding: 8bit
Message-ID: <842799.95924.qm@web57007.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1447292610-1173840554=:95924
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Or, you may index the fields that you want "exact matches" as non-tokenized.
Thanks,
Xiaocheng

Bhavin Pandya <bhavinp@rediff.co.in> wrote: Hi kainth,

>So for example if I have a field with this text: "world cup" and I do a
>search for "cup" I want it to return false but for another field that
>contains exactly the text "cup" I want the result to be true.

You fire only phrase query on the first field where you want only "world 
cup" as a result
while on second field fire Phrase query as well as term query...Or only term 
query depends on your need.

Thanks.
Bhavin pandya

----- Original Message ----- 
From: "Kainth, Sachin" 
To: 
Sent: Tuesday, March 13, 2007 3:48 PM
Subject: Complete field search


Hi all,

Is it possible to search whether a term is equal to the entire contents
of a field rather than that the field contains a term?

So for example if I have a field with this text: "world cup" and I do a
search for "cup" I want it to return false but for another field that
contains exactly the text "cup" I want the result to be true.

Thanks in advance


This email and any attached files are confidential and copyright protected. 
If you are not the addressee, any dissemination of this communication is 
strictly prohibited. Unless otherwise expressly agreed in writing, nothing 
stated in this communication shall be legally binding.

The ultimate parent company of the Atkins Group is WS Atkins plc. 
Registered in England No. 1885586.  Registered Office Woodcote Grove, Ashley 
Road, Epsom, Surrey KT18 5BW.

Consider the environment. Please don't print this e-mail unless you really 
need to.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Expecting? Get great news right away with email Auto-Check.
Try the Yahoo! Mail Beta.
--0-1447292610-1173840554=:95924--

From java-user-return-26864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 02:54:12 2007
Return-Path: <java-user-return-26864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34296 invoked from network); 14 Mar 2007 02:54:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 02:54:12 -0000
Received: (qmail 12190 invoked by uid 500); 14 Mar 2007 02:54:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12167 invoked by uid 500); 14 Mar 2007 02:54:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12128 invoked by uid 99); 14 Mar 2007 02:54:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 19:54:12 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.150] (HELO web60422.mail.yahoo.com) (209.73.178.150)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 19:53:59 -0700
Received: (qmail 38094 invoked by uid 60001); 14 Mar 2007 02:53:38 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=yyN0d9y7dfg0xyhZftNNA7mGJe8QP1ewXtFR405zpGX4HGS3IAb4HaWeSVEFSyI4OVWT5SEVgxKTRaB8ybcHA+8Mp2QCKTRf3j1wc/tvWCpz7Go5mrsS4y0i2oyXomF14hCkATCKLstoyKyL9VnNoRmYB2PNnjOuho2hsj13dkQ=;
X-YMail-OSG: aE9BM2kVM1kqr7B7UvHSpFOqoNz5OVUpAUA0SX79sTB_N4dWnf7RLL8LNPG9kywKWjBRzHkzGbRL_zBWq8A2dUt7OOJi8_phv4M.eGfHWsv10vxNrV2mcaQJw0cuDRJS4MgnOFQa7KJSanbmlv4T0f8wwwo-
Received: from [155.69.173.173] by web60422.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 19:53:38 PDT
Date: Tue, 13 Mar 2007 19:53:38 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the       index?
To: java-user@lucene.apache.org
In-Reply-To: <950141.92909.qm@web57007.mail.re3.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1379691617-1173840818=:38085"
Content-Transfer-Encoding: 8bit
Message-ID: <374416.38085.qm@web60422.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1379691617-1173840818=:38085
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Ya...I think i will store it in the database so that later it could be used in scoring/ranking for retrieval...:)
  
  Another thing i would like to see is whether the precision or recall will be much affaected by this...
  
  Regards,
  Maureen

Xiaocheng Luan <jenaluan@yahoo.com> wrote:One  side-effect of turning off the norms may be that the scoring/ranking  will be different? Do you need to search by each of these many fields?  If not, you probably don't have to index these fields (but store them  for retrieval?).

Just a thought.
Xiaocheng

Michael McCandless  wrote: "maureen tanuwidjaja"  wrote:
   
> "The only simple workaround I can think of is to set maxMergeDocs to
> keep all segments "small".  But then you may have too many segments
> with time.  Either that or find a way to reduce the number of unique
> fields that you actually need to store."
>   It is not possible for me to reduce the number of fields needed to
>   store...
>   
>   Could you recommend what is the maxMerge value that is small enough to
>   keep all segment small?
>   
>   I also would like to ask wheter, if optimize is successful,will it then
>    perform faster  searching significantly compared to the  unoptimized
>   one?

I think you'd need to test different values for your situation.  Maybe
try 66,000 which will give you ~ 10 segments at your current number of
docs?

>   I have the searching result in 30 to 3 minutes, which is actually quite
>    unacceptable for the "search engine" I build...Is there any 
>   recommendation on how faster searching could be done? 

I think you'll need to turn off norms.  I expect alot of the slowness is
in loading the large norms files for the first time.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Sucker-punch spam with award-winning protection.
 Try the free Yahoo! Mail Beta.

 
---------------------------------
Don't be flakey. Get Yahoo! Mail for Mobile and 
always stay connected to friends.
--0-1379691617-1173840818=:38085--

From java-user-return-26865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 03:01:17 2007
Return-Path: <java-user-return-26865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36633 invoked from network); 14 Mar 2007 03:01:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 03:01:16 -0000
Received: (qmail 20880 invoked by uid 500); 14 Mar 2007 03:01:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20845 invoked by uid 500); 14 Mar 2007 03:01:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20834 invoked by uid 99); 14 Mar 2007 03:01:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 20:01:18 -0700
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=HTML_MESSAGE,SUBJ_HAS_SPACES
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.196.97.113] (HELO web57009.mail.re3.yahoo.com) (66.196.97.113)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 20:01:06 -0700
Received: (qmail 32754 invoked by uid 60001); 14 Mar 2007 03:00:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=AgQpQqXoEBjYL1zQF6st4jBLONt2XdQ3m0MymiLQc2lO9FS5fcu60o+bzkUihQmwKBn2A55+WKoT1qwjy1S8b2qdkX7Mdd/JtkGfJ/qUM93Z3DO9uY7SV2Aauy3+dA+vPZ4wp/O3GbJ2iu+ITvxch6f7TQ2pvM6gelCwGJSQxms=;
X-YMail-OSG: dOaIL2oVM1mu_oHGO13u3GdPkKrI4KtYk7TsoL0LdkZWgw6v6gCk4PD0zvBTrzewopmXRgy8T38EWU1N3udf5e6IkaVQzGgg9N_KcJBPQ37zVheZY2TZnjfUzAHHfZaE2pE3NqH6HpKGH7pLs0_5mqf8fw--
Received: from [69.255.227.192] by web57009.mail.re3.yahoo.com via HTTP; Tue, 13 Mar 2007 20:00:39 PDT
Date: Tue, 13 Mar 2007 20:00:39 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Re: Urgent : How much actually the disk space needed to optimize the       index?
To: java-user@lucene.apache.org
In-Reply-To: <374416.38085.qm@web60422.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-614086206-1173841239=:32584"
Content-Transfer-Encoding: 8bit
Message-ID: <306661.32584.qm@web57009.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-614086206-1173841239=:32584
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


You can store the fields in the index itself if you want, without indexing them (just flag it as stored/unindexed). I believe storing fields should not incur the "norms" size problem, please correct me if I'm wrong.

Thanks,
Xiaocheng
maureen tanuwidjaja <autumn_musique@yahoo.com> wrote: Ya...I think i will store it in the database so that later it could be used in scoring/ranking for retrieval...:)
  
  Another thing i would like to see is whether the precision or recall will be much affaected by this...
  
  Regards,
  Maureen

Xiaocheng Luan  wrote:One  side-effect of turning off the norms may be that the scoring/ranking  will be different? Do you need to search by each of these many fields?  If not, you probably don't have to index these fields (but store them  for retrieval?).

Just a thought.
Xiaocheng

Michael McCandless  wrote: "maureen tanuwidjaja"  wrote:
   
> "The only simple workaround I can think of is to set maxMergeDocs to
> keep all segments "small".  But then you may have too many segments
> with time.  Either that or find a way to reduce the number of unique
> fields that you actually need to store."
>   It is not possible for me to reduce the number of fields needed to
>   store...
>   
>   Could you recommend what is the maxMerge value that is small enough to
>   keep all segment small?
>   
>   I also would like to ask wheter, if optimize is successful,will it then
>    perform faster  searching significantly compared to the  unoptimized
>   one?

I think you'd need to test different values for your situation.  Maybe
try 66,000 which will give you ~ 10 segments at your current number of
docs?

>   I have the searching result in 30 to 3 minutes, which is actually quite
>    unacceptable for the "search engine" I build...Is there any 
>   recommendation on how faster searching could be done? 

I think you'll need to turn off norms.  I expect alot of the slowness is
in loading the large norms files for the first time.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Sucker-punch spam with award-winning protection.
 Try the free Yahoo! Mail Beta.

 
---------------------------------
Don't be flakey. Get Yahoo! Mail for Mobile and 
always stay connected to friends.

 
---------------------------------
Bored stiff? Loosen up...
Download and play hundreds of games for free on Yahoo! Games.
--0-614086206-1173841239=:32584--

From java-user-return-26866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 03:42:28 2007
Return-Path: <java-user-return-26866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47390 invoked from network); 14 Mar 2007 03:42:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 03:42:27 -0000
Received: (qmail 64605 invoked by uid 500); 14 Mar 2007 03:42:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64426 invoked by uid 500); 14 Mar 2007 03:42:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64415 invoked by uid 99); 14 Mar 2007 03:42:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 20:42:28 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [209.73.178.150] (HELO web60422.mail.yahoo.com) (209.73.178.150)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 20:42:17 -0700
Received: (qmail 56596 invoked by uid 60001); 14 Mar 2007 03:41:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=wNArXsHY7cTZ+kOjx7Wwi7umtTmesDT0KfkHw+tZ3TAqf3t3XOchwjnOcfm6H9fpHrGujvRxhoFnsEF2MEv+CXlafYxLlDQnYW2s0Oqu/mC8pXv0llvAxbLMQc1xaoF9n9emk7vLlGfczxpWD1C4xz6BHMwfuypdLZuuJrkVCFs=;
X-YMail-OSG: f20.pmgVM1klK0ZPJZDoo1qcyk0kwmfIx2zEbMv2mt7l6.PDgwi7fQh_DuTcAO1PsHMHAmkboeZNAKSE_9.ha04Aeb6tHUjUux4WBAcIiUOn0ztqS6QM4cyDzUw8DoMEq5.tC8p25UggeQdY
Received: from [155.69.173.173] by web60422.mail.yahoo.com via HTTP; Tue, 13 Mar 2007 20:41:56 PDT
Date: Tue, 13 Mar 2007 20:41:56 -0700 (PDT)
From: maureen tanuwidjaja <autumn_musique@yahoo.com>
Subject: lengthNorm accessible?
To: java-user@lucene.apache.org
In-Reply-To: <306661.32584.qm@web57009.mail.re3.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-184779422-1173843716=:56584"
Content-Transfer-Encoding: 8bit
Message-ID: <667598.56584.qm@web60422.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-184779422-1173843716=:56584
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hmmm...now I wonder wheter it is possible to access this lengthNorm  value so that it can be used as before but without creating any nrm  file --> setOmitNorm = true
  
  Any other suggestion on how i could get the same rank as before by making use of this lengthNorm but without creating nrm file?
  
  
  Thanks,
  Maureen
  
  
  
  Xiaocheng Luan <jenaluan@yahoo.com> wrote:  
You can store the fields in the index itself if you want, without  indexing them (just flag it as stored/unindexed). I believe storing  fields should not incur the "norms" size problem, please correct me if  I'm wrong.

Thanks,
Xiaocheng
maureen tanuwidjaja  wrote: Ya...I think i will store it in the database so that later it could be used in scoring/ranking for retrieval...:)
  
  Another thing i would like to see is whether the precision or recall will be much affaected by this...
  
  Regards,
  Maureen

Xiaocheng  Luan wrote:One side-effect of turning off the norms may be that the  scoring/ranking will be different? Do you need to search by each of  these many fields? If not, you probably don't have to index these  fields (but store them for retrieval?).

Just a thought.
Xiaocheng

Michael McCandless  wrote: "maureen tanuwidjaja"  wrote:
   
> "The only simple workaround I can think of is to set maxMergeDocs to
> keep all segments "small".  But then you may have too many segments
> with time.  Either that or find a way to reduce the number of unique
> fields that you actually need to store."
>   It is not possible for me to reduce the number of fields needed to
>   store...
>   
>   Could you recommend what is the maxMerge value that is small enough to
>   keep all segment small?
>   
>   I also would like to ask wheter, if optimize is successful,will it then
>    perform faster  searching significantly compared to the  unoptimized
>   one?

I think you'd need to test different values for your situation.  Maybe
try 66,000 which will give you ~ 10 segments at your current number of
docs?

>   I have the searching result in 30 to 3 minutes, which is actually quite
>    unacceptable for the "search engine" I build...Is there any 
>   recommendation on how faster searching could be done? 

I think you'll need to turn off norms.  I expect alot of the slowness is
in loading the large norms files for the first time.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Sucker-punch spam with award-winning protection.
 Try the free Yahoo! Mail Beta.

 
---------------------------------
Don't be flakey. Get Yahoo! Mail for Mobile and 
always stay connected to friends.

 
---------------------------------
Bored stiff? Loosen up...
Download and play hundreds of games for free on Yahoo! Games.

 
---------------------------------
No need to miss a message. Get email on-the-go 
with Yahoo! Mail for Mobile. Get started.
--0-184779422-1173843716=:56584--

From java-user-return-26867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 03:49:42 2007
Return-Path: <java-user-return-26867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48292 invoked from network); 14 Mar 2007 03:49:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 03:49:41 -0000
Received: (qmail 70424 invoked by uid 500); 14 Mar 2007 03:49:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70394 invoked by uid 500); 14 Mar 2007 03:49:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70383 invoked by uid 99); 14 Mar 2007 03:49:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 20:49:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 20:49:30 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 776DA30EFC18; Tue, 13 Mar 2007 21:49:09 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [10.0.1.2] (va-76-4-75-10.dhcp.embarqhsd.net [76.4.75.10])
	by ehatchersolutions.com (Postfix) with ESMTP id 066DD30EFC17
	for <java-user@lucene.apache.org>; Tue, 13 Mar 2007 21:49:01 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <389B87AE-D41D-4B85-9AC1-ED3AE6471BEC@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: adding a field to every document
Date: Tue, 13 Mar 2007 23:48:56 -0400
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL autolearn=no version=3.1.1

I'd like to add a field to every document in an index... that I'd  
rather not rebuild from scratch (yet).  This is behind Solr (so a  
ParallelReader won't work without core modifications, right?).

Is there a way I could create an index with the same number of  
documents and only the new field and "zip" it together with my  
existing index?

The new field is simply the same value for every document, in order  
to add new document sets segregated by "source".

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 04:01:58 2007
Return-Path: <java-user-return-26868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51832 invoked from network); 14 Mar 2007 04:01:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 04:01:56 -0000
Received: (qmail 85551 invoked by uid 500); 14 Mar 2007 04:01:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85508 invoked by uid 500); 14 Mar 2007 04:01:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85497 invoked by uid 99); 14 Mar 2007 04:01:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 21:01:58 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [203.209.230.61] (HELO web92014.mail.cnb.yahoo.com) (203.209.230.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Mar 2007 21:01:45 -0700
Received: (qmail 76994 invoked by uid 60001); 14 Mar 2007 03:58:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.cn;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=GhkHcNDIHIIsvLTvW5n171rhmp7BlhlU/zB6fwCRtM/1dM1Jd2WGvbWBUj057RKn8Zuntr3WpNbKq0efoDdDMJvPERPdCz2FjKHlr83NBsP3XBD4hzwwMT2hdP09lpugZ9uQZzNJA/YYDPPMUFyU3l4ctpZYCAeGV4MCRIqBWOI=;
X-YMail-OSG: .29D1eoVM1kd8WzQCX7Fmyg4MIUfTL1Br0qYEhDueccXOuNoVHKH3TIR7QPh3JT6ebvQ.qqkTJ3DSYGU98mWlcXTmBNxe5UHrpwIvRXUFdD30Nyls.p8loyJ9Wq90annsgIDmKrAeXI_RjQVS8A-
Received: from [219.142.125.226] by web92014.mail.cnb.yahoo.com via HTTP; Wed, 14 Mar 2007 11:58:29 CST
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Wed, 14 Mar 2007 11:58:29 +0800 (CST)
From: xh sun <wysunxiaohua@yahoo.com.cn>
Subject: the format of tii file
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-1577047702-1173844709=:76584"
Message-ID: <427220.76584.qm@web92014.mail.cnb.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1577047702-1173844709=:76584
Content-Type: multipart/alternative; boundary="0-1584071163-1173844709=:76584"

--0-1584071163-1173844709=:76584
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi all,=0A=0AI try to analysis a sample tii file(lucene 2.0.0),  IndexTermC=
ount is 2 in the file, but  I don't know the meaning of these bytes "00 00 =
FF FF FF FF 0F 00 00 00 14" after the field SkipInterval. It shall be a <Te=
rmInfo, IndexDelta> according to the file format. Who can help me on this? =
thanks a lot.=0A=0AThe attached is the tii file.=0A=0ABest regards,=0AShawn=
=0A=0A=0A =0A______________________________________________________________=
______________________=0ASucker-punch spam with award-winning protection. =
=0ATry the free Yahoo! Mail Beta.=0Ahttp://advision.webevents.yahoo.com/mai=
lbeta/features_spam.html
--0-1584071163-1173844709=:76584
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

<html><head><style type=3D"text/css"><!-- DIV {margin:0px;} --></style></he=
ad><body><div style=3D"font-family:times new roman, new york, times, serif;=
font-size:12pt"><DIV>Hi all,</DIV>=0A<DIV>&nbsp;</DIV>=0A<DIV>I try to anal=
ysis a sample tii file(lucene 2.0.0),&nbsp; IndexTermCount is 2 in the file=
, but&nbsp; I don't know the meaning of these bytes "00 00 FF FF FF FF 0F 0=
0 00 00 14" after the field SkipInterval. It shall be a &lt;TermInfo, Index=
Delta&gt; according to the file format. Who can help me on this? thanks a l=
ot.</DIV>=0A<DIV>&nbsp;</DIV>=0A<DIV>The attached is the tii file.</DIV>=0A=
<DIV>&nbsp;</DIV>=0A<DIV>Best regards,</DIV>=0A<DIV>Shawn</DIV></div><br>=
=0A=0A<hr size=3D1><a href=3D"http://us.rd.yahoo.com/evt=3D49935/*http://ga=
mes.yahoo.com">Bored stiff?</a> Loosen up...<br><a href=3D"http://us.rd.yah=
oo.com/evt=3D49935/*http://games.yahoo.com">Download and play hundreds of g=
ames for free</a> on Yahoo! Games.</body></html>
--0-1584071163-1173844709=:76584--

--0-1577047702-1173844709=:76584
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--0-1577047702-1173844709=:76584--

From java-user-return-26869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 04:24:22 2007
Return-Path: <java-user-return-26869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56750 invoked from network); 14 Mar 2007 04:24:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 04:24:20 -0000
Received: (qmail 4204 invoked by uid 500); 14 Mar 2007 04:24:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4173 invoked by uid 500); 14 Mar 2007 04:24:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4162 invoked by uid 99); 14 Mar 2007 04:24:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 21:24:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Mar 2007 21:24:09 -0700
Received: from Monolith (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 749744A80D5
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 15:25:42 +1100 (EST)
Message-ID: <FDAD35C02A474169B1CC6031F3038FAD@Monolith>
From: "Daniel Noll" <daniel@nuix.com>
To: <java-user@lucene.apache.org>
References: <389B87AE-D41D-4B85-9AC1-ED3AE6471BEC@ehatchersolutions.com>
In-Reply-To: <389B87AE-D41D-4B85-9AC1-ED3AE6471BEC@ehatchersolutions.com>
Subject: Re: adding a field to every document
Date: Wed, 14 Mar 2007 15:22:39 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Windows Mail 6.0.6000.16386
X-MimeOLE: Produced By Microsoft MimeOLE V6.0.6000.16386
X-Virus-Checked: Checked by ClamAV on apache.org



> I'd like to add a field to every document in an index... that I'd  rather 
> not rebuild from scratch (yet).  This is behind Solr (so a  ParallelReader 
> won't work without core modifications, right?).
>
> Is there a way I could create an index with the same number of  documents 
> and only the new field and "zip" it together with my  existing index?


Well, IndexWriter#addIndexes does take an IndexReader.  I don't suppose you 
can just create a ParallelReader and then add that IndexReader to a new, 
empty IndexWriter.  It seems like it would work in theory.

Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 07:33:40 2007
Return-Path: <java-user-return-26870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4355 invoked from network); 14 Mar 2007 07:33:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 07:33:39 -0000
Received: (qmail 84777 invoked by uid 500); 14 Mar 2007 07:33:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84733 invoked by uid 500); 14 Mar 2007 07:33:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84711 invoked by uid 99); 14 Mar 2007 07:33:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 00:33:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 00:33:21 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2E7WxTL121480
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 07:32:59 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2E7WxfQ1605834
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 08:32:59 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2E7WwcG028475
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 08:32:58 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2E7WwIQ028470
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 08:32:58 +0100
In-Reply-To: <BC1CFC544422CB4A934908E126A4742706290DB8@SGBLOW2101.wsatkins.com>
Subject: Re: Complete field search
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF19671FF3.453F8E26-ON8825729E.002904F0-8825729E.00293159@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 13 Mar 2007 23:29:56 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 14/03/2007 09:32:58
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

This came up in the list with several solutions - look for:
  Asserting that a value must match the entire content of a field

Doron

"Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com> wrote on 13/03/2007
03:18:50:

> Hi all,
>
> Is it possible to search whether a term is equal to the entire contents
> of a field rather than that the field contains a term?
>
> So for example if I have a field with this text: "world cup" and I do a
> search for "cup" I want it to return false but for another field that
> contains exactly the text "cup" I want the result to be true.
>
> Thanks in advance
>
>
> This email and any attached files are confidential and copyright
> protected. If you are not the addressee, any dissemination of this
> communication is strictly prohibited. Unless otherwise expressly
> agreed in writing, nothing stated in this communication shall be
> legally binding.
>
> The ultimate parent company of the Atkins Group is WS Atkins plc.
> Registered in England No. 1885586.  Registered Office Woodcote
> Grove, Ashley Road, Epsom, Surrey KT18 5BW.
>
> Consider the environment. Please don't print this e-mail unless you
> really need to.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 09:00:24 2007
Return-Path: <java-user-return-26871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40109 invoked from network); 14 Mar 2007 09:00:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 09:00:23 -0000
Received: (qmail 3557 invoked by uid 500); 14 Mar 2007 09:00:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3525 invoked by uid 500); 14 Mar 2007 09:00:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3514 invoked by uid 99); 14 Mar 2007 09:00:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 02:00:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.154.194.71] (HELO srs2na11.bgl.lu) (194.154.194.71)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 14 Mar 2007 02:00:13 -0700
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7e5c4db8ce0aaf150a0ae@srs2na12.domain> for <java-user@lucene.apache.org>;
 Wed, 14 Mar 2007 10:01:16 +0100
Received: from SPMWB02L.luinternal.fortis.bank ([10.172.252.140]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 14 Mar 2007 09:59:38 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: [Urgent] deleteDocuments fails after merging ...
Date: Wed, 14 Mar 2007 09:59:38 +0100
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248809A2BD39@SPMWB02L.luinternal.fortis.bank>
In-Reply-To: <45F713DE.3050704@teamware.com>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: [Urgent] deleteDocuments fails after merging ...
Thread-Index: AcdltHiiaz6IusJAQ8KP5NsomdRkFwAYfksg
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Mar 2007 08:59:38.0109 (UTC) FILETIME=[18495AD0:01C76617]
X-Virus-Checked: Checked by ClamAV on apache.org

>> Is that the same reader that is used in IndexSearcher?

I opened an IndexSearcher on the path (String) to the index.
Now I tried to open on the clone IndexReader and use the constructor
that has an IndexReader as param,=20
and I got everything working now ....

I just have two IndexSearchers opened now most of the time, which is
deprecated,
But I think that's my only choice !

Thank u !

__________________________________
   Matt

   =20

-----Original Message-----
From: Antony Bowesman [mailto:adb@teamware.com]=20
Sent: Tuesday, March 13, 2007 10:13 PM
To: java-user@lucene.apache.org
Subject: Re: [Urgent] deleteDocuments fails after merging ...

*****  This message comes from the Internet Network *****

Erick Erickson wrote:
> The javadocs point out that this line
>=20
> * int* nb =3D mIndexReaderClone.deleteDocuments(urlTerm)
>=20
> removes*all* documents for a given term. So of course you'll fail
> to delete any documents the second time you call
> deleteDocuments with the same term.

Isn't the code snippet below doing a search before attempting the
deletion, so=20
from the IndexReader's point of view (as used by the IndexSearcher) the
item=20
exists.  What is mIndexReaderClone?  Is that the same reader that is
used in=20
IndexSearcher?

I'm not sure, but if you search with one IndexReader and delete the
document=20
using another IndexReader and then repeat the process, I think that the
search=20
would still result in a hit, but the deletion would return 0.

> On 3/13/07, DECAFFMEYER MATHIEU <MATHIEU.DECAFFMAYER@fortis.lu> wrote:
>>
>> Before I delete a document I search it in the index to be sure there
is a
>> hit (via a Term object),
>> When I find a hit I delete the document (with the same Term object),

>> Hits hits =3D search(query);
>> *if* (hits.length() > 0) {
>>        * if* (hits.length() > 1) {
>>                 System.out.println("found in the index with
duplicates");
>>         }
>>         System.out.println("found in the index");
>>        * try* {
>>                * int* nb =3D
mIndexReaderClone.deleteDocuments(urlTerm);
>>                * if* (nb > 0)
>>                         System.out.println("successfully deleted");
>>                * else*
>>                        * throw** new* IOException("0 doc deleted");
>>         }* catch* (IOException e) {
>>                 e.printStackTrace();
>>                * throw** new* Exception(
>>                         Thread.currentThread().getName() + " ---
Deleting

Antony


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 09:50:04 2007
Return-Path: <java-user-return-26872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53727 invoked from network); 14 Mar 2007 09:50:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 09:50:03 -0000
Received: (qmail 74908 invoked by uid 500); 14 Mar 2007 09:50:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74879 invoked by uid 500); 14 Mar 2007 09:50:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74868 invoked by uid 99); 14 Mar 2007 09:50:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 02:50:04 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.197.35.8] (HELO rediff.co.in) (203.197.35.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 02:49:52 -0700
Received: (qmail 7265 invoked from network); 14 Mar 2007 15:15:37 +0530
Received: from unknown (HELO bhavin) (202.137.232.130)
  by mailserver with SMTP; 14 Mar 2007 15:15:37 +0530
Message-ID: <006401c7661e$01d7a430$d50310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <389B87AE-D41D-4B85-9AC1-ED3AE6471BEC@ehatchersolutions.com>
Subject: Can we extract phrase from lucene index
Date: Wed, 14 Mar 2007 15:19:05 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org

Hello guys,

I am using lucene 1.9 and i have 3GB of index.
I know we can extract tokens from index easily but can we extract phrase ?

Regards.
Bhavin pandya

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 10:03:53 2007
Return-Path: <java-user-return-26873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57780 invoked from network); 14 Mar 2007 10:03:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 10:03:52 -0000
Received: (qmail 93064 invoked by uid 500); 14 Mar 2007 10:03:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93038 invoked by uid 500); 14 Mar 2007 10:03:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93026 invoked by uid 99); 14 Mar 2007 10:03:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 03:03:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jmuguruza@gmail.com designates 209.85.134.190 as permitted sender)
Received: from [209.85.134.190] (HELO mu-out-0910.google.com) (209.85.134.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 03:03:42 -0700
Received: by mu-out-0910.google.com with SMTP id i10so128643mue
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 03:03:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=GlJIvbWLn3H3hjmhLM1vIVgr7evqoQAWLgiMeV3hje+u4EktEeLYqBhkct4cII8s3wCgCg0jdEbm/RReUxSrSLzgrNcFBx+nR+pT1tBxu/MnkF3sl0BdcwafXC/k1j2sgv6y/WAJqXG9eSwEav3jNX8HcXLOgWwfcokWxMTbImw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=EWo6bKSZqfCKqBz9eibwnNIQXsA75agP94uwng+SWSwhTYwTvfuyuG8CiX6AtAo3ekqDD9u804Z9KC11TtdGAmy6frsUiCz1WXvwiRFQ//l417V4+52XaQI3XOQLHZ74+i4C7vMgN04NXMmbYGy/oSiiyJg3V8Qwbx37MAq9kMs=
Received: by 10.78.123.4 with SMTP id v4mr1056330huc.1173866601031;
        Wed, 14 Mar 2007 03:03:21 -0700 (PDT)
Received: by 10.78.83.11 with HTTP; Wed, 14 Mar 2007 03:03:21 -0700 (PDT)
Message-ID: <f071061b0703140303t59b9c584n3d8780ecc7aa79b3@mail.gmail.com>
Date: Wed, 14 Mar 2007 11:03:21 +0100
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Subject: ways to minimize index size?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I want to make my index as small as possible. I noticed about
field.setOmitNorms(true), I read in the list the diff is 1 byte per
field per doc, not huge but hey...is the only effect the score being
different? I hardly mind about the score so that would be ok.

And can I add to an index without norms when it has previous doc with norms?

Any other way to minimize size of index? Most of my fields but one are
Field.Store.NO, Field.Index.TOKENIZED and Field.TermVector.NO, one is
Field.Store.YES, Field.Index.UN_TOKENIZED and Field.TermVector.NO. I
tried compressing that one and size is reduced around 1% (it's a small
field), but I guess compression means worse performance so I am not
sure about applying that.

thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 10:09:35 2007
Return-Path: <java-user-return-26874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58754 invoked from network); 14 Mar 2007 10:09:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 10:09:34 -0000
Received: (qmail 3538 invoked by uid 500); 14 Mar 2007 10:09:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3513 invoked by uid 500); 14 Mar 2007 10:09:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3502 invoked by uid 99); 14 Mar 2007 10:09:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 03:09:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Sachin.Kainth@atkinsglobal.com designates 217.68.146.190 as permitted sender)
Received: from [217.68.146.190] (HELO cluster-b.mailcontrol.com) (217.68.146.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 03:09:20 -0700
Received: from SGBD012100.wsatkins.com ([193.117.24.24])
	by rly02b.srv.mailcontrol.com (MailControl) with SMTP id l2EA8tHt026082
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 10:08:55 GMT
Received: From SGBD012102.wsatkins.com ([10.202.26.16]) by SGBD012100.wsatkins.com (WebShield SMTP v4.5 MR2);
	id 1173866914623; Wed, 14 Mar 2007 10:08:34 +0000
Received: from SGBLOW2101.wsatkins.com ([10.22.33.30]) by SGBD012102.wsatkins.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 14 Mar 2007 10:08:34 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: IndexReader.GetTermFreqVectors
Date: Wed, 14 Mar 2007 10:07:44 -0000
Message-ID: <BC1CFC544422CB4A934908E126A47427062CBAF4@SGBLOW2101.wsatkins.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexReader.GetTermFreqVectors
Thread-Index: AcdlpjsCKvv20UzQQsufwU4h/kljcQAelLcQ
References: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com> <50D8CF9D-C181-4442-8792-CE6F025F923D@gmail.com>
From: "Kainth, Sachin" <Sachin.Kainth@atkinsglobal.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 14 Mar 2007 10:08:34.0470 (UTC) FILETIME=[B9BFF460:01C76620]
X-Scanned-By: MailControl A-07-06-90 (www.mailcontrol.com) on 10.66.0.112
X-Virus-Checked: Checked by ClamAV on apache.org

Yes but what is a term vector?=20

-----Original Message-----
From: Grant Ingersoll [mailto:grant.ingersoll@gmail.com]=20
Sent: 13 March 2007 19:28
To: java-user@lucene.apache.org
Subject: Re: IndexReader.GetTermFreqVectors

It means it return the term vectors for all the fields on that document
where you have enabled TermVector when creating the Document.

i.e. new Field(...., TermVector.YES) (see http://lucene.apache.org/
java/docs/api/org/apache/lucene/document/Field.TermVector.html for the
full array of options)

-Grant

On Mar 13, 2007, at 1:24 PM, Kainth, Sachin wrote:

> Hi all,
>
> The documentation for the above method mentions something called a=20
> vectorized field.  Does anyone know what a vectorized field is?
>
>
>
>
> This email and any attached files are confidential and copyright=20
> protected. If you are not the addressee, any dissemination of this=20
> communication is strictly prohibited. Unless otherwise expressly=20
> agreed in writing, nothing stated in this communication shall be=20
> legally binding.
>
> The ultimate parent company of the Atkins Group is WS Atkins plc.  =20
> Registered in England No. 1885586.  Registered Office Woodcote Grove,=20
> Ashley Road, Epsom, Surrey KT18 5BW.
>
> Consider the environment. Please don't print this e-mail unless you=20
> really need to.

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



This message has been scanned for viruses by MailControl - (see
http://bluepages.wsatkins.co.uk/?6875772)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 10:21:01 2007
Return-Path: <java-user-return-26875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61629 invoked from network); 14 Mar 2007 10:20:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 10:20:59 -0000
Received: (qmail 28458 invoked by uid 500); 14 Mar 2007 10:20:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28415 invoked by uid 500); 14 Mar 2007 10:20:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28404 invoked by uid 99); 14 Mar 2007 10:20:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 03:20:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ian.lea@gmail.com designates 66.249.82.238 as permitted sender)
Received: from [66.249.82.238] (HELO wx-out-0506.google.com) (66.249.82.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 03:20:48 -0700
Received: by wx-out-0506.google.com with SMTP id i29so104148wxd
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 03:20:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=S8mIW1btaeUR8+tFewNNmzf4Keg0Xre+51dXDFnuBJg5l1au1Zig6QmPpSywhhBzDSXGqwYrnPPyZx/ijEOUCEi4MRIuQEVBEKnl2eqZHi35L59e5rd4vRNOSXEGQ5Qdn93OCraWdjAM3SWr9ZJZt+E6OIA7zh65uDNCENqOFPY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=MwFhqOvd/nZ/xvuhpMggPvAKmbXTRBwFpVAwbs73lDQxj3rVyz+kSgeGxn6h0/euVph4R/snZyFrHQvIBE0c+Aoli069WPl+cJTnJOro29Mra7jBMPSkoNhS/Oe6RRzHn6Fq0hgTHMyTd+gBuKADzbmEcqCkBBd1fC8GexBuYEM=
Received: by 10.90.90.3 with SMTP id n3mr6867500agb.1173867627176;
        Wed, 14 Mar 2007 03:20:27 -0700 (PDT)
Received: by 10.90.83.4 with HTTP; Wed, 14 Mar 2007 03:20:27 -0700 (PDT)
Message-ID: <8c4e68610703140320h6af5b5a9q6bc9f3214652467@mail.gmail.com>
Date: Wed, 14 Mar 2007 10:20:27 +0000
From: "Ian Lea" <ian.lea@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexReader.GetTermFreqVectors
In-Reply-To: <BC1CFC544422CB4A934908E126A47427062CBAF4@SGBLOW2101.wsatkins.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com>
	 <50D8CF9D-C181-4442-8792-CE6F025F923D@gmail.com>
	 <BC1CFC544422CB4A934908E126A47427062CBAF4@SGBLOW2101.wsatkins.com>
X-Virus-Checked: Checked by ClamAV on apache.org

>From http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Field.TermVector.html:

"A term vector is a list of the document's terms and their number of
occurences in that document."


--
Ian.


On 3/14/07, Kainth, Sachin <Sachin.Kainth@atkinsglobal.com> wrote:
> Yes but what is a term vector?
>
> -----Original Message-----
> From: Grant Ingersoll [mailto:grant.ingersoll@gmail.com]
> Sent: 13 March 2007 19:28
> To: java-user@lucene.apache.org
> Subject: Re: IndexReader.GetTermFreqVectors
>
> It means it return the term vectors for all the fields on that document
> where you have enabled TermVector when creating the Document.
>
> i.e. new Field(...., TermVector.YES) (see http://lucene.apache.org/
> java/docs/api/org/apache/lucene/document/Field.TermVector.html for the
> full array of options)
>
> -Grant
>
> On Mar 13, 2007, at 1:24 PM, Kainth, Sachin wrote:
>
> > Hi all,
> >
> > The documentation for the above method mentions something called a
> > vectorized field.  Does anyone know what a vectorized field is?
> >
> >
> >
> >
> > This email and any attached files are confidential and copyright
> > protected. If you are not the addressee, any dissemination of this
> > communication is strictly prohibited. Unless otherwise expressly
> > agreed in writing, nothing stated in this communication shall be
> > legally binding.
> >
> > The ultimate parent company of the Atkins Group is WS Atkins plc.
> > Registered in England No. 1885586.  Registered Office Woodcote Grove,
> > Ashley Road, Epsom, Surrey KT18 5BW.
> >
> > Consider the environment. Please don't print this e-mail unless you
> > really need to.
>
> ------------------------------------------------------
> Grant Ingersoll
> http://www.grantingersoll.com/
> http://lucene.grantingersoll.com
> http://www.paperoftheweek.com/
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> This message has been scanned for viruses by MailControl - (see
> http://bluepages.wsatkins.co.uk/?6875772)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 13:00:29 2007
Return-Path: <java-user-return-26876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14384 invoked from network); 14 Mar 2007 13:00:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 13:00:27 -0000
Received: (qmail 17723 invoked by uid 500); 14 Mar 2007 13:00:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17505 invoked by uid 500); 14 Mar 2007 13:00:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17490 invoked by uid 99); 14 Mar 2007 13:00:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:00:25 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.235 as permitted sender)
Received: from [64.233.184.235] (HELO wr-out-0506.google.com) (64.233.184.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:00:13 -0700
Received: by wr-out-0506.google.com with SMTP id 68so143171wra
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 05:59:52 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UUk+3L2M1SfblD9B1JZBI5SeSk7SdWNI5xYbmB9VGGvB/t4lqvQkBuvv82EXuj3dmh8ajfbxXJycxUFry2XAEcV5qXAJvgtQfCs5gkpRph/iK3nRX+xeTpeEfyKX3f1R6U7z3vgApBsJCxl2nf2gEwxrTVBh8S6StcTR2jLHIq4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=bZnTmrgg4iHn+IDkapO8MDePEFQWlsCOchjyZnj67b6LmEWcj3vj3xo4BmlRUTyHFNQUlfvhAtA1BwG6ATr86GI5Lfm233FdJU9S0y5LaWjcHv1InySa8E6erPVcXAPHPE2z2i/SG3cSpAqk2MyjUor5dX8M/7VZ+iIF2gCOBbw=
Received: by 10.115.111.1 with SMTP id o1mr2870189wam.1173877191900;
        Wed, 14 Mar 2007 05:59:51 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Wed, 14 Mar 2007 05:59:51 -0700 (PDT)
Message-ID: <359a92830703140559r44ee3298u1c694af60645f580@mail.gmail.com>
Date: Wed, 14 Mar 2007 08:59:51 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org, "Bhavin Pandya" <bhavinp@rediff.co.in>
Subject: Re: Can we extract phrase from lucene index
In-Reply-To: <006401c7661e$01d7a430$d50310ac@bhavin>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50160_15942987.1173877191847"
References: <389B87AE-D41D-4B85-9AC1-ED3AE6471BEC@ehatchersolutions.com>
	 <006401c7661e$01d7a430$d50310ac@bhavin>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_50160_15942987.1173877191847
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

 Your problem statement lends itself to flippant answers like "just
use a PhraseQuery". So I clearly don't understand what you're trying
to accomplish. Are you trying to find all of the occurrences of a
particular phrase? All the phrases (however that's defined) for
all the documents? What problem are you trying to solve?


Best
Erick


On 3/14/07, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
>
> Hello guys,
>
> I am using lucene 1.9 and i have 3GB of index.
> I know we can extract tokens from index easily but can we extract phrase ?
>
> Regards.
> Bhavin pandya
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_50160_15942987.1173877191847--

From java-user-return-26877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 13:10:56 2007
Return-Path: <java-user-return-26877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20758 invoked from network); 14 Mar 2007 13:10:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 13:10:54 -0000
Received: (qmail 46877 invoked by uid 500); 14 Mar 2007 13:10:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46843 invoked by uid 500); 14 Mar 2007 13:10:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46832 invoked by uid 99); 14 Mar 2007 13:10:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:10:55 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of kumaranjove@gmail.com designates 209.85.134.184 as permitted sender)
Received: from [209.85.134.184] (HELO mu-out-0910.google.com) (209.85.134.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:10:44 -0700
Received: by mu-out-0910.google.com with SMTP id i10so188450mue
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 06:10:22 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=LfkY8ZIH/iXmBlQHLHUVQcOeLFAwzfjGISY6ZG8HX8gdlWdMNy1p/PI1gAb4uwqp+8jCZ/wjTbwBMjVGwLMrm1iIPqBmfIE4j02Xm7DL/yKB0n2YMn1r5e8D0cRfLQdxJVxhsLbt6O6f4LLqAPgKKp0120tfDVKRM2EUcisATa0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=E7T0x7EOy4qLNI+MqRioX8ZSLv24BBY5GiFABk20N0jQJYanbM6DBVpHZX/R5mh1zaPugO8nLuIAXGoWDnI6z2ODo24ZQbEG208Cr8kpFEIbVGpef8Me/yroznPGSaA1Q9O+MI/a5xFJDyJzu9TQivB9Qe8lvPKEJrRQq8LBdrA=
Received: by 10.78.83.15 with SMTP id g15mr516363hub.1173877821877;
        Wed, 14 Mar 2007 06:10:21 -0700 (PDT)
Received: by 10.78.23.3 with HTTP; Wed, 14 Mar 2007 06:10:21 -0700 (PDT)
Message-ID: <21e234c60703140610t2296d895o8fa5c3ab2dd5f765@mail.gmail.com>
Date: Wed, 14 Mar 2007 18:40:21 +0530
From: "senthil kumaran" <kumaranjove@gmail.com>
To: java-user@lucene.apache.org
Subject: how to get approximate total matching
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_44805_7479109.1173877821543"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_44805_7479109.1173877821543
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi.
    I have more index directories (>6) all in GB,and searching my query with
single IndexSearcher  to all indexes one after another.i.e. I create one
IndexSearcher for index1 and search over that.Finally I close that and
create new IndexSearcher for index2 and so on. If i get 200 total results
then i don't go to search other index directories and i print 200 results
and exit from search.
    I need to get approximate total matching documents all over the indexes
without going to search in other indexes.
    Please suggest me a easiest way to achieve this.

P.S: To avoid more memory usage and to reduce search timeI don't want to
search my query through all indexes if i got 200 results. MultiSearcher
create OOM error,  so that I'm using single IndexSearcher.


Thanks in Advance
Senthil

------=_Part_44805_7479109.1173877821543--

From java-user-return-26878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 13:13:28 2007
Return-Path: <java-user-return-26878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22181 invoked from network); 14 Mar 2007 13:13:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 13:13:27 -0000
Received: (qmail 53959 invoked by uid 500); 14 Mar 2007 13:13:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53921 invoked by uid 500); 14 Mar 2007 13:13:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53901 invoked by uid 99); 14 Mar 2007 13:13:20 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:13:20 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:13:09 -0700
Received: by ug-out-1314.google.com with SMTP id k40so585421ugc
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 06:12:48 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DsY6kieX9AAufdy5zY2QNVaVrSNVEXbEOVh0MKV70zsOWZau0tryV5VskjJp3Z5eiKeW6FjgDgrX3dI7pm8fnzun3TyXlALF7j6ThDKeULG8Sx0/a2lgq9f3jXa6HWrOyy5ko6eibmeJFHmJYVQ8J5Xa1VioWUD6JOfWwv9dTu0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GstnKK/yPivAyqo09xgWfpcbKNIq8++RbUZQmS5WY1oX1+Y/5UeioWfUszva1jACknA/ru7eumaLx0NRHoePJTgvVNmw0souYiqyuwzLLLQeEz0HBwm4rH8q0hD5qtJBJlGAq8yXbvpa3+c5DFZjQohMoOjtg1/hgVLy8k5FWCE=
Received: by 10.115.47.1 with SMTP id z1mr2891291waj.1173877967155;
        Wed, 14 Mar 2007 06:12:47 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Wed, 14 Mar 2007 06:12:47 -0700 (PDT)
Message-ID: <359a92830703140612i68ae1fb3kda9184b0bbe31348@mail.gmail.com>
Date: Wed, 14 Mar 2007 09:12:47 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: ways to minimize index size?
In-Reply-To: <f071061b0703140303t59b9c584n3d8780ecc7aa79b3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50400_23974468.1173877967108"
References: <f071061b0703140303t59b9c584n3d8780ecc7aa79b3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_50400_23974468.1173877967108
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Store as little as possible, index as little as possible <G>.....

How big is your index, and how much do you expect it to grow?
I ask this because it's probably not worth your time to try to
reduce the index size below some threshold... I found that
reducing my index from 8G to 4G (through not stemming) gave
me about a 10% performance improvement, so at some point
it's just not worth the effort. Also, if you posted the index size,
it would give folks a chance to say "there's not much you can
gain by reducing things more". As it is, I don't have a clue
whether your index is 100M or 100T. The former is in the
"don't waste your time" class, and the latter is...er...
different....

I wouldn't bother compressing for 1%....

Question for "the guys" so I can check an assumption....
Is there any difference between these two?
Field(Name, Value, Store, index)
*<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/document/Field.html#Field%28java.lang.String,%20java.lang.String,%20org.apache.lucene.document.Field.Store,%20org.apache.lucene.document.Field.Index,%20org.apache.lucene.document.Field.TermVector%29>
*Field(Name, Value, Store, index, Field.TermVector.NO)


Best
Erick

On 3/14/07, jm <jmuguruza@gmail.com> wrote:
>
> Hi,
>
> I want to make my index as small as possible. I noticed about
> field.setOmitNorms(true), I read in the list the diff is 1 byte per
> field per doc, not huge but hey...is the only effect the score being
> different? I hardly mind about the score so that would be ok.
>
> And can I add to an index without norms when it has previous doc with
> norms?
>
> Any other way to minimize size of index? Most of my fields but one are
> Field.Store.NO, Field.Index.TOKENIZED and Field.TermVector.NO, one is
> Field.Store.YES, Field.Index.UN_TOKENIZED and Field.TermVector.NO. I
> tried compressing that one and size is reduced around 1% (it's a small
> field), but I guess compression means worse performance so I am not
> sure about applying that.
>
> thanks
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_50400_23974468.1173877967108--

From java-user-return-26879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 13:17:20 2007
Return-Path: <java-user-return-26879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25310 invoked from network); 14 Mar 2007 13:17:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 13:17:19 -0000
Received: (qmail 65757 invoked by uid 500); 14 Mar 2007 13:17:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65729 invoked by uid 500); 14 Mar 2007 13:17:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65718 invoked by uid 99); 14 Mar 2007 13:17:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:17:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:17:08 -0700
Received: by ug-out-1314.google.com with SMTP id k40so586642ugc
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 06:16:47 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iZPwwkNbrfuC0WrWUc54p/VwKp6H8pgJpFFNpX4Z8+n/oXArS1l5vYm7Ym9gqKpo+ItjwwDTslpvn7/OM1FAvf0fmxi8XKIJvuQjGM2gYTecIuXgsUyXdRTdRiCcZNABcQzxJ+Ja5zLbeBYOZ8N/tFjdGrJTtnrBLFLCKdp2d4w=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Qif38H0rkS0pOb/2RloKAAIkaI+AEOL9Mco3tbkSRe7o/8g6Dyw4NzdZcBTAD0yGLtmZXtqfivw2DY8wj9BudVLc5M8WO9/aHLvn10JvqwDT+76/Bo/6Z2BVmHq8D3Nf0JGP22+66Nv2tsQoauMQ3DyjnHJWiTL96RNY2wkoaVc=
Received: by 10.114.167.2 with SMTP id p2mr2870381wae.1173878206071;
        Wed, 14 Mar 2007 06:16:46 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Wed, 14 Mar 2007 06:16:46 -0700 (PDT)
Message-ID: <359a92830703140616m7904a601r7593e1b645e728d8@mail.gmail.com>
Date: Wed, 14 Mar 2007 09:16:46 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to get approximate total matching
In-Reply-To: <21e234c60703140610t2296d895o8fa5c3ab2dd5f765@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50456_31997350.1173878206014"
References: <21e234c60703140610t2296d895o8fa5c3ab2dd5f765@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_50456_31997350.1173878206014
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

How much memory are you allocating for your JVM? Because you're
paying a huge search time penalty by opening and closing your
searcher sequentially, it would be a good thing to not do this.
But, as you say, if you're getting OOM errors, that's a problem.

What is the total size of all your indexes? That would help folks
give you better responses and perhaps suggest other ways of
solving your problem.....

Erick

On 3/14/07, senthil kumaran <kumaranjove@gmail.com> wrote:
>
> Hi.
>     I have more index directories (>6) all in GB,and searching my query
> with
> single IndexSearcher  to all indexes one after another.i.e. I create one
> IndexSearcher for index1 and search over that.Finally I close that and
> create new IndexSearcher for index2 and so on. If i get 200 total results
> then i don't go to search other index directories and i print 200 results
> and exit from search.
>     I need to get approximate total matching documents all over the
> indexes
> without going to search in other indexes.
>     Please suggest me a easiest way to achieve this.
>
> P.S: To avoid more memory usage and to reduce search timeI don't want to
> search my query through all indexes if i got 200 results. MultiSearcher
> create OOM error,  so that I'm using single IndexSearcher.
>
>
> Thanks in Advance
> Senthil
>

------=_Part_50456_31997350.1173878206014--

From java-user-return-26880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 13:33:44 2007
Return-Path: <java-user-return-26880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36922 invoked from network); 14 Mar 2007 13:33:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 13:33:43 -0000
Received: (qmail 7416 invoked by uid 500); 14 Mar 2007 13:33:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7386 invoked by uid 500); 14 Mar 2007 13:33:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7375 invoked by uid 99); 14 Mar 2007 13:33:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:33:42 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jeff.lucene@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:33:31 -0700
Received: by py-out-1112.google.com with SMTP id a25so48359pyi
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 06:33:11 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=V4ml2FeL/BFN2JzdiQQzz9bFIXdzkd6lEPrepV6KYsZ3quqDAdWs9RM/ZVVtKDdhmNqgiKvYpXn0NlKr9ukOJCXKePiFDz1yq8gTe/HeVcWYBiaegpNCrY28GfRPL9iJjk6s13ykl8vr6EDl7Ki+VBawt64YjtJrC+v5UU33O9I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=OxrN6k72KTr9bJXDEz8QUb2V8anITbesOfmkE9AOyY+JtLQY0Wnyd8lLOUdXvestSeVrxYlUdgxqeM2n9MKEg+mdPeZlG+uvkzbnJ2F1jYRzPt2m1r1GM/1y7UReu8AeRIYQoY+7BcbPEawvSmdlciMRpoxCPGH/IzgdYyWAV0A=
Received: by 10.35.50.1 with SMTP id c1mr4499793pyk.1173879191276;
        Wed, 14 Mar 2007 06:33:11 -0700 (PDT)
Received: by 10.35.37.12 with HTTP; Wed, 14 Mar 2007 06:33:11 -0700 (PDT)
Message-ID: <cfc620660703140633x75af8fd5q929eb1b2fc7b1a4e@mail.gmail.com>
Date: Wed, 14 Mar 2007 09:33:11 -0400
From: Jeff <jeff.lucene@gmail.com>
To: java-user@lucene.apache.org
Subject: RE: ways to minimize index size?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15474_19254959.1173879191223"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15474_19254959.1173879191223
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

>I found that reducing my index from 8G to 4G (through not stemming) gave me
about a 10% performance improvement.

How did you do this? I don't see this as an option.

Jeff

------=_Part_15474_19254959.1173879191223--

From java-user-return-26881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 13:52:00 2007
Return-Path: <java-user-return-26881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50064 invoked from network); 14 Mar 2007 13:51:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 13:51:59 -0000
Received: (qmail 68820 invoked by uid 500); 14 Mar 2007 13:52:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68789 invoked by uid 500); 14 Mar 2007 13:52:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68774 invoked by uid 99); 14 Mar 2007 13:52:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:52:00 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.197.35.8] (HELO rediff.co.in) (203.197.35.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 06:51:47 -0700
Received: (qmail 17375 invoked from network); 14 Mar 2007 19:17:33 +0530
Received: from unknown (HELO bhavin) (202.137.232.130)
  by mailserver with SMTP; 14 Mar 2007 19:17:33 +0530
Message-ID: <008101c7663f$ce4dda90$d50310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <389B87AE-D41D-4B85-9AC1-ED3AE6471BEC@ehatchersolutions.com> <006401c7661e$01d7a430$d50310ac@bhavin> <359a92830703140559r44ee3298u1c694af60645f580@mail.gmail.com>
Subject: Re: Can we extract phrase from lucene index
Date: Wed, 14 Mar 2007 19:21:02 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org

Hi erick,
what i am looking for is dictionary for spell checker.
I am trying to customised lucene spell checker for phrase.
so thinking if anyhow i am able to fetech phrases from the index itself then 
i can train my spellchecker.

I tried with query logs but it has lot of spell mistakes...

Any suggestions..

Thanks.
Bhavin pandya

----- Original Message ----- 
From: "Erick Erickson" <erickerickson@gmail.com>
To: <java-user@lucene.apache.org>; "Bhavin Pandya" <bhavinp@rediff.co.in>
Sent: Wednesday, March 14, 2007 6:29 PM
Subject: Re: Can we extract phrase from lucene index


> Your problem statement lends itself to flippant answers like "just
> use a PhraseQuery". So I clearly don't understand what you're trying
> to accomplish. Are you trying to find all of the occurrences of a
> particular phrase? All the phrases (however that's defined) for
> all the documents? What problem are you trying to solve?
>
>
> Best
> Erick
>
>
> On 3/14/07, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
>>
>> Hello guys,
>>
>> I am using lucene 1.9 and i have 3GB of index.
>> I know we can extract tokens from index easily but can we extract phrase 
>> ?
>>
>> Regards.
>> Bhavin pandya
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 13:59:02 2007
Return-Path: <java-user-return-26882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55724 invoked from network); 14 Mar 2007 13:59:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 13:59:01 -0000
Received: (qmail 94392 invoked by uid 500); 14 Mar 2007 13:59:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94359 invoked by uid 500); 14 Mar 2007 13:59:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 55876 invoked by uid 99); 14 Mar 2007 12:27:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Message-ID: <45F7EA0C.9050501@metaspinner.de>
Date: Wed, 14 Mar 2007 13:26:52 +0100
From: Dennis Berger <dennis.berger@metaspinner.de>
User-Agent: Thunderbird 2.0b2 (Windows/20070116)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: memory consumption on large indices
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Do I have to keep something in mind to do searching on large indices?
I actually have an index with a size of 1.8gb. I have indexed 1.5 
million items from Amazon.
How much memory do I have to give to the jvm?
As a sidenote I have to tell you that I optimized the index so it's one 
segment file.
Do I need to have 1.8gb memory available for the jvm?

regards,
-Dennis

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 14:15:50 2007
Return-Path: <java-user-return-26883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67177 invoked from network); 14 Mar 2007 14:15:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 14:15:45 -0000
Received: (qmail 50886 invoked by uid 500); 14 Mar 2007 14:15:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50853 invoked by uid 500); 14 Mar 2007 14:15:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50842 invoked by uid 99); 14 Mar 2007 14:15:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 07:15:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ian.lea@gmail.com designates 66.249.82.229 as permitted sender)
Received: from [66.249.82.229] (HELO wx-out-0506.google.com) (66.249.82.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 07:15:34 -0700
Received: by wx-out-0506.google.com with SMTP id i29so172311wxd
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 07:15:14 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Cv22d3IDqndRJhgPKJm2yD2aez3OUnkAvR399D9DbBdcQhSz4BsNARddOwK5qUewdwLLn0xb1ooxs2M8lWpSIPPX1VSINgqoudL/5edM9Cn3SFK3M/OML7+3O6/ZTLJowVLNHsCOGsfaV3tQc7fonea2izCtJBYtfAx7Mv763bs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=tlUp/XTrnGfoH0IzYR44kQogsRyT7/f8K8A8RjnGVeKgmWYGzMTRcw3v5e+swefeAbKk0BOewIAPi/AUMzf+sfL5jvURL8KBWUk3zhvtTtqzVIfGWQcdaxqBWPf+0HM4vP3mWbhoN9+W6MGPpt4Gsop1EPnbqBtLMfb3ftL1iYI=
Received: by 10.90.113.18 with SMTP id l18mr7253042agc.1173881713716;
        Wed, 14 Mar 2007 07:15:13 -0700 (PDT)
Received: by 10.90.83.4 with HTTP; Wed, 14 Mar 2007 07:15:13 -0700 (PDT)
Message-ID: <8c4e68610703140715y6712b77g1b26d54eda2e60f0@mail.gmail.com>
Date: Wed, 14 Mar 2007 14:15:13 +0000
From: "Ian Lea" <ian.lea@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: memory consumption on large indices
In-Reply-To: <45F7EA0C.9050501@metaspinner.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <45F7EA0C.9050501@metaspinner.de>
X-Virus-Checked: Checked by ClamAV on apache.org

No, you don't need 1.8Gb of memory.  Start with default and raise if
you need to?
Or jump straight in at about 512Mb.


--
Ian.


On 3/14/07, Dennis Berger <dennis.berger@metaspinner.de> wrote:
> Do I have to keep something in mind to do searching on large indices?
> I actually have an index with a size of 1.8gb. I have indexed 1.5
> million items from Amazon.
> How much memory do I have to give to the jvm?
> As a sidenote I have to tell you that I optimized the index so it's one
> segment file.
> Do I need to have 1.8gb memory available for the jvm?
>
> regards,
> -Dennis
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 14:20:01 2007
Return-Path: <java-user-return-26884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68954 invoked from network); 14 Mar 2007 14:19:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 14:19:59 -0000
Received: (qmail 67238 invoked by uid 500); 14 Mar 2007 14:19:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67211 invoked by uid 500); 14 Mar 2007 14:19:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67200 invoked by uid 99); 14 Mar 2007 14:19:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 07:19:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jmuguruza@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 07:19:48 -0700
Received: by nf-out-0910.google.com with SMTP id g2so198992nfe
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 07:19:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=AQKVSjPUgD7Ff9cMeiI/YcWqO9rnJndyn7PZySh5yDUhQoqwRNO7a8/sOcZsf2mo0+EN233Vku6K0iZxdBxd6stztfw15sYOc+2aTT0QdRIQDg1C1dgH/jr5fXDLTZA165uJhBHULHWRZfvxmgg4iq5T01BsmWGZtswoOU1QRfk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=umc6co9pu56W0PrVr6AGcAC0T3mwjaC8NgQOT9hwxkQNyqx3UtFRzXKFOuSkVEdxXklQudxR51rlFn5uwWR4ENjYUPwPmYU8hP2JrL3xr8uduu7bnY1TDoFyc1olDQ9Ar0ESxvCAATCZy3eaHO3FKC5/qlUCbEnvqKA5cMqVRV4=
Received: by 10.78.97.7 with SMTP id u7mr1213541hub.1173881967062;
        Wed, 14 Mar 2007 07:19:27 -0700 (PDT)
Received: by 10.78.83.11 with HTTP; Wed, 14 Mar 2007 07:19:26 -0700 (PDT)
Message-ID: <f071061b0703140719t7fde9ccem528be2b0f71ffc7f@mail.gmail.com>
Date: Wed, 14 Mar 2007 15:19:26 +0100
From: jm <jmuguruza@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: ways to minimize index size?
In-Reply-To: <359a92830703140612i68ae1fb3kda9184b0bbe31348@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <f071061b0703140303t59b9c584n3d8780ecc7aa79b3@mail.gmail.com>
	 <359a92830703140612i68ae1fb3kda9184b0bbe31348@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

hi Erick,


Well, typically my application will start with some hundreds of
indexes...and then grow at a rate of several per day, for ever. At
some point I know I can do some merging etc if needed.

Size is dependant on the customer, could be up to a 1G per index. That
is way I would like to minimize them. I am not worried with search
performance.

I dont understand how not stemming can reduce the size of an index...I
would think it happens the other way, does not stemming makes the
words shorter? (I dont stemm, so I never looked into it)

thanks
On 3/14/07, Erick Erickson <erickerickson@gmail.com> wrote:
> Store as little as possible, index as little as possible <G>.....
>
> How big is your index, and how much do you expect it to grow?
> I ask this because it's probably not worth your time to try to
> reduce the index size below some threshold... I found that
> reducing my index from 8G to 4G (through not stemming) gave
> me about a 10% performance improvement, so at some point
> it's just not worth the effort. Also, if you posted the index size,
> it would give folks a chance to say "there's not much you can
> gain by reducing things more". As it is, I don't have a clue
> whether your index is 100M or 100T. The former is in the
> "don't waste your time" class, and the latter is...er...
> different....
>
> I wouldn't bother compressing for 1%....
>
> Question for "the guys" so I can check an assumption....
> Is there any difference between these two?
> Field(Name, Value, Store, index)
> *<file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/document/Field.html#Field%28java.lang.String,%20java.lang.String,%20org.apache.lucene.document.Field.Store,%20org.apache.lucene.document.Field.Index,%20org.apache.lucene.document.Field.TermVector%29>
> *Field(Name, Value, Store, index, Field.TermVector.NO)
>
>
> Best
> Erick
>
> On 3/14/07, jm <jmuguruza@gmail.com> wrote:
> >
> > Hi,
> >
> > I want to make my index as small as possible. I noticed about
> > field.setOmitNorms(true), I read in the list the diff is 1 byte per
> > field per doc, not huge but hey...is the only effect the score being
> > different? I hardly mind about the score so that would be ok.
> >
> > And can I add to an index without norms when it has previous doc with
> > norms?
> >
> > Any other way to minimize size of index? Most of my fields but one are
> > Field.Store.NO, Field.Index.TOKENIZED and Field.TermVector.NO, one is
> > Field.Store.YES, Field.Index.UN_TOKENIZED and Field.TermVector.NO. I
> > tried compressing that one and size is reduced around 1% (it's a small
> > field), but I guess compression means worse performance so I am not
> > sure about applying that.
> >
> > thanks
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 14:37:16 2007
Return-Path: <java-user-return-26885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88017 invoked from network); 14 Mar 2007 14:37:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 14:37:15 -0000
Received: (qmail 26418 invoked by uid 500); 14 Mar 2007 14:37:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26383 invoked by uid 500); 14 Mar 2007 14:37:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 9315 invoked by uid 99); 14 Mar 2007 14:32:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Message-ID: <45F80756.3040606@bsdsystems.de>
Date: Wed, 14 Mar 2007 15:31:50 +0100
From: Dennis Berger <db@bsdsystems.de>
User-Agent: Thunderbird 2.0b2 (Windows/20070116)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: memory consumption on large indices
References: <45F7EA0C.9050501@metaspinner.de> <8c4e68610703140715y6712b77g1b26d54eda2e60f0@mail.gmail.com>
In-Reply-To: <8c4e68610703140715y6712b77g1b26d54eda2e60f0@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Ian Lea schrieb:
> No, you don't need 1.8Gb of memory.  Start with default and raise if
> you need to?
how do I know when I need it?
> Or jump straight in at about 512Mb.
>
>
> -- 
> Ian.
>
>
> On 3/14/07, Dennis Berger <dennis.berger@metaspinner.de> wrote:
>> Do I have to keep something in mind to do searching on large indices?
>> I actually have an index with a size of 1.8gb. I have indexed 1.5
>> million items from Amazon.
>> How much memory do I have to give to the jvm?
>> As a sidenote I have to tell you that I optimized the index so it's one
>> segment file.
>> Do I need to have 1.8gb memory available for the jvm?
>>
>> regards,
>> -Dennis
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


-- 
Dennis Berger
BSDSystems
Eduardstrasse 43b
20257 Hamburg

Phone: +49 (0)40 54 00 18 17
Mobile: +49 (0) 179 123 15 09
E-Mail: db@bsdsystems.de


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 14:42:45 2007
Return-Path: <java-user-return-26886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92239 invoked from network); 14 Mar 2007 14:42:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 14:42:44 -0000
Received: (qmail 46825 invoked by uid 500); 14 Mar 2007 14:42:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46794 invoked by uid 500); 14 Mar 2007 14:42:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46783 invoked by uid 99); 14 Mar 2007 14:42:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 07:42:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ian.lea@gmail.com designates 66.249.82.231 as permitted sender)
Received: from [66.249.82.231] (HELO wx-out-0506.google.com) (66.249.82.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 07:42:33 -0700
Received: by wx-out-0506.google.com with SMTP id i29so181902wxd
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 07:42:12 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=bCo1q8FZk6J5kwVC91mtwlgKDLldvWHitpHfWN/W6aAFa0KfWN/Y6CJdCpduS0iFQZYGxQBO/0kgOehwUUf2ng/TZX0Xgx7/UKJKknj93ZGBghS9ZZJGVJB4b1F12xQlE9PJoVQlxbSpCC4H1qynAttvE/Z2/0FIX9+dMlkd+UM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=EP1aAXOWK3eGdJJD8l4oi2WR9bXb0HCzPOMcN4uLNqGk0nmb/siWw7DTulg0v5sS5HVxB8ds/5U6AZ7aD20U+cn9pWbSacv1ZKpM+jQ6qFqo4l9YS4DXgUEL+LeJdRuxQsFV96eWg4QoND+1vvPIYMQlioruyVXP+1KFpbqkrqI=
Received: by 10.90.49.19 with SMTP id w19mr7242612agw.1173883332236;
        Wed, 14 Mar 2007 07:42:12 -0700 (PDT)
Received: by 10.90.83.4 with HTTP; Wed, 14 Mar 2007 07:42:11 -0700 (PDT)
Message-ID: <8c4e68610703140742j31569e28x6f02815617484a03@mail.gmail.com>
Date: Wed, 14 Mar 2007 14:42:11 +0000
From: "Ian Lea" <ian.lea@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: memory consumption on large indices
In-Reply-To: <45F80756.3040606@bsdsystems.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <45F7EA0C.9050501@metaspinner.de>
	 <8c4e68610703140715y6712b77g1b26d54eda2e60f0@mail.gmail.com>
	 <45F80756.3040606@bsdsystems.de>
X-Virus-Checked: Checked by ClamAV on apache.org

When your app gets a java.lang.OutOfMemory exception.


--
Ian.


On 3/14/07, Dennis Berger <db@bsdsystems.de> wrote:
> Ian Lea schrieb:
> > No, you don't need 1.8Gb of memory.  Start with default and raise if
> > you need to?
> how do I know when I need it?
> > Or jump straight in at about 512Mb.
> >
> >
> > --
> > Ian.
> >
> >
> > On 3/14/07, Dennis Berger <dennis.berger@metaspinner.de> wrote:
> >> Do I have to keep something in mind to do searching on large indices?
> >> I actually have an index with a size of 1.8gb. I have indexed 1.5
> >> million items from Amazon.
> >> How much memory do I have to give to the jvm?
> >> As a sidenote I have to tell you that I optimized the index so it's one
> >> segment file.
> >> Do I need to have 1.8gb memory available for the jvm?
> >>
> >> regards,
> >> -Dennis
> >>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 15:23:46 2007
Return-Path: <java-user-return-26887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20143 invoked from network); 14 Mar 2007 15:23:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 15:23:44 -0000
Received: (qmail 63414 invoked by uid 500); 14 Mar 2007 15:23:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63386 invoked by uid 500); 14 Mar 2007 15:23:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63371 invoked by uid 99); 14 Mar 2007 15:23:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 08:23:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.184.224 as permitted sender)
Received: from [64.233.184.224] (HELO wr-out-0506.google.com) (64.233.184.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 08:23:33 -0700
Received: by wr-out-0506.google.com with SMTP id 68so189213wra
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 08:23:12 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:in-reply-to:references:mime-version:x-priority:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=D6PCe3aEhj5IayN01311IIsOh/JquCaiV/+d+lg+uXJ0z2/kHptnyBoEPY38TB6pOv6909oNsCj6/EiKD4DGlommEhNEGxgpkXVDBlD4zQHUOrt+v76vjnea5ydJL0CXZAd3J9OcFTx7icMkKDgIc37bo3PfNEoQD4DEW14jjx0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:in-reply-to:references:mime-version:x-priority:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=X/aL5lgDF97GVTQWSfCuvW6petqYJuPK+l/SdB3eGck4rpTxjlRanF9LnL1iHbtKX5su2p4AGh2/pXn/y4UpQsZULkpTcZrBNYCBV3ZK8wiV5KwEHKd5ZXeAO6h8j8oX5pE3RAsxbkF1EvujXBORmrFATFTcbAMf9RSW9l/hpi0=
Received: by 10.65.214.19 with SMTP id r19mr4576835qbq.1173885791335;
        Wed, 14 Mar 2007 08:23:11 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id g1sm9922537muf.2007.03.14.08.23.09;
        Wed, 14 Mar 2007 08:23:10 -0700 (PDT)
In-Reply-To: <008101c7663f$ce4dda90$d50310ac@bhavin>
References: <389B87AE-D41D-4B85-9AC1-ED3AE6471BEC@ehatchersolutions.com> <006401c7661e$01d7a430$d50310ac@bhavin> <359a92830703140559r44ee3298u1c694af60645f580@mail.gmail.com> <008101c7663f$ce4dda90$d50310ac@bhavin>
Mime-Version: 1.0 (Apple Message framework v752.3)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FDA33B0F-862B-414D-89C3-0D9DF1A4DAF4@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Can we extract phrase from lucene index
Date: Wed, 14 Mar 2007 16:23:04 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


14 mar 2007 kl. 14.51 skrev Bhavin Pandya:

> what i am looking for is dictionary for spell checker.
> I am trying to customised lucene spell checker for phrase.
> so thinking if anyhow i am able to fetech phrases from the index  
> itself then i can train my spellchecker.
>
> I tried with query logs but it has lot of spell mistakes...

You can try this:

https://issues.apache.org/jira/browse/LUCENE-626

-- 
karl

>
> Any suggestions..
>
> Thanks.
> Bhavin pandya
>
> ----- Original Message ----- From: "Erick Erickson"  
> <erickerickson@gmail.com>
> To: <java-user@lucene.apache.org>; "Bhavin Pandya"  
> <bhavinp@rediff.co.in>
> Sent: Wednesday, March 14, 2007 6:29 PM
> Subject: Re: Can we extract phrase from lucene index
>
>
>> Your problem statement lends itself to flippant answers like "just
>> use a PhraseQuery". So I clearly don't understand what you're trying
>> to accomplish. Are you trying to find all of the occurrences of a
>> particular phrase? All the phrases (however that's defined) for
>> all the documents? What problem are you trying to solve?
>>
>>
>> Best
>> Erick
>>
>>
>> On 3/14/07, Bhavin Pandya <bhavinp@rediff.co.in> wrote:
>>>
>>> Hello guys,
>>>
>>> I am using lucene 1.9 and i have 3GB of index.
>>> I know we can extract tokens from index easily but can we extract  
>>> phrase ?
>>>
>>> Regards.
>>> Bhavin pandya
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 15:33:09 2007
Return-Path: <java-user-return-26888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27897 invoked from network); 14 Mar 2007 15:33:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 15:33:08 -0000
Received: (qmail 89576 invoked by uid 500); 14 Mar 2007 15:33:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89542 invoked by uid 500); 14 Mar 2007 15:33:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89526 invoked by uid 99); 14 Mar 2007 15:33:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 08:33:09 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tpatton@dealcatcher.com designates 63.238.173.3 as permitted sender)
Received: from [63.238.173.3] (HELO mail.netvation.com) (63.238.173.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 08:32:56 -0700
DKIM-Signature: t=1173872082; a=RSA-SHA1; q=dns; s=mail; d=dealcatcher.com;
  i=@dealcatcher.com; c=relaxed/simple;
  bh=I2i93sCmg/VzCZaoN0TJp32Jbfs=; h=DomainKey-Signature:Received:Message-I
  D:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Con
  tent-Type:Content-Transfer-Encoding; b=bvUirN/jdD7TrAFZe5mZxif5zI03frQdt4
  rFsYiBzsTDPnlwrkVdvWrUmj2bIlNZG9r5CPr/nm+cZ2Pdc3y3qHDb7ohqEqG+auwDBADWef+
  z6hWYoIg+QYnErAI1WlPN
DomainKey-Signature: a=rsa-sha1; q=dns; s=mail; d=dealcatcher.com; c=nofws;
  h=Return-Path:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Su
  bject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=Qm
  rscw47+PtqgTRyErmk+R+D81Gy8xHCDqK47chPhhnc2SfHJeyTLko2Ny6DuYJHpvDLIndqVwt
  dS/XKR+FG1dlkXjhpyIXXa80lbHjciZPZHG/nLDKsJH+wSmv7xFc0;
Received: from static-63-238-173-100.t1.cavtel.net [63.238.173.100] by mail.netvation.com with SMTP;
   Wed, 14 Mar 2007 11:34:20 -0400
Message-ID: <45F815FB.9090609@dealcatcher.com>
Date: Wed, 14 Mar 2007 11:34:19 -0400
From: Tim Patton <tpatton@dealcatcher.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: memory consumption on large indices
References: <45F7EA0C.9050501@metaspinner.de>
In-Reply-To: <45F7EA0C.9050501@metaspinner.de>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I'm searching a 20GB index and my searching JVM is allocated 1Gig. 
However, my indexing app only had 384mb availible to it, which means you 
can get away with far less.  I believe certain index tables will need to 
be swapped in and out of memory though so it may not search as quickly.

With a 1.8gig index you could try the jvm default (64megs) and see how 
it works.

Tim

Dennis Berger wrote:
> Do I have to keep something in mind to do searching on large indices?
> I actually have an index with a size of 1.8gb. I have indexed 1.5 
> million items from Amazon.
> How much memory do I have to give to the jvm?
> As a sidenote I have to tell you that I optimized the index so it's one 
> segment file.
> Do I need to have 1.8gb memory available for the jvm?
> 
> regards,
> -Dennis
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 15:46:53 2007
Return-Path: <java-user-return-26889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38068 invoked from network); 14 Mar 2007 15:46:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 15:46:52 -0000
Received: (qmail 38962 invoked by uid 500); 14 Mar 2007 15:46:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38933 invoked by uid 500); 14 Mar 2007 15:46:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38913 invoked by uid 99); 14 Mar 2007 15:46:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 08:46:52 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 08:46:41 -0700
Received: by wr-out-0506.google.com with SMTP id 68so197152wra
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 08:46:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UZmprUKpk8Q4r9fEr+hzJrXV/ryaJR65wLHfyH5A19ZkBFIqmC8YPd9iOw35pzeRfPerIY/NGQZXav4uVhObxXU1HwLbPakMkOL1Uq34OVDwvPsh/K/fk1X/UVZ1nhkUNX+NjebOCL4syxbJ5pix3SwhbvI5VgRC+ZvEtKHqDbw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=HBECuJPeo1GKY3z66FpT1vfwUjY+wgguTSvAhVISjVV5WXiRtsUFyXZQf8D18zfYbQHPus5dxxXJgw4WSTjdPKjpIyEaN+VVvrcJMtpfRytzTaQqeGMBfLNzrsXf281hWJhMRF18rQkVZO3/9MwfyldWibMPUGPjcnzG4TemJJs=
Received: by 10.114.153.18 with SMTP id a18mr2931123wae.1173887180103;
        Wed, 14 Mar 2007 08:46:20 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Wed, 14 Mar 2007 08:46:20 -0700 (PDT)
Message-ID: <359a92830703140846j737b6776i85924bdb35e78883@mail.gmail.com>
Date: Wed, 14 Mar 2007 11:46:20 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: ways to minimize index size?
In-Reply-To: <f071061b0703140719t7fde9ccem528be2b0f71ffc7f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_54021_3982348.1173887180052"
References: <f071061b0703140303t59b9c584n3d8780ecc7aa79b3@mail.gmail.com>
	 <359a92830703140612i68ae1fb3kda9184b0bbe31348@mail.gmail.com>
	 <f071061b0703140719t7fde9ccem528be2b0f71ffc7f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_54021_3982348.1173887180052
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

OK, I caused more confusion than rendered help by my stemming
statement. The only reason I mentioned it was to illustrate that
performance is not linearly related to size.

It took some effort to put stemming into the index, see
PorterStemmer etc. This is NOT the default. So I took it out
to see what the effect would be.

Why not stemming made things shorter: because we also
have the requirement that phrases (i.e. words in double quotes)
do NOT match the stemmed version. Thus if we index
running watching, the following searches have the
indicated results
run - hits
watch - hits
running - hits
"run watch" does NOT hit.
"running watching" hits

So I indexed the following terms...

run
running$
watch
watching&

with the two forms of run indexed in the same position (0)
and the two forms of watch in the same position (1).

I agree that if we didn't have the exact-phrase-match requirement
the stemmed version of the index should be smaller....


Sorry for the confusion
Erick

On 3/14/07, jm <jmuguruza@gmail.com> wrote:
>
> hi Erick,
>
>
> Well, typically my application will start with some hundreds of
> indexes...and then grow at a rate of several per day, for ever. At
> some point I know I can do some merging etc if needed.
>
> Size is dependant on the customer, could be up to a 1G per index. That
> is way I would like to minimize them. I am not worried with search
> performance.
>
> I dont understand how not stemming can reduce the size of an index...I
> would think it happens the other way, does not stemming makes the
> words shorter? (I dont stemm, so I never looked into it)
>
> thanks
> On 3/14/07, Erick Erickson <erickerickson@gmail.com> wrote:
> > Store as little as possible, index as little as possible <G>.....
> >
> > How big is your index, and how much do you expect it to grow?
> > I ask this because it's probably not worth your time to try to
> > reduce the index size below some threshold... I found that
> > reducing my index from 8G to 4G (through not stemming) gave
> > me about a 10% performance improvement, so at some point
> > it's just not worth the effort. Also, if you posted the index size,
> > it would give folks a chance to say "there's not much you can
> > gain by reducing things more". As it is, I don't have a clue
> > whether your index is 100M or 100T. The former is in the
> > "don't waste your time" class, and the latter is...er...
> > different....
> >
> > I wouldn't bother compressing for 1%....
> >
> > Question for "the guys" so I can check an assumption....
> > Is there any difference between these two?
> > Field(Name, Value, Store, index)
> > *<
> file:///C:/lucene-2.1.0/docs/api/org/apache/lucene/document/Field.html#Field%28java.lang.String,%20java.lang.String,%20org.apache.lucene.document.Field.Store,%20org.apache.lucene.document.Field.Index,%20org.apache.lucene.document.Field.TermVector%29
> >
> > *Field(Name, Value, Store, index, Field.TermVector.NO)
> >
> >
> > Best
> > Erick
> >
> > On 3/14/07, jm <jmuguruza@gmail.com> wrote:
> > >
> > > Hi,
> > >
> > > I want to make my index as small as possible. I noticed about
> > > field.setOmitNorms(true), I read in the list the diff is 1 byte per
> > > field per doc, not huge but hey...is the only effect the score being
> > > different? I hardly mind about the score so that would be ok.
> > >
> > > And can I add to an index without norms when it has previous doc with
> > > norms?
> > >
> > > Any other way to minimize size of index? Most of my fields but one are
> > > Field.Store.NO, Field.Index.TOKENIZED and Field.TermVector.NO, one is
> > > Field.Store.YES, Field.Index.UN_TOKENIZED and Field.TermVector.NO. I
> > > tried compressing that one and size is reduced around 1% (it's a small
> > > field), but I guess compression means worse performance so I am not
> > > sure about applying that.
> > >
> > > thanks
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_54021_3982348.1173887180052--

From java-user-return-26890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 16:00:24 2007
Return-Path: <java-user-return-26890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47153 invoked from network); 14 Mar 2007 16:00:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 16:00:22 -0000
Received: (qmail 94425 invoked by uid 500); 14 Mar 2007 16:00:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94327 invoked by uid 500); 14 Mar 2007 16:00:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94316 invoked by uid 99); 14 Mar 2007 16:00:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 09:00:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [129.177.30.12] (HELO noralf.uib.no) (129.177.30.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 09:00:11 -0700
Received: from alfred.uib.no (smtp.uib.no) [129.177.30.120] 
	by noralf.uib.no for java-user@lucene.apache.org with esmtp  (Exim 4.34)
	id 1HRVtB-0001i1-Ms; Wed, 14 Mar 2007 16:59:46 +0100
Received: from ak024197.klientdrift.uib.no [129.177.24.197] 
	by smtp.uib.no for java-user@lucene.apache.org with esmtp (Exim 4.34)
	id 1HRVtB-0000kM-EP; Wed, 14 Mar 2007 16:59:45 +0100
Message-ID: <45F81BEC.1060106@aksis.uib.no>
Date: Wed, 14 Mar 2007 16:59:40 +0100
From: Oystein Reigem <oystein.reigem@aksis.uib.no>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Wildcard searches with * or ? as the first character - Thanks
References: <BC1CFC544422CB4A934908E126A47427062CB5FF@SGBLOW2101.wsatkins.com> <45F6EDC8.10703@aksis.uib.no>
In-Reply-To: <45F6EDC8.10703@aksis.uib.no>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-checked-clean: by exiscan on noralf
X-Scanner: e2f464163488a3f6e3c33ea2d2daa869 http://tjinfo.uib.no/virus.html
X-UiB-SpamFlag: NO UIB: -23.4 hits, 8.0 required
X-UiB-SpamReport: spamassassin found;
   -15 From is listed in 'whitelist_SA'
 -9.0 Message received from UIB
 -0.4 Did not pass through any untrusted hosts
  1.0 BODY: UIB_MAILWON
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Steven and Antony.

I read the FAQ not very long ago, but that slipped my attention. Or 
perhaps it's a recent change.

- ystein -

-- 
ystein Reigem, The department of culture, language and information technology (Aksis), Allegt 27, N-5007 Bergen, Norway. Tel: +47 55 58 32 42. Fax: +47 55 58 94 70. E-mail: <oystein.reigem@aksis.uib.no>. Home tel: +47 56 14 06 11. Mobile: +47 97 16 96 64. Home e-mail: <oreigem@broadpark.no>. Aksis home page: <www.aksis.uib.no>.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 17:34:14 2007
Return-Path: <java-user-return-26891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96525 invoked from network); 14 Mar 2007 17:34:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 17:34:13 -0000
Received: (qmail 76029 invoked by uid 500); 14 Mar 2007 17:34:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76000 invoked by uid 500); 14 Mar 2007 17:34:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75989 invoked by uid 99); 14 Mar 2007 17:34:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 10:34:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 10:34:03 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A5DEE5B763; Wed, 14 Mar 2007 10:33:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A03F47F403
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 10:33:42 -0700 (PDT)
Date: Wed, 14 Mar 2007 10:33:42 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: [Urgent] deleteDocuments fails after merging ...
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248809A2BD39@SPMWB02L.luinternal.fortis.bank>
Message-ID: <Pine.LNX.4.58.0703141030180.23841@hal.rescomp.berkeley.edu>
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD39@SPMWB02L.luinternal.fortis.bank>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I just have two IndexSearchers opened now most of the time, which is
: deprecated,
: But I think that's my only choice !

2 searchers is fine ... it's "N" where N is not bound that you want to
avoid.

from what i understand of your requirements, you don't *really* need two
searchers open ... open a searcher to do whatever complex queries you need
to get the docIds to delete, then delete
them all, then close/reopen searcher (and check that the delets worked if
you don't trust it)

the only real reason you should really need 2 searchers at a time is if
you are searching other queries in parallel threads at the same time ...
or if you are warming up one new searcher that's "ondeck" while still
serving queries with an older searcher.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 18:15:39 2007
Return-Path: <java-user-return-26892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16096 invoked from network); 14 Mar 2007 18:15:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 18:15:38 -0000
Received: (qmail 89763 invoked by uid 500); 14 Mar 2007 18:15:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89727 invoked by uid 500); 14 Mar 2007 18:15:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89716 invoked by uid 99); 14 Mar 2007 18:15:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 11:15:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 11:15:28 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0B4665B763; Wed, 14 Mar 2007 11:15:06 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 04E067F403
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 11:15:06 -0700 (PDT)
Date: Wed, 14 Mar 2007 11:15:06 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Performance between Filter and HitCollector?
In-Reply-To: <45F62B04.1050702@teamware.com>
Message-ID: <Pine.LNX.4.58.0703141103500.23841@hal.rescomp.berkeley.edu>
References: <45F62B04.1050702@teamware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


it's kind of an Apples/Oranges comparison .. in the examples you gave
below, one is executing an arbitrary query (which oculd be anything) the
other is doing a simple TermEnumeration.

Asuming that Query is a TermQuery, the Filter is theoreticaly going to be
faster becuase it does't have to compute any Scores ... generally speaking
a a Filter will alwyas be a little faster then a functionally equivilent
Query for the purposes of building up a simple BitSet of matching
documents because teh Query involves the score calcuations ... but the
Query is generally more usable.

The Query can also be more efficient in other ways, because the
HitCollector doesn't *have* to build a BitSet, it can deal with the
results in whatever way it wants (where as a Filter allways generates a
BitSet).

Solr goes the HitCollector route for a few reasons:
  1) allows us to use hte DocSet abstraction which allows other
     performance benefits over straight BitSets
  2) allows us to have simpler code that builds DocSets and DocLists
     (DocLists know about scores, sorting, and pagination) in a single
     pass when scores or sorting are requested.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 19:19:13 2007
Return-Path: <java-user-return-26893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42521 invoked from network); 14 Mar 2007 19:19:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 19:19:11 -0000
Received: (qmail 46383 invoked by uid 500); 14 Mar 2007 19:19:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46354 invoked by uid 500); 14 Mar 2007 19:19:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46338 invoked by uid 99); 14 Mar 2007 19:19:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 12:19:12 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of walt.stoneburner@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 12:19:01 -0700
Received: by ug-out-1314.google.com with SMTP id k40so37562ugc
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 12:18:40 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=EtQQLssx7WaN+1cfMWsX7MW1axCpOB6RYhluG8ebohBPzLimVX6QbBwjl2cXI7sFPW7mhcMwCaCOsnReha1Gyz/T0/QRagSUUb3bus+TuW/fFwmMDeTPwkSH2SgZyhGbxD3Ni78AzJaugVQ7KZ/orftAIdKKGwhcHTLdBvtLpRs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=dhA+scZVNqUnzOL0LhQp6xem4U1LOeawP8u5siTZntaDSzbyNKpgNy2OaGeAU0WNypBD8c1r/z/7Vd/IDFlKia+bw8s2OLgHlgktAPov3y/PF2QsdIhL+aozcpRj/EjNlOlweybxswrvikmrRtMtQ/3lWrgj4uAIl52JlG29lag=
Received: by 10.114.75.1 with SMTP id x1mr3075910waa.1173899919680;
        Wed, 14 Mar 2007 12:18:39 -0700 (PDT)
Received: by 10.114.155.11 with HTTP; Wed, 14 Mar 2007 12:18:39 -0700 (PDT)
Message-ID: <ae6f38f60703141218h19af09e5l68a85562c2b1c878@mail.gmail.com>
Date: Wed, 14 Mar 2007 15:18:39 -0400
From: "Walt Stoneburner" <walt.stoneburner@gmail.com>
To: java-user@lucene.apache.org
Subject: Search vs. Rank
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_53445_2934576.1173899919631"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_53445_2934576.1173899919631
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Most search engine technologies return result sets based some weighted
frequency of the search terms found.  I've got a new problem, I want to rank
by different criteria than I searched for.

For example, I might want to return as my result set all documents that
contain the word pizza, but rank them according to topping preferences (with
garlic at the top and goat cheese at the bottom).

Two questions.

1) Does Lucene allow one to mandatorily search for a term, but provide it
zero weight, while allowing other terms to have zero influence on the result
set, but affect their order?

I'm thinking something like  +pizza^0 garlic^1 "goat cheese"^-1

The concern is that I don't want any results that happen to mention garlic
or goat cheese except in the context of pizza.

2) Once I have this list of results, can I change their rank order without
having to do a full scale search again?

-wls

------=_Part_53445_2934576.1173899919631--

From java-user-return-26894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 19:33:03 2007
Return-Path: <java-user-return-26894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52416 invoked from network); 14 Mar 2007 19:33:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 19:33:03 -0000
Received: (qmail 80258 invoked by uid 500); 14 Mar 2007 19:33:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80227 invoked by uid 500); 14 Mar 2007 19:33:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80216 invoked by uid 99); 14 Mar 2007 19:33:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 12:33:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 12:32:52 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4DA405B764; Wed, 14 Mar 2007 12:32:32 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 45E8E7F403
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 12:32:32 -0700 (PDT)
Date: Wed, 14 Mar 2007 12:32:32 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Search vs. Rank
In-Reply-To: <ae6f38f60703141218h19af09e5l68a85562c2b1c878@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703141230430.27615@hal.rescomp.berkeley.edu>
References: <ae6f38f60703141218h19af09e5l68a85562c2b1c878@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I'm thinking something like  +pizza^0 garlic^1 "goat cheese"^-1

that does in fact work.

: 2) Once I have this list of results, can I change their rank order without
: having to do a full scale search again?

the frequency of "pizza' won't affect the score at all, so you should need
to do much to change the order ... but you can implement your own custom
Sort to get any order you want.

An alternate appraoch is to use a Filter to define the super set of all
things you are interested in (ie: "pizza") and then execute a Query
against that Filter that matches all docs, scoring the ones you care the
most about higher.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 20:00:03 2007
Return-Path: <java-user-return-26895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73306 invoked from network); 14 Mar 2007 20:00:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 20:00:02 -0000
Received: (qmail 56111 invoked by uid 500); 14 Mar 2007 20:00:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56064 invoked by uid 500); 14 Mar 2007 20:00:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56035 invoked by uid 99); 14 Mar 2007 20:00:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 13:00:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [217.146.189.30] (HELO web23005.mail.ird.yahoo.com) (217.146.189.30)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 14 Mar 2007 12:59:48 -0700
Received: (qmail 96933 invoked by uid 60001); 14 Mar 2007 19:59:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=WH1YMeyRrXcJCOadterMGWs5p3R/Hk1e4K+IQZ76i4ux7de2wb+uK39lUuU6lKC0X7mp6V2UhG/A5mFTcmKPbQ8NZX7HpEyP7bGvT8v963LJJi1CNMxUv2re5euXIp6OFmODWUXoCgTNHDlzWMObZzkc14Y2V7w/rlcSfY50Xww=;
X-YMail-OSG: Na3aO1AVM1lPK1aDD9teBWEa8f7n6YdWJ7iONqnzHAwzXcjWT.LKFKHN7ahz7XnyAnsU8I5_wCGqdYTjqSZbgzDH5paNL90zgJLf3WcR6P6SS.Avt.rSNySJEgo7EA--
Received: from [84.131.244.233] by web23005.mail.ird.yahoo.com via HTTP; Wed, 14 Mar 2007 19:59:25 GMT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.7.41.4
Date: Wed, 14 Mar 2007 19:59:25 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Performance between Filter and HitCollector?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
Message-ID: <995176.96900.qm@web23005.mail.ird.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

just to complete this fine answer,=0Athere is also Matcher patch (https://i=
ssues.apache.org/jira/browse/LUCENE-584)  that could bring the best of both=
 worlds via e.g. ConstantScoringQuery or another abstraction that enables d=
isabling Scoring (where appropriate)=0A=0A----- Original Message ----=0AFro=
m: Chris Hostetter <hossman_lucene@fucit.org>=0ATo: java-user@lucene.apache=
.org=0ASent: Wednesday, 14 March, 2007 7:15:06 PM=0ASubject: Re: Performanc=
e between Filter and HitCollector?=0A=0A=0Ait's kind of an Apples/Oranges c=
omparison .. in the examples you gave=0Abelow, one is executing an arbitrar=
y query (which oculd be anything) the=0Aother is doing a simple TermEnumera=
tion.=0A=0AAsuming that Query is a TermQuery, the Filter is theoreticaly go=
ing to be=0Afaster becuase it does't have to compute any Scores ... general=
ly speaking=0Aa a Filter will alwyas be a little faster then a functionally=
 equivilent=0AQuery for the purposes of building up a simple BitSet of matc=
hing=0Adocuments because teh Query involves the score calcuations ... but t=
he=0AQuery is generally more usable.=0A=0AThe Query can also be more effici=
ent in other ways, because the=0AHitCollector doesn't *have* to build a Bit=
Set, it can deal with the=0Aresults in whatever way it wants (where as a Fi=
lter allways generates a=0ABitSet).=0A=0ASolr goes the HitCollector route f=
or a few reasons:=0A  1) allows us to use hte DocSet abstraction which allo=
ws other=0A     performance benefits over straight BitSets=0A  2) allows us=
 to have simpler code that builds DocSets and DocLists=0A     (DocLists kno=
w about scores, sorting, and pagination) in a single=0A     pass when score=
s or sorting are requested.=0A=0A=0A=0A-Hoss=0A=0A=0A----------------------=
-----------------------------------------------=0ATo unsubscribe, e-mail: j=
ava-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail: j=
ava-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=09=09=0A______________=
_____________________________________________ =0AAll New Yahoo! Mail =96 Ti=
red of unwanted email come-ons? Let our SpamGuard protect you. http://uk.do=
cs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 20:34:01 2007
Return-Path: <java-user-return-26896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98968 invoked from network); 14 Mar 2007 20:33:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 20:33:53 -0000
Received: (qmail 43353 invoked by uid 500); 14 Mar 2007 20:33:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43318 invoked by uid 500); 14 Mar 2007 20:33:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43307 invoked by uid 99); 14 Mar 2007 20:33:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 13:33:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 13:33:42 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2EKXFcU002477
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 22:33:15 +0200
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3emxccq; 14 Mar 2007 22:33:00 +0200
Message-ID: <45F85C0A.4000901@teamware.com>
Date: Thu, 15 Mar 2007 07:33:14 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: [Urgent] deleteDocuments fails after merging ...
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD39@SPMWB02L.luinternal.fortis.bank> <Pine.LNX.4.58.0703141030180.23841@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703141030180.23841@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Wed, 14 Mar 2007 22:33:15 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Hostetter wrote:
> the only real reason you should really need 2 searchers at a time is if
> you are searching other queries in parallel threads at the same time ...
> or if you are warming up one new searcher that's "ondeck" while still
> serving queries with an older searcher.

Hoss, I hope I misunderstood this: are you saying that the same 
IndexSearcher/IndexReader pair can not be used concurrently against a single 
index by different threads executing different queries?

The archives have several mentions of sharing IndexSearcher among threads and 
Otis says http://www.jguru.com/faq/view.jsp?EID=492393.

Can you clarify what you meant please.

Antony




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 20:47:36 2007
Return-Path: <java-user-return-26897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6501 invoked from network); 14 Mar 2007 20:47:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 20:47:35 -0000
Received: (qmail 95446 invoked by uid 500); 14 Mar 2007 20:47:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95405 invoked by uid 500); 14 Mar 2007 20:47:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95394 invoked by uid 99); 14 Mar 2007 20:47:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 13:47:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [159.14.214.193] (HELO genomemail.chop.edu) (159.14.214.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 13:47:25 -0700
Received: from [159.14.214.144] ([159.14.214.144]) BY genomemail.chop.edu ([159.14.214.193])
 WITH ESMTP (4D WebSTAR V Mail (5.3.4)); Wed, 14 Mar 2007 16:49:42 -0500
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: 7bit
Message-Id: <A0FD4D5A-16B6-4D10-BDB7-5FFAC3AA3B33@genome.chop.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Ryan O'Hara <ohara@genome.chop.edu>
Subject: SpellChecker and Lucene 2.1
Date: Wed, 14 Mar 2007 16:47:00 -0400
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Is there a SpellChecker.jar compatible with Lucene 2.1.  After  
updating to Lucene 2.1, I seem to have lost the ability to create a  
spell index using spellchecker-2.0-rc1-dev.jar.  Any help would be  
greatly appreciated.

Thanks,
Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 21:27:07 2007
Return-Path: <java-user-return-26898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16007 invoked from network); 14 Mar 2007 21:27:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 21:27:05 -0000
Received: (qmail 29746 invoked by uid 500); 14 Mar 2007 20:57:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29713 invoked by uid 500); 14 Mar 2007 20:57:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29702 invoked by uid 99); 14 Mar 2007 20:57:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 13:57:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 13:57:37 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D305D5B764; Wed, 14 Mar 2007 13:57:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C6D1B7F403
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 13:57:16 -0700 (PDT)
Date: Wed, 14 Mar 2007 13:57:16 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: [Urgent] deleteDocuments fails after merging ...
In-Reply-To: <45F85C0A.4000901@teamware.com>
Message-ID: <Pine.LNX.4.58.0703141354440.31299@hal.rescomp.berkeley.edu>
References: <EBC8F228BDB35A4394D0BE53DA25248809A2BD39@SPMWB02L.luinternal.fortis.bank>
 <Pine.LNX.4.58.0703141030180.23841@hal.rescomp.berkeley.edu>
 <45F85C0A.4000901@teamware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: > the only real reason you should really need 2 searchers at a time is if
: > you are searching other queries in parallel threads at the same time ...
: > or if you are warming up one new searcher that's "ondeck" while still
: > serving queries with an older searcher.
:
: Hoss, I hope I misunderstood this: are you saying that the same
: IndexSearcher/IndexReader pair can not be used concurrently against a single
: index by different threads executing different queries?

no i'm saying the only reason you need two searhsers are:

  1) if, seperate from the searcher you are using to deletes (which you
seem to have a use case that involves reopening to check the deletes) you
also wnat a searcher open continuously which you use to search search
clients.

  2) if, for performance reasons, when opening a new searcher to expose a
new version of hte index, you want to open the new one, warm it up with
some queries, and only then direct new threads to the new searcher
and close the old searcher.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 22:37:52 2007
Return-Path: <java-user-return-26899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44009 invoked from network); 14 Mar 2007 22:37:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 22:37:50 -0000
Received: (qmail 48732 invoked by uid 500); 14 Mar 2007 22:37:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48691 invoked by uid 500); 14 Mar 2007 22:37:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48668 invoked by uid 99); 14 Mar 2007 22:37:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 15:37:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of burkhold@apple.com designates 17.254.13.22 as permitted sender)
Received: from [17.254.13.22] (HELO mail-out3.apple.com) (17.254.13.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 15:37:38 -0700
Received: from relay7.apple.com (a17-128-113-37.apple.com [17.128.113.37])
	by mail-out3.apple.com (8.13.8/8.13.8) with ESMTP id l2EMbI5p019212
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 15:37:18 -0700 (PDT)
Received: from relay7.apple.com (unknown [127.0.0.1])
	by relay7.apple.com (Symantec Mail Security) with ESMTP id 4CD94300BF
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 15:37:18 -0700 (PDT)
X-AuditID: 11807125-a0c78bb0000007df-fd-45f8791e5b17 
Received: from [10.0.120.6] (hwvpn-dip-pool73.apple.com [17.219.30.73])
	by relay7.apple.com (Apple SCV relay) with ESMTP id 25E2B300BC
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 15:37:18 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: 7bit
Message-Id: <D381BC1B-8A37-418E-855C-4C2ED721A458@apple.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: "Thomas K. Burkholder" <burkhold@apple.com>
Subject: Fast index traversal and update for stored field?
Date: Wed, 14 Mar 2007 15:37:17 -0700
X-Mailer: Apple Mail (2.752.2)
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi there,

I'm using lucene to index and store entries from a database table for  
ultimate retrieval as search results.  This works fine.  But I find  
myself in the position of wanting to occasionally (daily-ish) bulk- 
update a single, stored, non-indexed field in every document in the  
index, without changing any indexed value at all.

The obviously documented way to do this would be to remove and then  
re-add each updated document successively.  However, I know from  
experience that rebuilding our index from scratch in this fashion  
would take several hours at least, which is too long to delay pending  
incremental index jobs.  It seems to me that at some level it should  
be possible to iterate over all the document storage on disk and  
modify only the field I'm interested in (no index modification  
required remember as this is a field that is stored but not  
indexed).  It's plain from the documentation on file formats that it  
would be potentially possible to do this from a low level, however  
before I go possibly re-inventing that wheel, I'm wondering if anyone  
knows of any existing code out there that would aid in solving this  
problem.

Thanks in advance,

//Thomas
Thomas K. Burkholder
Code Janitor

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 14 23:51:17 2007
Return-Path: <java-user-return-26900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58820 invoked from network); 14 Mar 2007 23:51:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 14 Mar 2007 23:51:17 -0000
Received: (qmail 55361 invoked by uid 500); 14 Mar 2007 23:51:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54797 invoked by uid 500); 14 Mar 2007 23:51:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54779 invoked by uid 99); 14 Mar 2007 23:51:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 16:51:18 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.90.181 as permitted sender)
Received: from [66.249.90.181] (HELO ik-out-1112.google.com) (66.249.90.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 16:51:07 -0700
Received: by ik-out-1112.google.com with SMTP id b35so332950ika
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 16:50:46 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LQwOViCWY2RIUFvjoyYqbddyzkcs711fNht8BHIGxqI8JZIt6aPu8BbFBZih9pstnoJ6XdwTccwkXXyn+tAb0IK3cUP6lnQ38v1WvF9qdtbTgH5rvOj9DPYZEf8Vd+Wi3NGEESJy8OCOfsdoBw/KlIttWr4y4Y63DDv1y2lvWpA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Uf0H9XfgO3VmElD2HxXOzV2g9puxtIx+2z6hUr+BdHrHue07nP0zzmtGMNJivHLxLyOxo+rvIl9e8DCmB5W3ilbLIrOYf06tVAy3R74u76UCL32PxqkUx1ad0lXHvD0wT1WZ9UrsI0v6zDgDTNzuLYS6K1x+zSDB69so6K4IRu8=
Received: by 10.114.13.1 with SMTP id 1mr3221673wam.1173916242157;
        Wed, 14 Mar 2007 16:50:42 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Wed, 14 Mar 2007 16:50:37 -0700 (PDT)
Message-ID: <359a92830703141650u43c80874id62118da0b06d1d3@mail.gmail.com>
Date: Wed, 14 Mar 2007 19:50:37 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Fast index traversal and update for stored field?
In-Reply-To: <D381BC1B-8A37-418E-855C-4C2ED721A458@apple.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_63105_15619525.1173916237107"
References: <D381BC1B-8A37-418E-855C-4C2ED721A458@apple.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_63105_15619525.1173916237107
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

If you search the mail archive for "update in place" (no quotes),
you'll find extensive discussions of this idea. Although you're
raising an interesting variant because you're talking about a non-
indexed field, so now I'm not sure those discussions are relevant.

I don't know of anyone who has done what you're asking though...

But if it's just stored data, you could go out to a database and
pick it up at search time, although there are sound reasons for
not requiring a database connection.

What about having a separate index for just this one field? And
make it an indexed value, along with some id (not the Lucene ID,
probably) of your original. Something like

index fields
ID  (unique ID for each document)
field (the corresponding value).

Searching this should be very fast, and if the usual Hits based
search wasn't fast enough, perhaps something with
termenum/termdocs would be faster.

Or you could just index the unique ID and store (but not index)
the field. Hits or variants should work for that too.

So the general algorithm would be:

search main index
for each hit:
   search second index and fetch that field

I have no idea whether this has any traction for your problem
space, but I thought I'd mention it. This assumes that building
the mutable index would be acceptably fast...

Although conceptually, this is really just a Map of ID/value pairs.
I have no idea how much data you're talking about, but if it's not
a huge data set, might it be possible just to store it in
a simple map and look it up that way?

And if I'm all wet, I'm sure others will chime in...

Best
Erick
*

*
On 3/14/07, Thomas K. Burkholder <burkhold@apple.com> wrote:
>
> Hi there,
>
> I'm using lucene to index and store entries from a database table for
> ultimate retrieval as search results.  This works fine.  But I find
> myself in the position of wanting to occasionally (daily-ish) bulk-
> update a single, stored, non-indexed field in every document in the
> index, without changing any indexed value at all.
>
> The obviously documented way to do this would be to remove and then
> re-add each updated document successively.  However, I know from
> experience that rebuilding our index from scratch in this fashion
> would take several hours at least, which is too long to delay pending
> incremental index jobs.  It seems to me that at some level it should
> be possible to iterate over all the document storage on disk and
> modify only the field I'm interested in (no index modification
> required remember as this is a field that is stored but not
> indexed).  It's plain from the documentation on file formats that it
> would be potentially possible to do this from a low level, however
> before I go possibly re-inventing that wheel, I'm wondering if anyone
> knows of any existing code out there that would aid in solving this
> problem.
>
> Thanks in advance,
>
> //Thomas
> Thomas K. Burkholder
> Code Janitor
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_63105_15619525.1173916237107--

From java-user-return-26901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 00:36:08 2007
Return-Path: <java-user-return-26901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68109 invoked from network); 15 Mar 2007 00:36:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 00:36:07 -0000
Received: (qmail 2898 invoked by uid 500); 15 Mar 2007 00:36:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2864 invoked by uid 500); 15 Mar 2007 00:36:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2849 invoked by uid 99); 15 Mar 2007 00:36:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 17:36:08 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of burkhold@apple.com designates 17.254.13.23 as permitted sender)
Received: from [17.254.13.23] (HELO mail-out4.apple.com) (17.254.13.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 17:35:56 -0700
Received: from relay7.apple.com (relay7.apple.com [17.128.113.37])
	by mail-out4.apple.com (8.13.8/8.13.8) with ESMTP id l2F0ZZh0015231
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 17:35:35 -0700 (PDT)
Received: from relay7.apple.com (unknown [127.0.0.1])
	by relay7.apple.com (Symantec Mail Security) with ESMTP id 9C66A30051
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 17:35:35 -0700 (PDT)
X-AuditID: 11807125-a1479bb0000007df-89-45f894d7b1a1 
Received: from [10.0.120.6] (hwvpn-dip-pool73.apple.com [17.219.30.73])
	by relay7.apple.com (Apple SCV relay) with ESMTP id 66DE330030
	for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 17:35:35 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <359a92830703141650u43c80874id62118da0b06d1d3@mail.gmail.com>
References: <D381BC1B-8A37-418E-855C-4C2ED721A458@apple.com> <359a92830703141650u43c80874id62118da0b06d1d3@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B23FD24F-ECE4-4B1F-8E02-F7666AEADA96@apple.com>
Content-Transfer-Encoding: 7bit
From: "Thomas K. Burkholder" <burkhold@apple.com>
Subject: Re: Fast index traversal and update for stored field?
Date: Wed, 14 Mar 2007 17:35:34 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hey, thanks for the quick reply.

I've considered using a secondary index just for this data but  
thought I would look at storing the data in lucene first, since  
ultimately this data gets transported to an outside system, and it's  
a lot easier if there's only one "thing" to transfer.  The  
destination environment that receives this lucene index doesn't (and  
shouldn't) have access to the database, which is why we don't simply  
store it there.  Even if it did, we try not to access the database  
for search results when we don't have to, as this tends to make  
searching slow (as I think you were alluding to).

Sounds like there's nothing "out of the box" to solve my problem; if  
I write something to update lucene indexes in place I'll follow up  
about it in here (don't know that I will though; building a new,  
narrower index is probably more expedient and will probably be fast  
enough for my purposes in this case).

Thanks again,

//Thomas

On Mar 14, 2007, at 4:50 PM, Erick Erickson wrote:

> If you search the mail archive for "update in place" (no quotes),
> you'll find extensive discussions of this idea. Although you're
> raising an interesting variant because you're talking about a non-
> indexed field, so now I'm not sure those discussions are relevant.
>
> I don't know of anyone who has done what you're asking though...
>
> But if it's just stored data, you could go out to a database and
> pick it up at search time, although there are sound reasons for
> not requiring a database connection.
>
> What about having a separate index for just this one field? And
> make it an indexed value, along with some id (not the Lucene ID,
> probably) of your original. Something like
>
> index fields
> ID  (unique ID for each document)
> field (the corresponding value).
>
> Searching this should be very fast, and if the usual Hits based
> search wasn't fast enough, perhaps something with
> termenum/termdocs would be faster.
>
> Or you could just index the unique ID and store (but not index)
> the field. Hits or variants should work for that too.
>
> So the general algorithm would be:
>
> search main index
> for each hit:
>   search second index and fetch that field
>
> I have no idea whether this has any traction for your problem
> space, but I thought I'd mention it. This assumes that building
> the mutable index would be acceptably fast...
>
> Although conceptually, this is really just a Map of ID/value pairs.
> I have no idea how much data you're talking about, but if it's not
> a huge data set, might it be possible just to store it in
> a simple map and look it up that way?
>
> And if I'm all wet, I'm sure others will chime in...
>
> Best
> Erick
> *
>
> *
> On 3/14/07, Thomas K. Burkholder <burkhold@apple.com> wrote:
>>
>> Hi there,
>>
>> I'm using lucene to index and store entries from a database table for
>> ultimate retrieval as search results.  This works fine.  But I find
>> myself in the position of wanting to occasionally (daily-ish) bulk-
>> update a single, stored, non-indexed field in every document in the
>> index, without changing any indexed value at all.
>>
>> The obviously documented way to do this would be to remove and then
>> re-add each updated document successively.  However, I know from
>> experience that rebuilding our index from scratch in this fashion
>> would take several hours at least, which is too long to delay pending
>> incremental index jobs.  It seems to me that at some level it should
>> be possible to iterate over all the document storage on disk and
>> modify only the field I'm interested in (no index modification
>> required remember as this is a field that is stored but not
>> indexed).  It's plain from the documentation on file formats that it
>> would be potentially possible to do this from a low level, however
>> before I go possibly re-inventing that wheel, I'm wondering if anyone
>> knows of any existing code out there that would aid in solving this
>> problem.
>>
>> Thanks in advance,
>>
>> //Thomas
>> Thomas K. Burkholder
>> Code Janitor
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 02:01:01 2007
Return-Path: <java-user-return-26902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 353 invoked from network); 15 Mar 2007 02:00:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 02:00:59 -0000
Received: (qmail 1266 invoked by uid 500); 15 Mar 2007 02:00:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1242 invoked by uid 500); 15 Mar 2007 02:00:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1218 invoked by uid 99); 15 Mar 2007 02:00:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 19:00:48 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.196.97.114] (HELO web57010.mail.re3.yahoo.com) (66.196.97.114)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 14 Mar 2007 19:00:37 -0700
Received: (qmail 97881 invoked by uid 60001); 15 Mar 2007 02:00:16 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=bnV/oJp4r4mVlf/EfzLx1LfwtW+rNmaqqwMPrTZu9yX/0WUsru38MrRFcxi0PCGZnJEJBIqW79hlKh44adDHTSocFZG7hXSRPtQDMCCt+mPidk+/ch0TKVevtR738zqrNLfQCAaHFaKpFrAL1NJEClHMwmpB0lMUeGitN2F35JI=;
X-YMail-OSG: Ka19AEsVM1k6q9w9a8bCuPKwtIQLKJ791FwGk0qXAZ_rS.7jBctYoPWCj1eZAu2D8g--
Received: from [69.255.227.192] by web57010.mail.re3.yahoo.com via HTTP; Wed, 14 Mar 2007 19:00:16 PDT
Date: Wed, 14 Mar 2007 19:00:16 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Re: how to get approximate total matching
To: java-user@lucene.apache.org
In-Reply-To: <21e234c60703140610t2296d895o8fa5c3ab2dd5f765@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1086197521-1173924016=:95948"
Content-Transfer-Encoding: 8bit
Message-ID: <912395.95948.qm@web57010.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1086197521-1173924016=:95948
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

If I remember correctly, I once searched over 40G of indexes using multi-searcher with 512M max heap size, how much memory did you give the JVM?
Thanks,
Xiaocheng

senthil kumaran <kumaranjove@gmail.com> wrote: Hi.
    I have more index directories (>6) all in GB,and searching my query with
single IndexSearcher  to all indexes one after another.i.e. I create one
IndexSearcher for index1 and search over that.Finally I close that and
create new IndexSearcher for index2 and so on. If i get 200 total results
then i don't go to search other index directories and i print 200 results
and exit from search.
    I need to get approximate total matching documents all over the indexes
without going to search in other indexes.
    Please suggest me a easiest way to achieve this.

P.S: To avoid more memory usage and to reduce search timeI don't want to
search my query through all indexes if i got 200 results. MultiSearcher
create OOM error,  so that I'm using single IndexSearcher.


Thanks in Advance
Senthil


 
---------------------------------
Don't get soaked.  Take a quick peek at the forecast 
 with theYahoo! Search weather shortcut.
--0-1086197521-1173924016=:95948--

From java-user-return-26903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 02:26:31 2007
Return-Path: <java-user-return-26903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12555 invoked from network); 15 Mar 2007 02:26:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 02:26:30 -0000
Received: (qmail 35462 invoked by uid 500); 15 Mar 2007 02:26:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35423 invoked by uid 500); 15 Mar 2007 02:26:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35412 invoked by uid 99); 15 Mar 2007 02:26:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 19:26:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.49.112] (HELO web54302.mail.yahoo.com) (206.190.49.112)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 14 Mar 2007 19:26:18 -0700
Received: (qmail 19572 invoked by uid 60001); 15 Mar 2007 02:25:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=fqqJaVamdb6jAjMVZ7y3YBaAOlyYBMwihlSIpSv8C2GzyA5QxSUuzOthHLoQ5cGVPlM6sUKVVeHIRqi92zgNWhE3XkR5iP/WZG3EbAFSos/7kM1bbyYN7lngw1VV5KjENc4EMvq2Y+cDBTYWaB3gmh/Kr8gMg5lNpX9EcQTfBaw=;
X-YMail-OSG: 7pMAX0EVM1n59KImfryIXY0rb7CgexuDB6LZjdAKNMi_MiTJR.BLIcvemHrR1EB05WA3.OvfGD2A4w_L.h0ZeaYVocb8v9IyVfQbxuNvhEVguVEKytkj7WqX_ipxQK_xyB_eBSYzXLJ0in93ex26a14-
Received: from [74.139.212.16] by web54302.mail.yahoo.com via HTTP; Wed, 14 Mar 2007 19:25:52 PDT
Date: Wed, 14 Mar 2007 19:25:52 -0700 (PDT)
From: Maryam <mkar160@yahoo.com>
Subject: Indexing HTML pages and phrases
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <848735.17763.qm@web54302.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, 

I am wondering if we can index a phrase (not term) in
Lucene? Also, I am not usre if it can index HTML
pages? I need to have access to the text of some of
tags, I am not sure if this can be done in Lucene. I
would be so glad if you help me in this case. 

Thanks 



 
____________________________________________________________________________________
Expecting? Get great news right away with email Auto-Check. 
Try the Yahoo! Mail Beta.
http://advision.webevents.yahoo.com/mailbeta/newmail_tools.html 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 02:48:57 2007
Return-Path: <java-user-return-26904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17468 invoked from network); 15 Mar 2007 02:48:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 02:48:56 -0000
Received: (qmail 56648 invoked by uid 500); 15 Mar 2007 02:48:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56625 invoked by uid 500); 15 Mar 2007 02:48:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 77989 invoked by uid 99); 14 Mar 2007 21:12:35 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
X-BrightmailFiltered: true
X-IronPort-AV: i="4.14,285,1170651600"; 
   d="scan'208,217"; a="49224078:sNHT56214606"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C7667D.69B65CD7"
Subject: Is Lucene Java trunk still stable for production code?
Date: Wed, 14 Mar 2007 17:12:02 -0400
Message-ID: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C88E4@MT-EXCH01.nuance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Is Lucene Java trunk still stable for production code?
Thread-Index: AcdmfWlJFm5G3kz5SNunilPaytPcZQ==
From: "Jean-Philippe Robichaud" <Jean-Philippe.Robichaud@nuance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C7667D.69B65CD7
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello Dear Lucene Users!

=20

Back in the old days (well, last year) the lucene/java/trunk subversion
path was always stable enough for everyone to use into production code.
Now, with the 2.0/2.1/2.2 braches, is it still the case? =20

=20

In December, I 'ported' my app to use the lucene 2.0 release.  Now, I
have another chance to upgrade the production code (this is not
happening every month!) so I would like to upgrade the lucene library
I'm using to take advantage of performance gains.  Should I just update
my svn image from lucene/java/trunk or should I take
lucene/java/branches/lucene_2_1

=20

Thanks!

=20

Jp


------_=_NextPart_001_01C7667D.69B65CD7--

From java-user-return-26905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 03:10:20 2007
Return-Path: <java-user-return-26905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21285 invoked from network); 15 Mar 2007 03:10:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 03:10:19 -0000
Received: (qmail 78174 invoked by uid 500); 15 Mar 2007 03:10:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78145 invoked by uid 500); 15 Mar 2007 03:10:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78134 invoked by uid 99); 15 Mar 2007 03:10:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 20:10:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.56] (HELO web50302.mail.re2.yahoo.com) (206.190.38.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 14 Mar 2007 20:10:08 -0700
Received: (qmail 90763 invoked by uid 60001); 15 Mar 2007 03:09:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=bPq03+1tCabWQL22tERDfbsWjfKtVxaq2Mk9LzLR/gqdEmDFWOcZsG/BP1m0qXWXivHx3GfSm68AfCaoO6zdF3SNFrpyO/shBU8UcfUmHlbkmqNy/CxSl2U+sH76/JXigZzPgXiu6uWt9i5HIctL1btcBpC57HjTx+fTXyWddao=  ;
Message-ID: <20070315030944.90761.qmail@web50302.mail.re2.yahoo.com>
X-YMail-OSG: TyIOIQkVM1lU_8dSRZGWnP4CwfQb4QRiT3RIlhjhUtQoljVDrCv5D.XAzJoG3CCfUE8sr07zqlF0Ev6CXDkdv0dzDO7Hq6jmjb5EMN7.kZWB45eDRP5gV9ZxfVsYglZ18YUaG532ptqRxruVdYGm2F.JdQ--
Received: from [74.73.75.122] by web50302.mail.re2.yahoo.com via HTTP; Wed, 14 Mar 2007 20:09:44 PDT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Wed, 14 Mar 2007 20:09:44 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Performance between Filter and HitCollector?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

eks dev and others - have you tried using the code from LUCENE-584?  Notice=
d any performance increase when you disabled scoring?  I'd like to look at =
that patch soon and commit it if everything is in place and makes sense, so=
 I'm curious if you or anyone else already tried this patch...=0A=0AThanks,=
=0AOtis=0A . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .=0ASi=
mpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share=0A=0A----- Origin=
al Message ----=0AFrom: eks dev <eksdev@yahoo.co.uk>=0ATo: java-user@lucene=
.apache.org=0ASent: Wednesday, March 14, 2007 3:59:25 PM=0ASubject: Re: Per=
formance between Filter and HitCollector?=0A=0Ajust to complete this fine a=
nswer,=0Athere is also Matcher patch (https://issues.apache.org/jira/browse=
/LUCENE-584)  that could bring the best of both worlds via e.g. ConstantSco=
ringQuery or another abstraction that enables disabling Scoring (where appr=
opriate)=0A=0A----- Original Message ----=0AFrom: Chris Hostetter <hossman_=
lucene@fucit.org>=0ATo: java-user@lucene.apache.org=0ASent: Wednesday, 14 M=
arch, 2007 7:15:06 PM=0ASubject: Re: Performance between Filter and HitColl=
ector?=0A=0A=0Ait's kind of an Apples/Oranges comparison .. in the examples=
 you gave=0Abelow, one is executing an arbitrary query (which oculd be anyt=
hing) the=0Aother is doing a simple TermEnumeration.=0A=0AAsuming that Quer=
y is a TermQuery, the Filter is theoreticaly going to be=0Afaster becuase i=
t does't have to compute any Scores ... generally speaking=0Aa a Filter wil=
l alwyas be a little faster then a functionally equivilent=0AQuery for the =
purposes of building up a simple BitSet of matching=0Adocuments because teh=
 Query involves the score calcuations ... but the=0AQuery is generally more=
 usable.=0A=0AThe Query can also be more efficient in other ways, because t=
he=0AHitCollector doesn't *have* to build a BitSet, it can deal with the=0A=
results in whatever way it wants (where as a Filter allways generates a=0AB=
itSet).=0A=0ASolr goes the HitCollector route for a few reasons:=0A  1) all=
ows us to use hte DocSet abstraction which allows other=0A     performance =
benefits over straight BitSets=0A  2) allows us to have simpler code that b=
uilds DocSets and DocLists=0A     (DocLists know about scores, sorting, and=
 pagination) in a single=0A     pass when scores or sorting are requested.=
=0A=0A=0A=0A-Hoss=0A=0A=0A-------------------------------------------------=
--------------------=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene=
.apache.org=0AFor additional commands, e-mail: java-user-help@lucene.apache=
.org=0A=0A=0A=0A=0A=0A=0A        =0A_______________________________________=
____________________ =0AAll New Yahoo! Mail =96 Tired of unwanted email com=
e-ons? Let our SpamGuard protect you. http://uk.docs.yahoo.com/nowyoucan.ht=
ml=0A=0A-------------------------------------------------------------------=
--=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor =
additional commands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 04:28:28 2007
Return-Path: <java-user-return-26906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40313 invoked from network); 15 Mar 2007 04:28:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 04:28:27 -0000
Received: (qmail 72860 invoked by uid 500); 15 Mar 2007 04:28:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72818 invoked by uid 500); 15 Mar 2007 04:28:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72807 invoked by uid 99); 15 Mar 2007 04:28:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 21:28:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 21:28:18 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2F4Rq4V021337
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 06:27:52 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3f6ryey; 15 Mar 2007 06:27:00 +0200
Message-ID: <45F8CB38.1000401@teamware.com>
Date: Thu, 15 Mar 2007 15:27:36 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Performance between Filter and HitCollector?
References: <45F62B04.1050702@teamware.com> <Pine.LNX.4.58.0703141103500.23841@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703141103500.23841@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Thu, 15 Mar 2007 06:27:52 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the detailed reponse Hoss.  That's the sort of in depth golden nugget 
I'd like to see in a copy of LIA 2 when it becomes available...

I've wanted to use Filter to cache certain of my Term Queries, as it looked 
faster for straight Term Query searches, but Solr's DocSet interface abstraction 
is more useful.  HashDocSet will probably satisfy 90% of my cache.

Index DBs will typically be in the 1-3 million  documents range, but for mail 
which is spread over 1-6K user, so caching lots of BitSets for that number of 
users in not practical!

I ended up creating a DocSetFilter and creating DocSets (a la Solr) from BitSet 
which is then cached.  I then convert it back during Filter.bits().  Not the 
best solution, but the typical hit size is small, so the iteration is fast.

Thanks eks dev for the info about Lucene-584 - that looks like an interesting 
set of patches.

Antony

Chris Hostetter wrote:
> it's kind of an Apples/Oranges comparison .. in the examples you gave
> below, one is executing an arbitrary query (which oculd be anything) the
> other is doing a simple TermEnumeration.
> 
> Asuming that Query is a TermQuery, the Filter is theoreticaly going to be
> faster becuase it does't have to compute any Scores ... generally speaking
> a a Filter will alwyas be a little faster then a functionally equivilent
> Query for the purposes of building up a simple BitSet of matching
> documents because teh Query involves the score calcuations ... but the
> Query is generally more usable.
> 
> The Query can also be more efficient in other ways, because the
> HitCollector doesn't *have* to build a BitSet, it can deal with the
> results in whatever way it wants (where as a Filter allways generates a
> BitSet).
> 
> Solr goes the HitCollector route for a few reasons:
>   1) allows us to use hte DocSet abstraction which allows other
>      performance benefits over straight BitSets
>   2) allows us to have simpler code that builds DocSets and DocLists
>      (DocLists know about scores, sorting, and pagination) in a single
>      pass when scores or sorting are requested.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 05:34:42 2007
Return-Path: <java-user-return-26907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60063 invoked from network); 15 Mar 2007 05:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 05:34:41 -0000
Received: (qmail 50627 invoked by uid 500); 15 Mar 2007 05:34:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50592 invoked by uid 500); 15 Mar 2007 05:34:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50581 invoked by uid 99); 15 Mar 2007 05:34:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 22:34:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 22:34:30 -0700
Received: by ug-out-1314.google.com with SMTP id k40so201167ugc
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 22:34:09 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=f7gMVthnZQZlVzYysOgYEc8E/1R9B9qtNOK5kfo3m4vY0QQUNmKePE1mKXoVCVUcyVoJbZTNJVz0xnaCOMaHoAI3EcCpUZBcsTf8yulDICkf0735E+L8R0KZuqQ+OhVRcraFVWtOc14J9JHmuMuQ+ifObalWAlSLxiZ9WjPHpg4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=bgEyK6uor7P0AXkt7/b0CYrhzPXJJk9/yZSsmqJzB9hcLcrqX4Uzxsed1uIIYhm2M6EuU3BUTwWvCvi26gcWdrrXQsqDSul3UFjDENRXisYfIxet4bcUPQ03Tq7mxmyvAdngDfYy5KKHX+cxu8tjybZliNmatp7ENwZZavJrjK0=
Received: by 10.67.97.7 with SMTP id z7mr2229745ugl.1173936849358;
        Wed, 14 Mar 2007 22:34:09 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id w7sm599236mue.2007.03.14.22.34.07;
        Wed, 14 Mar 2007 22:34:08 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <A0FD4D5A-16B6-4D10-BDB7-5FFAC3AA3B33@genome.chop.edu>
References: <A0FD4D5A-16B6-4D10-BDB7-5FFAC3AA3B33@genome.chop.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B5337A06-A8AC-4FAB-A98E-354D8A79C53E@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: SpellChecker and Lucene 2.1
Date: Thu, 15 Mar 2007 06:34:03 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


14 mar 2007 kl. 21.47 skrev Ryan O'Hara:

> Is there a SpellChecker.jar compatible with Lucene 2.1.  After  
> updating to Lucene 2.1, I seem to have lost the ability to create a  
> spell index using spellchecker-2.0-rc1-dev.jar.  Any help would be  
> greatly appreciated.

Can you explain the problem more detailed? Exceptions? API changes?

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 06:07:31 2007
Return-Path: <java-user-return-26908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66231 invoked from network); 15 Mar 2007 06:07:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 06:07:29 -0000
Received: (qmail 88251 invoked by uid 500); 15 Mar 2007 06:07:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88205 invoked by uid 500); 15 Mar 2007 06:07:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88192 invoked by uid 99); 15 Mar 2007 06:07:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 23:07:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 23:07:19 -0700
Received: by ug-out-1314.google.com with SMTP id k40so208111ugc
        for <java-user@lucene.apache.org>; Wed, 14 Mar 2007 23:06:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=M+5zHd2AmeQjV5YgRK/9ugpD+7PloO00hfDGRW2FZDTfIgG4oAcKkO4TZm2QGth2SiT4FuiSiIXU/+Orjdu6ppfWhEB3jGQ4MVt6iisy10xIbWdBof9RuDJWA5a+bvDNeGOqzAmLebJX/zid81IiTtz99y/rT3MiVBZSpOvnEv8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Hpe2LERtU4Kf/MRS/UMPsrFrigvo+E0TXTw6r35V8BmwArd//Bfsch5LmNC5Xj4iw0bJ7WMoBCxva5i8Tm4jbUsHP9zLbyz4Ce8riraosqCdfbt5QQg2S47FCzgHcr13GcBM2L4C2bdmRZIS7hMRJx7eoRxUagtsFKtYrmvWmdo=
Received: by 10.78.204.7 with SMTP id b7mr158826hug.1173938817668;
        Wed, 14 Mar 2007 23:06:57 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id j9sm678254mue.2007.03.14.23.06.56;
        Wed, 14 Mar 2007 23:06:56 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <20070315030944.90761.qmail@web50302.mail.re2.yahoo.com>
References: <20070315030944.90761.qmail@web50302.mail.re2.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <41F47C22-2F0C-4567-8510-257EBA6A4F45@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Performance between Filter and HitCollector?
Date: Thu, 15 Mar 2007 07:06:53 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


15 mar 2007 kl. 04.09 skrev Otis Gospodnetic:

> eks dev and others - have you tried using the code from  
> LUCENE-584?  Noticed any performance increase when you disabled  
> scoring?  I'd like to look at that patch soon and commit it if  
> everything is in place and makes sense, so I'm curious if you or  
> anyone else already tried this patch...

I was trying out Matcher some month ago when fooling around with ways  
of improving speed in the "active search cache" of LUCENE-550. It  
worked just fine for me. I made no futher investigations, nor do I  
have any performance details. I plan to implement it in there for  
real any year now.

So +1 for commit.


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 06:34:29 2007
Return-Path: <java-user-return-26909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71614 invoked from network); 15 Mar 2007 06:34:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 06:34:29 -0000
Received: (qmail 27829 invoked by uid 500); 15 Mar 2007 06:34:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27806 invoked by uid 500); 15 Mar 2007 06:34:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27795 invoked by uid 99); 15 Mar 2007 06:34:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 23:34:30 -0700
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.197.35.8] (HELO rediff.co.in) (203.197.35.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 23:34:18 -0700
Received: (qmail 8761 invoked from network); 15 Mar 2007 12:00:01 +0530
Received: from unknown (HELO bhavin) (202.137.232.130)
  by mailserver with SMTP; 15 Mar 2007 12:00:01 +0530
Message-ID: <005301c766cb$d797ea00$d50310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <848735.17763.qm@web54302.mail.yahoo.com>
Subject: Re: Indexing HTML pages and phrases
Date: Thu, 15 Mar 2007 12:03:27 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org


----- Original Message ----- 
From: "Maryam" <mkar160@yahoo.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 15, 2007 7:55 AM
Subject: Indexing HTML pages and phrases


> Hi,
>
> I am wondering if we can index a phrase (not term) in
> Lucene? Also, I am not usre if it can index HTML
> pages? I need to have access to the text of some of
> tags, I am not sure if this can be done in Lucene. I
> would be so glad if you help me in this case.
>
> Thanks
>
>
>
>
> ____________________________________________________________________________________
> Expecting? Get great news right away with email Auto-Check.
> Try the Yahoo! Mail Beta.
> http://advision.webevents.yahoo.com/mailbeta/newmail_tools.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 06:38:03 2007
Return-Path: <java-user-return-26910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72156 invoked from network); 15 Mar 2007 06:38:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 06:38:02 -0000
Received: (qmail 32412 invoked by uid 500); 15 Mar 2007 06:38:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31586 invoked by uid 500); 15 Mar 2007 06:38:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31575 invoked by uid 99); 15 Mar 2007 06:38:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 23:38:02 -0700
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.197.35.8] (HELO rediff.co.in) (203.197.35.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Mar 2007 23:37:51 -0700
Received: (qmail 10094 invoked from network); 15 Mar 2007 12:03:35 +0530
Received: from unknown (HELO bhavin) (202.137.232.130)
  by mailserver with SMTP; 15 Mar 2007 12:03:35 +0530
Message-ID: <006101c766cc$576fba50$d50310ac@bhavin>
Reply-To: "Bhavin Pandya" <bhavinp@rediff.co.in>
From: "Bhavin Pandya" <bhavinp@rediff.co.in>
To: <java-user@lucene.apache.org>
References: <848735.17763.qm@web54302.mail.yahoo.com>
Subject: Re: Indexing HTML pages and phrases
Date: Thu, 15 Mar 2007 12:07:02 +0530
Organization: rediff.com
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Maryam,

You can index the content of specific field as UN_TOKENIZED and then you can 
do phrase search on that field..
It will search for only phrases not tokens...
To index HTML pages you can use any HTML parser...
this may be useful to you..
http://lucene.apache.org/java/docs/api/org/apache/lucene/demo/html/HTMLParser.html

Thanks.
Bhavin pandya


----- Original Message ----- 
From: "Maryam" <mkar160@yahoo.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, March 15, 2007 7:55 AM
Subject: Indexing HTML pages and phrases


> Hi,
>
> I am wondering if we can index a phrase (not term) in
> Lucene? Also, I am not usre if it can index HTML
> pages? I need to have access to the text of some of
> tags, I am not sure if this can be done in Lucene. I
> would be so glad if you help me in this case.
>
> Thanks
>
>
>
>
> ____________________________________________________________________________________
> Expecting? Get great news right away with email Auto-Check.
> Try the Yahoo! Mail Beta.
> http://advision.webevents.yahoo.com/mailbeta/newmail_tools.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 09:21:14 2007
Return-Path: <java-user-return-26911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27837 invoked from network); 15 Mar 2007 09:21:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 09:21:13 -0000
Received: (qmail 76651 invoked by uid 500); 15 Mar 2007 09:21:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76629 invoked by uid 500); 15 Mar 2007 09:21:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76618 invoked by uid 99); 15 Mar 2007 09:21:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 02:21:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [217.146.189.37] (HELO web23012.mail.ird.yahoo.com) (217.146.189.37)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Mar 2007 02:21:00 -0700
Received: (qmail 22495 invoked by uid 60001); 15 Mar 2007 09:20:31 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=iH9YYzqt0ninDwGDiUScPQfh3bdj8dxs/u+Md8ruQgYv2myaUDEfsW+yNH2xR4hLAmdTiqeGxvAN9l8Iv0tFIWQZWk7A3wpVXlCIaaH+qLAwt+1kvw4yvXv/qpAxuM6DnOGcwMfBHk3aU9j0jbBnXtANXzcWKR2V9RKbivxdz5I=;
X-YMail-OSG: b5Vzxv0VM1lLfz78TAq37lskYvre6LinTzBjqxyyB.n2rEZPlqbsYx8W8zc_OddswScJWCe_orprTwVCB8H4ucYxYuT9S.VCiy._.8FLRz0Ooxw1PjIvywjWn7GiBSFQ6VabCFwnEAg.
Received: from [84.131.215.87] by web23012.mail.ird.yahoo.com via HTTP; Thu, 15 Mar 2007 09:20:30 GMT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Thu, 15 Mar 2007 09:20:30 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Performance between Filter and HitCollector?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <931804.21898.qm@web23012.mail.ird.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

great! =0A=0Aa few words to refresh my memory, it's been a while...=0A=0A- =
This patch lays only groundwork and should not cause any performance change=
s in existing code per se, that is what we have tested extensively some mon=
ths ago (compatibility), it applied cleanly,  passed all Junit tests and ou=
r internal regression test noticed no difference in speed or behavior, benc=
hmarking code was not existent at that time. =0A=0A- it removes Filter depe=
ndency on BitSet and provides a few BitSet alternatives, which is in itself=
 quantum leap in Filter usage as it makes endless possibilities (e.g. solr =
OpenBitSet would bring immediate speed-up, much better Filter cache  effici=
ency...). We made a few experiments where we replaced BitSet with VInt and =
OpenBitSet implementations and significant (up to 40%) speed-ups, but it wa=
s a long time ago.=0A=0A- What we did not attempt is to disable Scoring sys=
tematically (that would be the next step after having this patch committed,=
 practically using Matcher, I expect quite a few patches to follow, e.g. Co=
nstantScoringQuery). =0A=0AI am not very familiar with Scoring part of the =
code, but I am somehow convinced it would be now relatively easy  to suppor=
t "pure boolean clauses" in Query, without using Filter. So the end user co=
uld specify new WhateverQuery.setScored(false) or some so, .... ah, whateve=
r, let us have Matcher committed first as the benefit of getting rid of mem=
ory hungry BitSet in Filter justifies it completely.=0A=0Amany thanks for t=
aking this forward! it will help us to get rid of some really ugly code we =
now maintain (just to get rid of BitSet)....=0A=0A=0A=0A=0A=0A----- Origina=
l Message ----=0AFrom: Otis Gospodnetic <otis_gospodnetic@yahoo.com>=0ATo: =
java-user@lucene.apache.org=0ASent: Thursday, 15 March, 2007 4:09:44 AM=0AS=
ubject: Re: Performance between Filter and HitCollector?=0A=0Aeks dev and o=
thers - have you tried using the code from LUCENE-584?  Noticed any perform=
ance increase when you disabled scoring?  I'd like to look at that patch so=
on and commit it if everything is in place and makes sense, so I'm curious =
if you or anyone else already tried this patch...=0A=0AThanks,=0AOtis=0A . =
. . . . . . . . . . . . . . . . . . . . . . . . . . . . .=0ASimpy -- http:/=
/www.simpy.com/  -  Tag  -  Search  -  Share=0A=0A----- Original Message --=
--=0AFrom: eks dev <eksdev@yahoo.co.uk>=0ATo: java-user@lucene.apache.org=
=0ASent: Wednesday, March 14, 2007 3:59:25 PM=0ASubject: Re: Performance be=
tween Filter and HitCollector?=0A=0Ajust to complete this fine answer,=0Ath=
ere is also Matcher patch (https://issues.apache.org/jira/browse/LUCENE-584=
)  that could bring the best of both worlds via e.g. ConstantScoringQuery o=
r another abstraction that enables disabling Scoring (where appropriate)=0A=
=0A----- Original Message ----=0AFrom: Chris Hostetter <hossman_lucene@fuci=
t.org>=0ATo: java-user@lucene.apache.org=0ASent: Wednesday, 14 March, 2007 =
7:15:06 PM=0ASubject: Re: Performance between Filter and HitCollector?=0A=
=0A=0Ait's kind of an Apples/Oranges comparison .. in the examples you gave=
=0Abelow, one is executing an arbitrary query (which oculd be anything) the=
=0Aother is doing a simple TermEnumeration.=0A=0AAsuming that Query is a Te=
rmQuery, the Filter is theoreticaly going to be=0Afaster becuase it does't =
have to compute any Scores ... generally speaking=0Aa a Filter will alwyas =
be a little faster then a functionally equivilent=0AQuery for the purposes =
of building up a simple BitSet of matching=0Adocuments because teh Query in=
volves the score calcuations ... but the=0AQuery is generally more usable.=
=0A=0AThe Query can also be more efficient in other ways, because the=0AHit=
Collector doesn't *have* to build a BitSet, it can deal with the=0Aresults =
in whatever way it wants (where as a Filter allways generates a=0ABitSet).=
=0A=0ASolr goes the HitCollector route for a few reasons:=0A  1) allows us =
to use hte DocSet abstraction which allows other=0A     performance benefit=
s over straight BitSets=0A  2) allows us to have simpler code that builds D=
ocSets and DocLists=0A     (DocLists know about scores, sorting, and pagina=
tion) in a single=0A     pass when scores or sorting are requested.=0A=0A=
=0A=0A-Hoss=0A=0A=0A-------------------------------------------------------=
--------------=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apach=
e.org=0AFor additional commands, e-mail: java-user-help@lucene.apache.org=
=0A=0A=0A=0A=0A=0A=0A        =0A___________________________________________=
________________ =0AAll New Yahoo! Mail =96 Tired of unwanted email come-on=
s? Let our SpamGuard protect you. http://uk.docs.yahoo.com/nowyoucan.html=
=0A=0A---------------------------------------------------------------------=
=0ATo unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor ad=
ditional commands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=
=0A---------------------------------------------------------------------=0A=
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor addit=
ional commands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=
=0A=09=09=0A___________________________________________________________ =0A=
What kind of emailer are you? Find out today - get a free analysis of your =
email personality. Take the quiz at the Yahoo! Mail Championship. =0Ahttp:/=
/uk.rd.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 11:30:54 2007
Return-Path: <java-user-return-26912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66191 invoked from network); 15 Mar 2007 11:30:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 11:30:52 -0000
Received: (qmail 98022 invoked by uid 500); 15 Mar 2007 11:30:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97988 invoked by uid 500); 15 Mar 2007 11:30:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97974 invoked by uid 99); 15 Mar 2007 11:30:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 04:30:53 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 04:30:40 -0700
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1HRo9j-0004Nt-3x
	for java-user@lucene.apache.org; Thu, 15 Mar 2007 12:30:03 +0100
Received: from 218.19.161.29 ([218.19.161.29])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 12:30:03 +0100
Received: from xiong.xu.cn by 218.19.161.29 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 12:30:03 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  xiong <xiong.xu.cn@gmail.com>
Subject:  How to customize scoring using user feedback?
Date: Thu, 15 Mar 2007 10:21:18 +0000 (UTC)
Lines: 15
Message-ID:  <loom.20070315T111328-903@post.gmane.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=us-ascii
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: main.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 218.19.161.29 (Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.1.2) Gecko/20070219 Firefox/2.0.0.2)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi there,

Just like google: the more user clicks of search results,
 the higher rank they are.

How to implement this in lucene?

I've read the javadoc of org.apache.lucene.search package,
 but still dont know how.

Some sample code will be great.

Thanks in advance,

Xiong


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 11:39:56 2007
Return-Path: <java-user-return-26913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68665 invoked from network); 15 Mar 2007 11:39:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 11:39:54 -0000
Received: (qmail 15513 invoked by uid 500); 15 Mar 2007 11:39:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15473 invoked by uid 500); 15 Mar 2007 11:39:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15462 invoked by uid 99); 15 Mar 2007 11:39:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 04:39:55 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 04:39:43 -0700
Received: by ug-out-1314.google.com with SMTP id k40so297213ugc
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 04:39:17 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Xbd08mIa8Cn+dnYB6YeRTHyKXlLnvrdPgPyFAwlsLd1UG+eOAnW8TPk5kWkEIj+BpNPM9GpyjgG1kijvZlEhOjpx61okLHC3F2EylMqGTt45FYprQ0GwRReRSWuuQvm1v0dmgPp0jlzqscDgARyuvShpu0BYgOmhTEM/ogOgbDs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Ty3nTzSctmNKMHB3WUpLgoslIRKsh3oEBV4C8VYHkphKj1IszYNvt31zuXRxqJOWqZS8vJLdg+GQt8zJWui/DC84Qx+FsmLfiJREu1rC6Boz2xdflI5keW/VL6xVXw09ZJT2XH/1JXuLNSY5LjWFedgEBe6rLx81YUWX+XBOwjg=
Received: by 10.78.204.7 with SMTP id b7mr292191hug.1173958757138;
        Thu, 15 Mar 2007 04:39:17 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id w7sm1725951mue.2007.03.15.04.39.14;
        Thu, 15 Mar 2007 04:39:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <loom.20070315T111328-903@post.gmane.org>
References: <loom.20070315T111328-903@post.gmane.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E049ABF7-6ED4-4675-9475-BD1F733B65FF@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: How to customize scoring using user feedback?
Date: Thu, 15 Mar 2007 12:39:10 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


15 mar 2007 kl. 11.21 skrev xiong:

> Just like google: the more user clicks of search results,
>  the higher rank they are.

Are you really sure Google does this? It would surprise me if they did.

>
> How to implement this in lucene?
>
> I've read the javadoc of org.apache.lucene.search package,
>  but still dont know how.
>
> Some sample code will be great.

As far as I know, there is no such thing implemented. Mechanisms that  
change based on user input are commonly known as "adaptive". You  
might want to search for something like that. I would personally  
implement it as a second level scoring in a HitCollector. It might be  
tricky to get it optimized though.

I hope this helps.

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 11:47:00 2007
Return-Path: <java-user-return-26914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69960 invoked from network); 15 Mar 2007 11:46:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 11:46:59 -0000
Received: (qmail 32567 invoked by uid 500); 15 Mar 2007 11:47:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32524 invoked by uid 500); 15 Mar 2007 11:46:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32513 invoked by uid 99); 15 Mar 2007 11:46:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 04:46:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of daniel.rosher@hotonline.com designates 168.143.177.190 as permitted sender)
Received: from [168.143.177.190] (HELO cluster-c.mailcontrol.com) (168.143.177.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 04:46:48 -0700
Received: from mail.workthing.com (mail.workthing.com [195.224.106.50])
	by rly21c.srv.mailcontrol.com (MailControl) with ESMTP id l2FBkMJ0005376
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 11:46:25 GMT
thread-index: Acdm92K6IBYpUbv1Se2NnAsW7BuEzA==
Content-Class: urn:content-classes:message
Importance: normal
Priority: normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2757
Received: from [192.168.222.80] ([192.168.222.80] RDNS failed) by mail.workthing.com with Microsoft SMTPSVC(6.0.3790.1830); Thu, 15 Mar 2007 11:45:10 +0000
Subject: Re: How to customize scoring using user feedback?
From: "daniel rosher" <daniel.rosher@hotonline.com>
To: <java-user@lucene.apache.org>
In-Reply-To:  <loom.20070315T111328-903@post.gmane.org>
References:  <loom.20070315T111328-903@post.gmane.org>
Content-Type: text/plain;
	charset="Windows-1252"
Date: Thu, 15 Mar 2007 11:46:23 +0000
Message-ID: <1173959183.6941.12.camel@rosher.org>
MIME-Version: 1.0
X-Mailer: Evolution 2.8.1 
Content-Transfer-Encoding: quoted-printable
X-OriginalArrivalTime: 15 Mar 2007 11:45:10.0147 (UTC) FILETIME=[62A7D530:01C766F7]
X-Scanned-By: MailControl A-06-00-00 (www.mailcontrol.com) on 10.67.0.131
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

This can be achieved by implementing your own implementation of the
SortComparitorSource interface.

Section 6.1 of Lucene in Action will help you here.

We currently use this method to alter the ranking of documents depending
on the age of the document by multiplying the current score by a cached
function f(D) ~ age_of_document_D, so that final score =3D doc.score*f(D);

Regards,
Dan


On Thu, 2007-03-15 at 10:21 +0000, xiong wrote:
> Hi there,
>=20
> Just like google: the more user clicks of search results,
>  the higher rank they are.
>=20
> How to implement this in lucene?
>=20
> I've read the javadoc of org.apache.lucene.search package,
>  but still dont know how.
>=20
> Some sample code will be great.
>=20
> Thanks in advance,
>=20
> Xiong
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> <<This email has been scanned for virus and spam content>>
Daniel Rosher
Developer


d: 0207 3489 912
t: 0870 2020 121
f: 0870 2020 131
m:=20
http://recruiter.hotonline.com/






- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -=
 - - - - - - - - - - - - - - - - -
This message is sent in confidence for the addressee only. It may contain p=
rivileged=20
information. The contents are not to be disclosed to anyone other than the =
addressee.=20
Unauthorised recipients are requested to preserve this confidentiality and =
to advise=20
us of any errors in transmission. Thank you.


This message has been scanned for viruses by BlackSpider MailControl - www.=
blackspider.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 13:23:19 2007
Return-Path: <java-user-return-26915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5502 invoked from network); 15 Mar 2007 13:23:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 13:23:18 -0000
Received: (qmail 44703 invoked by uid 500); 15 Mar 2007 13:23:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44675 invoked by uid 500); 15 Mar 2007 13:23:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44643 invoked by uid 99); 15 Mar 2007 13:23:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 06:23:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of kumaranjove@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 06:23:08 -0700
Received: by ug-out-1314.google.com with SMTP id k40so332766ugc
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 06:22:43 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=jOaW27wniyf5icD0YKFtsjZMstjKVJNvD/ukQeUHoVMgqSsjnPvCKju145y+RcRVWfzePszcjMeqHttyFsrLqJaZlajM1ntiTO8kKRsPQww/JYvZD6lD6Poz8meLNwvFhaoKQbQIvLAQ9YdMJTjcsfd2FjsuKsCFyfXKjU8oBBs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TLcg/AajoeYUe9L66ZvMxqsQwsID7ChMI/hQfq3WlKrS+qFUlxZOdRcP1MXi3C9gga88i16HfUwgRGULgQuxyc8E+DV9UhwoAGFeD0AiSLsh7JlyRjFemS3124FgaXgqrN0sogqXv5Vf5IkWOeFoZOFopdMpCoz49TonH04iB7k=
Received: by 10.78.172.20 with SMTP id u20mr356753hue.1173964963541;
        Thu, 15 Mar 2007 06:22:43 -0700 (PDT)
Received: by 10.78.23.3 with HTTP; Thu, 15 Mar 2007 06:22:43 -0700 (PDT)
Message-ID: <21e234c60703150622t29b857b4u9846cd5e24a8420d@mail.gmail.com>
Date: Thu, 15 Mar 2007 18:52:43 +0530
From: "senthil kumaran" <kumaranjove@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to get approximate total matching
In-Reply-To: <359a92830703140616m7904a601r7593e1b645e728d8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_65630_23697645.1173964963347"
References: <21e234c60703140610t2296d895o8fa5c3ab2dd5f765@mail.gmail.com>
	 <359a92830703140616m7904a601r7593e1b645e728d8@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_65630_23697645.1173964963347
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
    Sorry for my delayed reply. I can't reproduce that OOM error with
MultiSearcher now.I'll try to reproduce that error and send you the details
that you asked.
     I've tested to search my index with  Multisearcher & separate
IndexSearcher.The search time by using Multisearcher is nearly equal  the
time by separate IndexSearcher.But memory used is more for MultiSearcher.

    My Index size is  *7.4GB *having 17M documents. Total Search Time for
MultiSearcher = 1.1Secs and Max.Memory used = 50937920. And total search
time for Separate indexSearcher = 1.4Secs and Max.Memory used = 10039408.
Wild card query is used for search.

    I need to control memory usage. Is there any possible ways to use
multisearcher with less memory usage?
    (FYI- I don't use any sort.)

Thanks & Regards
Senthil




On 3/14/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> How much memory are you allocating for your JVM? Because you're
> paying a huge search time penalty by opening and closing your
> searcher sequentially, it would be a good thing to not do this.
> But, as you say, if you're getting OOM errors, that's a problem.
>
> What is the total size of all your indexes? That would help folks
> give you better responses and perhaps suggest other ways of
> solving your problem.....
>
> Erick
>
> On 3/14/07, senthil kumaran <kumaranjove@gmail.com> wrote:
> >
> > Hi.
> >     I have more index directories (>6) all in GB,and searching my query
> > with
> > single IndexSearcher  to all indexes one after another.i.e. I create one
> > IndexSearcher for index1 and search over that.Finally I close that and
> > create new IndexSearcher for index2 and so on. If i get 200 total
> results
> > then i don't go to search other index directories and i print 200
> results
> > and exit from search.
> >     I need to get approximate total matching documents all over the
> > indexes
> > without going to search in other indexes.
> >     Please suggest me a easiest way to achieve this.
> >
> > P.S: To avoid more memory usage and to reduce search timeI don't want to
> > search my query through all indexes if i got 200 results. MultiSearcher
> > create OOM error,  so that I'm using single IndexSearcher.
> >
> >
> > Thanks in Advance
> > Senthil
> >
>

------=_Part_65630_23697645.1173964963347--

From java-user-return-26916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 13:27:46 2007
Return-Path: <java-user-return-26916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7019 invoked from network); 15 Mar 2007 13:27:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 13:27:45 -0000
Received: (qmail 54943 invoked by uid 500); 15 Mar 2007 13:27:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54912 invoked by uid 500); 15 Mar 2007 13:27:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54901 invoked by uid 99); 15 Mar 2007 13:27:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 06:27:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.5] (HELO spunkymail-a5.g.dreamhost.com) (208.97.132.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 06:27:32 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a5.g.dreamhost.com (Postfix) with ESMTP id 3B1D114D6B2
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 06:27:11 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C88E4@MT-EXCH01.nuance.com>
References: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C88E4@MT-EXCH01.nuance.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <60F64156-4903-4854-B761-3147751D2BB4@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Is Lucene Java trunk still stable for production code?
Date: Thu, 15 Mar 2007 09:27:09 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Well, I think the standard disclaimer applies here:  The trunk is not  
guaranteed to be stable (but, hey, what really is, right?).  Releases  
are meant to be "production ready" to the best of our knowledge at  
the time.

That being said, we do make efforts to keep the trunk stable.  I  
guess the answer ultimately depends on your business needs.  If I  
were doing it, I would move to 2.1, but that's just me!

-Grant

On Mar 14, 2007, at 5:12 PM, Jean-Philippe Robichaud wrote:

> Hello Dear Lucene Users!
>
>
>
> Back in the old days (well, last year) the lucene/java/trunk  
> subversion
> path was always stable enough for everyone to use into production  
> code.
> Now, with the 2.0/2.1/2.2 braches, is it still the case?
>
>
>
> In December, I 'ported' my app to use the lucene 2.0 release.  Now, I
> have another chance to upgrade the production code (this is not
> happening every month!) so I would like to upgrade the lucene library
> I'm using to take advantage of performance gains.  Should I just  
> update
> my svn image from lucene/java/trunk or should I take
> lucene/java/branches/lucene_2_1
>
>
>
> Thanks!
>
>
>
> Jp
>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 14:33:53 2007
Return-Path: <java-user-return-26917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37669 invoked from network); 15 Mar 2007 14:33:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 14:33:51 -0000
Received: (qmail 52183 invoked by uid 500); 15 Mar 2007 14:33:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52148 invoked by uid 500); 15 Mar 2007 14:33:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52137 invoked by uid 99); 15 Mar 2007 14:33:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 07:33:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [159.14.214.193] (HELO genomemail.chop.edu) (159.14.214.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 07:33:41 -0700
Received: from [159.14.214.144] ([159.14.214.144]) BY genomemail.chop.edu ([159.14.214.193])
 WITH ESMTP (4D WebSTAR V Mail (5.3.4)); Thu, 15 Mar 2007 10:36:00 -0500
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <B5337A06-A8AC-4FAB-A98E-354D8A79C53E@gmail.com>
References: <A0FD4D5A-16B6-4D10-BDB7-5FFAC3AA3B33@genome.chop.edu> <B5337A06-A8AC-4FAB-A98E-354D8A79C53E@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <207B5E21-4241-4F4C-A369-1A38005902D6@genome.chop.edu>
Content-Transfer-Encoding: 7bit
From: Ryan O'Hara <ohara@genome.chop.edu>
Subject: Re: SpellChecker and Lucene 2.1
Date: Thu, 15 Mar 2007 10:33:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

My question basically was is there a spellchecker-2.*1*-rc1-dev.jar?

The problems I'm having...

Exception:

java.lang.NullPointerException
         at  
org.apache.lucene.search.spell.SpellChecker.indexDictionary 
(SpellChecker.java:298)
         at DidYouMeanIndexer.createSpellIndex(DidYouMeanIndexer.java: 
52)
         at DidYouMeanIndexer.main(DidYouMeanIndexer.java:38)

Code:

public void createSpellIndex(String field,
                                  Directory originalIndexDirectory,
                                  Directory spellIndexDirectory) {
         IndexReader indexReaderOriginal = null;
         try {
             indexReaderOriginal = IndexReader.open 
(originalIndexDirectory);
             LuceneDictionary dictionary = new LuceneDictionary 
(indexReaderOriginal, field);
             //*tried closing indexReaderOriginal here too*
	    SpellChecker spellChecker = new SpellChecker(spellIndexDirectory);
             spellChecker.indexDictionary(dictionary);
         } catch (Exception e){
             printError(e);
         } finally {
             try {
                 indexReaderOriginal.close();
             } catch (Exception e){
                 e.printStackTrace();
             }
         }
     }

When I close indexReaderOriginal after the Dictionary is closed, I  
get the same exact exception.

Thanks in advance,
Ryan

On Mar 15, 2007, at 1:34 AM, karl wettin wrote:

>
> 14 mar 2007 kl. 21.47 skrev Ryan O'Hara:
>
>> Is there a SpellChecker.jar compatible with Lucene 2.1.  After  
>> updating to Lucene 2.1, I seem to have lost the ability to create  
>> a spell index using spellchecker-2.0-rc1-dev.jar.  Any help would  
>> be greatly appreciated.
>
> Can you explain the problem more detailed? Exceptions? API changes?
>
> -- 
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 15:20:22 2007
Return-Path: <java-user-return-26918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60341 invoked from network); 15 Mar 2007 15:20:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 15:20:20 -0000
Received: (qmail 86516 invoked by uid 500); 15 Mar 2007 15:20:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86479 invoked by uid 500); 15 Mar 2007 15:20:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 24791 invoked by uid 99); 15 Mar 2007 03:48:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
X-PranEnterprises-Recipient: <java-user@lucene.apache.org>
Message-ID: <45F8C1EE.70709@pranenterprises.com>
Date: Thu, 15 Mar 2007 09:17:58 +0530
From: Gaurav Srivastava <gaurav@pranenterprises.com>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Please suggest how to use the different analyse to accomodate number
 and alphanumeric search
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

How to search numbers using Lucene API
I am using a demo application so as to search the documents but when i 
search the numbers or alphanumeric text it appends an empty space and no 
hits are returned any help would be appreciated
i am developing a new serach engine like Google .Currently it uses Mysql 
and we run query to get the search results

Currently i am using the simple demo application with the following code 
for results.jsp.

*
<%@ page import = "  javax.servlet.*, javax.servlet.http.*, java.io.*, 
org.apache.lucene.analysis.*, org.apache.lucene.document.*, 
org.apache.lucene.index.*, org.apache.lucene.search.*, 
org.apache.lucene.queryParser.*, org.apache.lucene.demo.*, 
org.apache.lucene.demo.html.Entities, java.net.URLEncoder" %>
<%@ page  import = "pran_enterprises.*"%>
<%@ page  import = "java.util.*"%>
<%@ page  import = "java.sql.*"%>
<%@ page  import = "java.io.*"%>
<%@ include file="pe_declarations.jsp"%>
<%!
public String escapeHTML(String s) {
  s = s.replaceAll("&", "&amp;");
  s = s.replaceAll("<", "&lt;");
  s = s.replaceAll(">", "&gt;");
  s = s.replaceAll("\"", "&quot;");
  s = s.replaceAll("'", "&apos;");
  return s;
}
%>
<%@include file="header.jsp"%>
<link rel="stylesheet" type="text/css" href="/images/wayback.css">
<%
   //RSS_Frame Code
   String rowid = "";
   String urlString = "";
   String domain_name = "";
   String modified = "";
   String sender = "";
   userid = "";
   String hotWord = "";
   int numRecords = 0;
   LinkedHashMap htFields = new LinkedHashMap();
   LinkedHashMap domain_name_map = new LinkedHashMap();
   LinkedHashMap domainNamessMap = new LinkedHashMap();
   ResultSet tempRset = null;  
   String linkdata = "";
   String hyperdata = ""; 
   String senderName = "";
   String createdDate = null;  
   String co_js   = "onChange=\"company_select();\" size=8 multiple";
   int id = 0;
   String and = "";
   String fordatabasequery="";
   String includeDomainNameinSearch ="";
   boolean isDate = false;
   boolean isSocialNetwork = false;
   Vector  rowid_vector = new Vector();
   i = 0; 
     
       htQueryString = peHttp.parseQueryString( request 
);                       
       LinkedHashMap columnInrssSearch = new LinkedHashMap();
       columnInrssSearch.clear();
       columnInrssSearch.put("searchText" ,peUtil.obj2str( 
htQueryString.get("matchword") ));
       columnInrssSearch.put("userid" ,pUDB.getUserID() );
       String match = (String)htQueryString.get("matchword");
       if (peUtil.isNullString(match))
               columnInrssSearch.put("rowid" ,peUDB.genRowID());
           else
               columnInrssSearch.put("rowid" ,peEncryption.md5(match));
       columnInrssSearch.put("beaconid" ,new peBeacons( request, 
response ).getBeaconID());
       columnInrssSearch.put("modified" ,pUDB.db_datetime());
       //insert into rss_searches
       pUDB.insert("rss_searches",columnInrssSearch);
       //out.println( peJavaScript.opentag() );      
       //out.println("alert(parent.parent.parent.location);");
       //out.println("parent.parent.parent.location.refresh();");
       //out.println( peJavaScript.closetag() );
       if( jbConstants.debug > 0 )
       {
         peLogger.dbg  ( "jbSearchRSS: htQueryString is " );
         peLogger.dbgln( htQueryString.toString() );
       }
      keyword = peUtil.obj2str( htQueryString.get("matchword") );
      String startDate = peUtil.getDateTime("start_date", htQueryString) ;
      String endDate = peUtil.getDateTime("end_date", htQueryString) 
;        
      String domainnames  = peUtil.obj2str( 
htQueryString.get("domain_name") ); 
      if (    domainnames != null)
      {
          LinkedHashMap domainValues = new LinkedHashMap();               
          domainNamessMap.clear();
          %>
          <%@ include file="prepareList.jsp"%>     
          <%
          domain_vector.clear();
          domain_vector = peUtil.splitOnComma( domainnames );
          includeDomainNameinSearch = "";
          for( int countDomain=0; countDomain < domain_vector.size(); 
countDomain++ )
          {
             String domain = peUtil.obj2str( 
domain_vector.elementAt(countDomain) );
             if (domain_vector.size() == 1)
                 includeDomainNameinSearch = includeDomainNameinSearch + 
"(" + domain_name_map.get(domain) + ")";
             else if(countDomain == 0)       
                 includeDomainNameinSearch = includeDomainNameinSearch + 
"(" + domain_name_map.get(domain) + " OR " ;
             else if (countDomain + 1 == domain_vector.size())
                 includeDomainNameinSearch = includeDomainNameinSearch  
+  domain_name_map.get(domain) + ")";   
             else        
                  includeDomainNameinSearch = includeDomainNameinSearch  
+ domain_name_map.get(domain) + " OR ";
          }           
          }              
           
      String where = "";     
      //get the emails of the friends in the social network of current user
      htWhereClause.clear();
      htColumns.clear();
      htWhereClause.put("userid", pUDB.getUserID());
      htColumns.put("friendsemailid", "1");
     
      rset = pUDB.select2( "socialnetwork", htColumns, htWhereClause );
      while(rset.next())
      {
          rowid_vector.addElement(rset.getString("friendsemailid"));
         
      }       
      //get the userid of the friends in the social network of current 
user if  they are registered
      htColumns.clear();
      htWhereClause.clear();
      htColumns.put("userid", "1");
      htWhereClause.put( "email", "[in]"+peUtil.vector2str(rowid_vector) );
      rset = pUDB.select2( "users", htColumns, htWhereClause );     
      String includeSocialNetworkInSearch = "";
      boolean onlyOnce = true;
      while(rset!= null && rset.next())
      {
          if (onlyOnce)
          {
            includeSocialNetworkInSearch = includeSocialNetworkInSearch 
+ "(" + rset.getString("userid") + " OR "  ;         
            onlyOnce = false;
          }
          else
            includeSocialNetworkInSearch = includeSocialNetworkInSearch  
+ rset.getString("userid") + " OR "  ;                    
      }     
      if (includeSocialNetworkInSearch.length() > 1)
          includeSocialNetworkInSearch = 
includeSocialNetworkInSearch.substring(0, 
includeSocialNetworkInSearch.lastIndexOf(" OR "))  + ")";
            
      if(htQueryString.get("search_all")!= null && 
htQueryString.get("search_all").equals("Search All Feeds"))
      {
      }
      else if(htQueryString.get("search_all") != null && 
htQueryString.get("search_all").equals("Search My Social Network") && 
includeSocialNetworkInSearch.trim().length() > 1)
      {
         and = and + includeSocialNetworkInSearch;
         isSocialNetwork = true;
           
      }
      else if(htQueryString.get("search_all") != null && 
htQueryString.get("search_all").equals("Search My Feeds"))
      {
         and = and + pUDB.getUserID();            
      }     
         
      if( !(startDate.trim().equals("00:00:00") || 
endDate.trim().equals("00:00:00")) )
      {
            if(includeSocialNetworkInSearch != null && 
includeSocialNetworkInSearch.length() > 1)     
                and = and + " AND " + startDate + " AND " +  endDate ;
            else
              and = and + startDate + " AND " +  endDate ;
          isDate = true;
      }   
      if( !peUtil.isNullString(includeDomainNameinSearch))
      {
          if (includeDomainNameinSearch.length() > 1)
              and = and + " AND " +    includeDomainNameinSearch;    
               
      }      
%>
<%
//start of original query.jsp file
        boolean error = false;                  //used to control flow 
for error messages
        String indexName = indexLocation;       //local copy of the 
configuration variable
        IndexSearcher searcher = null;          //the searcher used to 
open/search the index
        Query query = null;                     //the Query created by 
the QueryParser
        Hits hits = null;                       //the search results
        int startindex = 0;                     //the first index 
displayed on this page
        int maxpage    = 50;                    //the maximum items 
displayed on this page
        String queryString = null;              //the query entered in 
the previous page
        String startVal    = null;              //string version of 
startindex
        String maxresults  = null;              //string version of maxpage
        int thispage = 0;                       //used for the for/next 
either maxpage or
                                                //hits.length() - 
startindex - whichever is
                                                //less

        try {
          searcher = new IndexSearcher(indexName);      //create an 
indexSearcher for our page
                                                        //NOTE: this 
operation is slow for large
                                                        //indices (much 
slower than the search itself)
                                                        //so you might 
want to keep an IndexSearcher
                                                        //open
                                                       
        } catch (Exception e) {                         //any error that 
happens is probably due
                                                        //to a 
permission problem or non-existant
                                                        //or otherwise 
corrupt index
%>
                <p>ERROR opening the Index - contact sysadmin!</p>
                <p>Error message: <%=escapeHTML(e.getMessage())%></p>  
<%                error = true;                                  //don't 
do anything up to the footer
        }
%>
<%
       if (error == false) {                                           
//did we open the index?
                queryString = request.getParameter("matchword");
                hotWord = queryString;
                //add the conditions
                if (isSocialNetwork || isDate)
                    queryString = queryString  + " AND " + and;
                else
                    queryString = queryString  + and; 
                                      
               out.println("QueryString" + queryString);
                //out.println (queryString);           //get the search 
criteria
                startVal    = request.getParameter("startat");         
//get the start index
                maxresults  = request.getParameter("maxresults");      
//get max results per page
                try {
                        maxpage    = Integer.parseInt(maxresults);    
//parse the max results first
                        startindex = Integer.parseInt(startVal);      
//then the start index 
                } catch (Exception e) { } //we don't care if something 
happens we'll just start at 0
                                          //or end at 50

               

                if (queryString == null)
                    queryString = "Search";
                        //throw new ServletException("no query "+       
//if you don't have a query then
                                                 //  "specified");      
//you probably played on the
                                                                      
//query string so you get the
                                                                      
//treatment

                Analyzer analyzer = new StopAnalyzer();               
//construct our usual analyzer
                try {
                        query = new 
QueryParser("contents",analyzer).parse(queryString);  //parse the
                        out.println(query.toString());
                } catch (Exception e) {                          //query 
and construct the Query
                                                                      
//object
                                                                      
//if it's just "operator error"
                                                                      
//send them a nice error HTML
                                                                     
                out.println(jbConstants.err_begin );
                out.println( "No matches found" );               
                out.println( jbConstants.err_end );                
                error = true;                                         
//don't bother with the rest of
                                                                      
//the page
                }
        }
%>
<%
        if (error == false && searcher != null) {                     // 
if we've had no errors
                                                                      // 
searcher != null was to handle
                                                                      // 
a weird compilation bug
                thispage = maxpage;                                   // 
default last element to maxpage
                hits = searcher.search(query);
                //out.println("hits" + hits);// run the query
                if (hits.length() == 0) {                             // 
if we got no results tell the user
                out.println(jbConstants.err_begin );
                out.println( "No matches found" );               
                out.println( jbConstants.err_end );                
                error = true;                                        // 
don't bother with the rest of the
                                                                     // page
                }
        }

        if (error == false && searcher != null) {                  
%>
                <table width="700">
                <th>Title</th>
                <th>Url</th>
                <th>Created</th>               
<%
                if ((startindex + maxpage) > hits.length()) {
                        thispage = hits.length() - startindex;      // 
set the max index to maxpage or last
                }                                                   // 
actual search result whichever is less
                numRecords = thispage + startindex;               
                for (i = startindex; i < (thispage + startindex); i++) 
{  // for each element
%>
                <tr id="<%=i%>" bgColor='#F6F6F6' 
onClick="changeColor(this);parent.frames[1].Escape('<%=rowid%>','<%=hotWord%>');">
<%
                        Document doc = hits.doc(i);                    
//get the next document
                        String doctitle = doc.get("title");            
//get its title
                        url = doc.get("url");                   //get 
its url field
                        if ((doctitle == null) || doctitle.equals("")) 
//use the url if it has no title
                                doctitle = url;
                        String summary = doc.get("summary");
                        StringTokenizer st = new 
StringTokenizer(summary.substring(25, summary.length()), "###");
                        while(st.hasMoreTokens())
                        {
                            sender = st.nextToken();
                            rowid = st.nextToken();
                            urlString = st.nextToken();
                            modified = st.nextToken();
                            domain_name = st.nextToken();
                            userid = 
st.nextToken();                           
                            rowid = rowid.trim();
                        }
                       // out.println("sender" + sender + "rowid" + 
rowid + "urlString" + urlString + "modified" + modified + "domain_name" 
+ domain_name + "userid" + userid);
                       
                       
                       
                       
                                                                       
//then output!
%>
                        <td   width="280" class="fontClass"   
color="#ffffff">
                          <a id=<%=i%>   href= 
"javascript:Escape('<%=rowid%>','<%=hotWord%>');"  target="bot"">
                          <div id="<%="div" + i%>"><%=doctitle%></div></a>
                          </td>                          
                        <%if (sender == null || 
sender.trim().equals("null"))
                           {                         
                    %>   
                          <td  width="280" class="fontClass" 
 ><%=urlString%></td>
                    <%
                           }
                           else
                           {                              
                    %>
                       <td   width="280" class="fontClass"  
 ><%=sender%></td>
                    <%
                            }
                    %>   
                        <td  width="140" class="fontClass">
                           <%=modified.substring(0,10)%></td>
                </tr>
                <div type="hidden" id="<%="divv" + i%>" 
style="display:none"><%=rowid%></div>
<%
                }
%>
<%                if ( (startindex + maxpage) < hits.length()) {   //if 
there are more results...display
                                                                   //the 
more link

                        String moreurl="results.jsp?query=" +
                                       URLEncoder.encode(queryString) +  
//construct the "more" link
                                       "&amp;maxresults=" + maxpage +
                                       "&amp;startat=" + (startindex + 
maxpage);
%>
                <tr>
                        <td></td><td><a href="<%=moreurl%>">More 
Results>></a></td>
                </tr>
<%
                }
%>
                </table>

<%       }                                            //then include our 
footer.
         if (searcher != null)
                searcher.close();
%>

<SCRIPT LANGUAGE="JavaScript">
function changeColor(currentHref)
{
    for (var id = 0; id <=<%=numRecords - 1%>; id++)
    {   
    if (id != currentHref.id)
        document.getElementById(id).bgColor='#F6F6F6';
    else
        document.getElementById(id).bgColor='#9E9C91';
    }
}
</script>
     



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 15:20:33 2007
Return-Path: <java-user-return-26919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60408 invoked from network); 15 Mar 2007 15:20:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 15:20:32 -0000
Received: (qmail 86821 invoked by uid 500); 15 Mar 2007 15:20:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86784 invoked by uid 500); 15 Mar 2007 15:20:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 83204 invoked by uid 99); 15 Mar 2007 13:33:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
X-BrightmailFiltered: true
X-IronPort-AV: i="4.14,288,1170651600"; 
   d="scan'208"; a="49336751:sNHT39053336"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Is Lucene Java trunk still stable for production code?
Date: Thu, 15 Mar 2007 09:32:47 -0400
Message-ID: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C8C21@MT-EXCH01.nuance.com>
In-Reply-To: <60F64156-4903-4854-B761-3147751D2BB4@apache.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Is Lucene Java trunk still stable for production code?
Thread-Index: AcdnBbaK7NAOVg0DQX2Y5IHh8sBKVwAAGqAQ
References: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C88E4@MT-EXCH01.nuance.com> <60F64156-4903-4854-B761-3147751D2BB4@apache.org>
From: "Jean-Philippe Robichaud" <Jean-Philippe.Robichaud@nuance.com>
To: <java-user@lucene.apache.org>,
	<java-dev@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for your insight, it matches my thoughts.  The only reason I'm
wondering is because the latest change in the lucene_2_1 branch is 4
weeks old.  So either no bugs were found since then (yeah!) or the bugs
gets fixed in the trunk...

I'll search JIRA and decides after!

Thanks!

Jp

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@apache.org]=20
Sent: Thursday, March 15, 2007 9:27 AM
To: java-user@lucene.apache.org
Subject: Re: Is Lucene Java trunk still stable for production code?

Well, I think the standard disclaimer applies here:  The trunk is not =20
guaranteed to be stable (but, hey, what really is, right?).  Releases =20
are meant to be "production ready" to the best of our knowledge at =20
the time.

That being said, we do make efforts to keep the trunk stable.  I =20
guess the answer ultimately depends on your business needs.  If I =20
were doing it, I would move to 2.1, but that's just me!

-Grant

On Mar 14, 2007, at 5:12 PM, Jean-Philippe Robichaud wrote:

> Hello Dear Lucene Users!
>
>
>
> Back in the old days (well, last year) the lucene/java/trunk =20
> subversion
> path was always stable enough for everyone to use into production =20
> code.
> Now, with the 2.0/2.1/2.2 braches, is it still the case?
>
>
>
> In December, I 'ported' my app to use the lucene 2.0 release.  Now, I
> have another chance to upgrade the production code (this is not
> happening every month!) so I would like to upgrade the lucene library
> I'm using to take advantage of performance gains.  Should I just =20
> update
> my svn image from lucene/java/trunk or should I take
> lucene/java/branches/lucene_2_1
>
>
>
> Thanks!
>
>
>
> Jp
>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/=20
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 15:27:49 2007
Return-Path: <java-user-return-26920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63977 invoked from network); 15 Mar 2007 15:27:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 15:27:48 -0000
Received: (qmail 9920 invoked by uid 500); 15 Mar 2007 15:27:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9883 invoked by uid 500); 15 Mar 2007 15:27:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9872 invoked by uid 99); 15 Mar 2007 15:27:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 08:27:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 08:27:37 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7F2EA30EFC17; Thu, 15 Mar 2007 09:27:16 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 9FF6330EFC17
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 09:27:13 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <45F8CB38.1000401@teamware.com>
References: <45F62B04.1050702@teamware.com> <Pine.LNX.4.58.0703141103500.23841@hal.rescomp.berkeley.edu> <45F8CB38.1000401@teamware.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4708B830-F70B-42F1-AEBC-9CD0048A4812@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Performance between Filter and HitCollector?
Date: Thu, 15 Mar 2007 11:27:11 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1


On Mar 15, 2007, at 12:27 AM, Antony Bowesman wrote:
> Thanks for the detailed reponse Hoss.  That's the sort of in depth  
> golden nugget I'd like to see in a copy of LIA 2 when it becomes  
> available...

NOTED!   :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 15:57:00 2007
Return-Path: <java-user-return-26921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75924 invoked from network); 15 Mar 2007 15:56:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 15:56:59 -0000
Received: (qmail 77841 invoked by uid 500); 15 Mar 2007 15:56:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77806 invoked by uid 500); 15 Mar 2007 15:56:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77787 invoked by uid 99); 15 Mar 2007 15:56:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 08:56:57 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.232 as permitted sender)
Received: from [64.233.184.232] (HELO wr-out-0506.google.com) (64.233.184.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 08:56:46 -0700
Received: by wr-out-0506.google.com with SMTP id i28so236607wra
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 08:56:20 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=IbA/IArVpY2Kw346jW0Uo7W2jnnMA0kZm3T0ku0G1ANCHGqzvaAZAnuuCxnY/IEmv5XvCmgXBCNLtiLTZrUcd4/wMGhFrPbHO3egmh05ZcZ8I6fjjrbcKxqbGufxHAP0Kq0q5YOVxLEs4c5B38IU+G+HQbLYVEoV7Qj4EsmOONc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Wgnb82b/JjYyPz8E0u0pZuz3pELs24m6XtlJ2exPurApi1ItePPiNbpg8zLLe6eFE0p8qVsOrr11dQERWhfxLtQ4MjU0I6NjoWHVEnyZlEe5IxBERadl1zuOt/iNluO0KxuYtqyxgaDg5FWWxlkHQvtYAqLuhBPqJnhkao/hLyg=
Received: by 10.114.110.1 with SMTP id i1mr276828wac.1173974170645;
        Thu, 15 Mar 2007 08:56:10 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Thu, 15 Mar 2007 08:56:10 -0700 (PDT)
Message-ID: <359a92830703150856i43ada38aife73fc6f57655c9a@mail.gmail.com>
Date: Thu, 15 Mar 2007 11:56:10 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Please suggest how to use the different analyse to accomodate number and alphanumeric search
In-Reply-To: <45F8C1EE.70709@pranenterprises.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_75331_1851774.1173974170574"
References: <45F8C1EE.70709@pranenterprises.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_75331_1851774.1173974170574
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I think you'd figure it all out if you just printed out the parsed query
with toString();

And have you looked at your index with Luke to see what you've
actually stored? And perhaps queried with Luke which, among
other things, will show you the query as parsed by various
analyzers? If you don't have a copy of luke, you really should get one.

>From the javadoc for StopAnalyzer
Filters LetterTokenizer with LowerCaseFilter and StopFilter.

which implies that all digit characters are removed from your
query string.

Best
Erick

P.S. It's a good idea to take the time to post only the relevant
code if possible so folks can focus on the lucene part of your
code rather than having to wade through all of it. Of course, it's
often difficult to determine how much is enough....

On 3/14/07, Gaurav Srivastava <gaurav@pranenterprises.com> wrote:
>
> How to search numbers using Lucene API
> I am using a demo application so as to search the documents but when i
> search the numbers or alphanumeric text it appends an empty space and no
> hits are returned any help would be appreciated
> i am developing a new serach engine like Google .Currently it uses Mysql
> and we run query to get the search results
>
> Currently i am using the simple demo application with the following code
> for results.jsp.
>
> *
> <%@ page import = "  javax.servlet.*, javax.servlet.http.*, java.io.*,
> org.apache.lucene.analysis.*, org.apache.lucene.document.*,
> org.apache.lucene.index.*, org.apache.lucene.search.*,
> org.apache.lucene.queryParser.*, org.apache.lucene.demo.*,
> org.apache.lucene.demo.html.Entities, java.net.URLEncoder" %>
> <%@ page  import = "pran_enterprises.*"%>
> <%@ page  import = "java.util.*"%>
> <%@ page  import = "java.sql.*"%>
> <%@ page  import = "java.io.*"%>
> <%@ include file="pe_declarations.jsp"%>
> <%!
> public String escapeHTML(String s) {
>   s = s.replaceAll("&", "&amp;");
>   s = s.replaceAll("<", "&lt;");
>   s = s.replaceAll(">", "&gt;");
>   s = s.replaceAll("\"", "&quot;");
>   s = s.replaceAll("'", "&apos;");
>   return s;
> }
> %>
> <%@include file="header.jsp"%>
> <link rel="stylesheet" type="text/css" href="/images/wayback.css">
> <%
>    //RSS_Frame Code
>    String rowid = "";
>    String urlString = "";
>    String domain_name = "";
>    String modified = "";
>    String sender = "";
>    userid = "";
>    String hotWord = "";
>    int numRecords = 0;
>    LinkedHashMap htFields = new LinkedHashMap();
>    LinkedHashMap domain_name_map = new LinkedHashMap();
>    LinkedHashMap domainNamessMap = new LinkedHashMap();
>    ResultSet tempRset = null;
>    String linkdata = "";
>    String hyperdata = "";
>    String senderName = "";
>    String createdDate = null;
>    String co_js   = "onChange=\"company_select();\" size=8 multiple";
>    int id = 0;
>    String and = "";
>    String fordatabasequery="";
>    String includeDomainNameinSearch ="";
>    boolean isDate = false;
>    boolean isSocialNetwork = false;
>    Vector  rowid_vector = new Vector();
>    i = 0;
>
>        htQueryString = peHttp.parseQueryString( request
> );
>        LinkedHashMap columnInrssSearch = new LinkedHashMap();
>        columnInrssSearch.clear();
>        columnInrssSearch.put("searchText" ,peUtil.obj2str(
> htQueryString.get("matchword") ));
>        columnInrssSearch.put("userid" ,pUDB.getUserID() );
>        String match = (String)htQueryString.get("matchword");
>        if (peUtil.isNullString(match))
>                columnInrssSearch.put("rowid" ,peUDB.genRowID());
>            else
>                columnInrssSearch.put("rowid" ,peEncryption.md5(match));
>        columnInrssSearch.put("beaconid" ,new peBeacons( request,
> response ).getBeaconID());
>        columnInrssSearch.put("modified" ,pUDB.db_datetime());
>        //insert into rss_searches
>        pUDB.insert("rss_searches",columnInrssSearch);
>        //out.println( peJavaScript.opentag() );
>        //out.println("alert(parent.parent.parent.location);");
>        //out.println("parent.parent.parent.location.refresh();");
>        //out.println( peJavaScript.closetag() );
>        if( jbConstants.debug > 0 )
>        {
>          peLogger.dbg  ( "jbSearchRSS: htQueryString is " );
>          peLogger.dbgln( htQueryString.toString() );
>        }
>       keyword = peUtil.obj2str( htQueryString.get("matchword") );
>       String startDate = peUtil.getDateTime("start_date", htQueryString) ;
>       String endDate = peUtil.getDateTime("end_date", htQueryString)
> ;
>       String domainnames  = peUtil.obj2str(
> htQueryString.get("domain_name") );
>       if (    domainnames != null)
>       {
>           LinkedHashMap domainValues = new LinkedHashMap();
>           domainNamessMap.clear();
>           %>
>           <%@ include file="prepareList.jsp"%>
>           <%
>           domain_vector.clear();
>           domain_vector = peUtil.splitOnComma( domainnames );
>           includeDomainNameinSearch = "";
>           for( int countDomain=0; countDomain < domain_vector.size();
> countDomain++ )
>           {
>              String domain = peUtil.obj2str(
> domain_vector.elementAt(countDomain) );
>              if (domain_vector.size() == 1)
>                  includeDomainNameinSearch = includeDomainNameinSearch +
> "(" + domain_name_map.get(domain) + ")";
>              else if(countDomain == 0)
>                  includeDomainNameinSearch = includeDomainNameinSearch +
> "(" + domain_name_map.get(domain) + " OR " ;
>              else if (countDomain + 1 == domain_vector.size())
>                  includeDomainNameinSearch = includeDomainNameinSearch
> +  domain_name_map.get(domain) + ")";
>              else
>                   includeDomainNameinSearch = includeDomainNameinSearch
> + domain_name_map.get(domain) + " OR ";
>           }
>           }
>
>       String where = "";
>       //get the emails of the friends in the social network of current
> user
>       htWhereClause.clear();
>       htColumns.clear();
>       htWhereClause.put("userid", pUDB.getUserID());
>       htColumns.put("friendsemailid", "1");
>
>       rset = pUDB.select2( "socialnetwork", htColumns, htWhereClause );
>       while(rset.next())
>       {
>           rowid_vector.addElement(rset.getString("friendsemailid"));
>
>       }
>       //get the userid of the friends in the social network of current
> user if  they are registered
>       htColumns.clear();
>       htWhereClause.clear();
>       htColumns.put("userid", "1");
>       htWhereClause.put( "email", "[in]"+peUtil.vector2str(rowid_vector)
> );
>       rset = pUDB.select2( "users", htColumns, htWhereClause );
>       String includeSocialNetworkInSearch = "";
>       boolean onlyOnce = true;
>       while(rset!= null && rset.next())
>       {
>           if (onlyOnce)
>           {
>             includeSocialNetworkInSearch = includeSocialNetworkInSearch
> + "(" + rset.getString("userid") + " OR "  ;
>             onlyOnce = false;
>           }
>           else
>             includeSocialNetworkInSearch = includeSocialNetworkInSearch
> + rset.getString("userid") + " OR "  ;
>       }
>       if (includeSocialNetworkInSearch.length() > 1)
>           includeSocialNetworkInSearch =
> includeSocialNetworkInSearch.substring(0,
> includeSocialNetworkInSearch.lastIndexOf(" OR "))  + ")";
>
>       if(htQueryString.get("search_all")!= null &&
> htQueryString.get("search_all").equals("Search All Feeds"))
>       {
>       }
>       else if(htQueryString.get("search_all") != null &&
> htQueryString.get("search_all").equals("Search My Social Network") &&
> includeSocialNetworkInSearch.trim().length() > 1)
>       {
>          and = and + includeSocialNetworkInSearch;
>          isSocialNetwork = true;
>
>       }
>       else if(htQueryString.get("search_all") != null &&
> htQueryString.get("search_all").equals("Search My Feeds"))
>       {
>          and = and + pUDB.getUserID();
>       }
>
>       if( !(startDate.trim().equals("00:00:00") ||
> endDate.trim().equals("00:00:00")) )
>       {
>             if(includeSocialNetworkInSearch != null &&
> includeSocialNetworkInSearch.length() > 1)
>                 and = and + " AND " + startDate + " AND " +  endDate ;
>             else
>               and = and + startDate + " AND " +  endDate ;
>           isDate = true;
>       }
>       if( !peUtil.isNullString(includeDomainNameinSearch))
>       {
>           if (includeDomainNameinSearch.length() > 1)
>               and = and + " AND " +    includeDomainNameinSearch;
>
>       }
> %>
> <%
> //start of original query.jsp file
>         boolean error = false;                  //used to control flow
> for error messages
>         String indexName = indexLocation;       //local copy of the
> configuration variable
>         IndexSearcher searcher = null;          //the searcher used to
> open/search the index
>         Query query = null;                     //the Query created by
> the QueryParser
>         Hits hits = null;                       //the search results
>         int startindex = 0;                     //the first index
> displayed on this page
>         int maxpage    = 50;                    //the maximum items
> displayed on this page
>         String queryString = null;              //the query entered in
> the previous page
>         String startVal    = null;              //string version of
> startindex
>         String maxresults  = null;              //string version of
> maxpage
>         int thispage = 0;                       //used for the for/next
> either maxpage or
>                                                 //hits.length() -
> startindex - whichever is
>                                                 //less
>
>         try {
>           searcher = new IndexSearcher(indexName);      //create an
> indexSearcher for our page
>                                                         //NOTE: this
> operation is slow for large
>                                                         //indices (much
> slower than the search itself)
>                                                         //so you might
> want to keep an IndexSearcher
>                                                         //open
>
>         } catch (Exception e) {                         //any error that
> happens is probably due
>                                                         //to a
> permission problem or non-existant
>                                                         //or otherwise
> corrupt index
> %>
>                 <p>ERROR opening the Index - contact sysadmin!</p>
>                 <p>Error message: <%=escapeHTML(e.getMessage())%></p>
> <%                error = true;                                  //don't
> do anything up to the footer
>         }
> %>
> <%
>        if (error == false) {
> //did we open the index?
>                 queryString = request.getParameter("matchword");
>                 hotWord = queryString;
>                 //add the conditions
>                 if (isSocialNetwork || isDate)
>                     queryString = queryString  + " AND " + and;
>                 else
>                     queryString = queryString  + and;
>
>                out.println("QueryString" + queryString);
>                 //out.println (queryString);           //get the search
> criteria
>                 startVal    = request.getParameter("startat");
> //get the start index
>                 maxresults  = request.getParameter("maxresults");
> //get max results per page
>                 try {
>                         maxpage    = Integer.parseInt(maxresults);
> //parse the max results first
>                         startindex = Integer.parseInt(startVal);
> //then the start index
>                 } catch (Exception e) { } //we don't care if something
> happens we'll just start at 0
>                                           //or end at 50
>
>
>
>                 if (queryString == null)
>                     queryString = "Search";
>                         //throw new ServletException("no query "+
> //if you don't have a query then
>                                                  //  "specified");
> //you probably played on the
>
> //query string so you get the
>
> //treatment
>
>                 Analyzer analyzer = new StopAnalyzer();
> //construct our usual analyzer
>                 try {
>                         query = new
> QueryParser("contents",analyzer).parse(queryString);  //parse the
>                         out.println(query.toString());
>                 } catch (Exception e) {                          //query
> and construct the Query
>
> //object
>
> //if it's just "operator error"
>
> //send them a nice error HTML
>
>                 out.println(jbConstants.err_begin );
>                 out.println( "No matches found" );
>                 out.println( jbConstants.err_end );
>                 error = true;
> //don't bother with the rest of
>
> //the page
>                 }
>         }
> %>
> <%
>         if (error == false && searcher != null) {                     //
> if we've had no errors
>                                                                       //
> searcher != null was to handle
>                                                                       //
> a weird compilation bug
>                 thispage = maxpage;                                   //
> default last element to maxpage
>                 hits = searcher.search(query);
>                 //out.println("hits" + hits);// run the query
>                 if (hits.length() == 0) {                             //
> if we got no results tell the user
>                 out.println(jbConstants.err_begin );
>                 out.println( "No matches found" );
>                 out.println( jbConstants.err_end );
>                 error = true;                                        //
> don't bother with the rest of the
>                                                                      //
> page
>                 }
>         }
>
>         if (error == false && searcher != null) {
> %>
>                 <table width="700">
>                 <th>Title</th>
>                 <th>Url</th>
>                 <th>Created</th>
> <%
>                 if ((startindex + maxpage) > hits.length()) {
>                         thispage = hits.length() - startindex;      //
> set the max index to maxpage or last
>                 }                                                   //
> actual search result whichever is less
>                 numRecords = thispage + startindex;
>                 for (i = startindex; i < (thispage + startindex); i++)
> {  // for each element
> %>
>                 <tr id="<%=i%>" bgColor='#F6F6F6'
>
> onClick="changeColor(this);parent.frames[1].Escape('<%=rowid%>','<%=hotWord%>');">
> <%
>                         Document doc = hits.doc(i);
> //get the next document
>                         String doctitle = doc.get("title");
> //get its title
>                         url = doc.get("url");                   //get
> its url field
>                         if ((doctitle == null) || doctitle.equals(""))
> //use the url if it has no title
>                                 doctitle = url;
>                         String summary = doc.get("summary");
>                         StringTokenizer st = new
> StringTokenizer(summary.substring(25, summary.length()), "###");
>                         while(st.hasMoreTokens())
>                         {
>                             sender = st.nextToken();
>                             rowid = st.nextToken();
>                             urlString = st.nextToken();
>                             modified = st.nextToken();
>                             domain_name = st.nextToken();
>                             userid =
> st.nextToken();
>                             rowid = rowid.trim();
>                         }
>                        // out.println("sender" + sender + "rowid" +
> rowid + "urlString" + urlString + "modified" + modified + "domain_name"
> + domain_name + "userid" + userid);
>
>
>
>
>
> //then output!
> %>
>                         <td   width="280" class="fontClass"
> color="#ffffff">
>                           <a id=<%=i%>   href=
> "javascript:Escape('<%=rowid%>','<%=hotWord%>');"  target="bot"">
>                           <div id="<%="div" + i%>"><%=doctitle%></div></a>
>                           </td>
>                         <%if (sender == null ||
> sender.trim().equals("null"))
>                            {
>                     %>
>                           <td  width="280" class="fontClass"
> ><%=urlString%></td>
>                     <%
>                            }
>                            else
>                            {
>                     %>
>                        <td   width="280" class="fontClass"
> ><%=sender%></td>
>                     <%
>                             }
>                     %>
>                         <td  width="140" class="fontClass">
>                            <%=modified.substring(0,10)%></td>
>                 </tr>
>                 <div type="hidden" id="<%="divv" + i%>"
> style="display:none"><%=rowid%></div>
> <%
>                 }
> %>
> <%                if ( (startindex + maxpage) < hits.length()) {   //if
> there are more results...display
>                                                                    //the
> more link
>
>                         String moreurl="results.jsp?query=" +
>                                        URLEncoder.encode(queryString) +
> //construct the "more" link
>                                        "&amp;maxresults=" + maxpage +
>                                        "&amp;startat=" + (startindex +
> maxpage);
> %>
>                 <tr>
>                         <td></td><td><a href="<%=moreurl%>">More
> Results>></a></td>
>                 </tr>
> <%
>                 }
> %>
>                 </table>
>
> <%       }                                            //then include our
> footer.
>          if (searcher != null)
>                 searcher.close();
> %>
>
> <SCRIPT LANGUAGE="JavaScript">
> function changeColor(currentHref)
> {
>     for (var id = 0; id <=<%=numRecords - 1%>; id++)
>     {
>     if (id != currentHref.id)
>         document.getElementById(id).bgColor='#F6F6F6';
>     else
>         document.getElementById(id).bgColor='#9E9C91';
>     }
> }
> </script>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_75331_1851774.1173974170574--

From java-user-return-26922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 16:30:30 2007
Return-Path: <java-user-return-26922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91443 invoked from network); 15 Mar 2007 16:30:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 16:30:29 -0000
Received: (qmail 69641 invoked by uid 500); 15 Mar 2007 16:30:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69607 invoked by uid 500); 15 Mar 2007 16:30:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69596 invoked by uid 99); 15 Mar 2007 16:30:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 09:30:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 09:30:18 -0700
Received: by ug-out-1314.google.com with SMTP id k40so408233ugc
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 09:29:53 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=evGYZazFk1iVE/Vpth0BfBRYyB2Jmk3wBed6r0xu93aaffiuzw5AvLKgB0dYwzsRese8SoXfnsCZ0SUKWju/2YtyQCBJUGP+aaqvc45F659dfukF0RSWF1xdVyvpaYYU/kyG/Wu6Fv2AX6Z6Pw+FDaUsTJhvtfwN51WuoovnS4A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=oDCsAoSXVl1eOCTlE6dA+/nZaMBbyRdcnGMHXHRzUFfkqNxoeIO78hUYkuw2Qxo2Y7qcJbBNIECPKPSi4G11RwfSkaHBkHodv7nyA4lhIt7+M4pRkQWpEefpjAsdbvlzUXALNVQV1zI8jbu8vObO8GsBPlA/X57DuXy1Brk3jAI=
Received: by 10.82.153.5 with SMTP id a5mr1040544bue.1173976192526;
        Thu, 15 Mar 2007 09:29:52 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e9sm2775349muf.2007.03.15.09.29.50;
        Thu, 15 Mar 2007 09:29:51 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <207B5E21-4241-4F4C-A369-1A38005902D6@genome.chop.edu>
References: <A0FD4D5A-16B6-4D10-BDB7-5FFAC3AA3B33@genome.chop.edu> <B5337A06-A8AC-4FAB-A98E-354D8A79C53E@gmail.com> <207B5E21-4241-4F4C-A369-1A38005902D6@genome.chop.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3D51535A-15A9-4E6B-9402-77ADE0BA28CE@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: SpellChecker and Lucene 2.1
Date: Thu, 15 Mar 2007 17:29:46 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


15 mar 2007 kl. 15.33 skrev Ryan O'Hara:

> My question basically was is there a spellchecker-2.*1*-rc1-dev.jar?

There has been changes since 2.0. You can also take a look at this:

https://issues.apache.org/jira/browse/LUCENE-632

>
> The problems I'm having...
>
> Exception:
>
> java.lang.NullPointerException
>         at  
> org.apache.lucene.search.spell.SpellChecker.indexDictionary 
> (SpellChecker.java:298)
>         at DidYouMeanIndexer.createSpellIndex 
> (DidYouMeanIndexer.java:52)
>         at DidYouMeanIndexer.main(DidYouMeanIndexer.java:38)

Do you have the source of SpellChecker.java available too? What is on  
and around 298?

And what line of code below is row 52?


>
> Code:
>
> public void createSpellIndex(String field,
>                                  Directory originalIndexDirectory,
>                                  Directory spellIndexDirectory) {
>         IndexReader indexReaderOriginal = null;
>         try {
>             indexReaderOriginal = IndexReader.open 
> (originalIndexDirectory);
>             LuceneDictionary dictionary = new LuceneDictionary 
> (indexReaderOriginal, field);
>             //*tried closing indexReaderOriginal here too*
> 	    SpellChecker spellChecker = new SpellChecker 
> (spellIndexDirectory);
>             spellChecker.indexDictionary(dictionary);
>         } catch (Exception e){
>             printError(e);
>         } finally {
>             try {
>                 indexReaderOriginal.close();
>             } catch (Exception e){
>                 e.printStackTrace();
>             }
>         }
>     }
>
> When I close indexReaderOriginal after the Dictionary is closed, I  
> get the same exact exception.

-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 16:59:48 2007
Return-Path: <java-user-return-26923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7895 invoked from network); 15 Mar 2007 16:59:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 16:59:47 -0000
Received: (qmail 60811 invoked by uid 500); 15 Mar 2007 16:59:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60766 invoked by uid 500); 15 Mar 2007 16:59:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60577 invoked by uid 99); 15 Mar 2007 16:59:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 09:59:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.156 as permitted sender)
Received: from [195.212.29.156] (HELO mtagate7.de.ibm.com) (195.212.29.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 09:59:31 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate7.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2FGx9mI342776
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 16:59:09 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2FGx9AT1900636
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 17:59:09 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2FGx9Y4028568
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 17:59:09 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2FGx9DM028559
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 17:59:09 +0100
In-Reply-To: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C8C21@MT-EXCH01.nuance.com>
Subject: RE: Is Lucene Java trunk still stable for production code?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF74D868DC.B5E5B16C-ON8825729F.005B44CC-8825729F.005CCE34@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 15 Mar 2007 08:53:41 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 15/03/2007 18:59:08
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

A good reason for applications to only use formal versions (vs. trunk) is
backwards compatibility (see "BackwardsCompatibility" in Lucene Wiki).

An index created with a formal version (major or minor), would be readable
(and hence upgradable) by a later version. But for interim trunk states
this is not guaranteed. For example, version 2.2 will correctly open a 2.1
index, but it might fail to open an index created with (say) the current
trunk (in between 2.1 and 2.2).

Doron

"Jean-Philippe Robichaud" <Jean-Philippe.Robichaud@nuance.com> wrote on
15/03/2007 06:32:47:

> Thanks for your insight, it matches my thoughts.  The only reason I'm
> wondering is because the latest change in the lucene_2_1 branch is 4
> weeks old.  So either no bugs were found since then (yeah!) or the bugs
> gets fixed in the trunk...
>
> I'll search JIRA and decides after!
>
> Thanks!
>
> Jp
>
> -----Original Message-----
> From: Grant Ingersoll [mailto:gsingers@apache.org]
> Sent: Thursday, March 15, 2007 9:27 AM
> To: java-user@lucene.apache.org
> Subject: Re: Is Lucene Java trunk still stable for production code?
>
> Well, I think the standard disclaimer applies here:  The trunk is not
> guaranteed to be stable (but, hey, what really is, right?).  Releases
> are meant to be "production ready" to the best of our knowledge at
> the time.
>
> That being said, we do make efforts to keep the trunk stable.  I
> guess the answer ultimately depends on your business needs.  If I
> were doing it, I would move to 2.1, but that's just me!
>
> -Grant
>
> On Mar 14, 2007, at 5:12 PM, Jean-Philippe Robichaud wrote:
>
> > Hello Dear Lucene Users!
> >
> >
> >
> > Back in the old days (well, last year) the lucene/java/trunk
> > subversion
> > path was always stable enough for everyone to use into production
> > code.
> > Now, with the 2.0/2.1/2.2 braches, is it still the case?
> >
> >
> >
> > In December, I 'ported' my app to use the lucene 2.0 release.  Now, I
> > have another chance to upgrade the production code (this is not
> > happening every month!) so I would like to upgrade the lucene library
> > I'm using to take advantage of performance gains.  Should I just
> > update
> > my svn image from lucene/java/trunk or should I take
> > lucene/java/branches/lucene_2_1
> >
> >
> >
> > Thanks!
> >
> >
> >
> > Jp
> >
>
> --------------------------
> Grant Ingersoll
> Center for Natural Language Processing
> http://www.cnlp.org
>
> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
> LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-dev-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 17:14:41 2007
Return-Path: <java-user-return-26924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14147 invoked from network); 15 Mar 2007 17:14:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 17:14:40 -0000
Received: (qmail 4519 invoked by uid 500); 15 Mar 2007 17:14:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4489 invoked by uid 500); 15 Mar 2007 17:14:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4478 invoked by uid 99); 15 Mar 2007 17:14:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 10:14:41 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from [195.212.29.154] (HELO mtagate5.de.ibm.com) (195.212.29.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 10:14:28 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2FHE6mJ333078
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 17:14:06 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2FHE6gr2236652
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 18:14:06 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2FHE55X012996
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 18:14:05 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2FHE5Ls012990
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 18:14:05 +0100
In-Reply-To: <OF74D868DC.B5E5B16C-ON8825729F.005B44CC-8825729F.005CCE34@il.ibm.com>
Subject: RE: Is Lucene Java trunk still stable for production code?
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFB5FE9831.1D34DF2F-ON8825729F.005DC9A8-8825729F.005E5BB7@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 15 Mar 2007 09:10:38 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 15/03/2007 19:14:04
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

> An index created with a formal version (major or minor), would be
readable
> (and hence upgradable) by a later version.

In fact this is not guaranteed for every "later version" - only for those
up to one major step ahead. The Wiki's statement is very accurate here:

   File formats are back-compatible between major versions.  Version X.N
   should be able to read indexes generated by any version after and
   including version X-1.0, but may-or-may-not be able to read indexes
   generated by version X-2.N.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 17:39:06 2007
Return-Path: <java-user-return-26925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26154 invoked from network); 15 Mar 2007 17:39:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 17:39:05 -0000
Received: (qmail 63439 invoked by uid 500); 15 Mar 2007 17:39:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63400 invoked by uid 500); 15 Mar 2007 17:39:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63389 invoked by uid 99); 15 Mar 2007 17:39:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 10:39:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 10:38:54 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 761BD5B770; Thu, 15 Mar 2007 10:38:34 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 722F67F403
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 10:38:34 -0700 (PDT)
Date: Thu, 15 Mar 2007 10:38:34 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: SpellChecker and Lucene 2.1
In-Reply-To: <207B5E21-4241-4F4C-A369-1A38005902D6@genome.chop.edu>
Message-ID: <Pine.LNX.4.58.0703151037310.12575@hal.rescomp.berkeley.edu>
References: <A0FD4D5A-16B6-4D10-BDB7-5FFAC3AA3B33@genome.chop.edu>
 <B5337A06-A8AC-4FAB-A98E-354D8A79C53E@gmail.com>
 <207B5E21-4241-4F4C-A369-1A38005902D6@genome.chop.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: My question basically was is there a spellchecker-2.*1*-rc1-dev.jar?

There *should* be a spellchecker 2.1 jar in the contrib/spellchecker/
directory of the 2.1 release.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 17:44:10 2007
Return-Path: <java-user-return-26926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28810 invoked from network); 15 Mar 2007 17:44:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 17:44:09 -0000
Received: (qmail 80614 invoked by uid 500); 15 Mar 2007 17:44:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80578 invoked by uid 500); 15 Mar 2007 17:44:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80564 invoked by uid 99); 15 Mar 2007 17:44:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 10:44:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 10:43:57 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id DD46B5B770; Thu, 15 Mar 2007 10:43:36 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D1A627F403;
	Thu, 15 Mar 2007 10:43:36 -0700 (PDT)
Date: Thu, 15 Mar 2007 10:43:36 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Cc: java-dev@lucene.apache.org
Subject: RE: Is Lucene Java trunk still stable for production code?
In-Reply-To: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C8C21@MT-EXCH01.nuance.com>
Message-ID: <Pine.LNX.4.58.0703151039250.12575@hal.rescomp.berkeley.edu>
References: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C88E4@MT-EXCH01.nuance.com>
 <60F64156-4903-4854-B761-3147751D2BB4@apache.org>
 <D31F90E5E88A5F45A0D4D95D30DE7C0B020C8C21@MT-EXCH01.nuance.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Thanks for your insight, it matches my thoughts.  The only reason I'm
: wondering is because the latest change in the lucene_2_1 branch is 4
: weeks old.  So either no bugs were found since then (yeah!) or the bugs
: gets fixed in the trunk...

The general policy that Doug has encouraged in teh past is to only commit
to the patch branch if/when a patch release is going to be made ... that
way there are less conflicts with merging and it's easier to understand
what exactly is going intothe patch release.

In general, i would suggest that the trunk no longer be considered
"stable" ... the current momentum is for more frequent releases, one
motivation for which is so people wanting "stable" builds don't feel
like they need to ues the trunk for the latest features,taking some burden
off commiters from needing to feel like every commit must be perfect
because users rely on the trunk being stable.

(or in short: we're moving more towards a *true* commit and review model)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 18:02:01 2007
Return-Path: <java-user-return-26927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35862 invoked from network); 15 Mar 2007 18:02:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 18:02:00 -0000
Received: (qmail 19762 invoked by uid 500); 15 Mar 2007 18:02:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19735 invoked by uid 500); 15 Mar 2007 18:02:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 7088 invoked by uid 99); 15 Mar 2007 17:54:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
X-BrightmailFiltered: true
X-IronPort-AV: i="4.14,289,1170651600"; 
   d="scan'208"; a="49372337:sNHT32183697"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Is Lucene Java trunk still stable for production code?
Date: Thu, 15 Mar 2007 13:54:11 -0400
Message-ID: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C905F@MT-EXCH01.nuance.com>
In-Reply-To: <Pine.LNX.4.58.0703151039250.12575@hal.rescomp.berkeley.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Is Lucene Java trunk still stable for production code?
Thread-Index: AcdnKYhn+4AGS0DAT0mhhbccuOyrIAAARYOw
References: <D31F90E5E88A5F45A0D4D95D30DE7C0B020C88E4@MT-EXCH01.nuance.com> <60F64156-4903-4854-B761-3147751D2BB4@apache.org> <D31F90E5E88A5F45A0D4D95D30DE7C0B020C8C21@MT-EXCH01.nuance.com> <Pine.LNX.4.58.0703151039250.12575@hal.rescomp.berkeley.edu>
From: "Jean-Philippe Robichaud" <Jean-Philippe.Robichaud@nuance.com>
To: <java-user@lucene.apache.org>
Cc: <java-dev@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

That's really wonderful.  Everything gets cleaner now.=20

Thanks, I mean really Thanks, for all the hard work that goes in Lucene
code + Doc + Processes + Mailing list.  Lucene is really something I
refer other as "what (open source) software development should be".

I'll go with lucene_2_1 !

Jp

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Sent: Thursday, March 15, 2007 1:44 PM
To: java-user@lucene.apache.org
Cc: java-dev@lucene.apache.org
Subject: RE: Is Lucene Java trunk still stable for production code?


: Thanks for your insight, it matches my thoughts.  The only reason I'm
: wondering is because the latest change in the lucene_2_1 branch is 4
: weeks old.  So either no bugs were found since then (yeah!) or the
bugs
: gets fixed in the trunk...

The general policy that Doug has encouraged in teh past is to only
commit
to the patch branch if/when a patch release is going to be made ... that
way there are less conflicts with merging and it's easier to understand
what exactly is going intothe patch release.

In general, i would suggest that the trunk no longer be considered
"stable" ... the current momentum is for more frequent releases, one
motivation for which is so people wanting "stable" builds don't feel
like they need to ues the trunk for the latest features,taking some
burden
off commiters from needing to feel like every commit must be perfect
because users rely on the trunk being stable.

(or in short: we're moving more towards a *true* commit and review
model)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 18:45:08 2007
Return-Path: <java-user-return-26928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52437 invoked from network); 15 Mar 2007 18:45:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 18:45:07 -0000
Received: (qmail 7440 invoked by uid 500); 15 Mar 2007 18:45:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7402 invoked by uid 500); 15 Mar 2007 18:45:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7391 invoked by uid 99); 15 Mar 2007 18:45:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 11:45:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Timmsc@aol.com designates 64.12.137.8 as permitted sender)
Received: from [64.12.137.8] (HELO imo-m27.mx.aol.com) (64.12.137.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 11:44:56 -0700
Received: from Timmsc@aol.com
	by imo-m27.mx.aol.com (mail_out_v38_r7.6.) id h.c28.e52db39 (52479)
	 for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 14:44:24 -0400 (EDT)
Received: from  [10.180.144.123] ([10.180.144.123]) by ciaaol-d10.mx.aol.com (v114_r3.4) with ESMTP id MAILCIAAOLD101-ccff45f994052c8; Thu, 15 Mar 2007 14:44:21 -0400
Message-ID: <45F99411.3060002@aol.com>
Date: Thu, 15 Mar 2007 14:44:33 -0400
From: Sean Timm <timmsc@aol.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: search timeout
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AOL-IP: 10.180.144.123
X-Mailer: Unknown (No Version)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO

Nutch recently added a search query timeout (NUTCH-308).  Are there any 
plans to add such functionality to the Lucene HitCollector directly?  Or 
is there some reason that this is a bad idea?

I'm using Solr which doesn't seem to support search timeouts.  It seems 
that it would make sense to add the feature at the Lucene level rather 
than implement the feature in each derivative.

Thanks,
Sean

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 18:54:16 2007
Return-Path: <java-user-return-26929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56089 invoked from network); 15 Mar 2007 18:54:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 18:54:14 -0000
Received: (qmail 22123 invoked by uid 500); 15 Mar 2007 18:54:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22100 invoked by uid 500); 15 Mar 2007 18:54:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22089 invoked by uid 99); 15 Mar 2007 18:54:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 11:54:16 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 209.85.134.185 as permitted sender)
Received: from [209.85.134.185] (HELO mu-out-0910.google.com) (209.85.134.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 11:54:04 -0700
Received: by mu-out-0910.google.com with SMTP id i10so455740mue
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 11:53:41 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:content-transfer-encoding:message-id:content-type:to:from:subject:date:x-mailer;
        b=ZhaqRHHynE09CaPRT5xcIHM2oIkGSSCjAgpNroFZdagxOK926nLpSEl1Txc/xWccldzoRXtIjzqgoYakkJyZ5vopvE/dxUcUoCQ/l0Q/7eV6sRbrAqF+Z3o6CudUzNC4J5tbRer1gQ7c0gZ9xG5MJYTYPZbQTGggBmmufLJthWg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:content-transfer-encoding:message-id:content-type:to:from:subject:date:x-mailer;
        b=bs3M1h9hz8wFtkmLR8XunsWJSaEWaJBCdP6eXstDxq9aMdpJQeKXk2b4UBzis486qqrSUzvoHNn5Ovy0h8E1qqF264OXerc8JUGCS/gqnRvsxx9bfa39czOIXpXOfY3ThxocNQauyQko5TXDzCSXoVRQm+icRAR1I069UkNlpxg=
Received: by 10.82.165.1 with SMTP id n1mr1289524bue.1173984821214;
        Thu, 15 Mar 2007 11:53:41 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id i5sm3231235mue.2007.03.15.11.53.39;
        Thu, 15 Mar 2007 11:53:40 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <6F5D9CB5-70D8-4C3A-BD45-5B41AC66A8BA@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: karl wettin <karl.wettin@gmail.com>
Subject: off topic: ASF support vector implementation?
Date: Thu, 15 Mar 2007 19:53:35 +0100
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org

I'm looking for an Apache licensed SVM, preferably logistic. Is there  
such a thing? Any suggestion for a better forum to ask this question?

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 20:57:02 2007
Return-Path: <java-user-return-26930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4184 invoked from network); 15 Mar 2007 20:57:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 20:57:00 -0000
Received: (qmail 39517 invoked by uid 500); 15 Mar 2007 20:57:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39465 invoked by uid 500); 15 Mar 2007 20:57:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39454 invoked by uid 99); 15 Mar 2007 20:57:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 13:57:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [159.14.214.193] (HELO genomemail.chop.edu) (159.14.214.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 13:56:51 -0700
Received: from [159.14.214.144] ([159.14.214.144]) BY genomemail.chop.edu ([159.14.214.193])
 WITH ESMTP (4D WebSTAR V Mail (5.3.4)); Thu, 15 Mar 2007 16:59:11 -0500
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <Pine.LNX.4.58.0703151037310.12575@hal.rescomp.berkeley.edu>
References: <A0FD4D5A-16B6-4D10-BDB7-5FFAC3AA3B33@genome.chop.edu> <B5337A06-A8AC-4FAB-A98E-354D8A79C53E@gmail.com> <207B5E21-4241-4F4C-A369-1A38005902D6@genome.chop.edu> <Pine.LNX.4.58.0703151037310.12575@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B945BA1F-7691-4658-BD55-15F2CE64C0E8@genome.chop.edu>
Content-Transfer-Encoding: 7bit
From: Ryan O'Hara <ohara@genome.chop.edu>
Subject: Re: SpellChecker and Lucene 2.1
Date: Thu, 15 Mar 2007 16:56:30 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks a ton, Hoss.  I just did an ant on the contrib/spellchecker  
directory and it produced a jar file in the LUCENE_HOME/build/  
directory.  Replacing the old jar file with the new jar file fixed my  
errrors as I suspected.  Thanks, again.

-Ryan

On Mar 15, 2007, at 1:38 PM, Chris Hostetter wrote:

>
> : My question basically was is there a spellchecker-2.*1*-rc1-dev.jar?
>
> There *should* be a spellchecker 2.1 jar in the contrib/spellchecker/
> directory of the 2.1 release.
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 22:22:52 2007
Return-Path: <java-user-return-26931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32059 invoked from network); 15 Mar 2007 22:22:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 22:22:51 -0000
Received: (qmail 16409 invoked by uid 500); 15 Mar 2007 22:22:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16373 invoked by uid 500); 15 Mar 2007 22:22:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16355 invoked by uid 99); 15 Mar 2007 22:22:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 15:22:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 15:22:41 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2FMMDmU023356
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 00:22:13 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3g0mbvt; 16 Mar 2007 00:22:00 +0200
Message-ID: <45F9C713.7040707@teamware.com>
Date: Fri, 16 Mar 2007 09:22:11 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: IndexWriter.deleteDocuments(Term) vs IndexReader.deleteDocuments(Term)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Fri, 16 Mar 2007 00:22:14 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

The writer method does not return the number of deleted documents.  Is there a 
technical reason why this is not done.

I am planning to see about converting my batch deletions using IndexReader to 
IndexWriter, but I'm currently using the return value to record stats.

Does the following give the same results?

   int beforeCount = writer.docCount();
   writer.deleteDocuments(term);
   int deleted = beforeCount - writer.docCount();

Given that I add and delete in batches, is there any benefit to switching to 
IndexWriter for deletions?

Antony


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 15 22:57:47 2007
Return-Path: <java-user-return-26932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43049 invoked from network); 15 Mar 2007 22:57:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 15 Mar 2007 22:57:46 -0000
Received: (qmail 70299 invoked by uid 500); 15 Mar 2007 22:57:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70267 invoked by uid 500); 15 Mar 2007 22:57:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70253 invoked by uid 99); 15 Mar 2007 22:57:47 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 15:57:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 15:57:36 -0700
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id 4C9FA1F8655
	for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 18:57:15 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Thu, 15 Mar 2007 18:57:15 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 168B015D985; Thu, 15 Mar 2007 18:57:16 -0400 (EDT)
Message-Id: <1173999436.1033.1179709323@webmail.messagingengine.com>
X-Sasl-Enc: ZCmH++WleShiYSdNUM/rUsma5+Xo+LIcgIGznysU6Gtf 1173999436
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <45F9C713.7040707@teamware.com>
Subject: Re: IndexWriter.deleteDocuments(Term) vs
   IndexReader.deleteDocuments(Term)
In-Reply-To: <45F9C713.7040707@teamware.com>
Date: Thu, 15 Mar 2007 18:57:16 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

"Antony Bowesman" <adb@teamware.com> wrote:
> The writer method does not return the number of deleted documents.  Is
> there a 
> technical reason why this is not done.
> 
> I am planning to see about converting my batch deletions using
> IndexReader to 
> IndexWriter, but I'm currently using the return value to record stats.
> 
> Does the following give the same results?
> 
>    int beforeCount = writer.docCount();
>    writer.deleteDocuments(term);
>    int deleted = beforeCount - writer.docCount();
> 
> Given that I add and delete in batches, is there any benefit to switching
> to 
> IndexWriter for deletions?

Good point, this is a difference in the two APIs.

IndexWriter doesn't actually delete your documents in
deleteDocuments.  Instead, it buffers up all terms for deletion and
then only on flushing (either because too many buffered deleted terms
or too many buffered added docs) will it apply the deletes to the
on-disk segments.

So your good idea to use IndexWriter.docCount() won't actually work
(in fact that method never includes deletions until the segments with
deletions are merged/optimized).

If getting the actual number of deleted docs is important I think you
should keep using IndexReader to do deletions?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 01:14:03 2007
Return-Path: <java-user-return-26933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82256 invoked from network); 16 Mar 2007 01:14:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 01:14:01 -0000
Received: (qmail 5866 invoked by uid 500); 16 Mar 2007 01:14:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5834 invoked by uid 500); 16 Mar 2007 01:14:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5823 invoked by uid 99); 16 Mar 2007 01:14:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 18:14:01 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 18:13:48 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1HS10U-0004yL-My
	for java-user@lucene.apache.org; Fri, 16 Mar 2007 02:13:23 +0100
Received: from 218.19.161.29 ([218.19.161.29])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 02:13:22 +0100
Received: from xiong.xu.cn by 218.19.161.29 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 02:13:22 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  xiong <xiong.xu.cn@gmail.com>
Subject:  Re: How to customize scoring using user feedback?
Date: Fri, 16 Mar 2007 01:13:05 +0000 (UTC)
Lines: 39
Message-ID:  <loom.20070316T020809-969@post.gmane.org>
References:  <loom.20070315T111328-903@post.gmane.org> <E049ABF7-6ED4-4675-9475-BD1F733B65FF@gmail.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=us-ascii
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: main.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 218.19.161.29 (Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.1.2) Gecko/20070219 Firefox/2.0.0.2)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org

karl wettin <karl.wettin <at> gmail.com> writes:

> 
> 
> 15 mar 2007 kl. 11.21 skrev xiong:
> 
> > Just like google: the more user clicks of search results,
> >  the higher rank they are.
> 
> Are you really sure Google does this? It would surprise me if they did.
> 

I'm not sure, actually.
But using user feedback to improve the search results is good, isn't it?

> >
> > How to implement this in lucene?
> >
> > I've read the javadoc of org.apache.lucene.search package,
> >  but still dont know how.
> >
> > Some sample code will be great.
> 
> As far as I know, there is no such thing implemented. Mechanisms that  
> change based on user input are commonly known as "adaptive". You  
> might want to search for something like that. I would personally  
> implement it as a second level scoring in a HitCollector. It might be  
> tricky to get it optimized though.
> 
> I hope this helps.
> 


I searched on the net, and found your work statement in
'http://ginandtonique.org/~kalle/javadocs/didyoumean/org/apache/lucene/search/didyoumean/package-summary.html',
very interesting, how is it going now?


-Xiong


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 01:51:43 2007
Return-Path: <java-user-return-26934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98889 invoked from network); 16 Mar 2007 01:51:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 01:51:42 -0000
Received: (qmail 63542 invoked by uid 500); 16 Mar 2007 01:51:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63512 invoked by uid 500); 16 Mar 2007 01:51:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63491 invoked by uid 99); 16 Mar 2007 01:51:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 18:51:43 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 18:51:31 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1HS1au-0000n8-VD
	for java-user@lucene.apache.org; Fri, 16 Mar 2007 02:51:00 +0100
Received: from 218.19.161.29 ([218.19.161.29])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 02:51:00 +0100
Received: from xiong.xu.cn by 218.19.161.29 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 02:51:00 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  xiong <xiong.xu.cn@gmail.com>
Subject:  Re: How to customize scoring using user feedback?
Date: Fri, 16 Mar 2007 01:50:50 +0000 (UTC)
Lines: 26
Message-ID:  <loom.20070316T023607-337@post.gmane.org>
References:  <loom.20070315T111328-903@post.gmane.org> <1173959183.6941.12.camel@rosher.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=us-ascii
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: main.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 218.19.161.29 (Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.1.2) Gecko/20070219 Firefox/2.0.0.2)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org

daniel rosher <daniel.rosher <at> hotonline.com> writes:

> 
> Hi,
> 
> This can be achieved by implementing your own implementation of the
> SortComparitorSource interface.
> 
> Section 6.1 of Lucene in Action will help you here.
> 
> We currently use this method to alter the ranking of documents depending
> on the age of the document by multiplying the current score by a cached
> function f(D) ~ age_of_document_D, so that final score = doc.score*f(D);
> 
> Regards,
> Dan
> 
Hi Dan,

By implementing SortComparitorSource, did you recount all the hits scores?
If the returned documents number is big, will it be a performance issue?

Regards,
Xiong




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 02:06:03 2007
Return-Path: <java-user-return-26935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4410 invoked from network); 16 Mar 2007 02:06:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 02:06:02 -0000
Received: (qmail 93834 invoked by uid 500); 16 Mar 2007 02:06:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93802 invoked by uid 500); 16 Mar 2007 02:06:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93791 invoked by uid 99); 16 Mar 2007 02:06:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 19:06:03 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 19:05:51 -0700
Received: by nf-out-0910.google.com with SMTP id g2so66969nfe
        for <java-user@lucene.apache.org>; Thu, 15 Mar 2007 19:05:30 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=L71qz8gukp0TAITsEAoknaCIaCbnaauv027RaxwHC4reLU3CpMu7PYs0VGNQXxKAou8I3C1lujq/5Sjt+j2iesBPARjvFmxknN40kjorrHdeKs2OQrfHRYCEfwgZrefRRVTOqkEXkTsHSnVzzRrA7EJk8MRV1rRiclZFCTfD1eU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=FO0JbbXb408yX3w5RVZqSt2v+Td+Vd0j9ZW0YIw0fHVIBDwY5QgF75ncFbYVNXqVKAOoflGWYtcz1a0S85PwK6dFL6y+d/dtmD0jTJzR7/hH15sKjNOLp5d5rm/0HUhnVMumMJzwV0oOr83i4EwJhugxxAHvjtnX8AvOJWWGC2Y=
Received: by 10.82.108.9 with SMTP id g9mr2088915buc.1174010729745;
        Thu, 15 Mar 2007 19:05:29 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id w7sm4529359mue.2007.03.15.19.05.28;
        Thu, 15 Mar 2007 19:05:28 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <loom.20070316T020809-969@post.gmane.org>
References: <loom.20070315T111328-903@post.gmane.org> <E049ABF7-6ED4-4675-9475-BD1F733B65FF@gmail.com> <loom.20070316T020809-969@post.gmane.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A35D3F8B-E739-4B1D-AAB4-65055E86D064@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: How to customize scoring using user feedback?
Date: Fri, 16 Mar 2007 03:05:25 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


16 mar 2007 kl. 02.13 skrev xiong:

> karl wettin <karl.wettin <at> gmail.com> writes:
>> 15 mar 2007 kl. 11.21 skrev xiong:
>>
>>> Just like google: the more user clicks of search results,
>>>  the higher rank they are.
>>
>> Are you really sure Google does this? It would surprise me if they  
>> did.
>>
>
> I'm not sure, actually.
> But using user feedback to improve the search results is good,  
> isn't it?

It would be very easy to tamper with the ranking by hammering  
specific documents. Perhaps what you are looking for is  
"collaborative filtering"?

>
> I searched on the net, and found your work statement in
> 'http://ginandtonique.org/~kalle/javadocs/didyoumean/org/apache/ 
> lucene/search/didyoumean/package-summary.html',
> very interesting, how is it going now?

I belive it works quite well. You find the code here: <https:// 
issues.apache.org/jira/browse/LUCENE-626>.

-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 03:29:45 2007
Return-Path: <java-user-return-26936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41296 invoked from network); 16 Mar 2007 03:29:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 03:29:43 -0000
Received: (qmail 34558 invoked by uid 500); 16 Mar 2007 03:29:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34520 invoked by uid 500); 16 Mar 2007 03:29:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34497 invoked by uid 99); 16 Mar 2007 03:29:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 20:29:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.104.95.4] (HELO listing.marketingbrokers.com) (66.104.95.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Mar 2007 20:29:31 -0700
Received: from ip66-104-95-21.z95-104-66.customer.algx.net ([66.104.95.21])
          by listing.marketingbrokers.com (JAMES SMTP Server 2.2.0) with SMTP ID 463
          for <java-user@lucene.apache.org>;
          Thu, 15 Mar 2007 19:28:47 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <A35D3F8B-E739-4B1D-AAB4-65055E86D064@gmail.com>
References: <loom.20070315T111328-903@post.gmane.org> <E049ABF7-6ED4-4675-9475-BD1F733B65FF@gmail.com> <loom.20070316T020809-969@post.gmane.org> <A35D3F8B-E739-4B1D-AAB4-65055E86D064@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <47700126-4A68-4084-8624-E7C400F04627@marketingbrokers.com>
Content-Transfer-Encoding: 7bit
From: "Peter W." <peter@marketingbrokers.com>
Subject: Re: How to customize scoring using user feedback?
Date: Thu, 15 Mar 2007 20:28:49 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

This is not currently in Lucene.

Sounds like you are looking for a voting
system to generate float scores that would be
inserted as a sortable field at index time.

Gathering user feedback on search results is
hard because you need to introduce a layer
which logs the click then redirects to the
destination.

Try this: Encode your search results with a
unique id which also points to a another app.
Log votes w/app then deliver actual results.

Set a user cookie with each vote and id,
including application logic to help prevent
abuse and/or duplicates.

Next, use your logs to see what was clicked
and generate a float score tally. Prepare a
sortable String, suitable for Lucene indexing
using Numbertools or Numberutils in Solr.

Finally, index all documents with a field
named "votes" and your converted scores.

When it comes to searching, build your
regular query, adding a Sort Object and
passing in an array of SortFields with
"votes" as type SortField.STRING first.

Precedence of sort order kicks in and
your docs with more clicks rank higher.

If everything goes well you will have
results ordered by user generated
scoring.

Regards,

Peter W.


On Mar 15, 2007, at 7:05 PM, karl wettin wrote:

>
> 16 mar 2007 kl. 02.13 skrev xiong:
>
>> karl wettin <karl.wettin <at> gmail.com> writes:
>>> 15 mar 2007 kl. 11.21 skrev xiong:
>>>
>>>> Just like google: the more user clicks of search results,
>>>>  the higher rank they are.
>>>
>>> Are you really sure Google does this? It would surprise me if  
>>> they did.
>>>
>>
>> I'm not sure, actually.
>> But using user feedback to improve the search results is good,  
>> isn't it?
>
> It would be very easy to tamper with the ranking by hammering  
> specific documents. Perhaps what you are looking for is  
> "collaborative filtering"?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 04:20:56 2007
Return-Path: <java-user-return-26937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56356 invoked from network); 16 Mar 2007 04:20:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 04:20:55 -0000
Received: (qmail 96944 invoked by uid 500); 16 Mar 2007 04:20:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96308 invoked by uid 500); 16 Mar 2007 04:20:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96297 invoked by uid 99); 16 Mar 2007 04:20:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 21:20:56 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Mar 2007 21:20:42 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1HS3vH-0000vh-1Z
	for java-user@lucene.apache.org; Fri, 16 Mar 2007 05:20:11 +0100
Received: from 218.19.161.29 ([218.19.161.29])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 05:20:11 +0100
Received: from xiong.xu.cn by 218.19.161.29 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 05:20:11 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  xiong <xiong.xu.cn@gmail.com>
Subject:  Re: How to customize scoring using user feedback?
Date: Fri, 16 Mar 2007 04:19:56 +0000 (UTC)
Lines: 25
Message-ID:  <loom.20070316T051152-189@post.gmane.org>
References:  <loom.20070315T111328-903@post.gmane.org> <E049ABF7-6ED4-4675-9475-BD1F733B65FF@gmail.com> <loom.20070316T020809-969@post.gmane.org> <A35D3F8B-E739-4B1D-AAB4-65055E86D064@gmail.com> <47700126-4A68-4084-8624-E7C400F04627@marketingbrokers.com>
Mime-Version:  1.0
Content-Type:  text/plain; charset=us-ascii
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: main.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 218.19.161.29 (Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.1.2) Gecko/20070219 Firefox/2.0.0.2)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Peter W. <peter <at> marketingbrokers.com> writes:

> 
> Hello,
> 
> This is not currently in Lucene.
> 
> Sounds like you are looking for a voting
> system to generate float scores that would be
> inserted as a sortable field at index time.
> 
> Regards,
> 
> Peter W.

Hi Peter,

But the voting is query depedant, so just add a sortable vote field may not be
enough?
For example, query 'Q1' and 'Q2' can reach result 'R1', and 'Q2' can reach
result 'R2', more votes for 'R1' from 'Q1' will make 'R1' on top of 'R2', even
if 'R2' is more suitable for 'Q2'.

Regards,
Xiong


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 08:27:01 2007
Return-Path: <java-user-return-26938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37821 invoked from network); 16 Mar 2007 08:27:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 08:27:00 -0000
Received: (qmail 8836 invoked by uid 500); 16 Mar 2007 08:27:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8804 invoked by uid 500); 16 Mar 2007 08:26:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8786 invoked by uid 99); 16 Mar 2007 08:26:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 01:26:59 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 01:26:48 -0700
Received: by nf-out-0910.google.com with SMTP id g2so138204nfe
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 01:26:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GVs3RoBJKsExnMGCbfAOlDe1tFpnQhiktNFMVzaGyxb/5TfOzrndLZlmcMAO3Hq/kD5+eZCZN6EPG8Z0rHUdAnDh9vbhRqVRF4T+haM82ldi0Re1dxNRb4zvIreI+BPCpVW6ChAQeMFo8mAsh7O7ktu7uEV5cQyAFuUz9fQZd3U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=paZqVMHGurHz4tBgkx20T236leZl1wzjWhG1UI9kFLYUc7/ZYqdRr05iL6gc9kdHiTT98RPUK7OKc2N2jNjXaWjmKNey65rO640CfYOsFpRwKM93falRuDpgI6Aq94cP0+FglA51Xxekjk5C25XSRV3z7FZZbh1JNgKHv7wSR5Y=
Received: by 10.114.148.1 with SMTP id v1mr618896wad.1174033585953;
        Fri, 16 Mar 2007 01:26:25 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Fri, 16 Mar 2007 01:26:25 -0700 (PDT)
Message-ID: <b6246fe60703160126r334f6370he2894fefca2e4698@mail.gmail.com>
Date: Fri, 16 Mar 2007 13:56:25 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Query String for a phrase?
In-Reply-To: <Pine.LNX.4.58.0703121332400.10998@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_85009_2036386.1174033585899"
References: <OF553A7F49.94FD3F3D-ON8825729B.005A0F30-8825729B.005B0798@il.ibm.com>
	 <b6246fe60703111028o36d1e118jcaf2e1a0ce3c2a92@mail.gmail.com>
	 <45F47D80.9371.29FB7D6@lucene-users.atablis.com>
	 <b6246fe60703112127q1dcbee41sb1d163d5fdd320df@mail.gmail.com>
	 <Pine.LNX.4.58.0703121332400.10998@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_85009_2036386.1174033585899
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks a lot for your help. I am now using query as documented for phrase.
Regards,
Ruchi

On 3/13/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : ok, so does that mean i can use both q1 and q2 for phrase query ie; for
> : searching words adjacent to each other. Actually that was my only
> concern,
> : as i wanted to use q1 for phrase query, rather than q2.
> : Regards,
>
> Your example "q1" is not hte correct syntax for a phrase query .. the
> correct syntax is to put quotes arround your words.
>
> you happen to be getting phrase queries for your "q1" example because of
> the analyzer you are using.   QueryParser does one pass at parsing to
> look for special meta characters it udnerstands, and then passes the
> tokens it finds to your analyzer, if hte analyzer gives it back a
> stream of tokens it makes  phrase query out of it... because your analyzer
> splits "apaceh&lucene" into two tokens, QueryParser makes a phrase query.
>
> you should not rely on this behavior, because if at some point your
> analyzer changes (or if you are using StandardAnalyzer and it encounters a
> situation where it assumes the "&" is a legitimate interword character (it
> might in cases i can't think of off hte top of my head) you won't get a
> phrase query, you'll get a single word query.
>
> use the syntax documented to get the behavior documented: if you don't
> like that syntax, you'll need a different query parser.
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_85009_2036386.1174033585899--

From java-user-return-26939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 08:34:02 2007
Return-Path: <java-user-return-26939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41553 invoked from network); 16 Mar 2007 08:34:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 08:34:00 -0000
Received: (qmail 19637 invoked by uid 500); 16 Mar 2007 08:34:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19604 invoked by uid 500); 16 Mar 2007 08:34:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19593 invoked by uid 99); 16 Mar 2007 08:34:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 01:34:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of daniel.rosher@hotonline.com designates 217.69.20.190 as permitted sender)
Received: from [217.69.20.190] (HELO cluster-d.mailcontrol.com) (217.69.20.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 01:33:48 -0700
Received: from mail.workthing.com (mail.workthing.com [195.224.106.50])
	by rly21d.srv.mailcontrol.com (MailControl) with ESMTP id l2G8XMMU032696
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 08:33:23 GMT
thread-index: AcdnpZYu360Bv8P3So+k1qO89GYr3g==
Content-Class: urn:content-classes:message
Importance: normal
Priority: normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2757
Received: from [192.168.1.101] ([195.137.90.238] RDNS failed) by mail.workthing.com with Microsoft SMTPSVC(6.0.3790.1830); Fri, 16 Mar 2007 08:32:08 +0000
Subject: Re: How to customize scoring using user feedback?
From: "daniel rosher" <daniel.rosher@hotonline.com>
To: <java-user@lucene.apache.org>
In-Reply-To:  <loom.20070316T023607-337@post.gmane.org>
References:  <loom.20070315T111328-903@post.gmane.org> <1173959183.6941.12.camel@rosher.org> <loom.20070316T023607-337@post.gmane.org>
Content-Type: text/plain;
	charset="Windows-1252"
Date: Fri, 16 Mar 2007 08:33:18 +0000
Message-ID: <1174033998.6977.16.camel@rosher.org>
MIME-Version: 1.0
X-Mailer: Evolution 2.8.1 
Content-Transfer-Encoding: quoted-printable
X-OriginalArrivalTime: 16 Mar 2007 08:32:08.0697 (UTC) FILETIME=[95FC8E90:01C767A5]
X-Scanned-By: MailControl A-07-06-80 (www.mailcontrol.com) on 10.68.0.131
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Xiong,

You're ranking idea sounds interesting ... are you looking into
something akin to the TrafficRank algorithm ? This is moving into the
realm of "Personalized search" or "Personalised search", something I'm
not aware of appearing on the Lucene mailing lists so far, but something
I'm quite interested in exploring.

http://www.earthskater.net/services/marketing/trafficrank-pagerank-webrank.=
asp

SortComparitorSource returns ScoreDocComparator which utilizes the
method below:

public int compare(ScoreDoc i, ScoreDoc j) {
if (lessthancriteria) return -1;
if (morethancriteria) return 1;
return 0;
}

Section 6.1 of 'Lucene in Action' will help you more here.

>>From ScoreDoc you can access ScoreDoc.doc, lucene document id and
ScoreDoc.score, the lucene score for document.

We regularly open a new IndexReader, and before this reader replaces the
production one, we determine f(D) for all documents so that for the user
there is almost no performance issue,i.e. f(D) is cached. I suspect you
can implement something similar.

Cheers,
Dan

On Fri, 2007-03-16 at 01:50 +0000, xiong wrote:
> daniel rosher <daniel.rosher <at> hotonline.com> writes:
>=20
> >=20
> > Hi,
> >=20
> > This can be achieved by implementing your own implementation of the
> > SortComparitorSource interface.
> >=20
> > Section 6.1 of Lucene in Action will help you here.
> >=20
> > We currently use this method to alter the ranking of documents depending
> > on the age of the document by multiplying the current score by a cached
> > function f(D) ~ age_of_document_D, so that final score =3D doc.score*f(=
D);
> >=20
> > Regards,
> > Dan
> >=20
> Hi Dan,
>=20
> By implementing SortComparitorSource, did you recount all the hits scores?
> If the returned documents number is big, will it be a performance issue?
>=20
> Regards,
> Xiong
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> <<This email has been scanned for virus and spam content>>
Daniel Rosher
Developer


d: 0207 3489 912
t: 0870 2020 121
f: 0870 2020 131
m:=20
http://recruiter.hotonline.com/






- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -=
 - - - - - - - - - - - - - - - - -
This message is sent in confidence for the addressee only. It may contain p=
rivileged=20
information. The contents are not to be disclosed to anyone other than the =
addressee.=20
Unauthorised recipients are requested to preserve this confidentiality and =
to advise=20
us of any errors in transmission. Thank you.


This message has been scanned for viruses by BlackSpider MailControl - www.=
blackspider.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 09:42:28 2007
Return-Path: <java-user-return-26940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71873 invoked from network); 16 Mar 2007 09:42:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 09:42:26 -0000
Received: (qmail 46416 invoked by uid 500); 16 Mar 2007 09:42:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46380 invoked by uid 500); 16 Mar 2007 09:42:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46361 invoked by uid 99); 16 Mar 2007 09:42:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 02:42:21 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 02:42:09 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1HS8wK-00057k-6w
	for java-user@lucene.apache.org; Fri, 16 Mar 2007 10:41:36 +0100
Received: from 218.19.161.29 ([218.19.161.29])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 10:41:36 +0100
Received: from xiong.xu.cn by 218.19.161.29 with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 10:41:36 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  xiong <xiong.xu.cn@gmail.com>
Subject:  Re: How to customize scoring using user feedback?
Date: Fri, 16 Mar 2007 09:41:25 +0000 (UTC)
Lines: 17
Message-ID:  <loom.20070316T102821-558@post.gmane.org>
References:  <loom.20070315T111328-903@post.gmane.org> <1173959183.6941.12.camel@rosher.org> <loom.20070316T023607-337@post.gmane.org> <1174033998.6977.16.camel@rosher.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=us-ascii
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: main.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 218.19.161.29 (Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.1.2) Gecko/20070219 Firefox/2.0.0.2)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org

daniel rosher <daniel.rosher <at> hotonline.com> writes:

> 
> We regularly open a new IndexReader, and before this reader replaces the
> production one, we determine f(D) for all documents so that for the user
> there is almost no performance issue,i.e. f(D) is cached. I suspect you
> can implement something similar.
> 
> Cheers,
> Dan
> 

But if f(D) is dependent on the query, how can it be precomputed and cached?
Can I get a sorted hits enumerator from IndexReader, and just compute the scores
of the top N hits and resort them?

-Xiong


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 09:49:42 2007
Return-Path: <java-user-return-26941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74233 invoked from network); 16 Mar 2007 09:49:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 09:49:41 -0000
Received: (qmail 55905 invoked by uid 500); 16 Mar 2007 09:49:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55681 invoked by uid 500); 16 Mar 2007 09:49:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55670 invoked by uid 99); 16 Mar 2007 09:49:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 02:49:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 02:49:29 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HS93d-0003kg-Bt
	for java-user@lucene.apache.org; Fri, 16 Mar 2007 02:49:09 -0700
Message-ID: <9511458.post@talk.nabble.com>
Date: Fri, 16 Mar 2007 02:49:09 -0700 (PDT)
From: cybercouf <cybercouf@free.fr>
To: java-user@lucene.apache.org
Subject: How the Field.Store flag works?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: cybercouf@free.fr
X-Virus-Checked: Checked by ClamAV on apache.org


I'm using Lucene for indexing my nutch crawls. But I don't really understand
the difference for this flag Field.Store.YES or NO. It seems (using luke) I
still can read some data who were not 'store.YES'. Where are store this data
if it's not in the index? what is better to use for small fields? (and for
medium ones)
thanks to give me some light in my understanding!
-- 
View this message in context: http://www.nabble.com/How-the-Field.Store-flag-works--tf3413510.html#a9511458
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 10:39:12 2007
Return-Path: <java-user-return-26942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93157 invoked from network); 16 Mar 2007 10:39:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 10:39:12 -0000
Received: (qmail 38935 invoked by uid 500); 16 Mar 2007 10:39:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38906 invoked by uid 500); 16 Mar 2007 10:39:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38895 invoked by uid 99); 16 Mar 2007 10:39:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 03:39:12 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 64.233.184.228 as permitted sender)
Received: from [64.233.184.228] (HELO wr-out-0506.google.com) (64.233.184.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 03:39:01 -0700
Received: by wr-out-0506.google.com with SMTP id i28so520768wra
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 03:38:41 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=TnSha2mP/TYVUkip+JmVi6O3vxFJoMGi7s5uwwj7B4sOlRbqeTngU51gMrqFRMw5Tg4jkYNL/swjn1eqiLzJIIXexISxME3rjpd0SHomWRVOAKds6j035nz/V/dD957tf8yGEFk6dB+T3Do5OfIg7m3CBEIfjCgHFWbDQMOgxxg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=JD5QhwJFNG2uOoPBQq+sA7siIonYTbMvvw3vXepbn7pGdFvzTeHWpU+DwmOnsMgeAQtDfQ4nC0C41ng8vQL1prq+PwuBrXmn+sY0qU7KqI3Ae+DStFRJj8y7Wg/jG9ugHel9ZZ+yTeZnOOZc4+OOLQ6F8igwB0vQdn0AulGxn5Q=
Received: by 10.114.53.1 with SMTP id b1mr657399waa.1174041520357;
        Fri, 16 Mar 2007 03:38:40 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Fri, 16 Mar 2007 03:38:40 -0700 (PDT)
Message-ID: <b6246fe60703160338q6105df4bq74c3ff6c66ace4ce@mail.gmail.com>
Date: Fri, 16 Mar 2007 16:08:40 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: character like &,+,.. getting ignored in search
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_86739_22759008.1174041520320"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_86739_22759008.1174041520320
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all,
I am using StopAnalzer for indexing and searching. Am searching for phrases.


q1 -> "a b"
this query gives me all documents conatining a b , but also gives
documents conatining a & b

again q2 -> "a & b"
this query q2 gives documents conatining a & b, but also gives
documents conatining a b

How can i resolve this. I only want a b for query q1
and i only want a & b for query q2

If any ideas, please help.

Regards,
Ruchi

------=_Part_86739_22759008.1174041520320--

From java-user-return-26943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 10:58:34 2007
Return-Path: <java-user-return-26943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98341 invoked from network); 16 Mar 2007 10:58:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 10:58:33 -0000
Received: (qmail 72013 invoked by uid 500); 16 Mar 2007 10:58:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71990 invoked by uid 500); 16 Mar 2007 10:58:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 55610 invoked by uid 99); 16 Mar 2007 05:13:48 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sandeep.chawla@accenture.com designates 170.252.248.72 as permitted sender)
Content-Transfer-Encoding: 7bit
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2826
Content-class: urn:content-classes:message
Importance: normal
Priority: normal
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76789.A09D773F"
Subject: How to use StandardAnalyzer
Date: Fri, 16 Mar 2007 10:40:27 +0530
Message-ID: <53C3C5D0A014414CB608A149F6E0BCD5E05A70@APAXM2106.dir.svc.accenture.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to use StandardAnalyzer
Thread-Index: AcdniWiz/5VGy3UJR/2cH2FjVI8Eag==
From: <sandeep.chawla@accenture.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 16 Mar 2007 05:13:20.0125 (UTC) FILETIME=[D000EAD0:01C76789]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76789.A09D773F
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I am new to Lucene Java API.

=20

I want to use StandardAnalyzer for tokenizing my document.  How can I
use it?

Further how can I index "Acronym" and "Company name"  as one term.=20

I know , we can do this using StandardAnalyzer but I am not sure of the
way.

=20

Thanks in advance

=20

Sandeep



This message is for the designated recipient only and may contain =
privileged, proprietary, or otherwise private information.  If you have =
received it in error, please notify the sender immediately and delete =
the original.  Any other use of the email by you is prohibited.

------_=_NextPart_001_01C76789.A09D773F--

From java-user-return-26944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 11:25:33 2007
Return-Path: <java-user-return-26944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7221 invoked from network); 16 Mar 2007 11:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 11:25:32 -0000
Received: (qmail 21954 invoked by uid 500); 16 Mar 2007 11:25:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21878 invoked by uid 500); 16 Mar 2007 11:25:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21861 invoked by uid 99); 16 Mar 2007 11:25:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 04:25:31 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of liuping.james@gmail.com designates 66.249.82.224 as permitted sender)
Received: from [66.249.82.224] (HELO wx-out-0506.google.com) (66.249.82.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 04:25:21 -0700
Received: by wx-out-0506.google.com with SMTP id i29so473873wxd
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 04:25:00 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YfUJi08xYmY+k58SuVOxt5W+/bQn+hRbcuKDfeV7eFQn35AIQn4K55qNZWm73cAqB5Rhxayifcszxe6E8aNR06GOOMVUEbKhb4v2/SuiRmU1jo1UHTaJnngcjso0WdBJgeG3zaq5B0EuuM/yjNnyBT8odSEIbe8/6DLna0LWMgY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Db7JYPtfU9MfLoSb1FLvunYuiOxuvalEy0CPLTCRkHSak8dks5cCqGeyw3jlhaJ5ZVt+7U3UuKX3IJh5m5Ojkw5ooLiPN/C18xI8oP/zCU910WiLkcqgo2vs6Jv8DqKBCIfvD9ZhsbrFaagVOo7z9Am8Oyg/TdSvx/31TxRlhxU=
Received: by 10.70.66.18 with SMTP id o18mr2984962wxa.1174044300386;
        Fri, 16 Mar 2007 04:25:00 -0700 (PDT)
Received: by 10.70.58.18 with HTTP; Fri, 16 Mar 2007 04:25:00 -0700 (PDT)
Message-ID: <5d5204510703160425s68ffaaccg1208e0f2ea99e1f3@mail.gmail.com>
Date: Fri, 16 Mar 2007 19:25:00 +0800
From: "James liu" <liuping.james@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to use StandardAnalyzer
In-Reply-To: <53C3C5D0A014414CB608A149F6E0BCD5E05A70@APAXM2106.dir.svc.accenture.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26541_4875238.1174044300309"
References: <53C3C5D0A014414CB608A149F6E0BCD5E05A70@APAXM2106.dir.svc.accenture.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_26541_4875238.1174044300309
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You can read demo source code from lucene source package.



2007/3/16, sandeep.chawla@accenture.com <sandeep.chawla@accenture.com>:
>
> Hi,
>
>
>
> I am new to Lucene Java API.
>
>
>
> I want to use StandardAnalyzer for tokenizing my document.  How can I
> use it?
>
> Further how can I index "Acronym" and "Company name"  as one term.
>
> I know , we can do this using StandardAnalyzer but I am not sure of the
> way.
>
>
>
> Thanks in advance
>
>
>
> Sandeep
>
>
>
> This message is for the designated recipient only and may contain
> privileged, proprietary, or otherwise private information.  If you have
> received it in error, please notify the sender immediately and delete the
> original.  Any other use of the email by you is prohibited.
>



-- 
regards
jl

------=_Part_26541_4875238.1174044300309--

From java-user-return-26945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 13:13:09 2007
Return-Path: <java-user-return-26945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42401 invoked from network); 16 Mar 2007 13:13:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 13:13:07 -0000
Received: (qmail 37879 invoked by uid 500); 16 Mar 2007 13:13:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37644 invoked by uid 500); 16 Mar 2007 13:13:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37632 invoked by uid 99); 16 Mar 2007 13:13:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 06:13:07 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 06:12:56 -0700
Received: by ug-out-1314.google.com with SMTP id k40so716901ugc
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 06:12:35 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gDYZtMf+aKjBmYkSh0DQSD511/PofpLjS45gRv98bX7NJ9beXexBlpzkMWCKCULWh4CDB69Isz1s9oMPgYEXrcLYH7miz/44HY7hz0dYxdAcUXS02JEyYrE31g9EHnfq6DpqmgitX284a7m5wWQjTnwdwDh7LACEeJWY2F/fQ/A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nKT2fdLZzdAoL07udL9WoGks37l6m1bYzyM5uc023B+nxO1KUXWBv/jDAHA4DlZAV2POesICSE2ATmWdxzbVEvk468ch5R0aP4MIf25ARJMfdso7uF4cFLcufIUFh8kVS9viubSDAgmBNegfNrP3jnxQ0XNPDsraG1H0V0JUN58=
Received: by 10.114.79.1 with SMTP id c1mr710431wab.1174050754043;
        Fri, 16 Mar 2007 06:12:34 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Fri, 16 Mar 2007 06:12:33 -0700 (PDT)
Message-ID: <359a92830703160612w7ca6cf61y595b6e2eec316c4c@mail.gmail.com>
Date: Fri, 16 Mar 2007 09:12:33 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How the Field.Store flag works?
In-Reply-To: <9511458.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_93145_18308439.1174050753708"
References: <9511458.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_93145_18308439.1174050753708
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

This confused me at first too, so here's my current understanding...
When you use YES, you store the actual data as-is with the document.
This is entirely independent of indexing. Internally, I assume that
searching and storing are separate parts of the index that
have nothing to do with each other.

When you use NO, (and here I assume you index the data, because
not storing it and not indexing it is logically a no-op), the relevant
terms are stored in the index (stop words possibly removed) but
NOT stored with the document.

Programmatically, you can't say something like
doc.get("field") on a field that's not stored.

When you do NOT store data and use Lukes "reconstruct and edit"
button, you will probably not get an entirely accurate version of
the document because what I believe is happening (although I haven't
been in the guts of luke) is that it's is using something like TermEnum
for all the terms in the index and ordering them sequentially for each
unstored field in the particular document. Conceptually, I think it's
something like

   For each term in the index
        Assemble an ordered list of the termpositions in this document.
   now merge all those lists by termposition.

So stemmed terms may/may not come back correctly. I don't think
you get stopwords. Etc. Luke does its best to reassemble unstored
fields from the index data, but for unstored data you'll see, in big red
letters "RESTORED content ONLY - check for errors!" It's a
inevitably a lossy process.

As for your question of which is better for small or large fields... It's
not a relevant question. A better question is "Will I ever need the
field exactly as it was originally?". If the answer is YES, store it.

Think of them as two independent questions.
Do I need to show the original to the user? Store.Yes. Otherwise NO.
Do I need to search the data? Index.TOKENIZED/UN_TOKENIZED.
                                              otherwise NO.

You do NOT need to store data to search for it.

In general, IMO, it's better to not store the data if you don't need
it since the index that results is significantly smaller if you don't
store data.

On large indexes, BTW, Luke takes a LONG time to reconstruct
a document. It has to do a lot of work behind the scenes.

So think of indexing and storing as putting the data in different
places. Indexing data puts it in with all the searchable terms.
Storing it puts it with the document. Indexing is for find things,
and storing is for showing the original to the user. You can do
either or both.

I'm not sure whether this has added more confusion or cleared
things up, but at least it's a try <G>.

Best
Erick

On 3/16/07, cybercouf <cybercouf@free.fr> wrote:
>
>
> I'm using Lucene for indexing my nutch crawls. But I don't really
> understand
> the difference for this flag Field.Store.YES or NO. It seems (using luke)
> I
> still can read some data who were not 'store.YES'. Where are store this
> data
> if it's not in the index? what is better to use for small fields? (and for
> medium ones)
> thanks to give me some light in my understanding!
> --
> View this message in context:
> http://www.nabble.com/How-the-Field.Store-flag-works--tf3413510.html#a9511458
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_93145_18308439.1174050753708--

From java-user-return-26946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 13:16:46 2007
Return-Path: <java-user-return-26946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43486 invoked from network); 16 Mar 2007 13:16:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 13:16:45 -0000
Received: (qmail 46003 invoked by uid 500); 16 Mar 2007 13:16:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45972 invoked by uid 500); 16 Mar 2007 13:16:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45957 invoked by uid 99); 16 Mar 2007 13:16:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 06:16:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 06:16:27 -0700
Received: by ug-out-1314.google.com with SMTP id k40so717914ugc
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 06:16:05 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=L/tyuMKPEW4m1PQK1t9MjNptO6FwKygOmuKAGws/NOusNPRPLkutdLuqSzbx9Y8b7WGDhzkllSLKBorCjeUZDJ6zaGwMINrBSmYFl4b1DA/TP0eBCOQt8LWvrWojcIlrJ3arYb8WFsbyZLRBW/2gwNoIDtf61ml629h+f8G1tDQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nsUfXKLBJRaX5K/fIFLF7d61fA24tf3ch5xUlKY+4PcjtFNbESnKlGeqaAi8iwAgZVVsq5F81CLJum0PkJXFOHagn46tyqSCewwBSr5yqZ1Ses3IziorJXcXt1/KCrSamgDsLu6mPILnRVNPrl+Pm3yHAhiw9vqGD3BBQ0buxzQ=
Received: by 10.114.110.1 with SMTP id i1mr731215wac.1174050964553;
        Fri, 16 Mar 2007 06:16:04 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Fri, 16 Mar 2007 06:16:04 -0700 (PDT)
Message-ID: <359a92830703160616l3392bcey5902a34121602f2@mail.gmail.com>
Date: Fri, 16 Mar 2007 09:16:04 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: character like &,+,.. getting ignored in search
In-Reply-To: <b6246fe60703160338q6105df4bq74c3ff6c66ace4ce@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_93201_16664163.1174050964509"
References: <b6246fe60703160338q6105df4bq74c3ff6c66ace4ce@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_93201_16664163.1174050964509
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

What analyzers are you using at index and search time? I suspect
that the '&' is being removed both at index and search. So, you've
only indexed the tokens 'a' and 'b' and by the time you get out
of the query parser, you're only searching for terms 'a' 'b'.

Did you bother using query.toString() to examine the parsed results?
Did you try using Luke to see what was in your index?
Did you try using Luke to see how the queries parsed under
various analyzers? I suspect you'd get your answers much
faster if you tried this first.

Erick

On 3/16/07, ruchi thakur <ruchithakur1@gmail.com> wrote:
>
> Hi all,
> I am using StopAnalzer for indexing and searching. Am searching for
> phrases.
>
>
> q1 -> "a b"
> this query gives me all documents conatining a b , but also gives
> documents conatining a & b
>
> again q2 -> "a & b"
> this query q2 gives documents conatining a & b, but also gives
> documents conatining a b
>
> How can i resolve this. I only want a b for query q1
> and i only want a & b for query q2
>
> If any ideas, please help.
>
> Regards,
> Ruchi
>

------=_Part_93201_16664163.1174050964509--

From java-user-return-26947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 13:17:29 2007
Return-Path: <java-user-return-26947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44277 invoked from network); 16 Mar 2007 13:17:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 13:17:27 -0000
Received: (qmail 51449 invoked by uid 500); 16 Mar 2007 13:17:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51417 invoked by uid 500); 16 Mar 2007 13:17:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51402 invoked by uid 99); 16 Mar 2007 13:17:32 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 06:17:32 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 06:17:21 -0700
Received: by ug-out-1314.google.com with SMTP id k40so718184ugc
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 06:16:59 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=szVIfMBMnpyIgA+zSldvjkLu5gezopD4LnpAHg1VDJ6tyhP7AHErPzXk8H7L0yIUytzfIwUXE0m+qyPnpsDS7Yyyx8xUnJMIOKRk9R3QUDfzeWMlYbivownRtyMAsPhfSyWFLsSji5Z4GhrvHS3YjapiLseVU1J1q5LTquZnbFo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=tem9OTZ8+86b1/1FF5Q3Iue7npcSinH9eGlu7ryufs3TPUOXDyb63gGR+KfEbvoHOHOa+DM5fwDU/7+eTtDPL3ip5IsS2JuBX0ya3JIIYIERiK5PveJcclNDluBVZLy8I8oHixCpYfk6Q1f2HAHm32iNzsDIjtVlPIa3o4os8DU=
Received: by 10.114.46.1 with SMTP id t1mr735253wat.1174051017870;
        Fri, 16 Mar 2007 06:16:57 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Fri, 16 Mar 2007 06:16:57 -0700 (PDT)
Message-ID: <359a92830703160616r281d55a2jf37cfc78dc24ba4e@mail.gmail.com>
Date: Fri, 16 Mar 2007 09:16:57 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to use StandardAnalyzer
In-Reply-To: <5d5204510703160425s68ffaaccg1208e0f2ea99e1f3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_93217_30364793.1174051017508"
References: <53C3C5D0A014414CB608A149F6E0BCD5E05A70@APAXM2106.dir.svc.accenture.com>
	 <5d5204510703160425s68ffaaccg1208e0f2ea99e1f3@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_93217_30364793.1174051017508
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Also, See SynonymAnalyzer in Lucene In Action.

Erick

On 3/16/07, James liu <liuping.james@gmail.com> wrote:
>
> You can read demo source code from lucene source package.
>
>
>
> 2007/3/16, sandeep.chawla@accenture.com <sandeep.chawla@accenture.com>:
> >
> > Hi,
> >
> >
> >
> > I am new to Lucene Java API.
> >
> >
> >
> > I want to use StandardAnalyzer for tokenizing my document.  How can I
> > use it?
> >
> > Further how can I index "Acronym" and "Company name"  as one term.
> >
> > I know , we can do this using StandardAnalyzer but I am not sure of the
> > way.
> >
> >
> >
> > Thanks in advance
> >
> >
> >
> > Sandeep
> >
> >
> >
> > This message is for the designated recipient only and may contain
> > privileged, proprietary, or otherwise private information.  If you have
> > received it in error, please notify the sender immediately and delete
> the
> > original.  Any other use of the email by you is prohibited.
> >
>
>
>
> --
> regards
> jl
>

------=_Part_93217_30364793.1174051017508--

From java-user-return-26948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 14:54:40 2007
Return-Path: <java-user-return-26948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97655 invoked from network); 16 Mar 2007 14:54:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 14:54:39 -0000
Received: (qmail 89736 invoked by uid 500); 16 Mar 2007 14:54:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89698 invoked by uid 500); 16 Mar 2007 14:54:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89676 invoked by uid 99); 16 Mar 2007 14:54:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 07:54:39 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ruchithakur1@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 07:54:28 -0700
Received: by ug-out-1314.google.com with SMTP id k40so747772ugc
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 07:54:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Fa8bpYO6qWcWL2NU+hlBU6QZ3THu7wxhpTeaicIv1d/dpCYiTsDxKX05lSFbWlCIm3YYoAsi9KJgBMGiJP7Da+HgVwNO7KJ1Anw3+MbNiXehO1GexyAQy/mQOgRutSfqP0hW9OzD3QhNUN1iBesyNh+AHdj1N1bdRbIUNVvm6aY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GxrqJYnC11CbVF9RQ78vAqTG81fzKO67GMBkOUMMwj8b3PHktf3F5XxA7umH+VXmmuUMJMR8JrSXrbLtACNr4kclia51rc6KHraFSdbhH2Y0LpgOv2CJ00xhRTirs+C7LgdHFh2A2fGd94td7P0Gyq+Xw8Xlbg2Ah84AqOjkvrU=
Received: by 10.114.200.2 with SMTP id x2mr752563waf.1174056843937;
        Fri, 16 Mar 2007 07:54:03 -0700 (PDT)
Received: by 10.114.131.16 with HTTP; Fri, 16 Mar 2007 07:54:03 -0700 (PDT)
Message-ID: <b6246fe60703160754i1a7000f1r8617ac0d582c4296@mail.gmail.com>
Date: Fri, 16 Mar 2007 20:24:03 +0530
From: "ruchi thakur" <ruchithakur1@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: character like &,+,.. getting ignored in search
In-Reply-To: <359a92830703160616l3392bcey5902a34121602f2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_91007_17754578.1174056843892"
References: <b6246fe60703160338q6105df4bq74c3ff6c66ace4ce@mail.gmail.com>
	 <359a92830703160616l3392bcey5902a34121602f2@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_91007_17754578.1174056843892
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks Eric. I will try out the suggestions. I am using StopAnalyzer.
Regards,
Ruchi


On 3/16/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> What analyzers are you using at index and search time? I suspect
> that the '&' is being removed both at index and search. So, you've
> only indexed the tokens 'a' and 'b' and by the time you get out
> of the query parser, you're only searching for terms 'a' 'b'.
>
> Did you bother using query.toString() to examine the parsed results?
> Did you try using Luke to see what was in your index?
> Did you try using Luke to see how the queries parsed under
> various analyzers? I suspect you'd get your answers much
> faster if you tried this first.
>
> Erick
>
> On 3/16/07, ruchi thakur <ruchithakur1@gmail.com> wrote:
> >
> > Hi all,
> > I am using StopAnalzer for indexing and searching. Am searching for
> > phrases.
> >
> >
> > q1 -> "a b"
> > this query gives me all documents conatining a b , but also gives
> > documents conatining a & b
> >
> > again q2 -> "a & b"
> > this query q2 gives documents conatining a & b, but also gives
> > documents conatining a b
> >
> > How can i resolve this. I only want a b for query q1
> > and i only want a & b for query q2
> >
> > If any ideas, please help.
> >
> > Regards,
> > Ruchi
> >
>

------=_Part_91007_17754578.1174056843892--

From java-user-return-26949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 16:13:13 2007
Return-Path: <java-user-return-26949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91020 invoked from network); 16 Mar 2007 16:13:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 16:13:12 -0000
Received: (qmail 4977 invoked by uid 500); 16 Mar 2007 16:13:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4949 invoked by uid 500); 16 Mar 2007 16:13:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4938 invoked by uid 99); 16 Mar 2007 16:13:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 09:13:12 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from [195.212.29.154] (HELO mtagate5.de.ibm.com) (195.212.29.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 09:12:59 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2GGCbea164862
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 16:12:37 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2GGCaG11347720
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 17:12:36 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2GGCaAo014019
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 17:12:36 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2GGCagV014012
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 17:12:36 +0100
In-Reply-To: <848735.17763.qm@web54302.mail.yahoo.com>
Subject: Re: Indexing HTML pages and phrases
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFB26C75B8.9598387F-ON882572A0.005788CF-882572A0.0058ACEE@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Fri, 16 Mar 2007 08:08:34 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 16/03/2007 18:12:35
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

For search phrases there's no need to "detect the phrases" at indexing time
- the position of each "word" is saved in the index and then used at search
time to match phrase queries. (also see 'query syntax document'.)

Lucene takes plain text as document input - extraction of content text and
properties from (say) an HTML should be done external to Lucene. (also see
'Lucene FAQ'.)

Assigning Store.YES to a field added to a document being indexed would save
the text of that field in the index so that it is later (at search time)
fetchable. (also see javadocs for org.apache.lucene.document.Field.)

Regards,
Doron

Maryam <mkar160@yahoo.com> wrote on 14/03/2007 19:25:52:

> Hi,
>
> I am wondering if we can index a phrase (not term) in
> Lucene? Also, I am not usre if it can index HTML
> pages? I need to have access to the text of some of
> tags, I am not sure if this can be done in Lucene. I
> would be so glad if you help me in this case.
>
> Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 17:15:47 2007
Return-Path: <java-user-return-26950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54073 invoked from network); 16 Mar 2007 17:15:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 17:15:47 -0000
Received: (qmail 47616 invoked by uid 500); 16 Mar 2007 17:15:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47587 invoked by uid 500); 16 Mar 2007 17:15:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47576 invoked by uid 99); 16 Mar 2007 17:15:46 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 10:15:46 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rosherd@googlemail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 10:15:36 -0700
Received: by ug-out-1314.google.com with SMTP id k40so790970ugc
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 10:15:15 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=googlemail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=n3adYer+3Zl0zwlvgq/5Gs2dnzubnqhajYSfHLbW4yXHJ6ExntsCd3y7/5BVYvBBSMpsxYudqa8FJ9w8b05O2INi7LV4/DlOBLJJHHXkQpSwoMW7wFtdFRM9EmQZWu27xStams6Hqa4Mp7ZKXShYB7oVE4ml1uvCFls/gvORMME=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gtbn6yR3xaSvPFYrRoqtAu32lR4c7ymCVsT/NjVhpThuUD9xZYhccjyAuE8nQcg3RX9NYNceLRmVknb7mfZ/2oakkRJyE9tpM8MFzbEmcIiFBQJr/j9d6waeHgW7mFNGv0SzyUbr1PmIjN/AxgFFQ4AslQlZVJ0TtYI0nlP7d9A=
Received: by 10.114.156.1 with SMTP id d1mr801698wae.1174065311029;
        Fri, 16 Mar 2007 10:15:11 -0700 (PDT)
Received: by 10.115.93.12 with HTTP; Fri, 16 Mar 2007 10:15:10 -0700 (PDT)
Message-ID: <1c36b0de0703161015u7f378fb1pdb9b6cf8448b3f8c@mail.gmail.com>
Date: Fri, 16 Mar 2007 17:15:10 +0000
From: "Daniel Rosher" <rosherd@googlemail.com>
To: java-user@lucene.apache.org
Subject: Re: Announcement: Lucene powering Monster job search index (Beta)
In-Reply-To: <e994873a0701281227g3e9ddbd6r77bf32ff5b16b1d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_83560_15542386.1174065310797"
References: <1c36b0de0611030801u320dff57k1a470eb93c239441@mail.gmail.com>
	 <e994873a0611031056wc507d8ds213d0c8115b576bd@mail.gmail.com>
	 <bd818c7b0701271322l6899c3e3u71006de77ab1798c@mail.gmail.com>
	 <e994873a0701281227g3e9ddbd6r77bf32ff5b16b1d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_83560_15542386.1174065310797
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Peter,

Shouldn't the search perform the euclidean distance during filtering as well
though, otherwise you will obtain perhaps highly relevant hits reported to
the user outside the range they specified? Particularly as the search radius
gets larger.

Cheers,
Dan

On 1/28/07, Peter Keegan <peterlkeegan@gmail.com> wrote:
>
> Correction:
> We only do the euclidan computation during sorting. For filtering, a
> simple
> bounding box is computed to approximate the radius, and 2 range
> comparisons
> are made to exclude documents. Because these comparisons are done outside
> of
> Lucene as integer comparisons, it is pretty fast. With 13000 results, the
> seach time with distance sort is about 200 msec (compared to 30 ms for a
> simple non-radius, date-sorted keyword search).
>
> Peter
>
> On 1/27/07, no spam <mrs.nospam@gmail.com> wrote:
> >
> > Isn't this extremely ineffecient to do the euclidean distance twice?
> > Perhaps not a huge deal if a small search result set.  I at times have
> > 13,000 results that match my search terms of an index with 1.2 million
> > docs.
> >
> > Can't you do some simple radian math first to ensure it's way out of
> > bounds,
> > then do the euclidian distance for the subset within bounds?  I'm
> > currently
> > only doing the distance calc once (post hit collector). I don't have any
> > performance numbers with the double vs single distance calc.
> >
> > I'm still working out the sort by radius myself.
> >
> > Mark
> >
> > On 11/3/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > >
> > > Daniel,
> > > Yes, this is correct if you happen to be doing a radius search and
> > sorting
> > > by mileage.
> > > Peter
> > >
> > >
> >
> >
>

------=_Part_83560_15542386.1174065310797--

From java-user-return-26951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 17:23:00 2007
Return-Path: <java-user-return-26951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57226 invoked from network); 16 Mar 2007 17:22:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 17:22:58 -0000
Received: (qmail 68039 invoked by uid 500); 16 Mar 2007 17:22:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68006 invoked by uid 500); 16 Mar 2007 17:22:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67994 invoked by uid 99); 16 Mar 2007 17:22:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 10:22:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 10:22:44 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2GHMMQv127356
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 17:22:22 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2GHMMuX1888492
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 18:22:22 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2GHMM9i014379
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 18:22:22 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2GHMM2l014376
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 18:22:22 +0100
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248809A2BD26@SPMWB02L.luinternal.fortis.bank>
Subject: Re: Open / Close   when   Merging
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFA57D82AA.CC4BF976-ON882572A0.005C958A-882572A0.005EFAD8@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Fri, 16 Mar 2007 09:17:26 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 16/03/2007 19:22:21
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Matt,

To verify I understand correctly, are this your settings? :

- one "MAIN" index containing all the data:
  used for search;
  never does addDocument();
- Several side "INC" indexes:
  addDocument() here for new/modified documents;
  never searched;
- at some point all INC indexes are "merged" to MAIN index:
  for each INC: {
    (a) delete INC's corresponding docs from MAIN;
    (b) MAIN.addIndexes({INC});
  }

It would be interesting to know why you selected this setting - what are
the benefits from not addDocument()ing on MAIN? For instance, are the INC
indexes maintained on separate drives, and you get better performance this
way?

But ignoring the "why" and looking at the "how" - if you are using
IndexReader for deletion in (a), then yes, you would have to close the
IndexWriter, because otherwise the IndexReader would fail to delete -
although called "Reader", it has to get write privilege to the index (using
Lucene's internal locking).

As of Lucene 2.1 though, IndexWriter supports delete document(s) by term,
which I assume is what you are doing, so you could use it, and avoid the
second IndexReader on MAIN. If each INC index have different documents (by
your definition / application_doc_id) then you could first delete all the
documents and then add all the indexes in one call to addIndexes (or
addIndexesNoOptimize).

Hope this helps,
Doron
--------------------------------

"DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu> wrote on 13/03/2007
06:51:35:

> Hi,
> I need to merge several indexes (I call them incremental index) with
> my main index.
> Each  incremental index can contain the same url's of the main index,
> that's why I have a list of url's to update, that I will delete from
> the main index before merging with an incremental index.
> I have also a list of urls to delete,
> Then after these operations I can merge the indexes.
> I am not sure about the operations Open / Close on the Index Writer,
> I may need some help ...
>
> for  i=0 ; i < list_increment_indexes.size() ; ++i
> { // BEGIN WHILE
> 1.      OPEN A SECOND READER ON THE MAININDEX
>         (for not interrupting user queries on
>          the main indexreader on the main index)
> 2.      DELETE DOCS TO BE DELETED
>         DELETE DOCS TO BE UPDATED
> 3.      CLOSE THE SECOND READER ON THE MAIN INDEX ==> FLUSH DELETIONS !!
> 4.      RE-OPEN A SECOND READER ON THE MAIN INDEX FOR MERGING
> 5.      OPEN A READER ON THE INCREMENTAL INDEX
> 6.      OPEN AN INDEXWRITER
>         TO MERGE THE READER ON THE INCREMENTAL INDEX
>         WITH THE READER ON THE MAIN INDEX
> 7.      CLOSE THE INDEXWRITER
> 8.      CLOSE THE SECOND READER ON THE MAIN INDEX
> 9.      CLOSE THE READER ON THE INCREMENTAL INDEX
> } // END WHILE !
> 10.     CLOSE THE INDEXSEARCHER
> 11.     CLOSE THE MAIN INDEXREADER ON THE MAIN INDEX
> 12.     OPEN A NEW READER ON THE INDEX
>

> I am not sure if I can open the idnexwriter *before* the loop and
> close it *outside*,
> So I do it in the loop for each incremental index for now on ...
>
> __________________________________
>    Matt
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 18:31:44 2007
Return-Path: <java-user-return-26952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67863 invoked from network); 16 Mar 2007 18:31:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 18:31:44 -0000
Received: (qmail 34918 invoked by uid 500); 16 Mar 2007 18:31:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34878 invoked by uid 500); 16 Mar 2007 18:31:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34857 invoked by uid 99); 16 Mar 2007 18:31:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 11:31:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 11:31:31 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 732975B773; Fri, 16 Mar 2007 11:31:11 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6C7BB7F403
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 11:31:11 -0700 (PDT)
Date: Fri, 16 Mar 2007 11:31:11 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Fast index traversal and update for stored field?
In-Reply-To: <B23FD24F-ECE4-4B1F-8E02-F7666AEADA96@apple.com>
Message-ID: <Pine.LNX.4.58.0703161128430.11935@hal.rescomp.berkeley.edu>
References: <D381BC1B-8A37-418E-855C-4C2ED721A458@apple.com>
 <359a92830703141650u43c80874id62118da0b06d1d3@mail.gmail.com>
 <B23FD24F-ECE4-4B1F-8E02-F7666AEADA96@apple.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Sounds like there's nothing "out of the box" to solve my problem; if
: I write something to update lucene indexes in place I'll follow up
: about it in here (don't know that I will though; building a new,
: narrower index is probably more expedient and will probably be fast
: enough for my purposes in this case).

i suspect the main reason why no one has ever submitted a patch for doing
this (replacing stored values of documents) is precisely this reason --
as long as you have some unique identifier in each doc, it's really easy
to call out to some seperate data store to get additional stored values
for a set of docs once you've gotten them from Lucene.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 18:41:21 2007
Return-Path: <java-user-return-26953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80399 invoked from network); 16 Mar 2007 18:41:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 18:41:19 -0000
Received: (qmail 50127 invoked by uid 500); 16 Mar 2007 18:41:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50090 invoked by uid 500); 16 Mar 2007 18:41:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50079 invoked by uid 99); 16 Mar 2007 18:41:20 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 11:41:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 11:41:11 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 12A415B773; Fri, 16 Mar 2007 11:40:51 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0EDB37F403
	for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 11:40:51 -0700 (PDT)
Date: Fri, 16 Mar 2007 11:40:51 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: search timeout
In-Reply-To: <45F99411.3060002@aol.com>
Message-ID: <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu>
References: <45F99411.3060002@aol.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Nutch recently added a search query timeout (NUTCH-308).  Are there any
: plans to add such functionality to the Lucene HitCollector directly?  Or
: is there some reason that this is a bad idea?

Quickly skimming the patch in that Issue, Nutch seems to have done what
has been discussed previously on this list: using a HitCollector which
throws a RuntimeException if a certain amount of time has elapsed.

this is something anyone using the Lucene API can do as long as they use a
HitCollector ... the Nutch impl seems to ctually spin up a seperate thread
for each request rather then comparing timestamps after each doc is
colelcted (and interesting choice that both frightens and excites me)

a HitCollector like this could easily be "promoted" up in the Lucene code
base ... the real question is would we want timeout info like this to be
exposed in some of the simpler Searcher APIs (ie: that return TopDocs or
Hits) and if so how do you signal that it's only a partial result set?


: I'm using Solr which doesn't seem to support search timeouts.  It seems
: that it would make sense to add the feature at the Lucene level rather
: than implement the feature in each derivative.

even if it were added to the Lucene core, some fairly heavy questions
would have to be answered before encorporating this into Solr: mainly what
do do about Caching ... do you cache the partial results? do you attempt
to continue searching after returning the partial results? the next time a
request comes in and partial results are cached, do you try to pick up
where you left off since you've got a threshold of time available?

because of these issues, Solr may need a custom solution to this situation.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 19:37:06 2007
Return-Path: <java-user-return-26954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19463 invoked from network); 16 Mar 2007 19:37:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 19:37:04 -0000
Received: (qmail 59444 invoked by uid 500); 16 Mar 2007 19:37:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59416 invoked by uid 500); 16 Mar 2007 19:37:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59405 invoked by uid 99); 16 Mar 2007 19:37:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 12:37:05 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.184.231 as permitted sender)
Received: from [64.233.184.231] (HELO wr-out-0506.google.com) (64.233.184.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 12:36:54 -0700
Received: by wr-out-0506.google.com with SMTP id i28so674511wra
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 12:36:33 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JJW520hFcAmSKcuTU7YubcmRmQ42G389miDiT61FwZYzKdCSrSgh6if/EJ7Icc/UWaebbmzNfbRbupy+N+SCgjXfHXO37ZRzIyOu5rK5WsLkAbtO6BCM+7SVT22MDmbuKXhQ8jQ0JU05pQde/Oi/OCYqDqH6HOCtTJla72X0DVk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qQln88q0dgTVK3V5DFQA14P4DNlet/JErDkKSoT/Uc8R3irBY4BLd1ujInRgKSYQZodDZLiph8I6vnlRKXKCN/rKsJiGWgLdI2uwd2r5/RTyB87zh79//2Fv6/C2vZ1uJ7Gp4dy6LuxneJCqRGxq2Qt375+Czh5K+07uNs1ZJog=
Received: by 10.65.228.5 with SMTP id f5mr2363985qbr.1174073793620;
        Fri, 16 Mar 2007 12:36:33 -0700 (PDT)
Received: by 10.65.150.17 with HTTP; Fri, 16 Mar 2007 12:36:33 -0700 (PDT)
Message-ID: <e994873a0703161236w2236d0b7k2919c0b4fa478b13@mail.gmail.com>
Date: Fri, 16 Mar 2007 15:36:33 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Announcement: Lucene powering Monster job search index (Beta)
In-Reply-To: <1c36b0de0703161015u7f378fb1pdb9b6cf8448b3f8c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_50901_9495195.1174073793544"
References: <1c36b0de0611030801u320dff57k1a470eb93c239441@mail.gmail.com>
	 <e994873a0611031056wc507d8ds213d0c8115b576bd@mail.gmail.com>
	 <bd818c7b0701271322l6899c3e3u71006de77ab1798c@mail.gmail.com>
	 <e994873a0701281227g3e9ddbd6r77bf32ff5b16b1d@mail.gmail.com>
	 <1c36b0de0703161015u7f378fb1pdb9b6cf8448b3f8c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_50901_9495195.1174073793544
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Dan,

The filtering is done in the HitCollector by the bounding box, so the only
hits that get collected are those that match the keywords, the bounding box,
and some Lucene filters (BitSets) (I'm probably overloading the word
'filter' a bit). So, the only hits from the collector that need to be sorted
are those that are roughly within the search radius. When the search radius
gets larger, a new bounding box is computed for that query. Make sense?

Peter

On 3/16/07, Daniel Rosher <rosherd@googlemail.com> wrote:
>
> Hi Peter,
>
> Shouldn't the search perform the euclidean distance during filtering as
> well
> though, otherwise you will obtain perhaps highly relevant hits reported to
> the user outside the range they specified? Particularly as the search
> radius
> gets larger.
>
> Cheers,
> Dan
>
> On 1/28/07, Peter Keegan <peterlkeegan@gmail.com> wrote:
> >
> > Correction:
> > We only do the euclidan computation during sorting. For filtering, a
> > simple
> > bounding box is computed to approximate the radius, and 2 range
> > comparisons
> > are made to exclude documents. Because these comparisons are done
> outside
> > of
> > Lucene as integer comparisons, it is pretty fast. With 13000 results,
> the
> > seach time with distance sort is about 200 msec (compared to 30 ms for a
> > simple non-radius, date-sorted keyword search).
> >
> > Peter
> >
> > On 1/27/07, no spam <mrs.nospam@gmail.com> wrote:
> > >
> > > Isn't this extremely ineffecient to do the euclidean distance twice?
> > > Perhaps not a huge deal if a small search result set.  I at times have
> > > 13,000 results that match my search terms of an index with 1.2 million
> > > docs.
> > >
> > > Can't you do some simple radian math first to ensure it's way out of
> > > bounds,
> > > then do the euclidian distance for the subset within bounds?  I'm
> > > currently
> > > only doing the distance calc once (post hit collector). I don't have
> any
> > > performance numbers with the double vs single distance calc.
> > >
> > > I'm still working out the sort by radius myself.
> > >
> > > Mark
> > >
> > > On 11/3/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> > > >
> > > > Daniel,
> > > > Yes, this is correct if you happen to be doing a radius search and
> > > sorting
> > > > by mileage.
> > > > Peter
> > > >
> > > >
> > >
> > >
> >
>

------=_Part_50901_9495195.1174073793544--

From java-user-return-26955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 21:24:45 2007
Return-Path: <java-user-return-26955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7355 invoked from network); 16 Mar 2007 21:24:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 21:24:43 -0000
Received: (qmail 8367 invoked by uid 500); 16 Mar 2007 21:24:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8334 invoked by uid 500); 16 Mar 2007 21:24:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8323 invoked by uid 99); 16 Mar 2007 21:24:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 14:24:39 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 14:24:27 -0700
Received: by ug-out-1314.google.com with SMTP id k40so856401ugc
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 14:24:06 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mWbDqVLFhtOsMDzjzLmDbNCj3atLhjLBUWZMkN/a6TV6Yi7mmKAm4EtpPvOnYuOmLCfKE+fHoio24CURUQ9kOLP6oqacJgADzwu0n8nFLO6eOTji0WdA7Au3S4m7DSRZLGKec1358fIKdhyACRZzEdw9bRIEY5kSorHMBt59ilc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=O7Ad1jF1RmICZYpL4n/xjzO+MfES9Hy0bo6vpu/WlJRBSW6F/wf1x8VS04vqr+tq+ETm1Y6gK/iJzmRIra7vZ6CRdIhtQPE2VQzFf7mQ/gajf0dwvMGyi5yCS8lJsWLyJJywBN/KmVdJMA/3IQk/KJ592KbZ/2rJeGFB3Dj80uQ=
Received: by 10.114.183.1 with SMTP id g1mr899984waf.1174080244557;
        Fri, 16 Mar 2007 14:24:04 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Fri, 16 Mar 2007 14:24:04 -0700 (PDT)
Message-ID: <359a92830703161424t72317e43g4709c86db3b33be8@mail.gmail.com>
Date: Fri, 16 Mar 2007 17:24:04 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Fast index traversal and update for stored field?
In-Reply-To: <B23FD24F-ECE4-4B1F-8E02-F7666AEADA96@apple.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_102873_19693424.1174080244457"
References: <D381BC1B-8A37-418E-855C-4C2ED721A458@apple.com>
	 <359a92830703141650u43c80874id62118da0b06d1d3@mail.gmail.com>
	 <B23FD24F-ECE4-4B1F-8E02-F7666AEADA96@apple.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_102873_19693424.1174080244457
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Yet another idea just occurred. Remember that documents in
Lucene do not all have to have the same field. So what if you had
a *very special document* in your index that contained only the
changing info? Perhaps in XML or even binary format? Then, updating
your index would only involve deleting and re-adding this one
document. That document would never interfere with other
documents because you'd never search on that particular field.
You could then think about reading that document at start-up and
building your secondary (in this case ephemeral) index.


Whoaaaaa, something just percolated to the top of my brain. Extend
this last idea, and instead of storing the data, index it "super extra
specially". That is.... Imagine that no document in your index has
a field called "meta". Imagine further that you have your doc ID
data pairs in the form "12345:data", "84943932:data"....
You then index like this...

Document special = new Document();
special.add(new Field(new Term("meta", "12345:data"));
special.add(new Field(new Term("meta", "84943932:data"));
.
.
.
write.add(special);

Where the analyzer you use (PerFieldAnalyzerWrapper?) indexes
the "meta" field as UN_TOKENIZED.

Now, it's trivial to get the data corresponding to your doc ID, just use
TermDocs/RegexTermEnum. In fact, I believe you only need RegexTermEnum
because there'll only be one document that all "meta" terms appear in.
You then try to seek to the term "12345:*" and there should be
exactly one of them, and just splitting on the ':' will give you the updated
data. This keeps all your data in a single index, and doesn't require
complicated coordination of separate indexes. You only have a single
document to delete and re-add, and the form of that document as
amenable to batch updating.

Look, if this is incoherent, it's after 5:00 on Friday <G>. I'm curious
if this works for you though......

There's probably some bookeeping here to be able to quickly find the
document in order to delete it, but it'd be easy to also index one
field new Term("superextraspecialdocument" "deleteme") to be
able to find it at update time.....

Best
Erick


On 3/14/07, Thomas K. Burkholder <burkhold@apple.com> wrote:
>
> Hey, thanks for the quick reply.
>
> I've considered using a secondary index just for this data but
> thought I would look at storing the data in lucene first, since
> ultimately this data gets transported to an outside system, and it's
> a lot easier if there's only one "thing" to transfer.  The
> destination environment that receives this lucene index doesn't (and
> shouldn't) have access to the database, which is why we don't simply
> store it there.  Even if it did, we try not to access the database
> for search results when we don't have to, as this tends to make
> searching slow (as I think you were alluding to).
>
> Sounds like there's nothing "out of the box" to solve my problem; if
> I write something to update lucene indexes in place I'll follow up
> about it in here (don't know that I will though; building a new,
> narrower index is probably more expedient and will probably be fast
> enough for my purposes in this case).
>
> Thanks again,
>
> //Thomas
>
> On Mar 14, 2007, at 4:50 PM, Erick Erickson wrote:
>
> > If you search the mail archive for "update in place" (no quotes),
> > you'll find extensive discussions of this idea. Although you're
> > raising an interesting variant because you're talking about a non-
> > indexed field, so now I'm not sure those discussions are relevant.
> >
> > I don't know of anyone who has done what you're asking though...
> >
> > But if it's just stored data, you could go out to a database and
> > pick it up at search time, although there are sound reasons for
> > not requiring a database connection.
> >
> > What about having a separate index for just this one field? And
> > make it an indexed value, along with some id (not the Lucene ID,
> > probably) of your original. Something like
> >
> > index fields
> > ID  (unique ID for each document)
> > field (the corresponding value).
> >
> > Searching this should be very fast, and if the usual Hits based
> > search wasn't fast enough, perhaps something with
> > termenum/termdocs would be faster.
> >
> > Or you could just index the unique ID and store (but not index)
> > the field. Hits or variants should work for that too.
> >
> > So the general algorithm would be:
> >
> > search main index
> > for each hit:
> >   search second index and fetch that field
> >
> > I have no idea whether this has any traction for your problem
> > space, but I thought I'd mention it. This assumes that building
> > the mutable index would be acceptably fast...
> >
> > Although conceptually, this is really just a Map of ID/value pairs.
> > I have no idea how much data you're talking about, but if it's not
> > a huge data set, might it be possible just to store it in
> > a simple map and look it up that way?
> >
> > And if I'm all wet, I'm sure others will chime in...
> >
> > Best
> > Erick
> > *
> >
> > *
> > On 3/14/07, Thomas K. Burkholder <burkhold@apple.com> wrote:
> >>
> >> Hi there,
> >>
> >> I'm using lucene to index and store entries from a database table for
> >> ultimate retrieval as search results.  This works fine.  But I find
> >> myself in the position of wanting to occasionally (daily-ish) bulk-
> >> update a single, stored, non-indexed field in every document in the
> >> index, without changing any indexed value at all.
> >>
> >> The obviously documented way to do this would be to remove and then
> >> re-add each updated document successively.  However, I know from
> >> experience that rebuilding our index from scratch in this fashion
> >> would take several hours at least, which is too long to delay pending
> >> incremental index jobs.  It seems to me that at some level it should
> >> be possible to iterate over all the document storage on disk and
> >> modify only the field I'm interested in (no index modification
> >> required remember as this is a field that is stored but not
> >> indexed).  It's plain from the documentation on file formats that it
> >> would be potentially possible to do this from a low level, however
> >> before I go possibly re-inventing that wheel, I'm wondering if anyone
> >> knows of any existing code out there that would aid in solving this
> >> problem.
> >>
> >> Thanks in advance,
> >>
> >> //Thomas
> >> Thomas K. Burkholder
> >> Code Janitor
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_102873_19693424.1174080244457--

From java-user-return-26956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 16 22:06:15 2007
Return-Path: <java-user-return-26956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17421 invoked from network); 16 Mar 2007 22:06:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 16 Mar 2007 22:06:14 -0000
Received: (qmail 68283 invoked by uid 500); 16 Mar 2007 22:06:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68227 invoked by uid 500); 16 Mar 2007 22:06:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68203 invoked by uid 99); 16 Mar 2007 22:06:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 15:06:13 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.236 as permitted sender)
Received: from [64.233.162.236] (HELO nz-out-0506.google.com) (64.233.162.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 15:06:03 -0700
Received: by nz-out-0506.google.com with SMTP id i1so239915nzh
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 15:05:43 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=cStOVd+qEF1JMc05BZfVqNZY6fmZb6WSUZJp7VPw4A6ipDBqzX50a5rb3a1VPJ9hVA3UwO4p9I1Y9uIQXm0WVjCgeHd3qV7qmjeVIWDH+Ntt8jDdCVEuMGflJTV9XdSLClqYpsyKh8VL1/PE3uNizdrsGrzzEUrK1CSzfxCFTbQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=dwMlBJRiqkHNizMz9CZtVLyG+TF1uhroAXh7MqUCfsEApITxBkakDU6QqpogL8hnEsMcsP/MxroRYYlROUzfBN7joVhNe1ZgtjdgkeBmgr7qHMwWeRoUoX2ZEQOAIGxLroOvePxzzUsjdyijMrcPnP0vZDthUt/JEqCmQvPakMg=
Received: by 10.65.137.15 with SMTP id p15mr2616286qbn.1174082742755;
        Fri, 16 Mar 2007 15:05:42 -0700 (PDT)
Received: by 10.65.150.17 with HTTP; Fri, 16 Mar 2007 15:05:42 -0700 (PDT)
Message-ID: <e994873a0703161505l61df0e39p9a1b0eb959398bdb@mail.gmail.com>
Date: Fri, 16 Mar 2007 18:05:42 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org, lucene-net-user@incubator.apache.org
Subject: Re: Announcement: Lucene powering Monster job search index (Beta)
In-Reply-To: <e994873a0610271229x43e96da7ldb86c24bbe4fba4f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_51751_28926731.1174082742640"
References: <e994873a0610271229x43e96da7ldb86c24bbe4fba4f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_51751_28926731.1174082742640
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Note: this is a reply to a posting to java-dev  --Peter

Eric,

> Now that it is live, is performance pretty good?

Performance is outstanding. Each server can easily handle well over 100 qps
on an index of over 800K documents. There are several servers (4 dual core
(8 CPU) Opteron) supporting the query load and we have backup servers for
disaster recovery. For a few hours one day, all job search query traffic for
the entire site was being handled by a single server - with no noticable
latency!

>Are you using dotLucene or a webservice tier and java?

We are using Java Lucene on dedicated servers.


>How did you implement your bounding box for the searching? It sounds like
you do this outside of lucene and return a custom hitcollector.

The 'bounding box' is merely the conjunction of 2 numeric range searches.
It's really not that hard to do - I think there has been discussion of this
elsewhere in this group. We use (not 'return') a custom HitCollector to
exclude hits that aren't in the bounding box. I tried to explain this in a
reply earlier today, but if I failed let me know.

> Why not use a rangequery or functionquery for the basic bounding before
sorting

Basically, 'RangeQuery' doesn't offer sufficient performance. We have
implemented our own 'numeric value' search 'next to Lucene' (I think I like
this better than 'outside of Lucene' ;-)).  FunctionQuery could be used if
you wanted the jobs sorted by a combination of keywords and distance. Our
users (apparently) expect the jobs to be sorted strictly by distance on a
radius search.

================================================================

Peter

Hello Peter,

Now that the monster lucene search is live, is performance pretty good? Are
you still running it on a single 8 core server? Can you give me a rough idea
on the number of queries you can handle/second and the number of docs in the
index? Are you using dotLucene or a webservice tier and java?

How did you implement your bounding box for the searching? It sounds like
you do this outside of lucene and return a custom hitcollector. Why not use
a rangequery or functionquery for the basic bounding before sorting?

Thanks,
Eric

------=_Part_51751_28926731.1174082742640--

From java-user-return-26957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 04:58:22 2007
Return-Path: <java-user-return-26957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98541 invoked from network); 17 Mar 2007 04:58:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 04:58:21 -0000
Received: (qmail 77264 invoked by uid 500); 17 Mar 2007 04:58:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77091 invoked by uid 500); 17 Mar 2007 04:58:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77080 invoked by uid 99); 17 Mar 2007 04:58:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 21:58:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 21:58:09 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HSQzF-0004OL-1l
	for java-user@lucene.apache.org; Fri, 16 Mar 2007 21:57:49 -0700
Message-ID: <9526527.post@talk.nabble.com>
Date: Fri, 16 Mar 2007 21:57:48 -0700 (PDT)
From: Lokeya <lokeya@gmail.com>
To: java-user@lucene.apache.org
Subject: Issue while parsing XML files due to control characters, help
 appreciated.
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: lokeya@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi, 

I am trying to index the content from XML files which are basically the
metadata collected from a website which have a huge collection of documents.
This metadata xml has control characters which causes errors while trying to
parse using the DOM parser. I tried to use encoding = UTF-8 but looks like
it doesn't cover all the unicode characters and I get error. Also when I
tried to use UTF-16, I am getting Prolog content not allowed here. So my
guess is there is no enoding which is going to cover almost all unicode
characters. So I tried to split my metadata files into small files and
processing records which doesnt throw parsing error.

But by breaking metadata file into smaller files I get, 10,000 xml files per
metadata file. I have 70 metadata files, so altogether it becomes 7,00,000
files. Processing them individually takes really long time using Lucene, my
guess is I/O is time consuing, like opening every small xml file loading in
DOM extracting required data and processing.

Qn  1: Any suggestion to get this indexing time reduced? It would be really
great.

Qn 2 : Am I overlooking something in Lucene with respect to indexing?

Right now 12 metadata files take 10 hrs nearly which is really a long time. 

Help Appreciated.

Much Thanks.
-- 
View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9526527
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 05:25:50 2007
Return-Path: <java-user-return-26958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2458 invoked from network); 17 Mar 2007 05:25:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 05:25:49 -0000
Received: (qmail 97567 invoked by uid 500); 17 Mar 2007 05:25:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97528 invoked by uid 500); 17 Mar 2007 05:25:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97516 invoked by uid 99); 17 Mar 2007 05:25:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 22:25:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of appler@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Mar 2007 22:25:40 -0700
Received: by an-out-0708.google.com with SMTP id c3so699937ana
        for <java-user@lucene.apache.org>; Fri, 16 Mar 2007 22:25:19 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=XPhmwc1kiUZAHGLM9Y+kqrGPrH06iMB0S8hZwmbkz3RToBcoHToAaWUj2qIDVugoci9Af5UWoaPVXIordsAAPewrocIcKAjQfMLma4snHZtjF0VZZ/wTgmSodzVRen7wt4D5ge6KzRqWiyjlIUa+EYXbZJP3G8IDP3i1tUn2+Wo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DHzUrjGBF75rOdL+pA6Eo6ZQTbXuS+t6YBUCYpYnOG74T4tTq9wfR8dXTBqNj15klIXLqNIINFUa93VcAcioq5+JzJXNc8b5tUEuVaxNUMpIy+d3TV23pcOFaXFVK1ZVo8MIHRG33OGOAKQezcXnzdpOqzQHrNcZKO0CG3VQHLI=
Received: by 10.100.167.7 with SMTP id p7mr2081060ane.1174109119353;
        Fri, 16 Mar 2007 22:25:19 -0700 (PDT)
Received: by 10.100.8.6 with HTTP; Fri, 16 Mar 2007 22:25:19 -0700 (PDT)
Message-ID: <48b708490703162225p16fae702q85145bad4e4ad36d@mail.gmail.com>
Date: Sat, 17 Mar 2007 14:25:19 +0900
From: "Cheolgoo Kang" <appler@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help appreciated.
In-Reply-To: <9526527.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <9526527.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>
> Hi,
>
> I am trying to index the content from XML files which are basically the
> metadata collected from a website which have a huge collection of documents.
> This metadata xml has control characters which causes errors while trying to
> parse using the DOM parser. I tried to use encoding = UTF-8 but looks like
> it doesn't cover all the unicode characters and I get error. Also when I
> tried to use UTF-16, I am getting Prolog content not allowed here. So my
> guess is there is no enoding which is going to cover almost all unicode
> characters. So I tried to split my metadata files into small files and
> processing records which doesnt throw parsing error.

Are you using CDATA section in your XML documents?

>
> But by breaking metadata file into smaller files I get, 10,000 xml files per
> metadata file. I have 70 metadata files, so altogether it becomes 7,00,000
> files. Processing them individually takes really long time using Lucene, my
> guess is I/O is time consuing, like opening every small xml file loading in
> DOM extracting required data and processing.

I think DOM is not appropriate for a batch job like your case. Why
don't you try SAX or XPP? And also, try to adjust IndexWriter's
parameters like mergeFactor, minMergeDocs.

>
> Qn  1: Any suggestion to get this indexing time reduced? It would be really
> great.
>
> Qn 2 : Am I overlooking something in Lucene with respect to indexing?
>
> Right now 12 metadata files take 10 hrs nearly which is really a long time.
>
> Help Appreciated.
>
> Much Thanks.
> --
> View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9526527
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 09:07:59 2007
Return-Path: <java-user-return-26959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41014 invoked from network); 17 Mar 2007 09:07:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 09:07:59 -0000
Received: (qmail 63579 invoked by uid 500); 17 Mar 2007 09:08:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63544 invoked by uid 500); 17 Mar 2007 09:07:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63529 invoked by uid 99); 17 Mar 2007 09:07:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 02:07:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [217.12.11.79] (HELO smtp010.mail.ukl.yahoo.com) (217.12.11.79)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 17 Mar 2007 02:07:47 -0700
Received: (qmail 78061 invoked from network); 17 Mar 2007 09:07:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=BVRnu+BL/nmxYu+xwsMJnxTZAz9H1Aai4s9XyOCYIUYFAeb1+3RG+V/9WZDwQPzQ6Etm64Vdl4c3tmdO+M1TvsP6dy1QvSqjtketsBmhFWw4oRmNjNyeT1VkpWHtnt7RqXSA5k7YITl/Pt0nPGdPx6BdyU9QGDZo+l7Km+mZViM=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp010.mail.ukl.yahoo.com with SMTP; 17 Mar 2007 09:07:26 -0000
X-YMail-OSG: G0zjhRAVM1m6AMFKn9vWZeMEbOYukkWHmapom0r.yilMSeihUnqkqbacRTl7mZ71kFmNcz6h2Z9vntmY.fegvh9R.D3_.L_SWzzWOb9LSeA5UEnKr7qqnDl51b0Eb8lvKmfNc_EIrHvb
Message-ID: <45FBAFCA.6000503@yahoo.co.uk>
Date: Sat, 17 Mar 2007 09:07:22 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: search timeout
References: <45F99411.3060002@aol.com> <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Hostetter wrote:
> this is something anyone using the Lucene API can do as long as they use a
> HitCollector ... the Nutch impl seems to ctually spin up a seperate thread
>   

I'm keen to understand the pros and cons of these two approaches.

With the HitCollector approach is this just engineering a fall at the 
final hurdle? It could be that long running queries spend all their time 
doing edit-distance comparisions for a a fuzzy boolean query, say  or 
reading TermDocs for a large range filter to create a BitSet only to be 
aborted at the collection stage?
Another point - I noticed in some basic timing tests that calling 
System.currentTimeMillis() in a tight loop like for *every* call to 
HitCollector.collect(..) could add reasonable overhead so you probably 
only want to call this for every nth document collected when testing 
execution times.

Cheers
Mark


		
___________________________________________________________ 
Try the all-new Yahoo! Mail. "The New Version is radically easier to use"  The Wall Street Journal 
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 11:35:36 2007
Return-Path: <java-user-return-26960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76952 invoked from network); 17 Mar 2007 11:35:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 11:35:35 -0000
Received: (qmail 80679 invoked by uid 500); 17 Mar 2007 11:35:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80648 invoked by uid 500); 17 Mar 2007 11:35:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80633 invoked by uid 99); 17 Mar 2007 11:35:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 04:35:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 04:35:24 -0700
Received: by ug-out-1314.google.com with SMTP id k40so980522ugc
        for <java-user@lucene.apache.org>; Sat, 17 Mar 2007 04:35:02 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=e3Ip9lEpcRGOUIsrua8/TkE7oLzacQ++nequW207d3Q12UqmBSfqeIMMJlN+LxDvE68l21NU2uJqktDwFCHvDXgEiDjiCdagVTVgf3Dp2af1Xpjfs76VsvMlJzJ+st3WTJ1tXwsnwsoe1tykQPjvEh0g6qtyBfv5yF0lNCXkcx0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=WEb3eAOAVf6l0xYThsX/ds5jIWRJAAS+ORZNn++wPFbDTAuO/pkEk9bkPu3tJL5wfEmi6Xn27KNLzliyHZ16LyGIIyEUlJ9OwzSC00Guj81WwOS4nXuZ3oN54Ms0Q4NevGg2LKvycds5XU7AGlzH2KKiXmAvMnddfzWqEDDjoB0=
Received: by 10.66.243.2 with SMTP id q2mr6199916ugh.1174131302710;
        Sat, 17 Mar 2007 04:35:02 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id y6sm10651144mug.2007.03.17.04.35.00;
        Sat, 17 Mar 2007 04:35:01 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <45FBAFCA.6000503@yahoo.co.uk>
References: <45F99411.3060002@aol.com> <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu> <45FBAFCA.6000503@yahoo.co.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2D8E2086-2140-4785-93FA-55B062AC06A7@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: search timeout
Date: Sat, 17 Mar 2007 12:34:58 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


17 mar 2007 kl. 10.07 skrev markharw00d:

> Chris Hostetter wrote:
>> this is something anyone using the Lucene API can do as long as  
>> they use a
>> HitCollector ... the Nutch impl seems to ctually spin up a  
>> seperate thread
>>
>
> I'm keen to understand the pros and cons of these two approaches.
>
> With the HitCollector approach is this just engineering a fall at  
> the final hurdle? It could be that long running queries spend all  
> their time doing edit-distance comparisions for a a fuzzy boolean  
> query, say  or reading TermDocs for a large range filter to create  
> a BitSet only to be aborted at the collection stage?
> Another point - I noticed in some basic timing tests that calling  
> System.currentTimeMillis() in a tight loop like for *every* call to  
> HitCollector.collect(..) could add reasonable overhead so you  
> probably only want to call this for every nth document collected  
> when testing execution times.

I'd be on the look-out for complex queries that yeild none or very  
few results. If not running in an own thread, time out might not be  
triggered in reasonble time.

My guess is that most environments running of a J2SE JVM have no  
problem with twice as many threads. Given there is no extent use of  
the memory on the stack (serializing huge object graphs,  
introspection/reflection, et c) one should be able to optimize memory  
usage with -Xss.

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 15:29:36 2007
Return-Path: <java-user-return-26961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42616 invoked from network); 17 Mar 2007 15:29:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 15:29:36 -0000
Received: (qmail 60262 invoked by uid 500); 17 Mar 2007 15:29:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60219 invoked by uid 500); 17 Mar 2007 15:29:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60208 invoked by uid 99); 17 Mar 2007 15:29:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 08:29:35 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.82.234 as permitted sender)
Received: from [66.249.82.234] (HELO wx-out-0506.google.com) (66.249.82.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 08:29:25 -0700
Received: by wx-out-0506.google.com with SMTP id i29so758643wxd
        for <java-user@lucene.apache.org>; Sat, 17 Mar 2007 08:29:05 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=hMReqFQpGUXLYvPBpiFWtHlKBQPcCs2VJqfrXeImlRS39x8T2gJkPKhDfTwa7r57XGQ1aP25vXnklNtA/0JyabZoY8MweixruWC1xzTQd9Ahm2dmFSXVI3mKsh4r6z2cK2K+HCOQJuXZJhbL0Ai4eViN5X3F9c40nY4KTHhGXZk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=VVUbyIav/2dLXfCDAToaznfn3OCzH9PhuDjOTzDio4qTSrU6ldc6Ans3gDKdwNk4ybwQGcmRf+huM5TZVQiU4LNW1A6FzyNpH69fhNqZ6LUqVNmgD6w8fbKRVbbq50+kcra2aGphLx1UGOiKWyLODfdt5cD6DIHXAZOTA2GAn6I=
Received: by 10.70.99.9 with SMTP id w9mr3100065wxb.1174145345125;
        Sat, 17 Mar 2007 08:29:05 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sat, 17 Mar 2007 08:29:05 -0700 (PDT)
Message-ID: <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com>
Date: Sat, 17 Mar 2007 11:29:05 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help appreciated.
In-Reply-To: <9526527.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_109628_6949543.1174145345041"
References: <9526527.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_109628_6949543.1174145345041
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

See below...

On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>
>
> Hi,
>
> I am trying to index the content from XML files which are basically the
> metadata collected from a website which have a huge collection of
> documents.
> This metadata xml has control characters which causes errors while trying
> to
> parse using the DOM parser. I tried to use encoding = UTF-8 but looks like
> it doesn't cover all the unicode characters and I get error. Also when I
> tried to use UTF-16, I am getting Prolog content not allowed here. So my
> guess is there is no enoding which is going to cover almost all unicode
> characters. So I tried to split my metadata files into small files and
> processing records which doesnt throw parsing error.
>
> But by breaking metadata file into smaller files I get, 10,000 xml files
> per
> metadata file. I have 70 metadata files, so altogether it becomes 7,00,000
> files. Processing them individually takes really long time using Lucene,
> my
> guess is I/O is time consuing, like opening every small xml file loading
> in
> DOM extracting required data and processing.



So why don't you measure and find out before trying to make the indexing
step more efficient? You simply cannot optimize without knowing where
you're spending your time. I can't tell you how often I've been wrong about
"why my program was slow" <G>.

In this case, it should be really simple. Just comment out the part where
you index the data and run, say, one of your metadata files.. I suspect that
Cheolgoo Kang's response is cogent, and you indeed are spending your
time parsing the XML. I further suspect that the problem is not disk IO,
but the time spent parsing. But until you measure, you have no clue
whether you should mess around with the Lucene parameters, or find
another parser, or just live with it.. Assuming that you comment out
Lucene and things are still slow, the next step would be to just read in
each file and NOT parse it to figure out whether it's the IO or the parsing.

Then you can worry about how to fix it..

Best
Erick


Qn  1: Any suggestion to get this indexing time reduced? It would be really
> great.
>
> Qn 2 : Am I overlooking something in Lucene with respect to indexing?
>
> Right now 12 metadata files take 10 hrs nearly which is really a long
> time.
>
> Help Appreciated.
>
> Much Thanks.
> --
> View this message in context:
> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9526527
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_109628_6949543.1174145345041--

From java-user-return-26962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 21:43:24 2007
Return-Path: <java-user-return-26962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14080 invoked from network); 17 Mar 2007 21:43:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 21:43:23 -0000
Received: (qmail 98276 invoked by uid 500); 17 Mar 2007 21:43:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98227 invoked by uid 500); 17 Mar 2007 21:43:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98216 invoked by uid 99); 17 Mar 2007 21:43:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 14:43:24 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 14:43:14 -0700
Received: from [10.116.46.133] (inet20909nb-1.eranet.pl [213.158.196.69])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id l2HLh6K10743
	for <java-user@lucene.apache.org>; Sat, 17 Mar 2007 16:43:07 -0500
Message-ID: <45FC60D5.6050404@getopt.org>
Date: Sat, 17 Mar 2007 22:42:45 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: search timeout
References: <45F99411.3060002@aol.com> <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu> <45FBAFCA.6000503@yahoo.co.uk>
In-Reply-To: <45FBAFCA.6000503@yahoo.co.uk>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

markharw00d wrote:
> Chris Hostetter wrote:
>> this is something anyone using the Lucene API can do as long as they 
>> use a
>> HitCollector ... the Nutch impl seems to ctually spin up a seperate 
>> thread
>>   
>
> I'm keen to understand the pros and cons of these two approaches.
>
> With the HitCollector approach is this just engineering a fall at the 
> final hurdle? It could be that long running queries spend all their 
> time doing edit-distance comparisions for a a fuzzy boolean query, 
> say  or reading TermDocs for a large range filter to create a BitSet 
> only to be aborted at the collection stage?
> Another point - I noticed in some basic timing tests that calling 
> System.currentTimeMillis() in a tight loop like for *every* call to 
> HitCollector.collect(..) could add reasonable overhead so you probably 
> only want to call this for every nth document collected when testing 
> execution times.

That's why Nutch implementation doesn't do this (I know, I wrote it ;) ).

What it does is the following (please see the patch for details):

* it creates a single (static) timer thread, which counts the "ticks", 
every couple hundred ms (configurable). It uses a volatile int counter, 
therefore avoiding the need to synchronize.

* each HitColector records the start tick count in its constructor, and 
then checks the current tick count in collect(...). If the difference is 
too large then it throws a RuntimeException (NOTE: would someone 
*please* refactor this API so that we can exit this loop more gracefully!).

This design has several benefits: it avoids creating too many timer 
threads (there is just one per JVM), it avoids the need to synchronize 
on the value being changed, and it avoids calling 
System.currentTimeMillis().

Best regards,
Andrzej

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 22:39:57 2007
Return-Path: <java-user-return-26963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25155 invoked from network); 17 Mar 2007 22:39:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 22:39:56 -0000
Received: (qmail 40001 invoked by uid 500); 17 Mar 2007 22:39:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39967 invoked by uid 500); 17 Mar 2007 22:39:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39956 invoked by uid 99); 17 Mar 2007 22:39:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 15:39:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 15:39:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 218CD5B764; Sat, 17 Mar 2007 15:39:29 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 03FAC7F403
	for <java-user@lucene.apache.org>; Sat, 17 Mar 2007 15:39:29 -0700 (PDT)
Date: Sat, 17 Mar 2007 15:39:28 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: search timeout
In-Reply-To: <45FBAFCA.6000503@yahoo.co.uk>
Message-ID: <Pine.LNX.4.58.0703171534580.21232@hal.rescomp.berkeley.edu>
References: <45F99411.3060002@aol.com> <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu>
 <45FBAFCA.6000503@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: > this is something anyone using the Lucene API can do as long as they use a
: > HitCollector ... the Nutch impl seems to ctually spin up a seperate thread
: >
:
: I'm keen to understand the pros and cons of these two approaches.

to clarify, it's really just one approach, with an extension: Nutch is
still "timingout" the underlying Lucene calls by using a HitCollector --
it's just extending the basic concept to use a Timer thread to abort at
the timeout without waiting for a collect call to notice that too much
time has elapsed.

This Timer version Nutch is using certainly seems like a more robust and
elegent approach to me ... i'm just shy about spining up Threads ... i
think it stems from making lots of disasterous multithreading mistakes in
C code when i was a foolish young engineer.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 17 22:50:13 2007
Return-Path: <java-user-return-26964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26533 invoked from network); 17 Mar 2007 22:50:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 17 Mar 2007 22:50:12 -0000
Received: (qmail 52845 invoked by uid 500); 17 Mar 2007 22:50:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52804 invoked by uid 500); 17 Mar 2007 22:50:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52793 invoked by uid 99); 17 Mar 2007 22:50:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 15:50:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 15:50:06 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CD7CE5B764; Sat, 17 Mar 2007 15:49:45 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id AF0D77F403
	for <java-user@lucene.apache.org>; Sat, 17 Mar 2007 15:49:45 -0700 (PDT)
Date: Sat, 17 Mar 2007 15:49:45 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: search timeout
In-Reply-To: <45FC60D5.6050404@getopt.org>
Message-ID: <Pine.LNX.4.58.0703171542270.21232@hal.rescomp.berkeley.edu>
References: <45F99411.3060002@aol.com> <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu>
 <45FBAFCA.6000503@yahoo.co.uk> <45FC60D5.6050404@getopt.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


Ack! ... this is what happens when i only skim a patch and then write with
my odd mix of authority and childlike speling....

: * it creates a single (static) timer thread, which counts the "ticks",
: every couple hundred ms (configurable). It uses a volatile int counter,
: therefore avoiding the need to synchronize.
:
: * each HitColector records the start tick count in its constructor, and
: then checks the current tick count in collect(...). If the difference is

So i was way wrong about the Timer per search ... but it seems like this
appraoch still has the downside that "long" searches resulting in no
matches won't time out (because collect will never be called and the tick
counter will never be compared)

Was this considered a non issue for Nutch because the query structure is
typiclly well known and quereis with no results usually return
imeediately? ... in the totally generic case, this isn't a safe
assumption.  Crazy complex BooleanQueries, or worse still: arbitrary
client written Query classes, could spend untold times advancing to the
"next" match (which may not exist at all)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 05:01:26 2007
Return-Path: <java-user-return-26965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85095 invoked from network); 18 Mar 2007 05:01:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 05:01:24 -0000
Received: (qmail 89832 invoked by uid 500); 18 Mar 2007 05:01:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89798 invoked by uid 500); 18 Mar 2007 05:01:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89780 invoked by uid 99); 18 Mar 2007 05:01:26 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 22:01:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 22:01:17 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HSnVp-0003I4-Ag
	for java-user@lucene.apache.org; Sat, 17 Mar 2007 22:00:57 -0700
Message-ID: <9536099.post@talk.nabble.com>
Date: Sat, 17 Mar 2007 22:00:57 -0700 (PDT)
From: Lokeya <lokeya@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
In-Reply-To: <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: lokeya@gmail.com
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks for your reply. I tried to check if the I/O and Parsing is taking time
separately and Indexing time also. I observed that I/O and Parsing 70 files
totally takes 80 minutes where as when I combine this with Indexing for a
single Metadata file it nearly 2 to 3 hours. So looks like IndexWriter takes
time that too when we are appending to the Index file this happens. 

So what is the best approach to handle this?

Thanks in Advance.


Erick Erickson wrote:
> 
> See below...
> 
> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>>
>>
>> Hi,
>>
>> I am trying to index the content from XML files which are basically the
>> metadata collected from a website which have a huge collection of
>> documents.
>> This metadata xml has control characters which causes errors while trying
>> to
>> parse using the DOM parser. I tried to use encoding = UTF-8 but looks
>> like
>> it doesn't cover all the unicode characters and I get error. Also when I
>> tried to use UTF-16, I am getting Prolog content not allowed here. So my
>> guess is there is no enoding which is going to cover almost all unicode
>> characters. So I tried to split my metadata files into small files and
>> processing records which doesnt throw parsing error.
>>
>> But by breaking metadata file into smaller files I get, 10,000 xml files
>> per
>> metadata file. I have 70 metadata files, so altogether it becomes
>> 7,00,000
>> files. Processing them individually takes really long time using Lucene,
>> my
>> guess is I/O is time consuing, like opening every small xml file loading
>> in
>> DOM extracting required data and processing.
> 
> 
> 
> So why don't you measure and find out before trying to make the indexing
> step more efficient? You simply cannot optimize without knowing where
> you're spending your time. I can't tell you how often I've been wrong
> about
> "why my program was slow" <G>.
> 
> In this case, it should be really simple. Just comment out the part where
> you index the data and run, say, one of your metadata files.. I suspect
> that
> Cheolgoo Kang's response is cogent, and you indeed are spending your
> time parsing the XML. I further suspect that the problem is not disk IO,
> but the time spent parsing. But until you measure, you have no clue
> whether you should mess around with the Lucene parameters, or find
> another parser, or just live with it.. Assuming that you comment out
> Lucene and things are still slow, the next step would be to just read in
> each file and NOT parse it to figure out whether it's the IO or the
> parsing.
> 
> Then you can worry about how to fix it..
> 
> Best
> Erick
> 
> 
> Qn  1: Any suggestion to get this indexing time reduced? It would be
> really
>> great.
>>
>> Qn 2 : Am I overlooking something in Lucene with respect to indexing?
>>
>> Right now 12 metadata files take 10 hrs nearly which is really a long
>> time.
>>
>> Help Appreciated.
>>
>> Much Thanks.
>> --
>> View this message in context:
>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9526527
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9536099
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 05:56:02 2007
Return-Path: <java-user-return-26966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90465 invoked from network); 18 Mar 2007 05:56:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 05:56:01 -0000
Received: (qmail 25825 invoked by uid 500); 18 Mar 2007 05:56:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25618 invoked by uid 500); 18 Mar 2007 05:56:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25607 invoked by uid 99); 18 Mar 2007 05:56:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 22:56:03 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of dimamay@gmail.com designates 209.85.134.191 as permitted sender)
Received: from [209.85.134.191] (HELO mu-out-0910.google.com) (209.85.134.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Mar 2007 22:55:53 -0700
Received: by mu-out-0910.google.com with SMTP id i10so1516882mue
        for <java-user@lucene.apache.org>; Sat, 17 Mar 2007 22:55:32 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=NOmvSZwb58HCp9OaCe0CQ9eGOREroLLPB80IufdZ7gVJk4A9UDXiBPx7zS5Pj/zZKXbo1/xbco3GB57ni6RtKDeCaQ27lPlsG7n08ZHUnqmLAggUQ+xywHGdtUnkK5a4bcZUA+n8fef/bNzFh5KtUkiKEYTCBCIX4OoetzhUW6o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=QU7pQLdaJuymhaUNGSyGJTQONxMDP7drRb/AhBvdSsP9AM+FeBgALuMqtknkI/joMcvWECbRkuJjmgIOPMyUNN9vEZPRHHpFAZ54fAUNzDant6od3Q+JeFHCljnPIeaij2slnryZ8AJMbTC0cDKtw1XJyJ24q4RNuz0NdhCexVM=
Received: by 10.82.111.8 with SMTP id j8mr7042950buc.1174197332472;
        Sat, 17 Mar 2007 22:55:32 -0700 (PDT)
Received: by 10.82.140.2 with HTTP; Sat, 17 Mar 2007 22:55:32 -0700 (PDT)
Message-ID: <700cf4dd0703172255w434fb3cbpb54e48a55687136c@mail.gmail.com>
Date: Sun, 18 Mar 2007 01:55:32 -0400
From: "Dima May" <dimamay@gmail.com>
To: java-user@lucene.apache.org
Subject: categorizing results
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_87651_26600764.1174197332446"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_87651_26600764.1174197332446
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

 <java-user@lucene.apache.org>

I have a Lucene related questions/problem.

My search results can potentially get very large 200,000+. I want to
categorize my results. So for example if I have an indexed field "type" that
has such things as CDs, books, videos, power drills, or anything else in the
world, I would want to display how many results are found for each unique
"type". So I may get 200 CDs and 3000 books and so on.

The brute-force way of doing that is traversing the returned
documents/results and counting each unique type. Unfortunately this solution
is too slow. I am having trouble figuring out a faster approach and was
hoping someone can suggest one.

Thank you for your time.

Dima

------=_Part_87651_26600764.1174197332446--

From java-user-return-26967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 09:28:28 2007
Return-Path: <java-user-return-26967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16892 invoked from network); 18 Mar 2007 09:28:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 09:28:27 -0000
Received: (qmail 65250 invoked by uid 500); 18 Mar 2007 09:28:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64439 invoked by uid 500); 18 Mar 2007 09:28:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64428 invoked by uid 99); 18 Mar 2007 09:28:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 02:28:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [82.216.111.45] (HELO smtp9.tech.numericable.fr) (82.216.111.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 02:28:18 -0700
Received: from [192.168.1.101] (ip-3.net-82-216-252.rev.numericable.fr [82.216.252.3])
	by smtp9.tech.numericable.fr (Postfix) with ESMTP id ED7D0A040F
	for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 10:27:55 +0100 (CET)
From: Nicolas =?utf-8?q?Lalev=C3=A9e?= <nicolas.lalevee@anyware-tech.com>
To: java-user@lucene.apache.org
Subject: Re: categorizing results
Date: Sun, 18 Mar 2007 10:28:14 +0100
User-Agent: KMail/1.9.5
References: <700cf4dd0703172255w434fb3cbpb54e48a55687136c@mail.gmail.com>
In-Reply-To: <700cf4dd0703172255w434fb3cbpb54e48a55687136c@mail.gmail.com>
Organization: Anyware Technologies
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200703181028.14095.nicolas.lalevee@anyware-tech.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Le dimanche 18 mars 2007 06:55, Dima May a =C3=A9crit=C2=A0:
>  <java-user@lucene.apache.org>
>
> I have a Lucene related questions/problem.
>
> My search results can potentially get very large 200,000+. I want to
> categorize my results. So for example if I have an indexed field "type"
> that has such things as CDs, books, videos, power drills, or anything else
> in the world, I would want to display how many results are found for each
> unique "type". So I may get 200 CDs and 3000 books and so on.
>
> The brute-force way of doing that is traversing the returned
> documents/results and counting each unique type. Unfortunately this
> solution is too slow. I am having trouble figuring out a faster approach
> and was hoping someone can suggest one.

The solution I use is using filters. So before doing the search, you have t=
o=20
already compute a pool a filters, one filter for each category.
Then use the search(Query, HitCollector), and use a collector which will=20
dispatch in different queues the results, depending of which filter matched=
=2E=20
The collect function of the collector should look like that :

        public void collect(int doc, float score) {
            total++;
            for (int i =3D 0; i < filters.length; i++) {
                if (filters[i].get(doc)) {
                    DocScoreCategory docScoreCategory =3D new=20
DocScoreCategory(doc, score, i);
                    queue[i].insert(docScoreCategory);
                    subTotals[i]++;
                }
            }
        }

It is nearly as fast as a normal search but has the background that some=20
filters have to be computed, and it can take some time. In our application=
=20
updates are done not so often, so we can generate them in background. With =
an=20
index permanently updated this will be very time consuming.

Nicolas

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 10:04:55 2007
Return-Path: <java-user-return-26968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20107 invoked from network); 18 Mar 2007 10:04:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 10:04:54 -0000
Received: (qmail 86293 invoked by uid 500); 18 Mar 2007 10:04:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85258 invoked by uid 500); 18 Mar 2007 10:04:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85247 invoked by uid 99); 18 Mar 2007 10:04:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 03:04:54 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_SORBS_WEB
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 03:04:45 -0700
Received: from [10.116.18.27] (inet20908na-3.eranet.pl [213.158.196.99])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id l2IA4QZ05382
	for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 05:04:27 -0500
Message-ID: <45FD0E9F.7040401@getopt.org>
Date: Sun, 18 Mar 2007 11:04:15 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: search timeout
References: <45F99411.3060002@aol.com> <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu> <45FBAFCA.6000503@yahoo.co.uk> <45FC60D5.6050404@getopt.org> <Pine.LNX.4.58.0703171542270.21232@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703171542270.21232@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Hostetter wrote:
> Ack! ... this is what happens when i only skim a patch and then write with
> my odd mix of authority and childlike speling....
>
> : * it creates a single (static) timer thread, which counts the "ticks",
> : every couple hundred ms (configurable). It uses a volatile int counter,
> : therefore avoiding the need to synchronize.
> :
> : * each HitColector records the start tick count in its constructor, and
> : then checks the current tick count in collect(...). If the difference is
>
> So i was way wrong about the Timer per search ... but it seems like this
> appraoch still has the downside that "long" searches resulting in no
> matches won't time out (because collect will never be called and the tick
> counter will never be compared)
>
> Was this considered a non issue for Nutch because the query structure is
> typiclly well known and quereis with no results usually return
> imeediately? ... in the totally generic case, this isn't a safe
>   

This was implemented as an easy way to control the maximum search time 
for typical queries. I'm open for suggestions how to improve it. One 
thing that sticks like a sore thumb is the use of exceptions to break 
the loop - IMHO the collect() method should simply return a boolean or 
int code that tells other parts of Lucene to stop collecting hits.


> assumption.  Crazy complex BooleanQueries, or worse still: arbitrary
> client written Query classes, could spend untold times advancing to the
> "next" match (which may not exist at all)
>   

Yes, any suggestions are welcome :)

Andrzej

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 11:57:08 2007
Return-Path: <java-user-return-26969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37591 invoked from network); 18 Mar 2007 11:57:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 11:57:07 -0000
Received: (qmail 62062 invoked by uid 500); 18 Mar 2007 11:57:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62021 invoked by uid 500); 18 Mar 2007 11:57:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62010 invoked by uid 99); 18 Mar 2007 11:57:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 04:57:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.202] (HELO spunkymail-a5.g.dreamhost.com) (208.97.132.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 04:56:57 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a5.g.dreamhost.com (Postfix) with ESMTP id 3283D14D6AA
	for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 04:56:31 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <9536099.post@talk.nabble.com>
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com> <9536099.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Issue while parsing XML files due to control characters, help appreciated.
Date: Sun, 18 Mar 2007 07:56:27 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Can you post the relevant indexing code?  Are you doing things like  
optimizing after every file?  Both the parsing and the indexing sound  
really long.  How big are these files?

Also, I assume you machine is at least somewhat current, right?

On Mar 18, 2007, at 1:00 AM, Lokeya wrote:

>
> Thanks for your reply. I tried to check if the I/O and Parsing is  
> taking time
> separately and Indexing time also. I observed that I/O and Parsing  
> 70 files
> totally takes 80 minutes where as when I combine this with Indexing  
> for a
> single Metadata file it nearly 2 to 3 hours. So looks like  
> IndexWriter takes
> time that too when we are appending to the Index file this happens.
>
> So what is the best approach to handle this?
>
> Thanks in Advance.
>
>
> Erick Erickson wrote:
>>
>> See below...
>>
>> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>>>
>>>
>>> Hi,
>>>
>>> I am trying to index the content from XML files which are  
>>> basically the
>>> metadata collected from a website which have a huge collection of
>>> documents.
>>> This metadata xml has control characters which causes errors  
>>> while trying
>>> to
>>> parse using the DOM parser. I tried to use encoding = UTF-8 but  
>>> looks
>>> like
>>> it doesn't cover all the unicode characters and I get error. Also  
>>> when I
>>> tried to use UTF-16, I am getting Prolog content not allowed  
>>> here. So my
>>> guess is there is no enoding which is going to cover almost all  
>>> unicode
>>> characters. So I tried to split my metadata files into small  
>>> files and
>>> processing records which doesnt throw parsing error.
>>>
>>> But by breaking metadata file into smaller files I get, 10,000  
>>> xml files
>>> per
>>> metadata file. I have 70 metadata files, so altogether it becomes
>>> 7,00,000
>>> files. Processing them individually takes really long time using  
>>> Lucene,
>>> my
>>> guess is I/O is time consuing, like opening every small xml file  
>>> loading
>>> in
>>> DOM extracting required data and processing.
>>
>>
>>
>> So why don't you measure and find out before trying to make the  
>> indexing
>> step more efficient? You simply cannot optimize without knowing where
>> you're spending your time. I can't tell you how often I've been wrong
>> about
>> "why my program was slow" <G>.
>>
>> In this case, it should be really simple. Just comment out the  
>> part where
>> you index the data and run, say, one of your metadata files.. I  
>> suspect
>> that
>> Cheolgoo Kang's response is cogent, and you indeed are spending your
>> time parsing the XML. I further suspect that the problem is not  
>> disk IO,
>> but the time spent parsing. But until you measure, you have no clue
>> whether you should mess around with the Lucene parameters, or find
>> another parser, or just live with it.. Assuming that you comment out
>> Lucene and things are still slow, the next step would be to just  
>> read in
>> each file and NOT parse it to figure out whether it's the IO or the
>> parsing.
>>
>> Then you can worry about how to fix it..
>>
>> Best
>> Erick
>>
>>
>> Qn  1: Any suggestion to get this indexing time reduced? It would be
>> really
>>> great.
>>>
>>> Qn 2 : Am I overlooking something in Lucene with respect to  
>>> indexing?
>>>
>>> Right now 12 metadata files take 10 hrs nearly which is really a  
>>> long
>>> time.
>>>
>>> Help Appreciated.
>>>
>>> Much Thanks.
>>> --
>>> View this message in context:
>>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to- 
>>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
>>> Sent from the Lucene - Java Users mailing list archive at  
>>> Nabble.com.
>>>
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>
> -- 
> View this message in context: http://www.nabble.com/Issue-while- 
> parsing-XML-files-due-to-control-characters%2C-help-appreciated.- 
> tf3418085.html#a9536099
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 13:29:17 2007
Return-Path: <java-user-return-26970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62563 invoked from network); 18 Mar 2007 13:29:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 13:29:16 -0000
Received: (qmail 37392 invoked by uid 500); 18 Mar 2007 13:29:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36476 invoked by uid 500); 18 Mar 2007 13:29:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36465 invoked by uid 99); 18 Mar 2007 13:29:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 06:29:16 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 06:29:08 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1173694ugc
        for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 06:28:47 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=N5Jm5pEt/A9KjRiJyATjlUDP0m7WumPSLMg8WW6ScDnv+/v7nqrjo/prCFJr0f20RT0WFEFboDIK15ADkSQpubLgVQGoQNkPQAsw/LlSfL3mqyWhpMk3pqQcPARR5bUOHpz++AbuBoUevwCHxPcT5pUY6usV9lSgX7rXHS9XcyA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UyZaKv9J9Ueuw8TZuvJjId+xqmt86P8yy3x5yOQPLJ0zqbvU4+LBZQ62MGzx1bXgStqnSLMa+4ydhARvIyy+8hov1Fn7g6EBuWzmGu7nlOaMvfBie2aCLix9438hubHptRSKX56l4DNb3O1YF3L+Ph1bA1PYXyCe78Sto2SMysQ=
Received: by 10.64.180.20 with SMTP id c20mr5515108qbf.1174224526461;
        Sun, 18 Mar 2007 06:28:46 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 18 Mar 2007 06:28:46 -0700 (PDT)
Message-ID: <359a92830703180628p71c6ebc8i6d7ad00226bf1a70@mail.gmail.com>
Date: Sun, 18 Mar 2007 09:28:46 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: categorizing results
In-Reply-To: <700cf4dd0703172255w434fb3cbpb54e48a55687136c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_119952_11268907.1174224526388"
References: <700cf4dd0703172255w434fb3cbpb54e48a55687136c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_119952_11268907.1174224526388
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You might also want to search the mail archive for
"faceted search" and/or Categories. This topic has been discussed
under that heading, I believe...

Erick

On 3/18/07, Dima May <dimamay@gmail.com> wrote:
>
> <java-user@lucene.apache.org>
>
> I have a Lucene related questions/problem.
>
> My search results can potentially get very large 200,000+. I want to
> categorize my results. So for example if I have an indexed field "type"
> that
> has such things as CDs, books, videos, power drills, or anything else in
> the
> world, I would want to display how many results are found for each unique
> "type". So I may get 200 CDs and 3000 books and so on.
>
> The brute-force way of doing that is traversing the returned
> documents/results and counting each unique type. Unfortunately this
> solution
> is too slow. I am having trouble figuring out a faster approach and was
> hoping someone can suggest one.
>
> Thank you for your time.
>
> Dima
>

------=_Part_119952_11268907.1174224526388--

From java-user-return-26971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 13:39:50 2007
Return-Path: <java-user-return-26971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66136 invoked from network); 18 Mar 2007 13:39:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 13:39:50 -0000
Received: (qmail 44431 invoked by uid 500); 18 Mar 2007 13:39:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44409 invoked by uid 500); 18 Mar 2007 13:39:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44398 invoked by uid 99); 18 Mar 2007 13:39:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 06:39:50 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.233 as permitted sender)
Received: from [64.233.184.233] (HELO wr-out-0506.google.com) (64.233.184.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 06:39:41 -0700
Received: by wr-out-0506.google.com with SMTP id i28so1074166wra
        for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 06:39:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=hFcJLDcfR5fegR4l3krV3yHlDBBsjVGEgmdBDLdVM5AFyfILmFhSLaECAyv1oXRZt8Ck8vCiF60mVp6ZnX9Has5feHWL9bvDYsDA9yTlQPlhNZ6CewpVd9+gA4tAyeSABt6tEN/bOPKwaHtGaS+LawbTmGKXLE/4qEr0hGyBCU8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sDMvsIISoUD6XYP7GEQJnIksJo0AcgJXwTS+DmedAz4UDimfvm6MCWGP5b27TIfWGwtRoZ7RwiYYgpivorkDmYk1duSRfBKGALTOElNco+A4Wpbf5c4ox52YSTEZHhZVndq99cvCzn4PUEhWMdjfaUXyu0QOWy7eibO8Gdu/UUM=
Received: by 10.65.222.11 with SMTP id z11mr3017168qbq.1174225160653;
        Sun, 18 Mar 2007 06:39:20 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 18 Mar 2007 06:39:20 -0700 (PDT)
Message-ID: <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com>
Date: Sun, 18 Mar 2007 09:39:20 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help appreciated.
In-Reply-To: <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_120116_17882029.1174225160533"
References: <9526527.post@talk.nabble.com>
	 <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com>
	 <9536099.post@talk.nabble.com>
	 <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_120116_17882029.1174225160533
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Grant:

I think that "Parsing 70 files totally takes 80 minutes" really
means parsing 70 metadata files containing 10,000 XML
files each.....

Lokeya:
Can you confirm my supposition? And I'd still post the code
Grant requested if you can.....

So, you're talking about indexing 10,000 xml files in 2-3 hours,
8 minutes or so which is spent reading/parsing, right? It'll be
important to know how much data you're indexing and now, so
the code snippet is doubly important....

Erick

On 3/18/07, Grant Ingersoll <gsingers@apache.org> wrote:
>
> Can you post the relevant indexing code?  Are you doing things like
> optimizing after every file?  Both the parsing and the indexing sound
> really long.  How big are these files?
>
> Also, I assume you machine is at least somewhat current, right?
>
> On Mar 18, 2007, at 1:00 AM, Lokeya wrote:
>
> >
> > Thanks for your reply. I tried to check if the I/O and Parsing is
> > taking time
> > separately and Indexing time also. I observed that I/O and Parsing
> > 70 files
> > totally takes 80 minutes where as when I combine this with Indexing
> > for a
> > single Metadata file it nearly 2 to 3 hours. So looks like
> > IndexWriter takes
> > time that too when we are appending to the Index file this happens.
> >
> > So what is the best approach to handle this?
> >
> > Thanks in Advance.
> >
> >
> > Erick Erickson wrote:
> >>
> >> See below...
> >>
> >> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
> >>>
> >>>
> >>> Hi,
> >>>
> >>> I am trying to index the content from XML files which are
> >>> basically the
> >>> metadata collected from a website which have a huge collection of
> >>> documents.
> >>> This metadata xml has control characters which causes errors
> >>> while trying
> >>> to
> >>> parse using the DOM parser. I tried to use encoding = UTF-8 but
> >>> looks
> >>> like
> >>> it doesn't cover all the unicode characters and I get error. Also
> >>> when I
> >>> tried to use UTF-16, I am getting Prolog content not allowed
> >>> here. So my
> >>> guess is there is no enoding which is going to cover almost all
> >>> unicode
> >>> characters. So I tried to split my metadata files into small
> >>> files and
> >>> processing records which doesnt throw parsing error.
> >>>
> >>> But by breaking metadata file into smaller files I get, 10,000
> >>> xml files
> >>> per
> >>> metadata file. I have 70 metadata files, so altogether it becomes
> >>> 7,00,000
> >>> files. Processing them individually takes really long time using
> >>> Lucene,
> >>> my
> >>> guess is I/O is time consuing, like opening every small xml file
> >>> loading
> >>> in
> >>> DOM extracting required data and processing.
> >>
> >>
> >>
> >> So why don't you measure and find out before trying to make the
> >> indexing
> >> step more efficient? You simply cannot optimize without knowing where
> >> you're spending your time. I can't tell you how often I've been wrong
> >> about
> >> "why my program was slow" <G>.
> >>
> >> In this case, it should be really simple. Just comment out the
> >> part where
> >> you index the data and run, say, one of your metadata files.. I
> >> suspect
> >> that
> >> Cheolgoo Kang's response is cogent, and you indeed are spending your
> >> time parsing the XML. I further suspect that the problem is not
> >> disk IO,
> >> but the time spent parsing. But until you measure, you have no clue
> >> whether you should mess around with the Lucene parameters, or find
> >> another parser, or just live with it.. Assuming that you comment out
> >> Lucene and things are still slow, the next step would be to just
> >> read in
> >> each file and NOT parse it to figure out whether it's the IO or the
> >> parsing.
> >>
> >> Then you can worry about how to fix it..
> >>
> >> Best
> >> Erick
> >>
> >>
> >> Qn  1: Any suggestion to get this indexing time reduced? It would be
> >> really
> >>> great.
> >>>
> >>> Qn 2 : Am I overlooking something in Lucene with respect to
> >>> indexing?
> >>>
> >>> Right now 12 metadata files take 10 hrs nearly which is really a
> >>> long
> >>> time.
> >>>
> >>> Help Appreciated.
> >>>
> >>> Much Thanks.
> >>> --
> >>> View this message in context:
> >>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-
> >>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
> >>> Sent from the Lucene - Java Users mailing list archive at
> >>> Nabble.com.
> >>>
> >>>
> >>> --------------------------------------------------------------------
> >>> -
> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >>
> >>
> >
> > --
> > View this message in context: http://www.nabble.com/Issue-while-
> > parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
> > tf3418085.html#a9536099
> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
> --------------------------
> Grant Ingersoll
> Center for Natural Language Processing
> http://www.cnlp.org
>
> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
> LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_120116_17882029.1174225160533--

From java-user-return-26972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 13:45:20 2007
Return-Path: <java-user-return-26972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67061 invoked from network); 18 Mar 2007 13:45:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 13:45:19 -0000
Received: (qmail 50508 invoked by uid 500); 18 Mar 2007 13:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50466 invoked by uid 500); 18 Mar 2007 13:45:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50455 invoked by uid 99); 18 Mar 2007 13:45:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 06:45:21 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.232 as permitted sender)
Received: from [64.233.184.232] (HELO wr-out-0506.google.com) (64.233.184.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 06:45:12 -0700
Received: by wr-out-0506.google.com with SMTP id i28so1075160wra
        for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 06:44:51 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=o3iUEuTvfRQDfWvLS1fRGzdRcSBuf/0Rj5IwwLtPObKK9lGOpb9lVt6f3w8/qZ5UZeJuLpn9iBRwg/23dSpX/z1N3UNIReccCQ2mThN9p+ao80dL/2x+cV6VGJ2W1xtoZ+m/oCLkUk76NTRXGQf8CL/w7JuXgnF3+oFyOTlgqzo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=O5r6oQC9TL+5qeU91j4DXVXEFzS5ScerYssJCcZjUpqGIrbRwOa33XHjd+rqnmYpqcOPdarroatNJs1oitilvm18/+vnB3OTACLWtdxbPCsdiiB7wN53z6ji4Y+XlMj24JSc1XV2uYO4Ct1ks2bH1gzFHfgdiBIDCMfgvOMZn0E=
Received: by 10.65.191.7 with SMTP id t7mr5328807qbp.1174225491574;
        Sun, 18 Mar 2007 06:44:51 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 18 Mar 2007 06:44:51 -0700 (PDT)
Message-ID: <359a92830703180644m34354e91uc485ffe70b5febc3@mail.gmail.com>
Date: Sun, 18 Mar 2007 09:44:51 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: search timeout
In-Reply-To: <Pine.LNX.4.58.0703171542270.21232@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_120196_17162082.1174225491343"
References: <45F99411.3060002@aol.com>
	 <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu>
	 <45FBAFCA.6000503@yahoo.co.uk> <45FC60D5.6050404@getopt.org>
	 <Pine.LNX.4.58.0703171542270.21232@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_120196_17162082.1174225491343
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On 3/17/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> Ack! ... this is what happens when i only skim a patch and then write with
> my odd mix of authority and childlike speling....


I'm telling ya, man, ya gotta get Firefox, use Gmail (or at least a
web-interfaced e-mail client) and turn on the auto spellcheck <G>....

: * it creates a single (static) timer thread, which counts the "ticks",
> : every couple hundred ms (configurable). It uses a volatile int counter,
> : therefore avoiding the need to synchronize.
> :
> : * each HitColector records the start tick count in its constructor, and
> : then checks the current tick count in collect(...). If the difference is
>
> So i was way wrong about the Timer per search ... but it seems like this
> appraoch still has the downside that "long" searches resulting in no
> matches won't time out (because collect will never be called and the tick
> counter will never be compared)
>
> Was this considered a non issue for Nutch because the query structure is
> typiclly well known and quereis with no results usually return
> imeediately? ... in the totally generic case, this isn't a safe
> assumption.  Crazy complex BooleanQueries, or worse still: arbitrary
> client written Query classes, could spend untold times advancing to the
> "next" match (which may not exist at all)
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_120196_17162082.1174225491343--

From java-user-return-26973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 16:31:47 2007
Return-Path: <java-user-return-26973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95298 invoked from network); 18 Mar 2007 16:31:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 16:31:46 -0000
Received: (qmail 18711 invoked by uid 500); 18 Mar 2007 16:31:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18667 invoked by uid 500); 18 Mar 2007 16:31:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18651 invoked by uid 99); 18 Mar 2007 16:31:47 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 09:31:47 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 09:31:37 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HSyHs-0004LA-VM
	for java-user@lucene.apache.org; Sun, 18 Mar 2007 09:31:16 -0700
Message-ID: <9540232.post@talk.nabble.com>
Date: Sun, 18 Mar 2007 09:31:16 -0700 (PDT)
From: Lokeya <lokeya@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
In-Reply-To: <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: lokeya@gmail.com
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com> <9536099.post@talk.nabble.com> <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org> <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org



Erick Erickson wrote:
> 
> Grant:
> 
>  I think that "Parsing 70 files totally takes 80 minutes" really
> means parsing 70 metadata files containing 10,000 XML
> files each.....
> 
> One Metadata File is split into 10,000 XML files which looks as below:
> 
> <root>
> 	<record>
> 	<header>
> 	<identifier>oai:CiteSeerPSU:1</identifier>
> 	<datestamp>1993-08-11</datestamp>
> 	<setSpec>CiteSeerPSUset</setSpec>
> 	</header>
> 		<metadata>
> 		<oai_citeseer:oai_citeseer
> xmlns:oai_citeseer="http://copper.ist.psu.edu/oai/oai_citeseer/" xmlns:dc
> ="http://purl.org/dc/elements/1.1/"
> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
> xsi:schemaLocation="http://copper.ist.psu.edu/oai/oai_citeseer/
> http://copper.ist.psu.edu/oai/oai_citeseer.xsd ">   
> 		<dc:title>36 Problems for Semantic Interpretation</dc:title>   
> 		<oai_citeseer:author name="Gabriele Scheler">      
> 			<address>80290 Munchen , Germany</address>      
> 			<affiliation>Institut fur Informatik; Technische Universitat
> Munchen</affiliation>   
> 		</oai_citeseer:author>   
> 		<dc:subject>Gabriele Scheler 36 Problems for Semantic
> Interpretation</dc:subject>   
> 		<dc:description>This paper presents a collection of problems for natural
> language analysisderived mainly from theoretical linguistics. Most of
> these problemspresent major obstacles for computational systems of
> language interpretation.The set of given sentences can easily be scaled up
> by introducing moreexamples per problem. The construction of computational
> systems couldbenefit from such a collection, either using it directly for
> training andtesting or as a set of benchmarks to qualify the performance
> of a NLPsystem.1 IntroductionThe main part of this paper consists of a
> collection of problems for semanticanalysis of natural language. The
> problems are arranged in the following way:example sentencesconcise
> description of the problemkeyword for the type of problemThe sources
> (first appearance in print) of the sentences have been left out,because
> they are sometimes hard to track and will usually not be of much use,as
> they indicate a starting-point of discussion only. The keywords howeve...
> 		</dc:description>   
> 		<dc:contributor>The Pennsylvania State University CiteSeer
> Archives</dc:contributor>   
> 		<dc:publisher>unknown</dc:publisher>   
> 		<dc:date>1993-08-11</dc:date>   
> 		<dc:format>ps</dc:format>   
> 		<dc:identifier>http://citeseer.ist.psu.edu/1.html</dc:identifier>  
> <dc:source>ftp://flop.informatik.tu-muenchen.de/pub/fki/fki-179-93.ps.gz</dc:source>   
> 		<dc:language>en</dc:language>   
> 		<dc:rights>unrestricted</dc:rights>
> 		</oai_citeseer:oai_citeseer>
> 		</metadata>
> 	</record>
> </root>
> 
> 
> From the above I will extract the Title and the Description tags to index.
> 
> Code to do this:
> 
> 1. I have 70 directories with the name like oai_citeseerXYZ/
> 2. Under each of above directory, I have 10,000 xml files each having
> above xml data.
> 3. Program does the following
> 
> 					File dir = new File(dirName);
> 					String[] children = dir.list();
> 					if (children == null) {
> 						// Either dir does not exist or is not a directory
> 					} 
> 					else 
> 					{
> 						for (int ii=0; ii<children.length; ii++) 
> 						{							
> 							// Get filename of file or directory
> 							String file = children[ii];
> 							//System.out.println("The name of file parsed now ==> "+file);
> 							nl = ReadDump.getNodeList(filename+"/"+file, "metadata");
> 							if(nl == null)
> 							{
> 								//System.out.println("Error shoudlnt be thrown ...");
> 							}	
> 							//Get the metadata element tags from xml file
> 							ReadDump rd = new ReadDump();
> 
> 							//Get the Extracted Tags Title, Identifier and Description
> 							ArrayList alist_Title = rd.getElements(nl, "dc:title");
> 							ArrayList alist_Descr = rd.getElements(nl, "dc:description");
> 
> 							//Create an Index under DIR
> 							IndexWriter writer = new IndexWriter("./FINAL/", new
> StopStemmingAnalyzer(),false);
> 							Document doc = new Document();
> 
> 							//Get Array List Elements  and add them as fileds to doc 
> 							for(int k=0; k < alist_Title.size(); k++)
> 							{
> 								doc.add(new Field("Title",alist_Title.get(k).toString(),
> Field.Store.YES, Field.Index.UN_TOKENIZED));
> 							}
> 							
> 							for(int k=0; k < alist_Descr.size(); k++)
> 							{
> 								doc.add(new Field("Description",alist_Descr.get(k).toString(),
> Field.Store.YES, Field.Index.UN_TOKENIZED));
> 							}							
> 
> 			//Add the document created out of those fields to the IndexWriter which
> will create and index
> 							writer.addDocument(doc);
> 							writer.optimize();
> 							writer.close();
>                }
> 							
> 
> This is the main file which does indexing.
> 
> Hope this will give you an idea.
> 
>  
> Lokeya:
> Can you confirm my supposition? And I'd still post the code
> Grant requested if you can.....
> 
> So, you're talking about indexing 10,000 xml files in 2-3 hours,
> 8 minutes or so which is spent reading/parsing, right? It'll be
> important to know how much data you're indexing and now, so
> the code snippet is doubly important....
> 
> Erick
> 
> On 3/18/07, Grant Ingersoll <gsingers@apache.org> wrote:
>>
>> Can you post the relevant indexing code?  Are you doing things like
>> optimizing after every file?  Both the parsing and the indexing sound
>> really long.  How big are these files?
>>
>> Also, I assume you machine is at least somewhat current, right?
>>
>> On Mar 18, 2007, at 1:00 AM, Lokeya wrote:
>>
>> >
>> > Thanks for your reply. I tried to check if the I/O and Parsing is
>> > taking time
>> > separately and Indexing time also. I observed that I/O and Parsing
>> > 70 files
>> > totally takes 80 minutes where as when I combine this with Indexing
>> > for a
>> > single Metadata file it nearly 2 to 3 hours. So looks like
>> > IndexWriter takes
>> > time that too when we are appending to the Index file this happens.
>> >
>> > So what is the best approach to handle this?
>> >
>> > Thanks in Advance.
>> >
>> >
>> > Erick Erickson wrote:
>> >>
>> >> See below...
>> >>
>> >> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>> >>>
>> >>>
>> >>> Hi,
>> >>>
>> >>> I am trying to index the content from XML files which are
>> >>> basically the
>> >>> metadata collected from a website which have a huge collection of
>> >>> documents.
>> >>> This metadata xml has control characters which causes errors
>> >>> while trying
>> >>> to
>> >>> parse using the DOM parser. I tried to use encoding = UTF-8 but
>> >>> looks
>> >>> like
>> >>> it doesn't cover all the unicode characters and I get error. Also
>> >>> when I
>> >>> tried to use UTF-16, I am getting Prolog content not allowed
>> >>> here. So my
>> >>> guess is there is no enoding which is going to cover almost all
>> >>> unicode
>> >>> characters. So I tried to split my metadata files into small
>> >>> files and
>> >>> processing records which doesnt throw parsing error.
>> >>>
>> >>> But by breaking metadata file into smaller files I get, 10,000
>> >>> xml files
>> >>> per
>> >>> metadata file. I have 70 metadata files, so altogether it becomes
>> >>> 7,00,000
>> >>> files. Processing them individually takes really long time using
>> >>> Lucene,
>> >>> my
>> >>> guess is I/O is time consuing, like opening every small xml file
>> >>> loading
>> >>> in
>> >>> DOM extracting required data and processing.
>> >>
>> >>
>> >>
>> >> So why don't you measure and find out before trying to make the
>> >> indexing
>> >> step more efficient? You simply cannot optimize without knowing where
>> >> you're spending your time. I can't tell you how often I've been wrong
>> >> about
>> >> "why my program was slow" <G>.
>> >>
>> >> In this case, it should be really simple. Just comment out the
>> >> part where
>> >> you index the data and run, say, one of your metadata files.. I
>> >> suspect
>> >> that
>> >> Cheolgoo Kang's response is cogent, and you indeed are spending your
>> >> time parsing the XML. I further suspect that the problem is not
>> >> disk IO,
>> >> but the time spent parsing. But until you measure, you have no clue
>> >> whether you should mess around with the Lucene parameters, or find
>> >> another parser, or just live with it.. Assuming that you comment out
>> >> Lucene and things are still slow, the next step would be to just
>> >> read in
>> >> each file and NOT parse it to figure out whether it's the IO or the
>> >> parsing.
>> >>
>> >> Then you can worry about how to fix it..
>> >>
>> >> Best
>> >> Erick
>> >>
>> >>
>> >> Qn  1: Any suggestion to get this indexing time reduced? It would be
>> >> really
>> >>> great.
>> >>>
>> >>> Qn 2 : Am I overlooking something in Lucene with respect to
>> >>> indexing?
>> >>>
>> >>> Right now 12 metadata files take 10 hrs nearly which is really a
>> >>> long
>> >>> time.
>> >>>
>> >>> Help Appreciated.
>> >>>
>> >>> Much Thanks.
>> >>> --
>> >>> View this message in context:
>> >>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-
>> >>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
>> >>> Sent from the Lucene - Java Users mailing list archive at
>> >>> Nabble.com.
>> >>>
>> >>>
>> >>> --------------------------------------------------------------------
>> >>> -
>> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>>
>> >>>
>> >>
>> >>
>> >
>> > --
>> > View this message in context: http://www.nabble.com/Issue-while-
>> > parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
>> > tf3418085.html#a9536099
>> > Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>> >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>>
>> --------------------------
>> Grant Ingersoll
>> Center for Natural Language Processing
>> http://www.cnlp.org
>>
>> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
>> LuceneFAQ
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9540232
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 17:16:48 2007
Return-Path: <java-user-return-26974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 552 invoked from network); 18 Mar 2007 17:16:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 17:16:48 -0000
Received: (qmail 58899 invoked by uid 500); 18 Mar 2007 17:16:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58867 invoked by uid 500); 18 Mar 2007 17:16:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58856 invoked by uid 99); 18 Mar 2007 17:16:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 10:16:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.5] (HELO spunkymail-a11.g.dreamhost.com) (208.97.132.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 10:16:39 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a11.g.dreamhost.com (Postfix) with ESMTP id 147D8B6DF9
	for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 10:16:17 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: 7bit
Message-Id: <5CA1E933-1C02-43A0-ACF8-CCE35ED4AC3C@apache.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Grant Ingersoll <gsingers@apache.org>
Subject: contrib/benchmark questions
Date: Sun, 18 Mar 2007 13:16:14 -0400
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

I'm using contrib/benchmark to do some tests for my ApacheCon talk  
and have some questions.

1. In looking at micro-standard.alg, it seems like not all braces are  
closed.  Is a line ending a separator too?
2. Is there anyway to dump out what params are supported by the  
various tasks?  I am esp. uncertain on the Search related tasks.
3. Is there anyway to dump out the stats as a CSV file or something?   
Would I implement a Task for this?  Ultimately, I want to be able to  
create a graph in Excel that shows tradeoffs between speed and memory.
4. Is there a way to set how many tabs occur between columns in the  
final report?  They merge and buffer factors get hard to read for  
larger values.
5. Below is my "alg" file, any tips?  What I am trying to do is show  
the tradeoffs of merge factor and max buffered and how it relates to  
memory and indexing time.  I want to process all the documents in the  
Reuters benchmark collection, not the 2000 in the micro-standard.  I  
don't want any pauses and for now I am happy doing things in serial.   
I think it is doing what I want, but am not 100% certain.

-----------  alg file --------

#last value is more than all the docs in reuters
merge.factor=mrg:10:100:1000:5000:10:10:10:10:100:1000
max.buffered=buf:10:10:10:10:100:1000:10000:21580:21580:21580
compound=true

analyzer=org.apache.lucene.analysis.standard.StandardAnalyzer
directory=FSDirectory
#directory=RamDirectory

doc.stored=true
doc.tokenized=true
doc.term.vector=false
doc.add.log.step=1000

docs.dir=reuters-out
#docs.dir=reuters-111

#doc.maker=org.apache.lucene.benchmark.byTask.feeds.SimpleDocMaker
doc.maker=org.apache.lucene.benchmark.byTask.feeds.ReutersDocMaker

#query.maker=org.apache.lucene.benchmark.byTask.feeds.SimpleQueryMaker
query.maker=org.apache.lucene.benchmark.byTask.feeds.ReutersQueryMaker

# task at this depth or less would print when they start
task.max.depth.log=2

log.queries=true
#  
------------------------------------------------------------------------ 
-------------

{ "Rounds"

     ResetSystemErase

     { "Populate"
         CreateIndex
         { "MAddDocs" AddDoc > : 22000
         Optimize
         CloseIndex
     }

     OpenReader
     { "SearchSameRdr" Search > : 5000
     CloseReader

     { "WarmNewRdr" Warm > : 50

     { "SrchNewRdr" Search > : 500

     { "SrchTrvNewRdr" SearchTrav > : 300

     { "SrchTrvRetNewRdr" SearchTravRet > : 100

     NewRound

} : 10

RepSumByName
RepSumByPrefRound MAddDocs


Thanks,
Grant

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 17:35:05 2007
Return-Path: <java-user-return-26975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3719 invoked from network); 18 Mar 2007 17:35:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 17:35:05 -0000
Received: (qmail 80464 invoked by uid 500); 18 Mar 2007 17:35:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79813 invoked by uid 500); 18 Mar 2007 17:35:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79801 invoked by uid 99); 18 Mar 2007 17:35:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 10:35:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 66.249.82.228 as permitted sender)
Received: from [66.249.82.228] (HELO wx-out-0506.google.com) (66.249.82.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 10:34:56 -0700
Received: by wx-out-0506.google.com with SMTP id i29so943189wxd
        for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 10:34:36 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Y1tbd0vqRrmoVn1XnFIXHOAG9A8pasX1KxH50uCYRYDOQnyVDSBSPP7FzPLgO0/6/HuxmVyZcnSys6yRmTh+XZu2lE2RS5r5OAdVwtO4u0mYL8ynSr07qcH6NYK+1aAvBuUFlxc6WYQbwYbeotf5XdtxPSQWWGsqliQbHk2Qj8g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=IRfIQoE56qvUpF2sV+02zdAK10cFtG+UqHdhkQKyuU7J/jOfCxJkDprcISVmO+cYMVP7HBvem4kPHWULVhTflpGouRtPklox9WMPvFAU4/c+Ix2rVNwS4eVyihJdRpnJzibLCFc270m2/2BXyWwsVMs7PROHzUgSY9yQZI8tL0k=
Received: by 10.70.9.4 with SMTP id 4mr6967458wxi.1174239275655;
        Sun, 18 Mar 2007 10:34:35 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id 33sm4730269wra.2007.03.18.10.34.33;
        Sun, 18 Mar 2007 10:34:34 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <9540232.post@talk.nabble.com>
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com> <9536099.post@talk.nabble.com> <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org> <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com> <9540232.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <5BD5D3FF-1A33-465F-BFD4-B312731EFDB7@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: Issue while parsing XML files due to control characters, help appreciated.
Date: Sun, 18 Mar 2007 13:34:29 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Move index writer creation, optimization and closure outside of your  
loop.  I would also use a SAX parser.  Take a look at the demo code  
to see an example of indexing.

Cheers,
Grant

On Mar 18, 2007, at 12:31 PM, Lokeya wrote:

>
>
> Erick Erickson wrote:
>>
>> Grant:
>>
>>  I think that "Parsing 70 files totally takes 80 minutes" really
>> means parsing 70 metadata files containing 10,000 XML
>> files each.....
>>
>> One Metadata File is split into 10,000 XML files which looks as  
>> below:
>>
>> <root>
>> 	<record>
>> 	<header>
>> 	<identifier>oai:CiteSeerPSU:1</identifier>
>> 	<datestamp>1993-08-11</datestamp>
>> 	<setSpec>CiteSeerPSUset</setSpec>
>> 	</header>
>> 		<metadata>
>> 		<oai_citeseer:oai_citeseer
>> xmlns:oai_citeseer="http://copper.ist.psu.edu/oai/oai_citeseer/"  
>> xmlns:dc
>> ="http://purl.org/dc/elements/1.1/"
>> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
>> xsi:schemaLocation="http://copper.ist.psu.edu/oai/oai_citeseer/
>> http://copper.ist.psu.edu/oai/oai_citeseer.xsd ">
>> 		<dc:title>36 Problems for Semantic Interpretation</dc:title>
>> 		<oai_citeseer:author name="Gabriele Scheler">
>> 			<address>80290 Munchen , Germany</address>
>> 			<affiliation>Institut fur Informatik; Technische Universitat
>> Munchen</affiliation>
>> 		</oai_citeseer:author>
>> 		<dc:subject>Gabriele Scheler 36 Problems for Semantic
>> Interpretation</dc:subject>
>> 		<dc:description>This paper presents a collection of problems for  
>> natural
>> language analysisderived mainly from theoretical linguistics. Most of
>> these problemspresent major obstacles for computational systems of
>> language interpretation.The set of given sentences can easily be  
>> scaled up
>> by introducing moreexamples per problem. The construction of  
>> computational
>> systems couldbenefit from such a collection, either using it  
>> directly for
>> training andtesting or as a set of benchmarks to qualify the  
>> performance
>> of a NLPsystem.1 IntroductionThe main part of this paper consists  
>> of a
>> collection of problems for semanticanalysis of natural language. The
>> problems are arranged in the following way:example sentencesconcise
>> description of the problemkeyword for the type of problemThe sources
>> (first appearance in print) of the sentences have been left  
>> out,because
>> they are sometimes hard to track and will usually not be of much  
>> use,as
>> they indicate a starting-point of discussion only. The keywords  
>> howeve...
>> 		</dc:description>
>> 		<dc:contributor>The Pennsylvania State University CiteSeer
>> Archives</dc:contributor>
>> 		<dc:publisher>unknown</dc:publisher>
>> 		<dc:date>1993-08-11</dc:date>
>> 		<dc:format>ps</dc:format>
>> 		<dc:identifier>http://citeseer.ist.psu.edu/1.html</dc:identifier>
>> <dc:source>ftp://flop.informatik.tu-muenchen.de/pub/fki/ 
>> fki-179-93.ps.gz</dc:source>
>> 		<dc:language>en</dc:language>
>> 		<dc:rights>unrestricted</dc:rights>
>> 		</oai_citeseer:oai_citeseer>
>> 		</metadata>
>> 	</record>
>> </root>
>>
>>
>> From the above I will extract the Title and the Description tags  
>> to index.
>>
>> Code to do this:
>>
>> 1. I have 70 directories with the name like oai_citeseerXYZ/
>> 2. Under each of above directory, I have 10,000 xml files each having
>> above xml data.
>> 3. Program does the following
>>
>> 					File dir = new File(dirName);
>> 					String[] children = dir.list();
>> 					if (children == null) {
>> 						// Either dir does not exist or is not a directory
>> 					}
>> 					else
>> 					{
>> 						for (int ii=0; ii<children.length; ii++)
>> 						{							
>> 							// Get filename of file or directory
>> 							String file = children[ii];
>> 							//System.out.println("The name of file parsed now ==> "+file);
>> 							nl = ReadDump.getNodeList(filename+"/"+file, "metadata");
>> 							if(nl == null)
>> 							{
>> 								//System.out.println("Error shoudlnt be thrown ...");
>> 							}	
>> 							//Get the metadata element tags from xml file
>> 							ReadDump rd = new ReadDump();
>>
>> 							//Get the Extracted Tags Title, Identifier and Description
>> 							ArrayList alist_Title = rd.getElements(nl, "dc:title");
>> 							ArrayList alist_Descr = rd.getElements(nl, "dc:description");
>>
>> 							//Create an Index under DIR
>> 							IndexWriter writer = new IndexWriter("./FINAL/", new
>> StopStemmingAnalyzer(),false);
>> 							Document doc = new Document();
>>
>> 							//Get Array List Elements  and add them as fileds to doc
>> 							for(int k=0; k < alist_Title.size(); k++)
>> 							{
>> 								doc.add(new Field("Title",alist_Title.get(k).toString(),
>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>> 							}
>> 							
>> 							for(int k=0; k < alist_Descr.size(); k++)
>> 							{
>> 								doc.add(new Field("Description",alist_Descr.get(k).toString 
>> (),
>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>> 							}							
>>
>> 			//Add the document created out of those fields to the  
>> IndexWriter which
>> will create and index
>> 							writer.addDocument(doc);
>> 							writer.optimize();
>> 							writer.close();
>>                }
>> 							
>>
>> This is the main file which does indexing.
>>
>> Hope this will give you an idea.
>>
>>
>> Lokeya:
>> Can you confirm my supposition? And I'd still post the code
>> Grant requested if you can.....
>>
>> So, you're talking about indexing 10,000 xml files in 2-3 hours,
>> 8 minutes or so which is spent reading/parsing, right? It'll be
>> important to know how much data you're indexing and now, so
>> the code snippet is doubly important....
>>
>> Erick
>>
>> On 3/18/07, Grant Ingersoll <gsingers@apache.org> wrote:
>>>
>>> Can you post the relevant indexing code?  Are you doing things like
>>> optimizing after every file?  Both the parsing and the indexing  
>>> sound
>>> really long.  How big are these files?
>>>
>>> Also, I assume you machine is at least somewhat current, right?
>>>
>>> On Mar 18, 2007, at 1:00 AM, Lokeya wrote:
>>>
>>>>
>>>> Thanks for your reply. I tried to check if the I/O and Parsing is
>>>> taking time
>>>> separately and Indexing time also. I observed that I/O and Parsing
>>>> 70 files
>>>> totally takes 80 minutes where as when I combine this with Indexing
>>>> for a
>>>> single Metadata file it nearly 2 to 3 hours. So looks like
>>>> IndexWriter takes
>>>> time that too when we are appending to the Index file this happens.
>>>>
>>>> So what is the best approach to handle this?
>>>>
>>>> Thanks in Advance.
>>>>
>>>>
>>>> Erick Erickson wrote:
>>>>>
>>>>> See below...
>>>>>
>>>>> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>>>>>>
>>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> I am trying to index the content from XML files which are
>>>>>> basically the
>>>>>> metadata collected from a website which have a huge collection of
>>>>>> documents.
>>>>>> This metadata xml has control characters which causes errors
>>>>>> while trying
>>>>>> to
>>>>>> parse using the DOM parser. I tried to use encoding = UTF-8 but
>>>>>> looks
>>>>>> like
>>>>>> it doesn't cover all the unicode characters and I get error. Also
>>>>>> when I
>>>>>> tried to use UTF-16, I am getting Prolog content not allowed
>>>>>> here. So my
>>>>>> guess is there is no enoding which is going to cover almost all
>>>>>> unicode
>>>>>> characters. So I tried to split my metadata files into small
>>>>>> files and
>>>>>> processing records which doesnt throw parsing error.
>>>>>>
>>>>>> But by breaking metadata file into smaller files I get, 10,000
>>>>>> xml files
>>>>>> per
>>>>>> metadata file. I have 70 metadata files, so altogether it becomes
>>>>>> 7,00,000
>>>>>> files. Processing them individually takes really long time using
>>>>>> Lucene,
>>>>>> my
>>>>>> guess is I/O is time consuing, like opening every small xml file
>>>>>> loading
>>>>>> in
>>>>>> DOM extracting required data and processing.
>>>>>
>>>>>
>>>>>
>>>>> So why don't you measure and find out before trying to make the
>>>>> indexing
>>>>> step more efficient? You simply cannot optimize without knowing  
>>>>> where
>>>>> you're spending your time. I can't tell you how often I've been  
>>>>> wrong
>>>>> about
>>>>> "why my program was slow" <G>.
>>>>>
>>>>> In this case, it should be really simple. Just comment out the
>>>>> part where
>>>>> you index the data and run, say, one of your metadata files.. I
>>>>> suspect
>>>>> that
>>>>> Cheolgoo Kang's response is cogent, and you indeed are spending  
>>>>> your
>>>>> time parsing the XML. I further suspect that the problem is not
>>>>> disk IO,
>>>>> but the time spent parsing. But until you measure, you have no  
>>>>> clue
>>>>> whether you should mess around with the Lucene parameters, or find
>>>>> another parser, or just live with it.. Assuming that you  
>>>>> comment out
>>>>> Lucene and things are still slow, the next step would be to just
>>>>> read in
>>>>> each file and NOT parse it to figure out whether it's the IO or  
>>>>> the
>>>>> parsing.
>>>>>
>>>>> Then you can worry about how to fix it..
>>>>>
>>>>> Best
>>>>> Erick
>>>>>
>>>>>
>>>>> Qn  1: Any suggestion to get this indexing time reduced? It  
>>>>> would be
>>>>> really
>>>>>> great.
>>>>>>
>>>>>> Qn 2 : Am I overlooking something in Lucene with respect to
>>>>>> indexing?
>>>>>>
>>>>>> Right now 12 metadata files take 10 hrs nearly which is really a
>>>>>> long
>>>>>> time.
>>>>>>
>>>>>> Help Appreciated.
>>>>>>
>>>>>> Much Thanks.
>>>>>> --
>>>>>> View this message in context:
>>>>>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-
>>>>>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
>>>>>> Sent from the Lucene - Java Users mailing list archive at
>>>>>> Nabble.com.
>>>>>>
>>>>>>
>>>>>> ----------------------------------------------------------------- 
>>>>>> ---
>>>>>> -
>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>
>>>> --
>>>> View this message in context: http://www.nabble.com/Issue-while-
>>>> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
>>>> tf3418085.html#a9536099
>>>> Sent from the Lucene - Java Users mailing list archive at  
>>>> Nabble.com.
>>>>
>>>>
>>>> ------------------------------------------------------------------- 
>>>> --
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>
>>> --------------------------
>>> Grant Ingersoll
>>> Center for Natural Language Processing
>>> http://www.cnlp.org
>>>
>>> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
>>> LuceneFAQ
>>>
>>>
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>>
>
> -- 
> View this message in context: http://www.nabble.com/Issue-while- 
> parsing-XML-files-due-to-control-characters%2C-help-appreciated.- 
> tf3418085.html#a9540232
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 17:42:46 2007
Return-Path: <java-user-return-26976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4778 invoked from network); 18 Mar 2007 17:42:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 17:42:45 -0000
Received: (qmail 87466 invoked by uid 500); 18 Mar 2007 17:42:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87424 invoked by uid 500); 18 Mar 2007 17:42:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87413 invoked by uid 99); 18 Mar 2007 17:42:46 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 10:42:46 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of dimamay@gmail.com designates 209.85.134.191 as permitted sender)
Received: from [209.85.134.191] (HELO mu-out-0910.google.com) (209.85.134.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 10:42:37 -0700
Received: by mu-out-0910.google.com with SMTP id i10so1657227mue
        for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 10:42:15 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YpG9bnIbYsZfRagD42tASYUPA+VWuXNZZ/wJtU97iKvub1DNgdRwrQvcwWUhIREMV+pfMoJDyjZ2rLJu15WOT1/HX9vQclN5jU9J4A44MsPEdHq2nrpjkrvZZ5KpyD4BK8xm/5snQDAt+tIg03n0ka50cY2wFYvaDA8W5i5LgPA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XXtPqBYBrHW3eMJZ21pMCqZCQhmycvyGW+hDjJkq8N77dKwMtLRyfFaaRe813QDS5zCiKv58l2u5KduvFOBtO7xdWnm3g5LerHSfnELZYSaUUfHURzLRozKqJul8Bv2DVwxUZHVO7FDdE0Ev29xOdkt62jridc+pD8zHmRxKTHs=
Received: by 10.82.114.3 with SMTP id m3mr8191717buc.1174239735585;
        Sun, 18 Mar 2007 10:42:15 -0700 (PDT)
Received: by 10.82.140.2 with HTTP; Sun, 18 Mar 2007 10:42:15 -0700 (PDT)
Message-ID: <700cf4dd0703181042i7d707944x59df7f6abe7dfaf@mail.gmail.com>
Date: Sun, 18 Mar 2007 13:42:15 -0400
From: "Dima May" <dimamay@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: categorizing results
In-Reply-To: <200703181028.14095.nicolas.lalevee@anyware-tech.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_92978_14675697.1174239735477"
References: <700cf4dd0703172255w434fb3cbpb54e48a55687136c@mail.gmail.com>
	 <200703181028.14095.nicolas.lalevee@anyware-tech.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_92978_14675697.1174239735477
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Nicolas,

Thank you for the reply! The problem that my categories are not static they
are generated at runtime, they are added and removed all the time. For that
reason I have no way to pre-generate the filters.

Dima

On 3/18/07, Nicolas Lalev=E9e <nicolas.lalevee@anyware-tech.com> wrote:
>
> Le dimanche 18 mars 2007 06:55, Dima May a =E9crit:
> >  <java-user@lucene.apache.org>
> >
> > I have a Lucene related questions/problem.
> >
> > My search results can potentially get very large 200,000+. I want to
> > categorize my results. So for example if I have an indexed field "type"
> > that has such things as CDs, books, videos, power drills, or anything
> else
> > in the world, I would want to display how many results are found for
> each
> > unique "type". So I may get 200 CDs and 3000 books and so on.
> >
> > The brute-force way of doing that is traversing the returned
> > documents/results and counting each unique type. Unfortunately this
> > solution is too slow. I am having trouble figuring out a faster approac=
h
> > and was hoping someone can suggest one.
>
> The solution I use is using filters. So before doing the search, you have
> to
> already compute a pool a filters, one filter for each category.
> Then use the search(Query, HitCollector), and use a collector which will
> dispatch in different queues the results, depending of which filter
> matched.
> The collect function of the collector should look like that :
>
>         public void collect(int doc, float score) {
>             total++;
>             for (int i =3D 0; i < filters.length; i++) {
>                 if (filters[i].get(doc)) {
>                     DocScoreCategory docScoreCategory =3D new
> DocScoreCategory(doc, score, i);
>                     queue[i].insert(docScoreCategory);
>                     subTotals[i]++;
>                 }
>             }
>         }
>
> It is nearly as fast as a normal search but has the background that some
> filters have to be computed, and it can take some time. In our applicatio=
n
> updates are done not so often, so we can generate them in background. Wit=
h
> an
> index permanently updated this will be very time consuming.
>
> Nicolas
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_92978_14675697.1174239735477--

From java-user-return-26977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 19:09:21 2007
Return-Path: <java-user-return-26977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17707 invoked from network); 18 Mar 2007 19:09:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 19:09:20 -0000
Received: (qmail 73839 invoked by uid 500); 18 Mar 2007 19:09:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73702 invoked by uid 500); 18 Mar 2007 19:09:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73687 invoked by uid 99); 18 Mar 2007 19:09:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 12:09:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [212.227.126.174] (HELO moutng.kundenserver.de) (212.227.126.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 12:09:12 -0700
Received: from [90.186.151.233] (helo=markus)
	by mrelayeu.kundenserver.de (node=mrelayeu7) with ESMTP (Nemesis),
	id 0ML2xA-1HT0kJ320v-0000dV; Sun, 18 Mar 2007 20:08:51 +0100
From: "Markus Franz" <mail@markus-franz.de>
To: <java-user@lucene.apache.org>
Subject: Eliminate duplicates
Date: Sun, 18 Mar 2007 20:10:36 +0100
Message-ID: <001501c76991$1f971d40$0200a8c0@markus>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1896
X-Provags-ID: V01U2FsdGVkX1/kuC8ur8HN9a46FbDe0hvva8W2WVCkbrf8uFh
 2hA0+YwyNwbUJpCxAAqv+N0+tHpCueKVjR/ML1olpfF1zyGMtT
 1csE81sk59alg3JJmHPn9jovARiCJgb
X-Virus-Checked: Checked by ClamAV on apache.org

Hello!

An excerpt from my Lucene use:

Document document =3D new Document();
document.add(new Field("title", item.title, Field.Store.YES, =3D
Field.Index.TOKENIZED));
document.add(new Field("desc", item.desc, Field.Store.YES, =3D
Field.Index.TOKENIZED));
writer.addDocument(document);
writer.optimize();

My problem is: I can add the same entry twice times. How can I avoid =3D =
this by checking the title? (Of course I thought of doing a search query =
=3D for the title before inserting, but isn't there a more cool way?)

Markus


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 20:20:15 2007
Return-Path: <java-user-return-26978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33583 invoked from network); 18 Mar 2007 20:20:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 20:20:14 -0000
Received: (qmail 45010 invoked by uid 500); 18 Mar 2007 20:20:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44982 invoked by uid 500); 18 Mar 2007 20:20:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44971 invoked by uid 99); 18 Mar 2007 20:20:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 13:20:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 13:20:05 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HT1qz-0003dQ-8K
	for java-user@lucene.apache.org; Sun, 18 Mar 2007 13:19:45 -0700
Message-ID: <9542471.post@talk.nabble.com>
Date: Sun, 18 Mar 2007 13:19:45 -0700 (PDT)
From: Lokeya <lokeya@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
In-Reply-To: <5BD5D3FF-1A33-465F-BFD4-B312731EFDB7@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: lokeya@gmail.com
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com> <9536099.post@talk.nabble.com> <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org> <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com> <9540232.post@talk.nabble.com> <5BD5D3FF-1A33-465F-BFD4-B312731EFDB7@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Yep I did that, and now my code looks as follows. 
The time taken for indexing one file is now => Elapsed Time in Minutes :: 
0.3531, which is really great, but after processing 4 dumpfiles(which means
40,000 small xml's), I get :

caught a class java.io.IOException
 40114  with message: Lock obtain timed out:
Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock


This is the new issue now.What could be the reason ?. I am surprised because
I am only writing to Index under ./LUCENE/ evrytime and not doing anything
with the index(ofcrs to avoid such synchronization issues !)

		for (int i=0; i<children1.length; i++)
			{
				// Get filename of file or directory
				String filename = children1[i];
				
				if(!filename.startsWith("oai_citeseer"))
				{
					continue;
				}
				String dirName = filename;
				System.out.println("File => "+filename);

				NodeList nl = null;
				//Testing the creation of Index
				try
				{	
					File dir = new File(dirName);
					String[] children = dir.list();
					if (children == null) {
						// Either dir does not exist or is not a directory						
					} 
					else 
					{
						ArrayList alist_Title = new ArrayList(children.length); 
						ArrayList alist_Descr = new ArrayList(children.length);
						System.out.println("Size of Array List : "+alist_Title.size());
						String title = null;
						String descr = null;
					
						long startTime = System.currentTimeMillis();
						System.out.println(dir +" start time  ==> "+
System.currentTimeMillis());

						for (int ii=0; ii<children.length; ii++) 
						{							
							// Get filename of file or directory
							String file = children[ii];
							System.out.println(" Name of Dir : Record ~~~~~~~ " +dirName +" : "+
file);
							//System.out.println("The name of file parsed now ==> "+file);

							//Get the value of recXYZ's metadata tag
							nl = ValueGetter.getNodeList(filename+"/"+file, "metadata");

							if(nl == null)
							{
								System.out.println("Error shoudlnt be thrown ...");
								alist_Title.add(ii,"title");
								alist_Descr.add(ii,"descr");
								continue;
							}	

							//Get the metadata element(title and description tags from dump file
							ValueGetter vg = new ValueGetter();

							//Get the Extracted Tags Title, Identifier and Description
							try
							{
								title = vg.getNodeVal(nl, "dc:title");
								alist_Title.add(ii,title);
								descr = vg.getNodeVal(nl, "dc:description");
								alist_Descr.add(ii,descr);
							}
							catch(Exception ex)
							{								
								ex.printStackTrace();
								System.out.println("Excep ==> "+ ex);
							}						

						}//End of For
						
						//Create an Index under LUCENE

						IndexWriter writer = new IndexWriter("./LUCENE", new
StopStemmingAnalyzer(),false);
						Document doc = new Document();

						//Get Array List Elements  and add them as fileds to doc 
					
						for(int k=0; k < alist_Title.size(); k++)
						{
							doc.add(new Field("Title",alist_Title.get(k).toString(),
Field.Store.YES, Field.Index.UN_TOKENIZED));
						}

						for(int k=0; k < alist_Descr.size(); k++)
						{
							doc.add(new Field("Description",alist_Descr.get(k).toString(),
Field.Store.YES, Field.Index.UN_TOKENIZED));
						}

						//Add the document created out of those fields to the IndexWriter
which will create and index
						writer.addDocument(doc);
						writer.optimize();
						writer.close();

						long elapsedTimeMillis = System.currentTimeMillis()-startTime;
						System.out.println("Elapsed Time for  "+dirName +" :: " +
elapsedTimeMillis);
						float elapsedTimeMin = elapsedTimeMillis/(60*1000F);
						System.out.println("Elapsed Time in Minutes ::  "+ elapsedTimeMin);
						
					}//End of Else

				} //End of try
				catch (Exception ee)
				{
					ee.printStackTrace();
					System.out.println("caught a " + ee.getClass() + "\n with message: "+
ee.getMessage());
				}	
				System.out.println("Total Record ==> "+total_records);

			}// End of For

Grant Ingersoll-5 wrote:
> 
> Move index writer creation, optimization and closure outside of your  
> loop.  I would also use a SAX parser.  Take a look at the demo code  
> to see an example of indexing.
> 
> Cheers,
> Grant
> 
> On Mar 18, 2007, at 12:31 PM, Lokeya wrote:
> 
>>
>>
>> Erick Erickson wrote:
>>>
>>> Grant:
>>>
>>>  I think that "Parsing 70 files totally takes 80 minutes" really
>>> means parsing 70 metadata files containing 10,000 XML
>>> files each.....
>>>
>>> One Metadata File is split into 10,000 XML files which looks as  
>>> below:
>>>
>>> <root>
>>> 	<record>
>>> 	<header>
>>> 	<identifier>oai:CiteSeerPSU:1</identifier>
>>> 	<datestamp>1993-08-11</datestamp>
>>> 	<setSpec>CiteSeerPSUset</setSpec>
>>> 	</header>
>>> 		<metadata>
>>> 		<oai_citeseer:oai_citeseer
>>> xmlns:oai_citeseer="http://copper.ist.psu.edu/oai/oai_citeseer/"  
>>> xmlns:dc
>>> ="http://purl.org/dc/elements/1.1/"
>>> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
>>> xsi:schemaLocation="http://copper.ist.psu.edu/oai/oai_citeseer/
>>> http://copper.ist.psu.edu/oai/oai_citeseer.xsd ">
>>> 		<dc:title>36 Problems for Semantic Interpretation</dc:title>
>>> 		<oai_citeseer:author name="Gabriele Scheler">
>>> 			<address>80290 Munchen , Germany</address>
>>> 			<affiliation>Institut fur Informatik; Technische Universitat
>>> Munchen</affiliation>
>>> 		</oai_citeseer:author>
>>> 		<dc:subject>Gabriele Scheler 36 Problems for Semantic
>>> Interpretation</dc:subject>
>>> 		<dc:description>This paper presents a collection of problems for  
>>> natural
>>> language analysisderived mainly from theoretical linguistics. Most of
>>> these problemspresent major obstacles for computational systems of
>>> language interpretation.The set of given sentences can easily be  
>>> scaled up
>>> by introducing moreexamples per problem. The construction of  
>>> computational
>>> systems couldbenefit from such a collection, either using it  
>>> directly for
>>> training andtesting or as a set of benchmarks to qualify the  
>>> performance
>>> of a NLPsystem.1 IntroductionThe main part of this paper consists  
>>> of a
>>> collection of problems for semanticanalysis of natural language. The
>>> problems are arranged in the following way:example sentencesconcise
>>> description of the problemkeyword for the type of problemThe sources
>>> (first appearance in print) of the sentences have been left  
>>> out,because
>>> they are sometimes hard to track and will usually not be of much  
>>> use,as
>>> they indicate a starting-point of discussion only. The keywords  
>>> howeve...
>>> 		</dc:description>
>>> 		<dc:contributor>The Pennsylvania State University CiteSeer
>>> Archives</dc:contributor>
>>> 		<dc:publisher>unknown</dc:publisher>
>>> 		<dc:date>1993-08-11</dc:date>
>>> 		<dc:format>ps</dc:format>
>>> 		<dc:identifier>http://citeseer.ist.psu.edu/1.html</dc:identifier>
>>> <dc:source>ftp://flop.informatik.tu-muenchen.de/pub/fki/ 
>>> fki-179-93.ps.gz</dc:source>
>>> 		<dc:language>en</dc:language>
>>> 		<dc:rights>unrestricted</dc:rights>
>>> 		</oai_citeseer:oai_citeseer>
>>> 		</metadata>
>>> 	</record>
>>> </root>
>>>
>>>
>>> From the above I will extract the Title and the Description tags  
>>> to index.
>>>
>>> Code to do this:
>>>
>>> 1. I have 70 directories with the name like oai_citeseerXYZ/
>>> 2. Under each of above directory, I have 10,000 xml files each having
>>> above xml data.
>>> 3. Program does the following
>>>
>>> 					File dir = new File(dirName);
>>> 					String[] children = dir.list();
>>> 					if (children == null) {
>>> 						// Either dir does not exist or is not a directory
>>> 					}
>>> 					else
>>> 					{
>>> 						for (int ii=0; ii<children.length; ii++)
>>> 						{							
>>> 							// Get filename of file or directory
>>> 							String file = children[ii];
>>> 							//System.out.println("The name of file parsed now ==> "+file);
>>> 							nl = ReadDump.getNodeList(filename+"/"+file, "metadata");
>>> 							if(nl == null)
>>> 							{
>>> 								//System.out.println("Error shoudlnt be thrown ...");
>>> 							}	
>>> 							//Get the metadata element tags from xml file
>>> 							ReadDump rd = new ReadDump();
>>>
>>> 							//Get the Extracted Tags Title, Identifier and Description
>>> 							ArrayList alist_Title = rd.getElements(nl, "dc:title");
>>> 							ArrayList alist_Descr = rd.getElements(nl, "dc:description");
>>>
>>> 							//Create an Index under DIR
>>> 							IndexWriter writer = new IndexWriter("./FINAL/", new
>>> StopStemmingAnalyzer(),false);
>>> 							Document doc = new Document();
>>>
>>> 							//Get Array List Elements  and add them as fileds to doc
>>> 							for(int k=0; k < alist_Title.size(); k++)
>>> 							{
>>> 								doc.add(new Field("Title",alist_Title.get(k).toString(),
>>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>> 							}
>>> 							
>>> 							for(int k=0; k < alist_Descr.size(); k++)
>>> 							{
>>> 								doc.add(new Field("Description",alist_Descr.get(k).toString 
>>> (),
>>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>> 							}							
>>>
>>> 			//Add the document created out of those fields to the  
>>> IndexWriter which
>>> will create and index
>>> 							writer.addDocument(doc);
>>> 							writer.optimize();
>>> 							writer.close();
>>>                }
>>> 							
>>>
>>> This is the main file which does indexing.
>>>
>>> Hope this will give you an idea.
>>>
>>>
>>> Lokeya:
>>> Can you confirm my supposition? And I'd still post the code
>>> Grant requested if you can.....
>>>
>>> So, you're talking about indexing 10,000 xml files in 2-3 hours,
>>> 8 minutes or so which is spent reading/parsing, right? It'll be
>>> important to know how much data you're indexing and now, so
>>> the code snippet is doubly important....
>>>
>>> Erick
>>>
>>> On 3/18/07, Grant Ingersoll <gsingers@apache.org> wrote:
>>>>
>>>> Can you post the relevant indexing code?  Are you doing things like
>>>> optimizing after every file?  Both the parsing and the indexing  
>>>> sound
>>>> really long.  How big are these files?
>>>>
>>>> Also, I assume you machine is at least somewhat current, right?
>>>>
>>>> On Mar 18, 2007, at 1:00 AM, Lokeya wrote:
>>>>
>>>>>
>>>>> Thanks for your reply. I tried to check if the I/O and Parsing is
>>>>> taking time
>>>>> separately and Indexing time also. I observed that I/O and Parsing
>>>>> 70 files
>>>>> totally takes 80 minutes where as when I combine this with Indexing
>>>>> for a
>>>>> single Metadata file it nearly 2 to 3 hours. So looks like
>>>>> IndexWriter takes
>>>>> time that too when we are appending to the Index file this happens.
>>>>>
>>>>> So what is the best approach to handle this?
>>>>>
>>>>> Thanks in Advance.
>>>>>
>>>>>
>>>>> Erick Erickson wrote:
>>>>>>
>>>>>> See below...
>>>>>>
>>>>>> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>>>>>>>
>>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> I am trying to index the content from XML files which are
>>>>>>> basically the
>>>>>>> metadata collected from a website which have a huge collection of
>>>>>>> documents.
>>>>>>> This metadata xml has control characters which causes errors
>>>>>>> while trying
>>>>>>> to
>>>>>>> parse using the DOM parser. I tried to use encoding = UTF-8 but
>>>>>>> looks
>>>>>>> like
>>>>>>> it doesn't cover all the unicode characters and I get error. Also
>>>>>>> when I
>>>>>>> tried to use UTF-16, I am getting Prolog content not allowed
>>>>>>> here. So my
>>>>>>> guess is there is no enoding which is going to cover almost all
>>>>>>> unicode
>>>>>>> characters. So I tried to split my metadata files into small
>>>>>>> files and
>>>>>>> processing records which doesnt throw parsing error.
>>>>>>>
>>>>>>> But by breaking metadata file into smaller files I get, 10,000
>>>>>>> xml files
>>>>>>> per
>>>>>>> metadata file. I have 70 metadata files, so altogether it becomes
>>>>>>> 7,00,000
>>>>>>> files. Processing them individually takes really long time using
>>>>>>> Lucene,
>>>>>>> my
>>>>>>> guess is I/O is time consuing, like opening every small xml file
>>>>>>> loading
>>>>>>> in
>>>>>>> DOM extracting required data and processing.
>>>>>>
>>>>>>
>>>>>>
>>>>>> So why don't you measure and find out before trying to make the
>>>>>> indexing
>>>>>> step more efficient? You simply cannot optimize without knowing  
>>>>>> where
>>>>>> you're spending your time. I can't tell you how often I've been  
>>>>>> wrong
>>>>>> about
>>>>>> "why my program was slow" <G>.
>>>>>>
>>>>>> In this case, it should be really simple. Just comment out the
>>>>>> part where
>>>>>> you index the data and run, say, one of your metadata files.. I
>>>>>> suspect
>>>>>> that
>>>>>> Cheolgoo Kang's response is cogent, and you indeed are spending  
>>>>>> your
>>>>>> time parsing the XML. I further suspect that the problem is not
>>>>>> disk IO,
>>>>>> but the time spent parsing. But until you measure, you have no  
>>>>>> clue
>>>>>> whether you should mess around with the Lucene parameters, or find
>>>>>> another parser, or just live with it.. Assuming that you  
>>>>>> comment out
>>>>>> Lucene and things are still slow, the next step would be to just
>>>>>> read in
>>>>>> each file and NOT parse it to figure out whether it's the IO or  
>>>>>> the
>>>>>> parsing.
>>>>>>
>>>>>> Then you can worry about how to fix it..
>>>>>>
>>>>>> Best
>>>>>> Erick
>>>>>>
>>>>>>
>>>>>> Qn  1: Any suggestion to get this indexing time reduced? It  
>>>>>> would be
>>>>>> really
>>>>>>> great.
>>>>>>>
>>>>>>> Qn 2 : Am I overlooking something in Lucene with respect to
>>>>>>> indexing?
>>>>>>>
>>>>>>> Right now 12 metadata files take 10 hrs nearly which is really a
>>>>>>> long
>>>>>>> time.
>>>>>>>
>>>>>>> Help Appreciated.
>>>>>>>
>>>>>>> Much Thanks.
>>>>>>> --
>>>>>>> View this message in context:
>>>>>>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-
>>>>>>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
>>>>>>> Sent from the Lucene - Java Users mailing list archive at
>>>>>>> Nabble.com.
>>>>>>>
>>>>>>>
>>>>>>> ----------------------------------------------------------------- 
>>>>>>> ---
>>>>>>> -
>>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>>>
>>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>> --
>>>>> View this message in context: http://www.nabble.com/Issue-while-
>>>>> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
>>>>> tf3418085.html#a9536099
>>>>> Sent from the Lucene - Java Users mailing list archive at  
>>>>> Nabble.com.
>>>>>
>>>>>
>>>>> ------------------------------------------------------------------- 
>>>>> --
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>
>>>> --------------------------
>>>> Grant Ingersoll
>>>> Center for Natural Language Processing
>>>> http://www.cnlp.org
>>>>
>>>> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
>>>> LuceneFAQ
>>>>
>>>>
>>>>
>>>> -------------------------------------------------------------------- 
>>>> -
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>>>
>>
>> -- 
>> View this message in context: http://www.nabble.com/Issue-while- 
>> parsing-XML-files-due-to-control-characters%2C-help-appreciated.- 
>> tf3418085.html#a9540232
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
> 
> ------------------------------------------------------
> Grant Ingersoll
> http://www.grantingersoll.com/
> http://lucene.grantingersoll.com
> http://www.paperoftheweek.com/
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9542471
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 20:54:19 2007
Return-Path: <java-user-return-26979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39230 invoked from network); 18 Mar 2007 20:54:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 20:54:18 -0000
Received: (qmail 79666 invoked by uid 500); 18 Mar 2007 20:54:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78645 invoked by uid 500); 18 Mar 2007 20:54:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78626 invoked by uid 99); 18 Mar 2007 20:54:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 13:54:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.re2.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 18 Mar 2007 13:54:11 -0700
Received: (qmail 85297 invoked by uid 60001); 18 Mar 2007 20:53:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=zfHw1ZJ7cBZ178TwVSoNPk+bBr02E7Vz4kEqT3oVLMQaPXHOcHRPqDo5fy4NjUW1Kk9hUYtGzA7J6oDlItjzBZKgF6/PE5O3er/+sftMoOYs/HbZ6ejqasOfiLQG6MWXGRVeEcelxoBHQPNf8H0VAVeEj89dkiT9MMGKqUmB7Lk=;
X-YMail-OSG: FOo0slAVM1khVbyYHw4ySgc_geKCz2PlEEKCGrTEsqodz4O7FVSiyhuk8Z5pXDJIOFSBo4lh77WYF0TADefrtkt1Ds.DflKiu74ZuSE4CeP0VvNwAksl5Q--
Received: from [74.73.75.122] by web50311.mail.re2.yahoo.com via HTTP; Sun, 18 Mar 2007 13:53:46 PDT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.7.41.4
Date: Sun, 18 Mar 2007 13:53:46 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Eliminate duplicates
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <960339.84979.qm@web50311.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Markus,
What you were thinking is fine - search and, if found, delete first, then add.  Lucene allows duplicate and offers no automated way for avoiding them.

Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: Markus Franz <mail@markus-franz.de>
To: java-user@lucene.apache.org
Sent: Sunday, March 18, 2007 3:10:36 PM
Subject: Eliminate duplicates

Hello!

An excerpt from my Lucene use:

Document document = new Document();
document.add(new Field("title", item.title, Field.Store.YES, =
Field.Index.TOKENIZED));
document.add(new Field("desc", item.desc, Field.Store.YES, =
Field.Index.TOKENIZED));
writer.addDocument(document);
writer.optimize();

My problem is: I can add the same entry twice times. How can I avoid = this by checking the title? (Of course I thought of doing a search query = for the title before inserting, but isn't there a more cool way?)

Markus


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 22:12:30 2007
Return-Path: <java-user-return-26980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50915 invoked from network); 18 Mar 2007 22:12:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 22:12:30 -0000
Received: (qmail 55103 invoked by uid 500); 18 Mar 2007 22:12:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55069 invoked by uid 500); 18 Mar 2007 22:12:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55058 invoked by uid 99); 18 Mar 2007 22:12:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 15:12:29 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 15:12:19 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1258796ugc
        for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 15:11:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=s0W3veqZXAE3xtMIeX88zjs63Rsx0prBRHniglshEc0Fu4Y8GhD314agNEYDtxYTo9KsZJRNG451lUOoyYTyGJcTCGVDBBwhp7bAe4Px458ALFSKsP8t6+qTSf0TExtwuuwPway6w5gDdfu9cgJrfJalG/a9siH+2C21zOY9VCI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BCnKUHeEkYJGxh8gONkTgNgAmhTll1wKUgwHMXKolStLL6AgGVO7YRC9mYSM09ssPEM5fCj0C3t8+jJsoV/bm7Q5ckuzjWgKLp4/Nw1lIKAVFa9PgNpjJW+knZ4f1WrXIT+k9E2VYcMKFEsMw+gmboK8vqE7VgzlRVHCcMeLjvI=
Received: by 10.65.213.4 with SMTP id p4mr6331391qbq.1174255915547;
        Sun, 18 Mar 2007 15:11:55 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 18 Mar 2007 15:11:55 -0700 (PDT)
Message-ID: <359a92830703181511q2ce8bbbfqc98907183e120d10@mail.gmail.com>
Date: Sun, 18 Mar 2007 18:11:55 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help appreciated.
In-Reply-To: <9542471.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_125855_29495626.1174255915298"
References: <9526527.post@talk.nabble.com>
	 <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com>
	 <9536099.post@talk.nabble.com>
	 <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org>
	 <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com>
	 <9540232.post@talk.nabble.com>
	 <5BD5D3FF-1A33-465F-BFD4-B312731EFDB7@gmail.com>
	 <9542471.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_125855_29495626.1174255915298
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'm not sure what the lock issues is. What version of Lucene are you
using? And what is your filesystem like? There are some known locking
issues with some versions of Lucene and some filesystems,
particularly NFS mounts as I remember... It would help if you told
us the entire stack trace rather than just the exception.

But I really don't understand your index structure. You are still
opening and closing Lucene every time you add a document.
And each document contains the titles and descriptions
of all the files in the directory. Is this actually your intent or
do you really want to index one Lucene document per
title/description pair? If the latter, you want a loop something like...

open writer
for each file
    parse file
    Doc doc = new Document();
    doc.add(field, val);
    doc.add(field2, val2);
    writer.write(doc);
end for

writer.close();

There's no reason to close the writer until the last xml file has been
indexed......

If that re-structuring causes your lock error to go away, I'll be
baffled because it shouldn't (unless your version of Lucene
and filesystem is one of the "interesting" ones).

But it'll make your code simpler...

Best
Erick
    add fields to

On 3/18/07, Lokeya <lokeya@gmail.com> wrote:
>
>
> Yep I did that, and now my code looks as follows.
> The time taken for indexing one file is now => Elapsed Time in Minutes ::
> 0.3531, which is really great, but after processing 4 dumpfiles(which
> means
> 40,000 small xml's), I get :
>
> caught a class java.io.IOException
> 40114  with message: Lock obtain timed out:
> Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
>
>
> This is the new issue now.What could be the reason ?. I am surprised
> because
> I am only writing to Index under ./LUCENE/ evrytime and not doing anything
> with the index(ofcrs to avoid such synchronization issues !)
>
>                 for (int i=0; i<children1.length; i++)
>                         {
>                                 // Get filename of file or directory
>                                 String filename = children1[i];
>
>                                 if(!filename.startsWith("oai_citeseer"))
>                                 {
>                                         continue;
>                                 }
>                                 String dirName = filename;
>                                 System.out.println("File => "+filename);
>
>                                 NodeList nl = null;
>                                 //Testing the creation of Index
>                                 try
>                                 {
>                                         File dir = new File(dirName);
>                                         String[] children = dir.list();
>                                         if (children == null) {
>                                                 // Either dir does not
> exist or is not a directory
>                                         }
>                                         else
>                                         {
>                                                 ArrayList alist_Title =
> new ArrayList(children.length);
>                                                 ArrayList alist_Descr =
> new ArrayList(children.length);
>                                                 System.out.println("Size
> of Array List : "+alist_Title.size());
>                                                 String title = null;
>                                                 String descr = null;
>
>                                                 long startTime =
> System.currentTimeMillis();
>                                                 System.out.println(dir +"
> start time  ==> "+
> System.currentTimeMillis());
>
>                                                 for (int ii=0; ii<
> children.length; ii++)
>                                                 {
>                                                         // Get filename of
> file or directory
>                                                         String file =
> children[ii];
>                                                         System.out.println("
> Name of Dir : Record ~~~~~~~ " +dirName +" : "+
> file);
>                                                         //System.out.println("The
> name of file parsed now ==> "+file);
>
>                                                         //Get the value of
> recXYZ's metadata tag
>                                                         nl =
> ValueGetter.getNodeList(filename+"/"+file, "metadata");
>
>                                                         if(nl == null)
>                                                         {
>
> System.out.println("Error shoudlnt be thrown ...");
>
>                                                                 alist_Title.add(ii,"title");
>
>                                                                 alist_Descr.add(ii,"descr");
>                                                                 continue;
>                                                         }
>
>                                                         //Get the metadata
> element(title and description tags from dump file
>                                                         ValueGetter vg =
> new ValueGetter();
>
>                                                         //Get the
> Extracted Tags Title, Identifier and Description
>                                                         try
>                                                         {
>                                                                 title =
> vg.getNodeVal(nl, "dc:title");
>
>                                                                 alist_Title.add(ii,title);
>                                                                 descr =
> vg.getNodeVal(nl, "dc:description");
>
>                                                                 alist_Descr.add(ii,descr);
>                                                         }
>                                                         catch(Exception
> ex)
>                                                         {
>
> ex.printStackTrace();
>
> System.out.println("Excep ==> "+ ex);
>                                                         }
>
>                                                 }//End of For
>
>                                                 //Create an Index under
> LUCENE
>
>                                                 IndexWriter writer = new
> IndexWriter("./LUCENE", new
> StopStemmingAnalyzer(),false);
>                                                 Document doc = new
> Document();
>
>                                                 //Get Array List
> Elements  and add them as fileds to doc
>
>                                                 for(int k=0; k <
> alist_Title.size(); k++)
>                                                 {
>                                                         doc.add(new
> Field("Title",alist_Title.get(k).toString(),
> Field.Store.YES, Field.Index.UN_TOKENIZED));
>                                                 }
>
>                                                 for(int k=0; k <
> alist_Descr.size(); k++)
>                                                 {
>                                                         doc.add(new
> Field("Description",alist_Descr.get(k).toString(),
> Field.Store.YES, Field.Index.UN_TOKENIZED));
>                                                 }
>
>                                                 //Add the document created
> out of those fields to the IndexWriter
> which will create and index
>                                                 writer.addDocument(doc);
>                                                 writer.optimize();
>                                                 writer.close();
>
>                                                 long elapsedTimeMillis =
> System.currentTimeMillis()-startTime;
>                                                 System.out.println("Elapsed
> Time for  "+dirName +" :: " +
> elapsedTimeMillis);
>                                                 float elapsedTimeMin =
> elapsedTimeMillis/(60*1000F);
>                                                 System.out.println("Elapsed
> Time in Minutes ::  "+ elapsedTimeMin);
>
>                                         }//End of Else
>
>                                 } //End of try
>                                 catch (Exception ee)
>                                 {
>                                         ee.printStackTrace();
>                                         System.out.println("caught a " +
> ee.getClass() + "\n with message: "+
> ee.getMessage());
>                                 }
>                                 System.out.println("Total Record ==>
> "+total_records);
>
>                         }// End of For
>
> Grant Ingersoll-5 wrote:
> >
> > Move index writer creation, optimization and closure outside of your
> > loop.  I would also use a SAX parser.  Take a look at the demo code
> > to see an example of indexing.
> >
> > Cheers,
> > Grant
> >
> > On Mar 18, 2007, at 12:31 PM, Lokeya wrote:
> >
> >>
> >>
> >> Erick Erickson wrote:
> >>>
> >>> Grant:
> >>>
> >>>  I think that "Parsing 70 files totally takes 80 minutes" really
> >>> means parsing 70 metadata files containing 10,000 XML
> >>> files each.....
> >>>
> >>> One Metadata File is split into 10,000 XML files which looks as
> >>> below:
> >>>
> >>> <root>
> >>>     <record>
> >>>     <header>
> >>>     <identifier>oai:CiteSeerPSU:1</identifier>
> >>>     <datestamp>1993-08-11</datestamp>
> >>>     <setSpec>CiteSeerPSUset</setSpec>
> >>>     </header>
> >>>             <metadata>
> >>>             <oai_citeseer:oai_citeseer
> >>> xmlns:oai_citeseer="http://copper.ist.psu.edu/oai/oai_citeseer/"
> >>> xmlns:dc
> >>> ="http://purl.org/dc/elements/1.1/"
> >>> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
> >>> xsi:schemaLocation="http://copper.ist.psu.edu/oai/oai_citeseer/
> >>> http://copper.ist.psu.edu/oai/oai_citeseer.xsd ">
> >>>             <dc:title>36 Problems for Semantic
> Interpretation</dc:title>
> >>>             <oai_citeseer:author name="Gabriele Scheler">
> >>>                     <address>80290 Munchen , Germany</address>
> >>>                     <affiliation>Institut fur Informatik; Technische
> Universitat
> >>> Munchen</affiliation>
> >>>             </oai_citeseer:author>
> >>>             <dc:subject>Gabriele Scheler 36 Problems for Semantic
> >>> Interpretation</dc:subject>
> >>>             <dc:description>This paper presents a collection of
> problems for
> >>> natural
> >>> language analysisderived mainly from theoretical linguistics. Most of
> >>> these problemspresent major obstacles for computational systems of
> >>> language interpretation.The set of given sentences can easily be
> >>> scaled up
> >>> by introducing moreexamples per problem. The construction of
> >>> computational
> >>> systems couldbenefit from such a collection, either using it
> >>> directly for
> >>> training andtesting or as a set of benchmarks to qualify the
> >>> performance
> >>> of a NLPsystem.1 IntroductionThe main part of this paper consists
> >>> of a
> >>> collection of problems for semanticanalysis of natural language. The
> >>> problems are arranged in the following way:example sentencesconcise
> >>> description of the problemkeyword for the type of problemThe sources
> >>> (first appearance in print) of the sentences have been left
> >>> out,because
> >>> they are sometimes hard to track and will usually not be of much
> >>> use,as
> >>> they indicate a starting-point of discussion only. The keywords
> >>> howeve...
> >>>             </dc:description>
> >>>             <dc:contributor>The Pennsylvania State University CiteSeer
> >>> Archives</dc:contributor>
> >>>             <dc:publisher>unknown</dc:publisher>
> >>>             <dc:date>1993-08-11</dc:date>
> >>>             <dc:format>ps</dc:format>
> >>>             <dc:identifier>http://citeseer.ist.psu.edu/1.html
> </dc:identifier>
> >>> <dc:source>ftp://flop.informatik.tu-muenchen.de/pub/fki/
> >>> fki-179-93.ps.gz</dc:source>
> >>>             <dc:language>en</dc:language>
> >>>             <dc:rights>unrestricted</dc:rights>
> >>>             </oai_citeseer:oai_citeseer>
> >>>             </metadata>
> >>>     </record>
> >>> </root>
> >>>
> >>>
> >>> From the above I will extract the Title and the Description tags
> >>> to index.
> >>>
> >>> Code to do this:
> >>>
> >>> 1. I have 70 directories with the name like oai_citeseerXYZ/
> >>> 2. Under each of above directory, I have 10,000 xml files each having
> >>> above xml data.
> >>> 3. Program does the following
> >>>
> >>>                                     File dir = new File(dirName);
> >>>                                     String[] children = dir.list();
> >>>                                     if (children == null) {
> >>>                                             // Either dir does not
> exist or is not a directory
> >>>                                     }
> >>>                                     else
> >>>                                     {
> >>>                                             for (int ii=0; ii<
> children.length; ii++)
> >>>                                             {
> >>>                                                     // Get filename of
> file or directory
> >>>                                                     String file =
> children[ii];
> >>>
> //System.out.println("The name of file parsed now ==> "+file);
> >>>                                                     nl =
> ReadDump.getNodeList(filename+"/"+file, "metadata");
> >>>                                                     if(nl == null)
> >>>                                                     {
> >>>
> //System.out.println("Error shoudlnt be thrown ...");
> >>>                                                     }
> >>>                                                     //Get the metadata
> element tags from xml file
> >>>                                                     ReadDump rd = new
> ReadDump();
> >>>
> >>>                                                     //Get the
> Extracted Tags Title, Identifier and Description
> >>>                                                     ArrayList
> alist_Title = rd.getElements(nl, "dc:title");
> >>>                                                     ArrayList
> alist_Descr = rd.getElements(nl, "dc:description");
> >>>
> >>>                                                     //Create an Index
> under DIR
> >>>                                                     IndexWriter writer
> = new IndexWriter("./FINAL/", new
> >>> StopStemmingAnalyzer(),false);
> >>>                                                     Document doc = new
> Document();
> >>>
> >>>                                                     //Get Array List
> Elements  and add them as fileds to doc
> >>>                                                     for(int k=0; k <
> alist_Title.size(); k++)
> >>>                                                     {
> >>>                                                             doc.add(new
> Field("Title",alist_Title.get(k).toString(),
> >>> Field.Store.YES, Field.Index.UN_TOKENIZED));
> >>>                                                     }
> >>>
> >>>                                                     for(int k=0; k <
> alist_Descr.size(); k++)
> >>>                                                     {
> >>>                                                             doc.add(new
> Field("Description",alist_Descr.get(k).toString
> >>> (),
> >>> Field.Store.YES, Field.Index.UN_TOKENIZED));
> >>>                                                     }
> >>>
> >>>                     //Add the document created out of those fields to
> the
> >>> IndexWriter which
> >>> will create and index
> >>>                                                     writer.addDocument
> (doc);
> >>>                                                     writer.optimize();
> >>>                                                     writer.close();
> >>>                }
> >>>
> >>>
> >>> This is the main file which does indexing.
> >>>
> >>> Hope this will give you an idea.
> >>>
> >>>
> >>> Lokeya:
> >>> Can you confirm my supposition? And I'd still post the code
> >>> Grant requested if you can.....
> >>>
> >>> So, you're talking about indexing 10,000 xml files in 2-3 hours,
> >>> 8 minutes or so which is spent reading/parsing, right? It'll be
> >>> important to know how much data you're indexing and now, so
> >>> the code snippet is doubly important....
> >>>
> >>> Erick
> >>>
> >>> On 3/18/07, Grant Ingersoll <gsingers@apache.org> wrote:
> >>>>
> >>>> Can you post the relevant indexing code?  Are you doing things like
> >>>> optimizing after every file?  Both the parsing and the indexing
> >>>> sound
> >>>> really long.  How big are these files?
> >>>>
> >>>> Also, I assume you machine is at least somewhat current, right?
> >>>>
> >>>> On Mar 18, 2007, at 1:00 AM, Lokeya wrote:
> >>>>
> >>>>>
> >>>>> Thanks for your reply. I tried to check if the I/O and Parsing is
> >>>>> taking time
> >>>>> separately and Indexing time also. I observed that I/O and Parsing
> >>>>> 70 files
> >>>>> totally takes 80 minutes where as when I combine this with Indexing
> >>>>> for a
> >>>>> single Metadata file it nearly 2 to 3 hours. So looks like
> >>>>> IndexWriter takes
> >>>>> time that too when we are appending to the Index file this happens.
> >>>>>
> >>>>> So what is the best approach to handle this?
> >>>>>
> >>>>> Thanks in Advance.
> >>>>>
> >>>>>
> >>>>> Erick Erickson wrote:
> >>>>>>
> >>>>>> See below...
> >>>>>>
> >>>>>> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
> >>>>>>>
> >>>>>>>
> >>>>>>> Hi,
> >>>>>>>
> >>>>>>> I am trying to index the content from XML files which are
> >>>>>>> basically the
> >>>>>>> metadata collected from a website which have a huge collection of
> >>>>>>> documents.
> >>>>>>> This metadata xml has control characters which causes errors
> >>>>>>> while trying
> >>>>>>> to
> >>>>>>> parse using the DOM parser. I tried to use encoding = UTF-8 but
> >>>>>>> looks
> >>>>>>> like
> >>>>>>> it doesn't cover all the unicode characters and I get error. Also
> >>>>>>> when I
> >>>>>>> tried to use UTF-16, I am getting Prolog content not allowed
> >>>>>>> here. So my
> >>>>>>> guess is there is no enoding which is going to cover almost all
> >>>>>>> unicode
> >>>>>>> characters. So I tried to split my metadata files into small
> >>>>>>> files and
> >>>>>>> processing records which doesnt throw parsing error.
> >>>>>>>
> >>>>>>> But by breaking metadata file into smaller files I get, 10,000
> >>>>>>> xml files
> >>>>>>> per
> >>>>>>> metadata file. I have 70 metadata files, so altogether it becomes
> >>>>>>> 7,00,000
> >>>>>>> files. Processing them individually takes really long time using
> >>>>>>> Lucene,
> >>>>>>> my
> >>>>>>> guess is I/O is time consuing, like opening every small xml file
> >>>>>>> loading
> >>>>>>> in
> >>>>>>> DOM extracting required data and processing.
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>> So why don't you measure and find out before trying to make the
> >>>>>> indexing
> >>>>>> step more efficient? You simply cannot optimize without knowing
> >>>>>> where
> >>>>>> you're spending your time. I can't tell you how often I've been
> >>>>>> wrong
> >>>>>> about
> >>>>>> "why my program was slow" <G>.
> >>>>>>
> >>>>>> In this case, it should be really simple. Just comment out the
> >>>>>> part where
> >>>>>> you index the data and run, say, one of your metadata files.. I
> >>>>>> suspect
> >>>>>> that
> >>>>>> Cheolgoo Kang's response is cogent, and you indeed are spending
> >>>>>> your
> >>>>>> time parsing the XML. I further suspect that the problem is not
> >>>>>> disk IO,
> >>>>>> but the time spent parsing. But until you measure, you have no
> >>>>>> clue
> >>>>>> whether you should mess around with the Lucene parameters, or find
> >>>>>> another parser, or just live with it.. Assuming that you
> >>>>>> comment out
> >>>>>> Lucene and things are still slow, the next step would be to just
> >>>>>> read in
> >>>>>> each file and NOT parse it to figure out whether it's the IO or
> >>>>>> the
> >>>>>> parsing.
> >>>>>>
> >>>>>> Then you can worry about how to fix it..
> >>>>>>
> >>>>>> Best
> >>>>>> Erick
> >>>>>>
> >>>>>>
> >>>>>> Qn  1: Any suggestion to get this indexing time reduced? It
> >>>>>> would be
> >>>>>> really
> >>>>>>> great.
> >>>>>>>
> >>>>>>> Qn 2 : Am I overlooking something in Lucene with respect to
> >>>>>>> indexing?
> >>>>>>>
> >>>>>>> Right now 12 metadata files take 10 hrs nearly which is really a
> >>>>>>> long
> >>>>>>> time.
> >>>>>>>
> >>>>>>> Help Appreciated.
> >>>>>>>
> >>>>>>> Much Thanks.
> >>>>>>> --
> >>>>>>> View this message in context:
> >>>>>>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-
> >>>>>>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
> >>>>>>> Sent from the Lucene - Java Users mailing list archive at
> >>>>>>> Nabble.com.
> >>>>>>>
> >>>>>>>
> >>>>>>> -----------------------------------------------------------------
> >>>>>>> ---
> >>>>>>> -
> >>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>>>>
> >>>>>>>
> >>>>>>
> >>>>>>
> >>>>>
> >>>>> --
> >>>>> View this message in context: http://www.nabble.com/Issue-while-
> >>>>> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
> >>>>> tf3418085.html#a9536099
> >>>>> Sent from the Lucene - Java Users mailing list archive at
> >>>>> Nabble.com.
> >>>>>
> >>>>>
> >>>>> -------------------------------------------------------------------
> >>>>> --
> >>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>>
> >>>>
> >>>> --------------------------
> >>>> Grant Ingersoll
> >>>> Center for Natural Language Processing
> >>>> http://www.cnlp.org
> >>>>
> >>>> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
> >>>> LuceneFAQ
> >>>>
> >>>>
> >>>>
> >>>> --------------------------------------------------------------------
> >>>> -
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>>
> >>>
> >>
> >> --
> >> View this message in context: http://www.nabble.com/Issue-while-
> >> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
> >> tf3418085.html#a9540232
> >> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >
> > ------------------------------------------------------
> > Grant Ingersoll
> > http://www.grantingersoll.com/
> > http://lucene.grantingersoll.com
> > http://www.paperoftheweek.com/
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9542471
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_125855_29495626.1174255915298--

From java-user-return-26981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 22:28:41 2007
Return-Path: <java-user-return-26981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54703 invoked from network); 18 Mar 2007 22:28:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 22:28:39 -0000
Received: (qmail 76465 invoked by uid 500); 18 Mar 2007 22:28:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76433 invoked by uid 500); 18 Mar 2007 22:28:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76422 invoked by uid 99); 18 Mar 2007 22:28:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 15:28:40 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 15:28:32 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1261557ugc
        for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 15:28:10 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=W0qWVTDaLh4o2bZGmNPf9UkdE3ITkpQsQqKf+0Ne2cVzbkxbmBlUJU1Lp4eLKbTdzaWSYFAovG0JqQmwmIS+HHdw4YnRftgyiOhsQbkwbP3imViYlGg9K3opubptnL4JuZqZ6VUwpIhK2Bi0oGBiWqdnrY20QQvILPP+Ftavv84=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sYsSwSZO+ly4cmqQmEosAmuzFmK8WbTBYMff0Cingcl3oF1MeKTxXXWBlVMbPBn8uxnA3mXsvtsuu1vKWentwI+eSllsMhK1BWSvscYQeS2n3kdBLHf+duH8FH0IkGqF9qIw3Jj+G4f5L+PYE9N4PORDTR77ipxLdQqZMKuU2Ws=
Received: by 10.65.81.10 with SMTP id i10mr6352850qbl.1174256889570;
        Sun, 18 Mar 2007 15:28:09 -0700 (PDT)
Received: by 10.114.57.15 with HTTP; Sun, 18 Mar 2007 15:28:09 -0700 (PDT)
Message-ID: <359a92830703181528x28903216o9aae91d1878ab68e@mail.gmail.com>
Date: Sun, 18 Mar 2007 18:28:09 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Eliminate duplicates
In-Reply-To: <960339.84979.qm@web50311.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_126328_13529097.1174256889488"
References: <960339.84979.qm@web50311.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_126328_13529097.1174256889488
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

But I think you have a problem here with searching the lucene
index and deleting duplicate titles. Say you have the
following titles:
title one
title one is a nice file
title one is a really nice file

Further assume you're about to add a duplicate "title one"

Searching on "title one" will give you three hits and you want
one, assuming you're using an analyzer that breaks on
whitespace. Are you indexing something (perhaps not
shown in your snippet) that uniquely identifies each title?

What you may have to do is index another field UN_TOKENIZED
that contains the entire title, or some clever representation of
the title that's more compact in order to handle this issue.

BTW, instead of searching with a query, it might be faster
to use TermEnum on your unique field. If TermEnum finds
a term like the one you're about to add, you already have
the title and can either delete the one already in the index
(see TermDocs) or just not add the current one....

I've had cases where we update documents already in the index,
so I needed a FIFO clean-up step. What I did was just index
*everything*, without trying to determine whether a document
was already in the index. Then, as a post-index step,
use TermDocs/TermEnum to make a single pass through
the index deleting all but the last instance of a document.
If you elect to do this, the trick is to construct your
term like new Term("field", "") to enumerate ALL the terms...

Best
Erick

On 3/18/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Markus,
> What you were thinking is fine - search and, if found, delete first, then
> add.  Lucene allows duplicate and offers no automated way for avoiding them.
>
> Otis
> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>
> ----- Original Message ----
> From: Markus Franz <mail@markus-franz.de>
> To: java-user@lucene.apache.org
> Sent: Sunday, March 18, 2007 3:10:36 PM
> Subject: Eliminate duplicates
>
> Hello!
>
> An excerpt from my Lucene use:
>
> Document document = new Document();
> document.add(new Field("title", item.title, Field.Store.YES, =
> Field.Index.TOKENIZED));
> document.add(new Field("desc", item.desc, Field.Store.YES, =
> Field.Index.TOKENIZED));
> writer.addDocument(document);
> writer.optimize();
>
> My problem is: I can add the same entry twice times. How can I avoid =
> this by checking the title? (Of course I thought of doing a search query =
> for the title before inserting, but isn't there a more cool way?)
>
> Markus
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_126328_13529097.1174256889488--

From java-user-return-26982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 18 22:41:30 2007
Return-Path: <java-user-return-26982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58050 invoked from network); 18 Mar 2007 22:41:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 18 Mar 2007 22:41:29 -0000
Received: (qmail 85752 invoked by uid 500); 18 Mar 2007 22:41:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85195 invoked by uid 500); 18 Mar 2007 22:41:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85184 invoked by uid 99); 18 Mar 2007 22:41:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 15:41:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 15:41:19 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HT43f-0005PJ-4n
	for java-user@lucene.apache.org; Sun, 18 Mar 2007 15:40:59 -0700
Message-ID: <9543855.post@talk.nabble.com>
Date: Sun, 18 Mar 2007 15:40:59 -0700 (PDT)
From: Lokeya <lokeya@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
In-Reply-To: <359a92830703181511q2ce8bbbfqc98907183e120d10@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: lokeya@gmail.com
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com> <9536099.post@talk.nabble.com> <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org> <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com> <9540232.post@talk.nabble.com> <5BD5D3FF-1A33-465F-BFD4-B312731EFDB7@gmail.com> <9542471.post@talk.nabble.com> <359a92830703181511q2ce8bbbfqc98907183e120d10@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


I will try to explain it like an algorithm what I am trying to do:

1. There are 70 Dump files which have 10,000 record tags which I have pasted
in my earlier mails. I split every dumpfile and create 10,000 xml files each
with a single <record> and its child tags. This is because there are some
parsing issues due to unicode characters and we have decided to process only
valid records.

2. With the above idea, I created 70 directories each with the name of
dumpfile like : oai_citeseer_1/ etc and under this I will have 10,000 XML's
being extracted out using some Java program.

3. So now coming to my program, I do the following:
    a. Take Each Dumpfile directory.
    b. Get all child xml files(would be 10,000 in number)
    c. Get the <title> and <description> tag values and put them in an array
list.
    d. Create a new doc. 
    e. In a for loop add all title and description values as fields which we
haev stored in ArrayList(this loop will add 10,000 X 2 = 20,000 fields for
both tags)
   f. Add this document to the index writer.
   g. Optimize and close it.

Hope this clearly tells how im trying to index the values of those tags.

Additional Info: I am using lucene-core-2.0.0.jar.

StackTrace :
Indexer.java:75)
java.io.IOException: Lock obtain timed out:
Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
        at org.apache.lucene.store.Lock.obtain(Lock.java:56)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:254)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:204)
        at edu.vt.searchengine.Indexer.main(Indexer.java:110)


Erick Erickson wrote:
> 
> I'm not sure what the lock issues is. What version of Lucene are you
> using? And what is your filesystem like? There are some known locking
> issues with some versions of Lucene and some filesystems,
> particularly NFS mounts as I remember... It would help if you told
> us the entire stack trace rather than just the exception.
> 
> But I really don't understand your index structure. You are still
> opening and closing Lucene every time you add a document.
> And each document contains the titles and descriptions
> of all the files in the directory. Is this actually your intent or
> do you really want to index one Lucene document per
> title/description pair? If the latter, you want a loop something like...
> 
> open writer
> for each file
>     parse file
>     Doc doc = new Document();
>     doc.add(field, val);
>     doc.add(field2, val2);
>     writer.write(doc);
> end for
> 
> writer.close();
> 
> There's no reason to close the writer until the last xml file has been
> indexed......
> 
> If that re-structuring causes your lock error to go away, I'll be
> baffled because it shouldn't (unless your version of Lucene
> and filesystem is one of the "interesting" ones).
> 
> But it'll make your code simpler...
> 
> Best
> Erick
>     add fields to
> 
> On 3/18/07, Lokeya <lokeya@gmail.com> wrote:
>>
>>
>> Yep I did that, and now my code looks as follows.
>> The time taken for indexing one file is now => Elapsed Time in Minutes ::
>> 0.3531, which is really great, but after processing 4 dumpfiles(which
>> means
>> 40,000 small xml's), I get :
>>
>> caught a class java.io.IOException
>> 40114  with message: Lock obtain timed out:
>> Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
>>
>>
>> This is the new issue now.What could be the reason ?. I am surprised
>> because
>> I am only writing to Index under ./LUCENE/ evrytime and not doing
>> anything
>> with the index(ofcrs to avoid such synchronization issues !)
>>
>>                 for (int i=0; i<children1.length; i++)
>>                         {
>>                                 // Get filename of file or directory
>>                                 String filename = children1[i];
>>
>>                                 if(!filename.startsWith("oai_citeseer"))
>>                                 {
>>                                         continue;
>>                                 }
>>                                 String dirName = filename;
>>                                 System.out.println("File => "+filename);
>>
>>                                 NodeList nl = null;
>>                                 //Testing the creation of Index
>>                                 try
>>                                 {
>>                                         File dir = new File(dirName);
>>                                         String[] children = dir.list();
>>                                         if (children == null) {
>>                                                 // Either dir does not
>> exist or is not a directory
>>                                         }
>>                                         else
>>                                         {
>>                                                 ArrayList alist_Title =
>> new ArrayList(children.length);
>>                                                 ArrayList alist_Descr =
>> new ArrayList(children.length);
>>                                                 System.out.println("Size
>> of Array List : "+alist_Title.size());
>>                                                 String title = null;
>>                                                 String descr = null;
>>
>>                                                 long startTime =
>> System.currentTimeMillis();
>>                                                 System.out.println(dir +"
>> start time  ==> "+
>> System.currentTimeMillis());
>>
>>                                                 for (int ii=0; ii<
>> children.length; ii++)
>>                                                 {
>>                                                         // Get filename
>> of
>> file or directory
>>                                                         String file =
>> children[ii];
>>                                                        
>> System.out.println("
>> Name of Dir : Record ~~~~~~~ " +dirName +" : "+
>> file);
>>                                                        
>> //System.out.println("The
>> name of file parsed now ==> "+file);
>>
>>                                                         //Get the value
>> of
>> recXYZ's metadata tag
>>                                                         nl =
>> ValueGetter.getNodeList(filename+"/"+file, "metadata");
>>
>>                                                         if(nl == null)
>>                                                         {
>>
>> System.out.println("Error shoudlnt be thrown ...");
>>
>>                                                                
>> alist_Title.add(ii,"title");
>>
>>                                                                
>> alist_Descr.add(ii,"descr");
>>                                                                 continue;
>>                                                         }
>>
>>                                                         //Get the
>> metadata
>> element(title and description tags from dump file
>>                                                         ValueGetter vg =
>> new ValueGetter();
>>
>>                                                         //Get the
>> Extracted Tags Title, Identifier and Description
>>                                                         try
>>                                                         {
>>                                                                 title =
>> vg.getNodeVal(nl, "dc:title");
>>
>>                                                                
>> alist_Title.add(ii,title);
>>                                                                 descr =
>> vg.getNodeVal(nl, "dc:description");
>>
>>                                                                
>> alist_Descr.add(ii,descr);
>>                                                         }
>>                                                         catch(Exception
>> ex)
>>                                                         {
>>
>> ex.printStackTrace();
>>
>> System.out.println("Excep ==> "+ ex);
>>                                                         }
>>
>>                                                 }//End of For
>>
>>                                                 //Create an Index under
>> LUCENE
>>
>>                                                 IndexWriter writer = new
>> IndexWriter("./LUCENE", new
>> StopStemmingAnalyzer(),false);
>>                                                 Document doc = new
>> Document();
>>
>>                                                 //Get Array List
>> Elements  and add them as fileds to doc
>>
>>                                                 for(int k=0; k <
>> alist_Title.size(); k++)
>>                                                 {
>>                                                         doc.add(new
>> Field("Title",alist_Title.get(k).toString(),
>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>                                                 }
>>
>>                                                 for(int k=0; k <
>> alist_Descr.size(); k++)
>>                                                 {
>>                                                         doc.add(new
>> Field("Description",alist_Descr.get(k).toString(),
>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>                                                 }
>>
>>                                                 //Add the document
>> created
>> out of those fields to the IndexWriter
>> which will create and index
>>                                                 writer.addDocument(doc);
>>                                                 writer.optimize();
>>                                                 writer.close();
>>
>>                                                 long elapsedTimeMillis =
>> System.currentTimeMillis()-startTime;
>>                                                
>> System.out.println("Elapsed
>> Time for  "+dirName +" :: " +
>> elapsedTimeMillis);
>>                                                 float elapsedTimeMin =
>> elapsedTimeMillis/(60*1000F);
>>                                                
>> System.out.println("Elapsed
>> Time in Minutes ::  "+ elapsedTimeMin);
>>
>>                                         }//End of Else
>>
>>                                 } //End of try
>>                                 catch (Exception ee)
>>                                 {
>>                                         ee.printStackTrace();
>>                                         System.out.println("caught a " +
>> ee.getClass() + "\n with message: "+
>> ee.getMessage());
>>                                 }
>>                                 System.out.println("Total Record ==>
>> "+total_records);
>>
>>                         }// End of For
>>
>> Grant Ingersoll-5 wrote:
>> >
>> > Move index writer creation, optimization and closure outside of your
>> > loop.  I would also use a SAX parser.  Take a look at the demo code
>> > to see an example of indexing.
>> >
>> > Cheers,
>> > Grant
>> >
>> > On Mar 18, 2007, at 12:31 PM, Lokeya wrote:
>> >
>> >>
>> >>
>> >> Erick Erickson wrote:
>> >>>
>> >>> Grant:
>> >>>
>> >>>  I think that "Parsing 70 files totally takes 80 minutes" really
>> >>> means parsing 70 metadata files containing 10,000 XML
>> >>> files each.....
>> >>>
>> >>> One Metadata File is split into 10,000 XML files which looks as
>> >>> below:
>> >>>
>> >>> <root>
>> >>>     <record>
>> >>>     <header>
>> >>>     <identifier>oai:CiteSeerPSU:1</identifier>
>> >>>     <datestamp>1993-08-11</datestamp>
>> >>>     <setSpec>CiteSeerPSUset</setSpec>
>> >>>     </header>
>> >>>             <metadata>
>> >>>             <oai_citeseer:oai_citeseer
>> >>> xmlns:oai_citeseer="http://copper.ist.psu.edu/oai/oai_citeseer/"
>> >>> xmlns:dc
>> >>> ="http://purl.org/dc/elements/1.1/"
>> >>> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
>> >>> xsi:schemaLocation="http://copper.ist.psu.edu/oai/oai_citeseer/
>> >>> http://copper.ist.psu.edu/oai/oai_citeseer.xsd ">
>> >>>             <dc:title>36 Problems for Semantic
>> Interpretation</dc:title>
>> >>>             <oai_citeseer:author name="Gabriele Scheler">
>> >>>                     <address>80290 Munchen , Germany</address>
>> >>>                     <affiliation>Institut fur Informatik; Technische
>> Universitat
>> >>> Munchen</affiliation>
>> >>>             </oai_citeseer:author>
>> >>>             <dc:subject>Gabriele Scheler 36 Problems for Semantic
>> >>> Interpretation</dc:subject>
>> >>>             <dc:description>This paper presents a collection of
>> problems for
>> >>> natural
>> >>> language analysisderived mainly from theoretical linguistics. Most of
>> >>> these problemspresent major obstacles for computational systems of
>> >>> language interpretation.The set of given sentences can easily be
>> >>> scaled up
>> >>> by introducing moreexamples per problem. The construction of
>> >>> computational
>> >>> systems couldbenefit from such a collection, either using it
>> >>> directly for
>> >>> training andtesting or as a set of benchmarks to qualify the
>> >>> performance
>> >>> of a NLPsystem.1 IntroductionThe main part of this paper consists
>> >>> of a
>> >>> collection of problems for semanticanalysis of natural language. The
>> >>> problems are arranged in the following way:example sentencesconcise
>> >>> description of the problemkeyword for the type of problemThe sources
>> >>> (first appearance in print) of the sentences have been left
>> >>> out,because
>> >>> they are sometimes hard to track and will usually not be of much
>> >>> use,as
>> >>> they indicate a starting-point of discussion only. The keywords
>> >>> howeve...
>> >>>             </dc:description>
>> >>>             <dc:contributor>The Pennsylvania State University
>> CiteSeer
>> >>> Archives</dc:contributor>
>> >>>             <dc:publisher>unknown</dc:publisher>
>> >>>             <dc:date>1993-08-11</dc:date>
>> >>>             <dc:format>ps</dc:format>
>> >>>             <dc:identifier>http://citeseer.ist.psu.edu/1.html
>> </dc:identifier>
>> >>> <dc:source>ftp://flop.informatik.tu-muenchen.de/pub/fki/
>> >>> fki-179-93.ps.gz</dc:source>
>> >>>             <dc:language>en</dc:language>
>> >>>             <dc:rights>unrestricted</dc:rights>
>> >>>             </oai_citeseer:oai_citeseer>
>> >>>             </metadata>
>> >>>     </record>
>> >>> </root>
>> >>>
>> >>>
>> >>> From the above I will extract the Title and the Description tags
>> >>> to index.
>> >>>
>> >>> Code to do this:
>> >>>
>> >>> 1. I have 70 directories with the name like oai_citeseerXYZ/
>> >>> 2. Under each of above directory, I have 10,000 xml files each having
>> >>> above xml data.
>> >>> 3. Program does the following
>> >>>
>> >>>                                     File dir = new File(dirName);
>> >>>                                     String[] children = dir.list();
>> >>>                                     if (children == null) {
>> >>>                                             // Either dir does not
>> exist or is not a directory
>> >>>                                     }
>> >>>                                     else
>> >>>                                     {
>> >>>                                             for (int ii=0; ii<
>> children.length; ii++)
>> >>>                                             {
>> >>>                                                     // Get filename
>> of
>> file or directory
>> >>>                                                     String file =
>> children[ii];
>> >>>
>> //System.out.println("The name of file parsed now ==> "+file);
>> >>>                                                     nl =
>> ReadDump.getNodeList(filename+"/"+file, "metadata");
>> >>>                                                     if(nl == null)
>> >>>                                                     {
>> >>>
>> //System.out.println("Error shoudlnt be thrown ...");
>> >>>                                                     }
>> >>>                                                     //Get the
>> metadata
>> element tags from xml file
>> >>>                                                     ReadDump rd = new
>> ReadDump();
>> >>>
>> >>>                                                     //Get the
>> Extracted Tags Title, Identifier and Description
>> >>>                                                     ArrayList
>> alist_Title = rd.getElements(nl, "dc:title");
>> >>>                                                     ArrayList
>> alist_Descr = rd.getElements(nl, "dc:description");
>> >>>
>> >>>                                                     //Create an Index
>> under DIR
>> >>>                                                     IndexWriter
>> writer
>> = new IndexWriter("./FINAL/", new
>> >>> StopStemmingAnalyzer(),false);
>> >>>                                                     Document doc =
>> new
>> Document();
>> >>>
>> >>>                                                     //Get Array List
>> Elements  and add them as fileds to doc
>> >>>                                                     for(int k=0; k <
>> alist_Title.size(); k++)
>> >>>                                                     {
>> >>>                                                            
>> doc.add(new
>> Field("Title",alist_Title.get(k).toString(),
>> >>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>> >>>                                                     }
>> >>>
>> >>>                                                     for(int k=0; k <
>> alist_Descr.size(); k++)
>> >>>                                                     {
>> >>>                                                            
>> doc.add(new
>> Field("Description",alist_Descr.get(k).toString
>> >>> (),
>> >>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>> >>>                                                     }
>> >>>
>> >>>                     //Add the document created out of those fields to
>> the
>> >>> IndexWriter which
>> >>> will create and index
>> >>>                                                    
>> writer.addDocument
>> (doc);
>> >>>                                                    
>> writer.optimize();
>> >>>                                                     writer.close();
>> >>>                }
>> >>>
>> >>>
>> >>> This is the main file which does indexing.
>> >>>
>> >>> Hope this will give you an idea.
>> >>>
>> >>>
>> >>> Lokeya:
>> >>> Can you confirm my supposition? And I'd still post the code
>> >>> Grant requested if you can.....
>> >>>
>> >>> So, you're talking about indexing 10,000 xml files in 2-3 hours,
>> >>> 8 minutes or so which is spent reading/parsing, right? It'll be
>> >>> important to know how much data you're indexing and now, so
>> >>> the code snippet is doubly important....
>> >>>
>> >>> Erick
>> >>>
>> >>> On 3/18/07, Grant Ingersoll <gsingers@apache.org> wrote:
>> >>>>
>> >>>> Can you post the relevant indexing code?  Are you doing things like
>> >>>> optimizing after every file?  Both the parsing and the indexing
>> >>>> sound
>> >>>> really long.  How big are these files?
>> >>>>
>> >>>> Also, I assume you machine is at least somewhat current, right?
>> >>>>
>> >>>> On Mar 18, 2007, at 1:00 AM, Lokeya wrote:
>> >>>>
>> >>>>>
>> >>>>> Thanks for your reply. I tried to check if the I/O and Parsing is
>> >>>>> taking time
>> >>>>> separately and Indexing time also. I observed that I/O and Parsing
>> >>>>> 70 files
>> >>>>> totally takes 80 minutes where as when I combine this with Indexing
>> >>>>> for a
>> >>>>> single Metadata file it nearly 2 to 3 hours. So looks like
>> >>>>> IndexWriter takes
>> >>>>> time that too when we are appending to the Index file this happens.
>> >>>>>
>> >>>>> So what is the best approach to handle this?
>> >>>>>
>> >>>>> Thanks in Advance.
>> >>>>>
>> >>>>>
>> >>>>> Erick Erickson wrote:
>> >>>>>>
>> >>>>>> See below...
>> >>>>>>
>> >>>>>> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> Hi,
>> >>>>>>>
>> >>>>>>> I am trying to index the content from XML files which are
>> >>>>>>> basically the
>> >>>>>>> metadata collected from a website which have a huge collection of
>> >>>>>>> documents.
>> >>>>>>> This metadata xml has control characters which causes errors
>> >>>>>>> while trying
>> >>>>>>> to
>> >>>>>>> parse using the DOM parser. I tried to use encoding = UTF-8 but
>> >>>>>>> looks
>> >>>>>>> like
>> >>>>>>> it doesn't cover all the unicode characters and I get error. Also
>> >>>>>>> when I
>> >>>>>>> tried to use UTF-16, I am getting Prolog content not allowed
>> >>>>>>> here. So my
>> >>>>>>> guess is there is no enoding which is going to cover almost all
>> >>>>>>> unicode
>> >>>>>>> characters. So I tried to split my metadata files into small
>> >>>>>>> files and
>> >>>>>>> processing records which doesnt throw parsing error.
>> >>>>>>>
>> >>>>>>> But by breaking metadata file into smaller files I get, 10,000
>> >>>>>>> xml files
>> >>>>>>> per
>> >>>>>>> metadata file. I have 70 metadata files, so altogether it becomes
>> >>>>>>> 7,00,000
>> >>>>>>> files. Processing them individually takes really long time using
>> >>>>>>> Lucene,
>> >>>>>>> my
>> >>>>>>> guess is I/O is time consuing, like opening every small xml file
>> >>>>>>> loading
>> >>>>>>> in
>> >>>>>>> DOM extracting required data and processing.
>> >>>>>>
>> >>>>>>
>> >>>>>>
>> >>>>>> So why don't you measure and find out before trying to make the
>> >>>>>> indexing
>> >>>>>> step more efficient? You simply cannot optimize without knowing
>> >>>>>> where
>> >>>>>> you're spending your time. I can't tell you how often I've been
>> >>>>>> wrong
>> >>>>>> about
>> >>>>>> "why my program was slow" <G>.
>> >>>>>>
>> >>>>>> In this case, it should be really simple. Just comment out the
>> >>>>>> part where
>> >>>>>> you index the data and run, say, one of your metadata files.. I
>> >>>>>> suspect
>> >>>>>> that
>> >>>>>> Cheolgoo Kang's response is cogent, and you indeed are spending
>> >>>>>> your
>> >>>>>> time parsing the XML. I further suspect that the problem is not
>> >>>>>> disk IO,
>> >>>>>> but the time spent parsing. But until you measure, you have no
>> >>>>>> clue
>> >>>>>> whether you should mess around with the Lucene parameters, or find
>> >>>>>> another parser, or just live with it.. Assuming that you
>> >>>>>> comment out
>> >>>>>> Lucene and things are still slow, the next step would be to just
>> >>>>>> read in
>> >>>>>> each file and NOT parse it to figure out whether it's the IO or
>> >>>>>> the
>> >>>>>> parsing.
>> >>>>>>
>> >>>>>> Then you can worry about how to fix it..
>> >>>>>>
>> >>>>>> Best
>> >>>>>> Erick
>> >>>>>>
>> >>>>>>
>> >>>>>> Qn  1: Any suggestion to get this indexing time reduced? It
>> >>>>>> would be
>> >>>>>> really
>> >>>>>>> great.
>> >>>>>>>
>> >>>>>>> Qn 2 : Am I overlooking something in Lucene with respect to
>> >>>>>>> indexing?
>> >>>>>>>
>> >>>>>>> Right now 12 metadata files take 10 hrs nearly which is really a
>> >>>>>>> long
>> >>>>>>> time.
>> >>>>>>>
>> >>>>>>> Help Appreciated.
>> >>>>>>>
>> >>>>>>> Much Thanks.
>> >>>>>>> --
>> >>>>>>> View this message in context:
>> >>>>>>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-
>> >>>>>>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
>> >>>>>>> Sent from the Lucene - Java Users mailing list archive at
>> >>>>>>> Nabble.com.
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> -----------------------------------------------------------------
>> >>>>>>> ---
>> >>>>>>> -
>> >>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>>>>>>
>> >>>>>>>
>> >>>>>>
>> >>>>>>
>> >>>>>
>> >>>>> --
>> >>>>> View this message in context: http://www.nabble.com/Issue-while-
>> >>>>> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
>> >>>>> tf3418085.html#a9536099
>> >>>>> Sent from the Lucene - Java Users mailing list archive at
>> >>>>> Nabble.com.
>> >>>>>
>> >>>>>
>> >>>>> -------------------------------------------------------------------
>> >>>>> --
>> >>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>>>>
>> >>>>
>> >>>> --------------------------
>> >>>> Grant Ingersoll
>> >>>> Center for Natural Language Processing
>> >>>> http://www.cnlp.org
>> >>>>
>> >>>> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
>> >>>> LuceneFAQ
>> >>>>
>> >>>>
>> >>>>
>> >>>> --------------------------------------------------------------------
>> >>>> -
>> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>>>
>> >>>>
>> >>>
>> >>>
>> >>
>> >> --
>> >> View this message in context: http://www.nabble.com/Issue-while-
>> >> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
>> >> tf3418085.html#a9540232
>> >> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >
>> > ------------------------------------------------------
>> > Grant Ingersoll
>> > http://www.grantingersoll.com/
>> > http://lucene.grantingersoll.com
>> > http://www.paperoftheweek.com/
>> >
>> >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9542471
>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9543855
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 00:00:30 2007
Return-Path: <java-user-return-26983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73043 invoked from network); 19 Mar 2007 00:00:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 00:00:29 -0000
Received: (qmail 68681 invoked by uid 500); 19 Mar 2007 00:00:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68641 invoked by uid 500); 19 Mar 2007 00:00:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 7308 invoked by uid 99); 18 Mar 2007 19:41:37 -0000
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jafarim@gmail.com designates 66.249.82.226 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=TCY1RBogeYvJHumoeieNRQGF4+Huv0px467ED84z7HCNQFirR/tsSaPwsNJ/8RNJW7mCdPQapc6YhkuOjO9OR09SBq4W6eY5NpRA4VsRTurhsWO66BRGK9Bi9iLb1UxTx/ydxP/PbLjBv+AxYBqn7hf4ubRLI4LKZUmkv8Lj+qI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=NJz5D5yunU1IcDkLiaQuH6ETWxKCg+O1gyJ/klRt2NRzqwgD3LzFhZBGbf2QBE5muc6XMgQeqyQWlF0w44grQhV9jk0RhbGZdzHt1ohX/0aWkDI7Nr+j+gSSyq7Zju0xdgWuxjsyOlgRXMjjnNU5348CDSw7E/HI5S/c5nLyJyI=
Message-ID: <bddd3c950703181241o21592b25x8b32c16c78056eca@mail.gmail.com>
Date: Sun, 18 Mar 2007 23:11:07 +0330
From: jafarim <jafarim@gmail.com>
To: java-user@lucene.apache.org
Subject: Storing whole documents in the index
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_57799_20897264.1174246867374"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_57799_20897264.1174246867374
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello
It's a whil that I am using lucene and as most of people seemingly do, I
used to save only some important fields of a docuemnt in the index. But
recently I thought why not store the whole document bytes as an untokenized
field in the index in order to ease the retrieval process? For example
serialize the pdf file into a byte[] and then save the bytes as a field in
the index.(some gzip and base64 encodings may be needed as glue logic). Then
I can delete the original file from the system. Is there any reason against
this idea? Can lucene bear this large volume of input streamed data?

------=_Part_57799_20897264.1174246867374--

From java-user-return-26984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 01:24:34 2007
Return-Path: <java-user-return-26984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 674 invoked from network); 19 Mar 2007 01:24:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 01:24:33 -0000
Received: (qmail 82659 invoked by uid 500); 19 Mar 2007 01:24:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82627 invoked by uid 500); 19 Mar 2007 01:24:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82616 invoked by uid 99); 19 Mar 2007 01:24:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 18:24:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Mar 2007 18:24:26 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B0D535B764; Sun, 18 Mar 2007 18:24:05 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A41277F403
	for <java-user@lucene.apache.org>; Sun, 18 Mar 2007 18:24:05 -0700 (PDT)
Date: Sun, 18 Mar 2007 18:24:05 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: search timeout
In-Reply-To: <45FD0E9F.7040401@getopt.org>
Message-ID: <Pine.LNX.4.58.0703181812320.29021@hal.rescomp.berkeley.edu>
References: <45F99411.3060002@aol.com> <Pine.LNX.4.58.0703161131350.11935@hal.rescomp.berkeley.edu>
 <45FBAFCA.6000503@yahoo.co.uk> <45FC60D5.6050404@getopt.org>
 <Pine.LNX.4.58.0703171542270.21232@hal.rescomp.berkeley.edu>
 <45FD0E9F.7040401@getopt.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: > imeediately? ... in the totally generic case, this isn't a safe

: This was implemented as an easy way to control the maximum search time
: for typical queries. I'm open for suggestions how to improve it. One

The only thing i can think of that would truely timeout *any* query is a
seperate Timer for each search.

: thing that sticks like a sore thumb is the use of exceptions to break
: the loop - IMHO the collect() method should simply return a boolean or
: int code that tells other parts of Lucene to stop collecting hits.

HitCollector is an abstract class, it would be pretty easy to add another
version of collect that doesn't return void and add Impl's for each that
call the other one by default (the way Analyzer.tokenStream use to work)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 10:11:13 2007
Return-Path: <java-user-return-26985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9002 invoked from network); 19 Mar 2007 10:11:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 10:11:11 -0000
Received: (qmail 33540 invoked by uid 500); 19 Mar 2007 10:11:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33467 invoked by uid 500); 19 Mar 2007 10:11:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33456 invoked by uid 99); 19 Mar 2007 10:11:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 03:11:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [213.151.89.70] (HELO server) (213.151.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 03:10:58 -0700
Received: from [85.207.40.193] (helo=[10.10.1.71])
	by server with esmtp (Exim 4.50)
	id 1HTEp0-00076F-Dk
	for java-user@lucene.apache.org; Mon, 19 Mar 2007 11:10:34 +0100
Subject: Re: Storing whole documents in the index
From: Karel Tejnora <karel@tejnora.cz>
To: java-user@lucene.apache.org
In-Reply-To: <bddd3c950703181241o21592b25x8b32c16c78056eca@mail.gmail.com>
References: <bddd3c950703181241o21592b25x8b32c16c78056eca@mail.gmail.com>
Content-Type: text/plain
Date: Mon, 19 Mar 2007 11:10:31 +0100
Message-Id: <1174299031.6246.13.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.8.2.1 
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 85.207.40.193
X-SA-Exim-Mail-From: karel@tejnora.cz
X-SA-Exim-Scanned: No (on server); SAEximRunCond expanded to false
X-Virus-Checked: Checked by ClamAV on apache.org

To store document (specially large ones) out of the index is better than
in index. Every merge of segments or optimize will copy those data.
Stored in index is possible, but it requires 1-4x more space, depends on
read/write speed of the fs, merge and optimize takes longer time.

Karel

On Sun, 2007-03-18 at 23:11 +0330, jafarim wrote:
> Hello
> It's a whil that I am using lucene and as most of people seemingly do, I
> used to save only some important fields of a docuemnt in the index. But
> recently I thought why not store the whole document bytes as an untokenized
> field in the index in order to ease the retrieval process? For example
> serialize the pdf file into a byte[] and then save the bytes as a field in
> the index.(some gzip and base64 encodings may be needed as glue logic). Then
> I can delete the original file from the system. Is there any reason against
> this idea? Can lucene bear this large volume of input streamed data?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 10:14:47 2007
Return-Path: <java-user-return-26986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9923 invoked from network); 19 Mar 2007 10:14:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 10:14:43 -0000
Received: (qmail 38759 invoked by uid 500); 19 Mar 2007 10:14:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38718 invoked by uid 500); 19 Mar 2007 10:14:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38707 invoked by uid 99); 19 Mar 2007 10:14:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 03:14:42 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [203.84.221.128] (HELO web8707.mail.in.yahoo.com) (203.84.221.128)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Mar 2007 03:14:30 -0700
Received: (qmail 3968 invoked by uid 60001); 19 Mar 2007 10:14:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=llSMbaQkqNK+17FOlw+lHvlrO4MnTG3wYeWJy1NvHA9AtESRpsHhS+ULhXD214XSi4yLcc6tQvZjivQUJZWzYStgUm9PwltwDtfPzXdeVBuiE6oAXT3m0eXI1awfHZXoKFKLo84tVt24SljZLiIEISyRXsxOGcFggFpDQ5/JR9Y=;
X-YMail-OSG: EGHn_owVM1ntvOYXSz11DNrHIXWw.0i_4sOMMMimqyv0fpfOYjGOY1l3lhxo9KGtIA--
Received: from [59.95.185.86] by web8707.mail.in.yahoo.com via HTTP; Mon, 19 Mar 2007 15:44:05 IST
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Mon, 19 Mar 2007 15:44:05 +0530 (IST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Common Words ignoring problem
To: java user <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2032119031-1174299245=:271"
Message-ID: <863296.271.qm@web8707.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-2032119031-1174299245=:271
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hello All,=0AI am using StandarAnalyzer for indexing documents. Then i make=
 a query to search some words with And query. =0AFor example I need to sear=
ch for a document which contains followings all words =0A" this is garden".=
=0A=0AI think when lucene index the document , it ignores some common words=
 like "this, is , are , am etc".  But when i say lucene to search all words=
 including "this" AND "is" AND "garden" , then it could not found that. Am =
i right? If yes , how to solve this problem.=0A=0AThanks...=0A=0A=0A=09=09=
=0A__________________________________________________________=0AYahoo! Indi=
a Answers: Share what you know. Learn something new=0Ahttp://in.answers.yah=
oo.com/
--0-2032119031-1174299245=:271--

From java-user-return-26987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 12:10:12 2007
Return-Path: <java-user-return-26987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47239 invoked from network); 19 Mar 2007 12:10:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 12:10:11 -0000
Received: (qmail 8467 invoked by uid 500); 19 Mar 2007 12:10:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8419 invoked by uid 500); 19 Mar 2007 12:10:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8408 invoked by uid 99); 19 Mar 2007 12:10:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 05:10:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 05:09:58 -0700
Received: from out1.internal (unknown [10.202.2.149])
	by out1.messagingengine.com (Postfix) with ESMTP id C5A85208A41
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 08:09:35 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by out1.internal (MEProxy); Mon, 19 Mar 2007 08:09:35 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id B4BF11850E2; Mon, 19 Mar 2007 08:09:37 -0400 (EDT)
Message-Id: <1174306177.16296.1180172717@webmail.messagingengine.com>
X-Sasl-Enc: FWqLYl0Pm7frs80jYBs8zkljeCAltsMwRGnzTGAPt6Me 1174306177
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
Subject: improving RAM usage by IndexWriter
Date: Mon, 19 Mar 2007 08:09:37 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I've been looking into improving performance of IndexWriter,
specifically how it makes use of RAM to buffer added documents.

I've created a new class (MultiDocumentWriter) that can build a single
segment from many documents at once, more efficiently than the current
single document segment approach.  It buffers terms, freqs and
positions in memory and then periodically flushes them together.

This only affects the creation of an initial segment from added
documents.  I haven't changed anything after that, eg how segments are
merged.

The basic ideas are:

  * Write stored fields and term vectors directly to disk (don't
    use up RAM for these).

  * Gather posting lists & term infos in RAM, but periodically do
    in-RAM flushes.  Once RAM is full, flush buffers to disk (and
    merge them later when it's time to make a real segment).

  * When it's time to really build a segment, merge all postings lists
    (RAM and flushed) into the real segment files.

  * Recycle buffers/objects when possible (less stress & time spent on
    GC).

I think some of these changes are similar to how KinoSearch builds a
segment.  But, I haven't made any changes to Lucene's file format nor
added requirements for a global fields schema.

With this change you can now tell IndexWriter how much RAM it can use
before flushing, which I think is better than setting max buffered
docs when documents are variable in size.  This is in fact the only
externally visible API change :)

I'm still working through some lingering issues before I can make a
clean patch, but it now passes all unit tests except the disk full
tests (I think we would need to change error semantics on disk full).

I've run some very initial performance tests and this approach
provides a good speedup when equalizing RAM usage for a fair
comparison, especially when the docs are small.  (Note that this
speedup is just for the "indexing" part, and for many Lucene apps I
think other things (eg Analyzer, retrieving docs from the content
source, etc.) are the bottleneck.

This change also makes "commit only on close" mode (autoCommit=false
to IndexWriter) especially efficient because no segment is produced
until you close the IndexWriter, so no normal segment merging takes
place for the entire session.  You can build a massive index having
created only 1 segment at the end.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 12:18:20 2007
Return-Path: <java-user-return-26988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49748 invoked from network); 19 Mar 2007 12:18:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 12:18:18 -0000
Received: (qmail 28626 invoked by uid 500); 19 Mar 2007 12:18:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28596 invoked by uid 500); 19 Mar 2007 12:18:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28283 invoked by uid 99); 19 Mar 2007 12:18:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 05:18:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.74] (HELO spunkymail-a6.g.dreamhost.com) (208.97.132.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 05:18:02 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a6.g.dreamhost.com (Postfix) with ESMTP id 0EC00109F2E
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 05:17:43 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <863296.271.qm@web8707.mail.in.yahoo.com>
References: <863296.271.qm@web8707.mail.in.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B8B693BE-2F3B-4A67-A78E-A424E760360B@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Common Words ignoring problem
Date: Mon, 19 Mar 2007 08:17:40 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

One of the constructors for StandardAnalyzer allows you to set your  
stop words.  If you use the default constructor, you get the default  
set of stop words, which is in StopAnalyzer.ENGLISH_STOP_WORDS.

-Grant

On Mar 19, 2007, at 6:14 AM, aslam bari wrote:

> Hello All,
> I am using StandarAnalyzer for indexing documents. Then i make a  
> query to search some words with And query.
> For example I need to search for a document which contains  
> followings all words
> " this is garden".
>
> I think when lucene index the document , it ignores some common  
> words like "this, is , are , am etc".  But when i say lucene to  
> search all words including "this" AND "is" AND "garden" , then it  
> could not found that. Am i right? If yes , how to solve this problem.
>
> Thanks...
>
>
> 		
> __________________________________________________________
> Yahoo! India Answers: Share what you know. Learn something new
> http://in.answers.yahoo.com/

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 13:06:17 2007
Return-Path: <java-user-return-26989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61999 invoked from network); 19 Mar 2007 13:06:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 13:06:13 -0000
Received: (qmail 17076 invoked by uid 500); 19 Mar 2007 13:06:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17042 invoked by uid 500); 19 Mar 2007 13:06:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17027 invoked by uid 99); 19 Mar 2007 13:06:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 06:06:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [68.116.38.223] (HELO rectangular.com) (68.116.38.223)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 06:06:00 -0700
Received: from [67.189.26.9] (helo=[10.0.1.3])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1HTHbv-000Bnp-Av
	for java-user@lucene.apache.org; Mon, 19 Mar 2007 05:09:15 -0800
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <1174306177.16296.1180172717@webmail.messagingengine.com>
References: <1174306177.16296.1180172717@webmail.messagingengine.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8D0E7967-359C-42B9-B559-C4DE772233A7@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: improving RAM usage by IndexWriter
Date: Mon, 19 Mar 2007 06:05:38 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org


On Mar 19, 2007, at 5:09 AM, Michael McCandless wrote:

> I think some of these changes are similar to how KinoSearch builds a
> segment.

Yup...  sounds familiar.  ;)

> I'm still working through some lingering issues before I can make a
> clean patch,

Well, where is it?  Don't keep it a secret!

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 13:36:02 2007
Return-Path: <java-user-return-26990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76801 invoked from network); 19 Mar 2007 13:36:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 13:36:01 -0000
Received: (qmail 67000 invoked by uid 500); 19 Mar 2007 13:36:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66614 invoked by uid 500); 19 Mar 2007 13:36:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66603 invoked by uid 99); 19 Mar 2007 13:36:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 06:36:01 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gresh@us.ibm.com designates 32.97.182.141 as permitted sender)
Received: from [32.97.182.141] (HELO e1.ny.us.ibm.com) (32.97.182.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 06:35:48 -0700
Received: from d01relay04.pok.ibm.com (d01relay04.pok.ibm.com [9.56.227.236])
	by e1.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l2JDZQJR023729
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 09:35:26 -0400
Received: from d01av03.pok.ibm.com (d01av03.pok.ibm.com [9.56.224.217])
	by d01relay04.pok.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2JDZQMj178472
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 09:35:26 -0400
Received: from d01av03.pok.ibm.com (loopback [127.0.0.1])
	by d01av03.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2JDZQSl030150
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 09:35:26 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av03.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2JDZQtp030140
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 09:35:26 -0400
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: question about getting all terms in a section of the documents
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF313ECB0D.1AC6DBF8-ON852572A3.004A0307-852572A3.004AA7A2@us.ibm.com>
Date: Mon, 19 Mar 2007 09:35:26 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Build V80_M3_10312006|October 31, 2006) at
 03/19/2007 09:35:27,
	Serialize complete at 03/19/2007 09:35:27
Content-Type: multipart/alternative; boundary="=_alternative 004AA6EA852572A3_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 004AA6EA852572A3_=
Content-Type: text/plain; charset="US-ASCII"

I am a very new user of Lucene, and thus far am amazed at its speed and 
ease of use.
I have a question about something in the FAQ though. I have a need to get 
all
terms in a specific section of the document; I want to create a database 
of term vs
an identifier of the document containing the term. There is a part of the 
FAQ which
answers this directly, and says:
try
{
    TermEnum terms = indexReader.terms(new Term("FIELD-NAME-HERE", ""));
    while ("FIELD-NAME-HERE".equals(enum.term().field()))
    {
        // ... collect enum.term().text() ...

        if (!terms.next())
            break;
    }
}
finally
{
    terms.close();
}

However, this doesn't compile for me; Is "enum" supposed to be "terms"? 
Also, the terms.close()
statement is outside the scope of terms. I changed to the following, is 
this correct and should the
FAQ be changed?

try
                {
                    TermEnum terms = indexReader.terms(new 
Term("FIELD-NAME-HERE", ""));
 
                    while ("FIELD-NAME-HERE".equals( 
terms.term().field()))
                    {
                     // ... collect enum.term().text() ...
                String term = terms.term().text();
                        System.out.println(term);
                     if (!terms.next())
                            break;
                    }
                    terms.close();
                }



Thanks, and I hope this isn't a crazy question-

--=_alternative 004AA6EA852572A3_=--

From java-user-return-26991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 14:58:26 2007
Return-Path: <java-user-return-26991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10974 invoked from network); 19 Mar 2007 14:58:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 14:58:24 -0000
Received: (qmail 87776 invoked by uid 500); 19 Mar 2007 14:58:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87691 invoked by uid 500); 19 Mar 2007 14:58:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87646 invoked by uid 99); 19 Mar 2007 14:58:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 07:58:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.61] (HELO web50307.mail.re2.yahoo.com) (206.190.38.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Mar 2007 07:58:04 -0700
Received: (qmail 17754 invoked by uid 60001); 19 Mar 2007 14:57:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=KMbvUngb/Fs1cqtlw3eEgSZe0dJHypgE0rZ39uCSV+qkvwpz5Qdn5OLdn7QNde0hhPYCqrv791hbvQgbpwOFBg4IGprdyCaQdzvLxG83qMa+yR65w70tTLfq7oSNfR+sYO1qX3vjAJvSlergjRKxxIWQGK9Z9gLO/hZ5rO7etI8=;
X-YMail-OSG: QacAhWQVM1nCVfbJj1CsiiIUnz41UpmU3aEcaiTgAD8p9ivNkDE2m9S4XxsLySm4Jg..LAyNspoBOiIZvVXNawfNZ3noYE8GHqsTvJYwLSZpdXXC0Qju
Received: from [74.73.75.122] by web50307.mail.re2.yahoo.com via HTTP; Mon, 19 Mar 2007 07:57:41 PDT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.7.41.4
Date: Mon, 19 Mar 2007 07:57:41 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: question about getting all terms in a section of the documents
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <833346.16816.qm@web50307.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Donna,

You are correct, "enum" should be "terms".  Could you please modify the FAQ?  You just have to log into Wiki and edit that page (the edit link is at the bottom).

Thanks,
Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: Donna L Gresh <gresh@us.ibm.com>
To: java-user@lucene.apache.org
Sent: Monday, March 19, 2007 9:35:26 AM
Subject: question about getting all terms in a section of the documents

I am a very new user of Lucene, and thus far am amazed at its speed and 
ease of use.
I have a question about something in the FAQ though. I have a need to get 
all
terms in a specific section of the document; I want to create a database 
of term vs
an identifier of the document containing the term. There is a part of the 
FAQ which
answers this directly, and says:
try
{
    TermEnum terms = indexReader.terms(new Term("FIELD-NAME-HERE", ""));
    while ("FIELD-NAME-HERE".equals(enum.term().field()))
    {
        // ... collect enum.term().text() ...

        if (!terms.next())
            break;
    }
}
finally
{
    terms.close();
}

However, this doesn't compile for me; Is "enum" supposed to be "terms"? 
Also, the terms.close()
statement is outside the scope of terms. I changed to the following, is 
this correct and should the
FAQ be changed?

try
                {
                    TermEnum terms = indexReader.terms(new 
Term("FIELD-NAME-HERE", ""));
 
                    while ("FIELD-NAME-HERE".equals( 
terms.term().field()))
                    {
                     // ... collect enum.term().text() ...
                String term = terms.term().text();
                        System.out.println(term);
                     if (!terms.next())
                            break;
                    }
                    terms.close();
                }



Thanks, and I hope this isn't a crazy question-




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 15:48:19 2007
Return-Path: <java-user-return-26992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32190 invoked from network); 19 Mar 2007 15:48:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 15:48:18 -0000
Received: (qmail 4339 invoked by uid 500); 19 Mar 2007 15:48:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4310 invoked by uid 500); 19 Mar 2007 15:48:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 5283 invoked by uid 99); 19 Mar 2007 15:03:30 -0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rajiv.roopan@gmail.com designates 64.233.184.234 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=PlxLxPLdUOF/b1DR5zU4WJt855S1Mccdx2YD0eeSHAtH8qdUxBVK09l6OjIhmGAHxeVy4CaAzSyjX+ljeIoiDUmqLFOGMZKFB9bytI0E49LYyESsoV9g+YYz2L0A0r+2P5EYLqwGU11fzqJGMyUnO2I0IAb1PB0ZTTMGubxsEcs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=na7Km6QPK8b9POgnEdEfxVAEaoMMHyhzsOCyR6vD0ZqdeqipWe/+N7zA1JhHhY9aUuZ4IzY7fF2Qh5i9KpXd7AvLnacSKk0zHWtRg4wHlpCy1UZD3dfdDkw/hmFi2D+aydVylkMnB69DLCe0Nvvfsmrm1Fj3ysfJfD5tY5jtGgE=
Message-ID: <5a8b64620703190802g4d5c349fl1c6c986f8750ad33@mail.gmail.com>
Date: Mon, 19 Mar 2007 11:02:58 -0400
From: "Rajiv Roopan" <rajiv.roopan@gmail.com>
To: java-user@lucene.apache.org
Subject: Trouble w/ Query Creation
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_134784_9227971.1174316578474"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_134784_9227971.1174316578474
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello, I'm having some issues making the correct query. This is my current
situation.

I'm searching for :"foo bar" in 3 fields:

In the index I have:

document 1.
field1 contains (boost is 2.0): "bar stuff"
field2 contains: "bar max"
field3 contains: ""

document 2.
field1 contains (boost is 2.0): "foo bar stuff"
field2 contains: ""
field3 contains: "fbs"

I'm looking to get document 2 as the first result since it contains all the
words I'm searching for but this is not what happens.

I currently have a boolean query which contains a MultiFieldQuery  for all
three fields and a Prefix query for field1.  This config doesn't seem to
work. Any help would be appreciated.

Rajiv

------=_Part_134784_9227971.1174316578474--

From java-user-return-26993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 16:11:06 2007
Return-Path: <java-user-return-26993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41506 invoked from network); 19 Mar 2007 16:11:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 16:11:05 -0000
Received: (qmail 62059 invoked by uid 500); 19 Mar 2007 16:11:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62029 invoked by uid 500); 19 Mar 2007 16:11:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62018 invoked by uid 99); 19 Mar 2007 16:11:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 09:11:06 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=FORGED_YAHOO_RCVD,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 09:10:55 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HTKRO-0003tD-U1
	for java-user@lucene.apache.org; Mon, 19 Mar 2007 09:10:34 -0700
Message-ID: <9555198.post@talk.nabble.com>
Date: Mon, 19 Mar 2007 09:10:34 -0700 (PDT)
From: louiebagz <louiebagz@yahoo.com>
To: java-user@lucene.apache.org
Subject: how to index XML elements with the same name using Lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3230_8071039.1174320634923"
X-Nabble-From: louiebagz@yahoo.com
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_3230_8071039.1174320634923
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


hello guys, 

I need some help. I'm working on an XML file and trying to create a lucene
index for each element. My XML file have repeating elements with different
values. When I tried to run lucene, it can only index one of the elements.
Both files are attached for your reference. 

Hoping for your favorable response. 

Thank you!

Louie 

http://www.nabble.com/file/7271/keywords.xml keywords.xml 
http://www.nabble.com/file/7272/IndexKeyWords.java IndexKeyWords.java 

-- 
View this message in context: http://www.nabble.com/how-to-index-XML-elements-with-the-same-name-using-Lucene-tf3428085.html#a9555198
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

------=_Part_3230_8071039.1174320634923--


From java-user-return-26994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 18:09:32 2007
Return-Path: <java-user-return-26994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84183 invoked from network); 19 Mar 2007 18:09:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 18:09:31 -0000
Received: (qmail 27050 invoked by uid 500); 19 Mar 2007 18:09:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27009 invoked by uid 500); 19 Mar 2007 18:09:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26998 invoked by uid 99); 19 Mar 2007 18:09:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 11:09:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [198.144.201.51] (HELO esseff.org) (198.144.201.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 11:09:21 -0700
Received: from localhost (localhost [127.0.0.1])
	by esseff.org (Postfix) with ESMTP id 7673A1C7B
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 11:13:43 -0700 (PDT)
X-Quarantine-ID: <c7usn+hb7-oM>
X-Virus-Scanned: amavisd-new at esseff.org
Received: from esseff.org ([127.0.0.1])
	by localhost (esseff.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c7usn+hb7-oM for <java-user@lucene.apache.org>;
	Mon, 19 Mar 2007 11:13:38 -0700 (PDT)
Received: from professorville.windows.esseff.org (professorville.windows.esseff.org [10.0.1.16])
	by esseff.org (Postfix) with ESMTP id D2DF51C59
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 11:13:38 -0700 (PDT)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Fast index traversal and update for stored field?
Content-class: urn:content-classes:message
Date: Mon, 19 Mar 2007 11:08:55 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <392521EA2692A2418DF48C331E61E32506AC4F@professorville.windows.esseff.org>
In-Reply-To: <B23FD24F-ECE4-4B1F-8E02-F7666AEADA96@apple.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Fast index traversal and update for stored field?
Thread-Index: Acdmme9n0aGgGKoiQJiB8x650EEvYADsT0Kw
References: <D381BC1B-8A37-418E-855C-4C2ED721A458@apple.com> <359a92830703141650u43c80874id62118da0b06d1d3@mail.gmail.com> <B23FD24F-ECE4-4B1F-8E02-F7666AEADA96@apple.com>
From: "Steven Parkes" <steven_parkes@esseff.org>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

You'll have a difficult time updating Lucene indexes in place. A lot of
coordination exists within Lucene specifically not to do this: it's the
fact that Lucene does not do this that enables a lot of the lockless
parallelism in Lucene. This applies equally to the data store and the
inverted index portions of the Lucene index.

-----Original Message-----
From: Thomas K. Burkholder [mailto:burkhold@apple.com]=20
Sent: Wednesday, March 14, 2007 5:36 PM
To: java-user@lucene.apache.org
Subject: Re: Fast index traversal and update for stored field?

Hey, thanks for the quick reply.

I've considered using a secondary index just for this data but =20
thought I would look at storing the data in lucene first, since =20
ultimately this data gets transported to an outside system, and it's =20
a lot easier if there's only one "thing" to transfer.  The =20
destination environment that receives this lucene index doesn't (and =20
shouldn't) have access to the database, which is why we don't simply =20
store it there.  Even if it did, we try not to access the database =20
for search results when we don't have to, as this tends to make =20
searching slow (as I think you were alluding to).

Sounds like there's nothing "out of the box" to solve my problem; if =20
I write something to update lucene indexes in place I'll follow up =20
about it in here (don't know that I will though; building a new, =20
narrower index is probably more expedient and will probably be fast =20
enough for my purposes in this case).

Thanks again,

//Thomas

On Mar 14, 2007, at 4:50 PM, Erick Erickson wrote:

> If you search the mail archive for "update in place" (no quotes),
> you'll find extensive discussions of this idea. Although you're
> raising an interesting variant because you're talking about a non-
> indexed field, so now I'm not sure those discussions are relevant.
>
> I don't know of anyone who has done what you're asking though...
>
> But if it's just stored data, you could go out to a database and
> pick it up at search time, although there are sound reasons for
> not requiring a database connection.
>
> What about having a separate index for just this one field? And
> make it an indexed value, along with some id (not the Lucene ID,
> probably) of your original. Something like
>
> index fields
> ID  (unique ID for each document)
> field (the corresponding value).
>
> Searching this should be very fast, and if the usual Hits based
> search wasn't fast enough, perhaps something with
> termenum/termdocs would be faster.
>
> Or you could just index the unique ID and store (but not index)
> the field. Hits or variants should work for that too.
>
> So the general algorithm would be:
>
> search main index
> for each hit:
>   search second index and fetch that field
>
> I have no idea whether this has any traction for your problem
> space, but I thought I'd mention it. This assumes that building
> the mutable index would be acceptably fast...
>
> Although conceptually, this is really just a Map of ID/value pairs.
> I have no idea how much data you're talking about, but if it's not
> a huge data set, might it be possible just to store it in
> a simple map and look it up that way?
>
> And if I'm all wet, I'm sure others will chime in...
>
> Best
> Erick
> *
>
> *
> On 3/14/07, Thomas K. Burkholder <burkhold@apple.com> wrote:
>>
>> Hi there,
>>
>> I'm using lucene to index and store entries from a database table for
>> ultimate retrieval as search results.  This works fine.  But I find
>> myself in the position of wanting to occasionally (daily-ish) bulk-
>> update a single, stored, non-indexed field in every document in the
>> index, without changing any indexed value at all.
>>
>> The obviously documented way to do this would be to remove and then
>> re-add each updated document successively.  However, I know from
>> experience that rebuilding our index from scratch in this fashion
>> would take several hours at least, which is too long to delay pending
>> incremental index jobs.  It seems to me that at some level it should
>> be possible to iterate over all the document storage on disk and
>> modify only the field I'm interested in (no index modification
>> required remember as this is a field that is stored but not
>> indexed).  It's plain from the documentation on file formats that it
>> would be potentially possible to do this from a low level, however
>> before I go possibly re-inventing that wheel, I'm wondering if anyone
>> knows of any existing code out there that would aid in solving this
>> problem.
>>
>> Thanks in advance,
>>
>> //Thomas
>> Thomas K. Burkholder
>> Code Janitor
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 18:36:00 2007
Return-Path: <java-user-return-26995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93678 invoked from network); 19 Mar 2007 18:35:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 18:35:59 -0000
Received: (qmail 66926 invoked by uid 500); 19 Mar 2007 18:35:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66893 invoked by uid 500); 19 Mar 2007 18:35:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66878 invoked by uid 99); 19 Mar 2007 18:35:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 11:35:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.152 as permitted sender)
Received: from [195.212.29.152] (HELO mtagate3.de.ibm.com) (195.212.29.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 11:35:50 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate3.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2JIZRlS056032
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 18:35:28 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2JIZS6I1605726
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 19:35:28 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2JIZRYk010723
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 19:35:27 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2JIZRic010720
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 19:35:27 +0100
In-Reply-To: <5CA1E933-1C02-43A0-ACF8-CCE35ED4AC3C@apache.org>
Subject: Re: contrib/benchmark questions
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF115A5DB0.8CF720D3-ON882572A3.00261592-882572A3.0065B122@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Mon, 19 Mar 2007 10:30:44 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 19/03/2007 20:35:27
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Grant Ingersoll <gsingers@apache.org> wrote on 18/03/2007 10:16:14:

> I'm using contrib/benchmark to do some tests for my ApacheCon talk
> and have some questions.
>
> 1. In looking at micro-standard.alg, it seems like not all braces are
> closed.  Is a line ending a separator too?

'>' can replace as a closing character (alternatively) either '}' or ']'
with the semantics: "do not collect/report separate statistics for the
contained tasks. See "Statistic recording elimination" in
http://lucene.apache.org/java/docs/api/org/apache/lucene/benchmark/byTask/package-summary.html

> 2. Is there anyway to dump out what params are supported by the
> various tasks?  I am esp. uncertain on the Search related tasks.

Search related tasks do not take args. Perhaps the task should throw an
exception if a params is set but not supported. I think I'll add that.
Currently only AdDoc, DeleteDoc and SetProp take args. The section "Command
parameter" in
http://lucene.apache.org/java/docs/api/org/apache/lucene/benchmark/byTask/package-summary.html
 which describes this is incomplete - I will fix it to reflect that.

Which query arguments do you have in mind?

> 3. Is there anyway to dump out the stats as a CSV file or something?
> Would I implement a Task for this?  Ultimately, I want to be able to
> create a graph in Excel that shows tradeoffs between speed and memory.

Yes, implementing a report task would be the way.
... but when I look at how I implemented these reports, all the work is
done in the class Points. Seems it should be modified a little with more
thought of making it easiert to extend reports.

> 4. Is there a way to set how many tabs occur between columns in the
> final report?  They merge and buffer factors get hard to read for
> larger values.

There's no general tabbing control, can be added if required, - but for the
automatically added columns this is not requireed - just modify the name of
the column and it would fit, e.g. use "merge:10:100" to get a 5 charactres
column, or "merging:10:100" for 7, etc. (Also see "Index work parameters"
under "Benchmark properties" in
http://lucene.apache.org/java/docs/api/org/apache/lucene/benchmark/byTask/package-summary.html

> 5. Below is my "alg" file, any tips?  What I am trying to do is show
> the tradeoffs of merge factor and max buffered and how it relates to
> memory and indexing time.  I want to process all the documents in the
> Reuters benchmark collection, not the 2000 in the micro-standard.  I
> don't want any pauses and for now I am happy doing things in serial.
> I think it is doing what I want, but am not 100% certain.
>

Yes, it seems correct to me. What I usually do to verify a new alg is to
run it first with very small numbers - e.g. 10 instead of 22000, etc., and
examine the log. Few comments:
- you can specify a larger number than 22000 and the Docmaker will iterate
and created new docs from same input again.
- Being intetested in memory stats - the thing that all the rounds run in a
single program, same JVM run, usually means what you see is very much
dependent in the GC behavior of the specific VM you are using. If it does
not release memory (most likely) to the OS you would not be able to notice
that round i+1 used less memory than round i. It would probably better for
something like this to put the "round" logic in an ant script, invoking
each round in a separate new exec. But then things get more complicated for
having a final stats report containing all rounds. What do you think about
this?
- Seems you are only inrerested in the indexing performance, so you can
remove (or comment out) the search part.
- If you are intrerested also in the search part, note that as written, the
four last search related tasks always use a new reader (opening/closing 950
readers in this test).


> -----------  alg file --------
>
> #last value is more than all the docs in reuters
> merge.factor=mrg:10:100:1000:5000:10:10:10:10:100:1000
> max.buffered=buf:10:10:10:10:100:1000:10000:21580:21580:21580
> compound=true
>
> analyzer=org.apache.lucene.analysis.standard.StandardAnalyzer
> directory=FSDirectory
> #directory=RamDirectory
>
> doc.stored=true
> doc.tokenized=true
> doc.term.vector=false
> doc.add.log.step=1000
>
> docs.dir=reuters-out
> #docs.dir=reuters-111
>
> #doc.maker=org.apache.lucene.benchmark.byTask.feeds.SimpleDocMaker
> doc.maker=org.apache.lucene.benchmark.byTask.feeds.ReutersDocMaker
>
> #query.maker=org.apache.lucene.benchmark.byTask.feeds.SimpleQueryMaker
> query.maker=org.apache.lucene.benchmark.byTask.feeds.ReutersQueryMaker
>
> # task at this depth or less would print when they start
> task.max.depth.log=2
>
> log.queries=true
> #
> ------------------------------------------------------------------------
> -------------
>
> { "Rounds"
>
>      ResetSystemErase
>
>      { "Populate"
>          CreateIndex
>          { "MAddDocs" AddDoc > : 22000
>          Optimize
>          CloseIndex
>      }
>
>      OpenReader
>      { "SearchSameRdr" Search > : 5000
>      CloseReader
>
>      { "WarmNewRdr" Warm > : 50
>
>      { "SrchNewRdr" Search > : 500
>
>      { "SrchTrvNewRdr" SearchTrav > : 300
>
>      { "SrchTrvRetNewRdr" SearchTravRet > : 100
>
>      NewRound
>
> } : 10
>
> RepSumByName
> RepSumByPrefRound MAddDocs
>
>
> Thanks,
> Grant
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 20:10:51 2007
Return-Path: <java-user-return-26996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35419 invoked from network); 19 Mar 2007 20:10:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 20:10:50 -0000
Received: (qmail 37078 invoked by uid 500); 19 Mar 2007 20:10:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37035 invoked by uid 500); 19 Mar 2007 20:10:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37024 invoked by uid 99); 19 Mar 2007 20:10:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 13:10:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.5] (HELO spunkymail-a11.g.dreamhost.com) (208.97.132.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 13:10:40 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a11.g.dreamhost.com (Postfix) with ESMTP id D0F5DB7967
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 13:10:18 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <OF115A5DB0.8CF720D3-ON882572A3.00261592-882572A3.0065B122@il.ibm.com>
References: <OF115A5DB0.8CF720D3-ON882572A3.00261592-882572A3.0065B122@il.ibm.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <248F40A1-3D59-420C-A02D-27AB233562E8@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: contrib/benchmark questions
Date: Mon, 19 Mar 2007 16:10:16 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the reply, Doron.  I knew this email was targeted for you,  
but thought it would be good to add to the user record.

On Mar 19, 2007, at 2:30 PM, Doron Cohen wrote:

> Grant Ingersoll <gsingers@apache.org> wrote on 18/03/2007 10:16:14:
>
>> I'm using contrib/benchmark to do some tests for my ApacheCon talk
>> and have some questions.
>>
>> 1. In looking at micro-standard.alg, it seems like not all braces are
>> closed.  Is a line ending a separator too?
>
> '>' can replace as a closing character (alternatively) either '}'  
> or ']'
> with the semantics: "do not collect/report separate statistics for the
> contained tasks. See "Statistic recording elimination" in
> http://lucene.apache.org/java/docs/api/org/apache/lucene/benchmark/ 
> byTask/package-summary.html

So, if I am understanding correctly:

>> "SearchSameRdr" Search > : 5000

means don't collect indiv. stats fur SearchSameRdr, but do whatever  
that task does 5000 times, right?


>
>> 2. Is there anyway to dump out what params are supported by the
>> various tasks?  I am esp. uncertain on the Search related tasks.
>
> Search related tasks do not take args. Perhaps the task should  
> throw an
> exception if a params is set but not supported. I think I'll add that.
> Currently only AdDoc, DeleteDoc and SetProp take args. The section  
> "Command
> parameter" in
> http://lucene.apache.org/java/docs/api/org/apache/lucene/benchmark/ 
> byTask/package-summary.html
>  which describes this is incomplete - I will fix it to reflect that.
>
> Which query arguments do you have in mind?

Never mind, I was confused by the : XXXX parameters after the >

>
>> 3. Is there anyway to dump out the stats as a CSV file or something?
>> Would I implement a Task for this?  Ultimately, I want to be able to
>> create a graph in Excel that shows tradeoffs between speed and  
>> memory.
>
> Yes, implementing a report task would be the way.
> ... but when I look at how I implemented these reports, all the  
> work is
> done in the class Points. Seems it should be modified a little with  
> more
> thought of making it easiert to extend reports.

I may take a crack at it, but deadline for the talk is looming


>
>> 4. Is there a way to set how many tabs occur between columns in the
>> final report?  They merge and buffer factors get hard to read for
>> larger values.
>
> There's no general tabbing control, can be added if required, - but  
> for the
> automatically added columns this is not requireed - just modify the  
> name of
> the column and it would fit, e.g. use "merge:10:100" to get a 5  
> charactres
> column, or "merging:10:100" for 7, etc. (Also see "Index work  
> parameters"
> under "Benchmark properties" in
> http://lucene.apache.org/java/docs/api/org/apache/lucene/benchmark/ 
> byTask/package-summary.html
>
>> 5. Below is my "alg" file, any tips?  What I am trying to do is show
>> the tradeoffs of merge factor and max buffered and how it relates to
>> memory and indexing time.  I want to process all the documents in the
>> Reuters benchmark collection, not the 2000 in the micro-standard.  I
>> don't want any pauses and for now I am happy doing things in serial.
>> I think it is doing what I want, but am not 100% certain.
>>
>
> Yes, it seems correct to me. What I usually do to verify a new alg  
> is to
> run it first with very small numbers - e.g. 10 instead of 22000,  
> etc., and
> examine the log. Few comments:
> - you can specify a larger number than 22000 and the Docmaker will  
> iterate
> and created new docs from same input again.
> - Being intetested in memory stats - the thing that all the rounds  
> run in a
> single program, same JVM run, usually means what you see is very much
> dependent in the GC behavior of the specific VM you are using. If  
> it does
> not release memory (most likely) to the OS you would not be able to  
> notice
> that round i+1 used less memory than round i. It would probably  
> better for
> something like this to put the "round" logic in an ant script,  
> invoking
> each round in a separate new exec. But then things get more  
> complicated for
> having a final stats report containing all rounds. What do you  
> think about
> this?

Good to know.  Perhaps a GarbageCollectionTask is needed?


> - Seems you are only inrerested in the indexing performance, so you  
> can
> remove (or comment out) the search part.
> - If you are intrerested also in the search part, note that as  
> written, the
> four last search related tasks always use a new reader (opening/ 
> closing 950
> readers in this test).

OK, search is the second part, just focused on indexing first.   
Trying to address common questions/issues people have with  
performance in these two areas.

So, I should wrap those task in an OpenReader/CloseReader?

We may also want to consider making this an XML based type  
configuration...

Thanks for your help.  I will probably have a few more questions over  
the next few days.

-Grant

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 21:16:37 2007
Return-Path: <java-user-return-26997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65057 invoked from network); 19 Mar 2007 21:16:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 21:16:35 -0000
Received: (qmail 86197 invoked by uid 500); 19 Mar 2007 21:16:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86161 invoked by uid 500); 19 Mar 2007 21:16:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86150 invoked by uid 99); 19 Mar 2007 21:16:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 14:16:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 14:16:24 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2JLG13S255694
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 21:16:01 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2JLG1cj1925288
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 22:16:01 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2JLG1bR013554
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 22:16:01 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2JLG1Cf013550
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 22:16:01 +0100
In-Reply-To: <248F40A1-3D59-420C-A02D-27AB233562E8@apache.org>
Subject: Re: contrib/benchmark questions
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFCDED8A74.9909D1E7-ON882572A3.0070EA9E-882572A3.00746689@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Mon, 19 Mar 2007 13:11:24 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 19/03/2007 23:16:00
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Grant Ingersoll <gsingers@apache.org> wrote on 19/03/2007 13:10:16:

> So, if I am understanding correctly:
>
> >> "SearchSameRdr" Search > : 5000
>
> means don't collect indiv. stats fur SearchSameRdr, but do whatever
> that task does 5000 times, right?

Almost...

It should be btw
   { "SearchSameRdr" Search > : 5000
and it means: run Search 5000 times, sequentially, 5000 times, assign the
name "SearchSameRdr" to that sequence of 5000, and do not collect
individual stats for the individual tasks making that sequence.

If it was just
  { Search > : 5000
it would still mean the same, just that a name was assigned to this for
you, something like: "Seq_Search_5000".

If it was:
   { "SearchSameRdr" Search } : 5000
it would be the same as your example, just that stas would be collected not
only for the entire elapsed sequence, but also breaking it down for each of
the 5000 calls to "Search".

Similar logic with
  [ .. ]
and
  [ .. >
just that the tasks making the (parallel) sequence are executed in
parallel, each in a separate thread.

>
> >
> >> 3. Is there anyway to dump out the stats as a CSV file or something?
> >> Would I implement a Task for this?  Ultimately, I want to be able to
> >> create a graph in Excel that shows tradeoffs between speed and
> >> memory.
> >
> > Yes, implementing a report task would be the way.
> > ... but when I look at how I implemented these reports, all the
> > work is
> > done in the class Points. Seems it should be modified a little with
> > more
> > thought of making it easiert to extend reports.
>
> I may take a crack at it, but deadline for the talk is looming

I'll take a look too, let you know if I have anything.

> > - Being intetested in memory stats - the thing that all the rounds
> > run in a
> > single program, same JVM run, usually means what you see is very much
> > dependent in the GC behavior of the specific VM you are using. If
> > it does
> > not release memory (most likely) to the OS you would not be able to
> > notice
> > that round i+1 used less memory than round i. It would probably
> > better for
> > something like this to put the "round" logic in an ant script,
> > invoking
> > each round in a separate new exec. But then things get more
> > complicated for
> > having a final stats report containing all rounds. What do you
> > think about
> > this?
>
> Good to know.  Perhaps a GarbageCollectionTask is needed?

ResetSystemSoft and ResetSystemErase both call GC;
Is this sufficient, task wise?
The concern is that this is not enough gc/mem wise, because the JVM already
has some memory, that the OS is not going to reclaim.

> So, I should wrap those task in an OpenReader/CloseReader?

Yes, if you want the same reader object to be used by all these.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 19 23:37:18 2007
Return-Path: <java-user-return-26998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30146 invoked from network); 19 Mar 2007 23:37:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 19 Mar 2007 23:37:17 -0000
Received: (qmail 31152 invoked by uid 500); 19 Mar 2007 23:37:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30824 invoked by uid 500); 19 Mar 2007 23:37:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30813 invoked by uid 99); 19 Mar 2007 23:37:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 16:37:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of appler@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 16:37:09 -0700
Received: by an-out-0708.google.com with SMTP id c3so1247385ana
        for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 16:36:48 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=C63hF99BkInxwibz90jP6WKc1QA1/9ujnz79/X+qsmpiECg9jsVUdkER8BqBArm5KOGyvbsjtt8ZO4Jve6z+fn8DX7BKzr4vs5C8I97HhyppJIicmruWNHlaSsqEd7SasUCywH0n5fzmWwzIUUQkVwwVxf8JzJhmA5yS2qa1wqg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CB0fHdO0kQS/G8aGRM/+cNAQ2oKKjKW7rgaZBtl+q7QEJdYkkfUZCNPIx9MHKQjj8punb0Tg/rF2tofY8JeDnnCZAZwKj+RYA9Ho85H/O+pHXMQg316LfyKmlbs/mUOOOJLXzbrD8kxxjh3ykx4IackmxrP5PXAlvBXOP3ZtTj8=
Received: by 10.100.119.14 with SMTP id r14mr4309457anc.1174347408660;
        Mon, 19 Mar 2007 16:36:48 -0700 (PDT)
Received: by 10.100.8.6 with HTTP; Mon, 19 Mar 2007 16:36:48 -0700 (PDT)
Message-ID: <48b708490703191636r11a0fd8xf66b930faf846d0a@mail.gmail.com>
Date: Tue, 20 Mar 2007 08:36:48 +0900
From: "Cheolgoo Kang" <appler@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to index XML elements with the same name using Lucene
In-Reply-To: <9555198.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <9555198.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Keywords.setKeyword(String) could've been able to stack all the
keywords set by the digester. So, setKeyword(String) method should be
written like below using java.util.List:

    public static class KeyWords
    {
        private String lineNum;
        private List<String> kw = new LinkedList<String>();

        public void setLineNum(String newLineNum)
        {
            lineNum = newLineNum;
        }
        public String getLineNum()
        {
            return lineNum;
        }

        public void setKeyWord(String newKW)
        {
            kw.add( newKW );
        }
        public List<String> getKeyWordList()
        {
            return kw;
        }
    }

So, you have to change the IndexKeyWords.addKeywords(Keywords) method
to handle the 'list' of keywords read from xml file. It'll solve the
'reading several elements from xml file' problem.

And make sure you care about those keywords with two or more words.
StandardAnalyzer will split all the words in one keyword if they are
separated by whitespace. Then you'll have to use PhraseQuery or span
queries to search a exact phrase like "controlled hypertension".

HTH


On 3/20/07, louiebagz <louiebagz@yahoo.com> wrote:
>
> hello guys,
>
> I need some help. I'm working on an XML file and trying to create a lucene
> index for each element. My XML file have repeating elements with different
> values. When I tried to run lucene, it can only index one of the elements.
> Both files are attached for your reference.
>
> Hoping for your favorable response.
>
> Thank you!
>
> Louie
>
> http://www.nabble.com/file/7271/keywords.xml keywords.xml
> http://www.nabble.com/file/7272/IndexKeyWords.java IndexKeyWords.java
>
> --
> View this message in context: http://www.nabble.com/how-to-index-XML-elements-with-the-same-name-using-Lucene-tf3428085.html#a9555198
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>


-- 
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-26999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 00:06:35 2007
Return-Path: <java-user-return-26999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40916 invoked from network); 20 Mar 2007 00:06:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 00:06:33 -0000
Received: (qmail 74129 invoked by uid 500); 20 Mar 2007 00:06:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73277 invoked by uid 500); 20 Mar 2007 00:06:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73266 invoked by uid 99); 20 Mar 2007 00:06:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 17:06:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 17:06:26 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A636F5B764; Mon, 19 Mar 2007 17:06:05 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 8E76F7F403
	for <java-user@lucene.apache.org>; Mon, 19 Mar 2007 17:06:05 -0700 (PDT)
Date: Mon, 19 Mar 2007 17:06:05 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Trouble w/ Query Creation
In-Reply-To: <5a8b64620703190802g4d5c349fl1c6c986f8750ad33@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703191704420.32405@hal.rescomp.berkeley.edu>
References: <5a8b64620703190802g4d5c349fl1c6c986f8750ad33@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I currently have a boolean query which contains a MultiFieldQuery  for all

MultiFieldQuery is not a query class that comes with Lucene ... did you
write it yourself?

it sounds like what you want is a boolean query (of a
DisjunctionMaxQuery) containing a seperate phrase query for each field ...
if you just do term queries you might not get the order you want if one of
hte "words" apperas a lot more often (and in more fields) then the other.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 03:41:55 2007
Return-Path: <java-user-return-27000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16528 invoked from network); 20 Mar 2007 03:41:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 03:41:55 -0000
Received: (qmail 54246 invoked by uid 500); 20 Mar 2007 03:41:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53268 invoked by uid 500); 20 Mar 2007 03:41:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53234 invoked by uid 99); 20 Mar 2007 03:41:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 20:41:55 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 20:41:45 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HTVDw-0002ck-RM
	for java-user@lucene.apache.org; Mon, 19 Mar 2007 20:41:24 -0700
Message-ID: <9565759.post@talk.nabble.com>
Date: Mon, 19 Mar 2007 20:41:24 -0700 (PDT)
From: Lokeya <lokeya@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
In-Reply-To: <9543855.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: lokeya@gmail.com
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com> <9536099.post@talk.nabble.com> <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org> <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com> <9540232.post@talk.nabble.com> <5BD5D3FF-1A33-465F-BFD4-B312731EFDB7@gmail.com> <9542471.post@talk.nabble.com> <359a92830703181511q2ce8bbbfqc98907183e120d10@mail.gmail.com> <9543855.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks all for the valuable suggestions.

The lock issue also got resolved and all 7 laks files are indexed in arnd 85
minutes which is like wow !

To get away with the lock issue i followed the suggestion given in this :
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200601.mbox/%3CPKEIKOCKCHNIIHNECPCCGELACCAA.koji.sekiguchi@m4.dion.ne.jp%3E

There is another approach also but certain issues are there:

try
{
 writer.close();
}
finally
{
FSDirectory fs = FSDirectory.getDirectory("./LUCENE",false);
if(IndexReader.isLocked(fs));
{
 IndexReader.unlock(fs);
}
}

Thanks a lot again.


Lokeya wrote:
> 
> I will try to explain it like an algorithm what I am trying to do:
> 
> 1. There are 70 Dump files which have 10,000 record tags which I have
> pasted in my earlier mails. I split every dumpfile and create 10,000 xml
> files each with a single <record> and its child tags. This is because
> there are some parsing issues due to unicode characters and we have
> decided to process only valid records.
> 
> 2. With the above idea, I created 70 directories each with the name of
> dumpfile like : oai_citeseer_1/ etc and under this I will have 10,000
> XML's being extracted out using some Java program.
> 
> 3. So now coming to my program, I do the following:
>     a. Take Each Dumpfile directory.
>     b. Get all child xml files(would be 10,000 in number)
>     c. Get the <title> and <description> tag values and put them in an
> array list.
>     d. Create a new doc. 
>     e. In a for loop add all title and description values as fields which
> we haev stored in ArrayList(this loop will add 10,000 X 2 = 20,000 fields
> for both tags)
>    f. Add this document to the index writer.
>    g. Optimize and close it.
> 
> Hope this clearly tells how im trying to index the values of those tags.
> 
> Additional Info: I am using lucene-core-2.0.0.jar.
> 
> StackTrace :
> Indexer.java:75)
> java.io.IOException: Lock obtain timed out:
> Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
>         at org.apache.lucene.store.Lock.obtain(Lock.java:56)
>         at
> org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:254)
>         at
> org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:204)
>         at edu.vt.searchengine.Indexer.main(Indexer.java:110)
> 
> 
> Erick Erickson wrote:
>> 
>> I'm not sure what the lock issues is. What version of Lucene are you
>> using? And what is your filesystem like? There are some known locking
>> issues with some versions of Lucene and some filesystems,
>> particularly NFS mounts as I remember... It would help if you told
>> us the entire stack trace rather than just the exception.
>> 
>> But I really don't understand your index structure. You are still
>> opening and closing Lucene every time you add a document.
>> And each document contains the titles and descriptions
>> of all the files in the directory. Is this actually your intent or
>> do you really want to index one Lucene document per
>> title/description pair? If the latter, you want a loop something like...
>> 
>> open writer
>> for each file
>>     parse file
>>     Doc doc = new Document();
>>     doc.add(field, val);
>>     doc.add(field2, val2);
>>     writer.write(doc);
>> end for
>> 
>> writer.close();
>> 
>> There's no reason to close the writer until the last xml file has been
>> indexed......
>> 
>> If that re-structuring causes your lock error to go away, I'll be
>> baffled because it shouldn't (unless your version of Lucene
>> and filesystem is one of the "interesting" ones).
>> 
>> But it'll make your code simpler...
>> 
>> Best
>> Erick
>>     add fields to
>> 
>> On 3/18/07, Lokeya <lokeya@gmail.com> wrote:
>>>
>>>
>>> Yep I did that, and now my code looks as follows.
>>> The time taken for indexing one file is now => Elapsed Time in Minutes
>>> ::
>>> 0.3531, which is really great, but after processing 4 dumpfiles(which
>>> means
>>> 40,000 small xml's), I get :
>>>
>>> caught a class java.io.IOException
>>> 40114  with message: Lock obtain timed out:
>>> Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
>>>
>>>
>>> This is the new issue now.What could be the reason ?. I am surprised
>>> because
>>> I am only writing to Index under ./LUCENE/ evrytime and not doing
>>> anything
>>> with the index(ofcrs to avoid such synchronization issues !)
>>>
>>>                 for (int i=0; i<children1.length; i++)
>>>                         {
>>>                                 // Get filename of file or directory
>>>                                 String filename = children1[i];
>>>
>>>                                 if(!filename.startsWith("oai_citeseer"))
>>>                                 {
>>>                                         continue;
>>>                                 }
>>>                                 String dirName = filename;
>>>                                 System.out.println("File => "+filename);
>>>
>>>                                 NodeList nl = null;
>>>                                 //Testing the creation of Index
>>>                                 try
>>>                                 {
>>>                                         File dir = new File(dirName);
>>>                                         String[] children = dir.list();
>>>                                         if (children == null) {
>>>                                                 // Either dir does not
>>> exist or is not a directory
>>>                                         }
>>>                                         else
>>>                                         {
>>>                                                 ArrayList alist_Title =
>>> new ArrayList(children.length);
>>>                                                 ArrayList alist_Descr =
>>> new ArrayList(children.length);
>>>                                                 System.out.println("Size
>>> of Array List : "+alist_Title.size());
>>>                                                 String title = null;
>>>                                                 String descr = null;
>>>
>>>                                                 long startTime =
>>> System.currentTimeMillis();
>>>                                                 System.out.println(dir
>>> +"
>>> start time  ==> "+
>>> System.currentTimeMillis());
>>>
>>>                                                 for (int ii=0; ii<
>>> children.length; ii++)
>>>                                                 {
>>>                                                         // Get filename
>>> of
>>> file or directory
>>>                                                         String file =
>>> children[ii];
>>>                                                        
>>> System.out.println("
>>> Name of Dir : Record ~~~~~~~ " +dirName +" : "+
>>> file);
>>>                                                        
>>> //System.out.println("The
>>> name of file parsed now ==> "+file);
>>>
>>>                                                         //Get the value
>>> of
>>> recXYZ's metadata tag
>>>                                                         nl =
>>> ValueGetter.getNodeList(filename+"/"+file, "metadata");
>>>
>>>                                                         if(nl == null)
>>>                                                         {
>>>
>>> System.out.println("Error shoudlnt be thrown ...");
>>>
>>>                                                                
>>> alist_Title.add(ii,"title");
>>>
>>>                                                                
>>> alist_Descr.add(ii,"descr");
>>>                                                                
>>> continue;
>>>                                                         }
>>>
>>>                                                         //Get the
>>> metadata
>>> element(title and description tags from dump file
>>>                                                         ValueGetter vg =
>>> new ValueGetter();
>>>
>>>                                                         //Get the
>>> Extracted Tags Title, Identifier and Description
>>>                                                         try
>>>                                                         {
>>>                                                                 title =
>>> vg.getNodeVal(nl, "dc:title");
>>>
>>>                                                                
>>> alist_Title.add(ii,title);
>>>                                                                 descr =
>>> vg.getNodeVal(nl, "dc:description");
>>>
>>>                                                                
>>> alist_Descr.add(ii,descr);
>>>                                                         }
>>>                                                         catch(Exception
>>> ex)
>>>                                                         {
>>>
>>> ex.printStackTrace();
>>>
>>> System.out.println("Excep ==> "+ ex);
>>>                                                         }
>>>
>>>                                                 }//End of For
>>>
>>>                                                 //Create an Index under
>>> LUCENE
>>>
>>>                                                 IndexWriter writer = new
>>> IndexWriter("./LUCENE", new
>>> StopStemmingAnalyzer(),false);
>>>                                                 Document doc = new
>>> Document();
>>>
>>>                                                 //Get Array List
>>> Elements  and add them as fileds to doc
>>>
>>>                                                 for(int k=0; k <
>>> alist_Title.size(); k++)
>>>                                                 {
>>>                                                         doc.add(new
>>> Field("Title",alist_Title.get(k).toString(),
>>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>>                                                 }
>>>
>>>                                                 for(int k=0; k <
>>> alist_Descr.size(); k++)
>>>                                                 {
>>>                                                         doc.add(new
>>> Field("Description",alist_Descr.get(k).toString(),
>>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>>                                                 }
>>>
>>>                                                 //Add the document
>>> created
>>> out of those fields to the IndexWriter
>>> which will create and index
>>>                                                 writer.addDocument(doc);
>>>                                                 writer.optimize();
>>>                                                 writer.close();
>>>
>>>                                                 long elapsedTimeMillis =
>>> System.currentTimeMillis()-startTime;
>>>                                                
>>> System.out.println("Elapsed
>>> Time for  "+dirName +" :: " +
>>> elapsedTimeMillis);
>>>                                                 float elapsedTimeMin =
>>> elapsedTimeMillis/(60*1000F);
>>>                                                
>>> System.out.println("Elapsed
>>> Time in Minutes ::  "+ elapsedTimeMin);
>>>
>>>                                         }//End of Else
>>>
>>>                                 } //End of try
>>>                                 catch (Exception ee)
>>>                                 {
>>>                                         ee.printStackTrace();
>>>                                         System.out.println("caught a " +
>>> ee.getClass() + "\n with message: "+
>>> ee.getMessage());
>>>                                 }
>>>                                 System.out.println("Total Record ==>
>>> "+total_records);
>>>
>>>                         }// End of For
>>>
>>> Grant Ingersoll-5 wrote:
>>> >
>>> > Move index writer creation, optimization and closure outside of your
>>> > loop.  I would also use a SAX parser.  Take a look at the demo code
>>> > to see an example of indexing.
>>> >
>>> > Cheers,
>>> > Grant
>>> >
>>> > On Mar 18, 2007, at 12:31 PM, Lokeya wrote:
>>> >
>>> >>
>>> >>
>>> >> Erick Erickson wrote:
>>> >>>
>>> >>> Grant:
>>> >>>
>>> >>>  I think that "Parsing 70 files totally takes 80 minutes" really
>>> >>> means parsing 70 metadata files containing 10,000 XML
>>> >>> files each.....
>>> >>>
>>> >>> One Metadata File is split into 10,000 XML files which looks as
>>> >>> below:
>>> >>>
>>> >>> <root>
>>> >>>     <record>
>>> >>>     <header>
>>> >>>     <identifier>oai:CiteSeerPSU:1</identifier>
>>> >>>     <datestamp>1993-08-11</datestamp>
>>> >>>     <setSpec>CiteSeerPSUset</setSpec>
>>> >>>     </header>
>>> >>>             <metadata>
>>> >>>             <oai_citeseer:oai_citeseer
>>> >>> xmlns:oai_citeseer="http://copper.ist.psu.edu/oai/oai_citeseer/"
>>> >>> xmlns:dc
>>> >>> ="http://purl.org/dc/elements/1.1/"
>>> >>> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
>>> >>> xsi:schemaLocation="http://copper.ist.psu.edu/oai/oai_citeseer/
>>> >>> http://copper.ist.psu.edu/oai/oai_citeseer.xsd ">
>>> >>>             <dc:title>36 Problems for Semantic
>>> Interpretation</dc:title>
>>> >>>             <oai_citeseer:author name="Gabriele Scheler">
>>> >>>                     <address>80290 Munchen , Germany</address>
>>> >>>                     <affiliation>Institut fur Informatik; Technische
>>> Universitat
>>> >>> Munchen</affiliation>
>>> >>>             </oai_citeseer:author>
>>> >>>             <dc:subject>Gabriele Scheler 36 Problems for Semantic
>>> >>> Interpretation</dc:subject>
>>> >>>             <dc:description>This paper presents a collection of
>>> problems for
>>> >>> natural
>>> >>> language analysisderived mainly from theoretical linguistics. Most
>>> of
>>> >>> these problemspresent major obstacles for computational systems of
>>> >>> language interpretation.The set of given sentences can easily be
>>> >>> scaled up
>>> >>> by introducing moreexamples per problem. The construction of
>>> >>> computational
>>> >>> systems couldbenefit from such a collection, either using it
>>> >>> directly for
>>> >>> training andtesting or as a set of benchmarks to qualify the
>>> >>> performance
>>> >>> of a NLPsystem.1 IntroductionThe main part of this paper consists
>>> >>> of a
>>> >>> collection of problems for semanticanalysis of natural language. The
>>> >>> problems are arranged in the following way:example sentencesconcise
>>> >>> description of the problemkeyword for the type of problemThe sources
>>> >>> (first appearance in print) of the sentences have been left
>>> >>> out,because
>>> >>> they are sometimes hard to track and will usually not be of much
>>> >>> use,as
>>> >>> they indicate a starting-point of discussion only. The keywords
>>> >>> howeve...
>>> >>>             </dc:description>
>>> >>>             <dc:contributor>The Pennsylvania State University
>>> CiteSeer
>>> >>> Archives</dc:contributor>
>>> >>>             <dc:publisher>unknown</dc:publisher>
>>> >>>             <dc:date>1993-08-11</dc:date>
>>> >>>             <dc:format>ps</dc:format>
>>> >>>             <dc:identifier>http://citeseer.ist.psu.edu/1.html
>>> </dc:identifier>
>>> >>> <dc:source>ftp://flop.informatik.tu-muenchen.de/pub/fki/
>>> >>> fki-179-93.ps.gz</dc:source>
>>> >>>             <dc:language>en</dc:language>
>>> >>>             <dc:rights>unrestricted</dc:rights>
>>> >>>             </oai_citeseer:oai_citeseer>
>>> >>>             </metadata>
>>> >>>     </record>
>>> >>> </root>
>>> >>>
>>> >>>
>>> >>> From the above I will extract the Title and the Description tags
>>> >>> to index.
>>> >>>
>>> >>> Code to do this:
>>> >>>
>>> >>> 1. I have 70 directories with the name like oai_citeseerXYZ/
>>> >>> 2. Under each of above directory, I have 10,000 xml files each
>>> having
>>> >>> above xml data.
>>> >>> 3. Program does the following
>>> >>>
>>> >>>                                     File dir = new File(dirName);
>>> >>>                                     String[] children = dir.list();
>>> >>>                                     if (children == null) {
>>> >>>                                             // Either dir does not
>>> exist or is not a directory
>>> >>>                                     }
>>> >>>                                     else
>>> >>>                                     {
>>> >>>                                             for (int ii=0; ii<
>>> children.length; ii++)
>>> >>>                                             {
>>> >>>                                                     // Get filename
>>> of
>>> file or directory
>>> >>>                                                     String file =
>>> children[ii];
>>> >>>
>>> //System.out.println("The name of file parsed now ==> "+file);
>>> >>>                                                     nl =
>>> ReadDump.getNodeList(filename+"/"+file, "metadata");
>>> >>>                                                     if(nl == null)
>>> >>>                                                     {
>>> >>>
>>> //System.out.println("Error shoudlnt be thrown ...");
>>> >>>                                                     }
>>> >>>                                                     //Get the
>>> metadata
>>> element tags from xml file
>>> >>>                                                     ReadDump rd =
>>> new
>>> ReadDump();
>>> >>>
>>> >>>                                                     //Get the
>>> Extracted Tags Title, Identifier and Description
>>> >>>                                                     ArrayList
>>> alist_Title = rd.getElements(nl, "dc:title");
>>> >>>                                                     ArrayList
>>> alist_Descr = rd.getElements(nl, "dc:description");
>>> >>>
>>> >>>                                                     //Create an
>>> Index
>>> under DIR
>>> >>>                                                     IndexWriter
>>> writer
>>> = new IndexWriter("./FINAL/", new
>>> >>> StopStemmingAnalyzer(),false);
>>> >>>                                                     Document doc =
>>> new
>>> Document();
>>> >>>
>>> >>>                                                     //Get Array List
>>> Elements  and add them as fileds to doc
>>> >>>                                                     for(int k=0; k <
>>> alist_Title.size(); k++)
>>> >>>                                                     {
>>> >>>                                                            
>>> doc.add(new
>>> Field("Title",alist_Title.get(k).toString(),
>>> >>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>> >>>                                                     }
>>> >>>
>>> >>>                                                     for(int k=0; k <
>>> alist_Descr.size(); k++)
>>> >>>                                                     {
>>> >>>                                                            
>>> doc.add(new
>>> Field("Description",alist_Descr.get(k).toString
>>> >>> (),
>>> >>> Field.Store.YES, Field.Index.UN_TOKENIZED));
>>> >>>                                                     }
>>> >>>
>>> >>>                     //Add the document created out of those fields
>>> to
>>> the
>>> >>> IndexWriter which
>>> >>> will create and index
>>> >>>                                                    
>>> writer.addDocument
>>> (doc);
>>> >>>                                                    
>>> writer.optimize();
>>> >>>                                                     writer.close();
>>> >>>                }
>>> >>>
>>> >>>
>>> >>> This is the main file which does indexing.
>>> >>>
>>> >>> Hope this will give you an idea.
>>> >>>
>>> >>>
>>> >>> Lokeya:
>>> >>> Can you confirm my supposition? And I'd still post the code
>>> >>> Grant requested if you can.....
>>> >>>
>>> >>> So, you're talking about indexing 10,000 xml files in 2-3 hours,
>>> >>> 8 minutes or so which is spent reading/parsing, right? It'll be
>>> >>> important to know how much data you're indexing and now, so
>>> >>> the code snippet is doubly important....
>>> >>>
>>> >>> Erick
>>> >>>
>>> >>> On 3/18/07, Grant Ingersoll <gsingers@apache.org> wrote:
>>> >>>>
>>> >>>> Can you post the relevant indexing code?  Are you doing things like
>>> >>>> optimizing after every file?  Both the parsing and the indexing
>>> >>>> sound
>>> >>>> really long.  How big are these files?
>>> >>>>
>>> >>>> Also, I assume you machine is at least somewhat current, right?
>>> >>>>
>>> >>>> On Mar 18, 2007, at 1:00 AM, Lokeya wrote:
>>> >>>>
>>> >>>>>
>>> >>>>> Thanks for your reply. I tried to check if the I/O and Parsing is
>>> >>>>> taking time
>>> >>>>> separately and Indexing time also. I observed that I/O and Parsing
>>> >>>>> 70 files
>>> >>>>> totally takes 80 minutes where as when I combine this with
>>> Indexing
>>> >>>>> for a
>>> >>>>> single Metadata file it nearly 2 to 3 hours. So looks like
>>> >>>>> IndexWriter takes
>>> >>>>> time that too when we are appending to the Index file this
>>> happens.
>>> >>>>>
>>> >>>>> So what is the best approach to handle this?
>>> >>>>>
>>> >>>>> Thanks in Advance.
>>> >>>>>
>>> >>>>>
>>> >>>>> Erick Erickson wrote:
>>> >>>>>>
>>> >>>>>> See below...
>>> >>>>>>
>>> >>>>>> On 3/17/07, Lokeya <lokeya@gmail.com> wrote:
>>> >>>>>>>
>>> >>>>>>>
>>> >>>>>>> Hi,
>>> >>>>>>>
>>> >>>>>>> I am trying to index the content from XML files which are
>>> >>>>>>> basically the
>>> >>>>>>> metadata collected from a website which have a huge collection
>>> of
>>> >>>>>>> documents.
>>> >>>>>>> This metadata xml has control characters which causes errors
>>> >>>>>>> while trying
>>> >>>>>>> to
>>> >>>>>>> parse using the DOM parser. I tried to use encoding = UTF-8 but
>>> >>>>>>> looks
>>> >>>>>>> like
>>> >>>>>>> it doesn't cover all the unicode characters and I get error.
>>> Also
>>> >>>>>>> when I
>>> >>>>>>> tried to use UTF-16, I am getting Prolog content not allowed
>>> >>>>>>> here. So my
>>> >>>>>>> guess is there is no enoding which is going to cover almost all
>>> >>>>>>> unicode
>>> >>>>>>> characters. So I tried to split my metadata files into small
>>> >>>>>>> files and
>>> >>>>>>> processing records which doesnt throw parsing error.
>>> >>>>>>>
>>> >>>>>>> But by breaking metadata file into smaller files I get, 10,000
>>> >>>>>>> xml files
>>> >>>>>>> per
>>> >>>>>>> metadata file. I have 70 metadata files, so altogether it
>>> becomes
>>> >>>>>>> 7,00,000
>>> >>>>>>> files. Processing them individually takes really long time using
>>> >>>>>>> Lucene,
>>> >>>>>>> my
>>> >>>>>>> guess is I/O is time consuing, like opening every small xml file
>>> >>>>>>> loading
>>> >>>>>>> in
>>> >>>>>>> DOM extracting required data and processing.
>>> >>>>>>
>>> >>>>>>
>>> >>>>>>
>>> >>>>>> So why don't you measure and find out before trying to make the
>>> >>>>>> indexing
>>> >>>>>> step more efficient? You simply cannot optimize without knowing
>>> >>>>>> where
>>> >>>>>> you're spending your time. I can't tell you how often I've been
>>> >>>>>> wrong
>>> >>>>>> about
>>> >>>>>> "why my program was slow" <G>.
>>> >>>>>>
>>> >>>>>> In this case, it should be really simple. Just comment out the
>>> >>>>>> part where
>>> >>>>>> you index the data and run, say, one of your metadata files.. I
>>> >>>>>> suspect
>>> >>>>>> that
>>> >>>>>> Cheolgoo Kang's response is cogent, and you indeed are spending
>>> >>>>>> your
>>> >>>>>> time parsing the XML. I further suspect that the problem is not
>>> >>>>>> disk IO,
>>> >>>>>> but the time spent parsing. But until you measure, you have no
>>> >>>>>> clue
>>> >>>>>> whether you should mess around with the Lucene parameters, or
>>> find
>>> >>>>>> another parser, or just live with it.. Assuming that you
>>> >>>>>> comment out
>>> >>>>>> Lucene and things are still slow, the next step would be to just
>>> >>>>>> read in
>>> >>>>>> each file and NOT parse it to figure out whether it's the IO or
>>> >>>>>> the
>>> >>>>>> parsing.
>>> >>>>>>
>>> >>>>>> Then you can worry about how to fix it..
>>> >>>>>>
>>> >>>>>> Best
>>> >>>>>> Erick
>>> >>>>>>
>>> >>>>>>
>>> >>>>>> Qn  1: Any suggestion to get this indexing time reduced? It
>>> >>>>>> would be
>>> >>>>>> really
>>> >>>>>>> great.
>>> >>>>>>>
>>> >>>>>>> Qn 2 : Am I overlooking something in Lucene with respect to
>>> >>>>>>> indexing?
>>> >>>>>>>
>>> >>>>>>> Right now 12 metadata files take 10 hrs nearly which is really a
>>> >>>>>>> long
>>> >>>>>>> time.
>>> >>>>>>>
>>> >>>>>>> Help Appreciated.
>>> >>>>>>>
>>> >>>>>>> Much Thanks.
>>> >>>>>>> --
>>> >>>>>>> View this message in context:
>>> >>>>>>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-
>>> >>>>>>> control-characters%2C-help-appreciated.-tf3418085.html#a9526527
>>> >>>>>>> Sent from the Lucene - Java Users mailing list archive at
>>> >>>>>>> Nabble.com.
>>> >>>>>>>
>>> >>>>>>>
>>> >>>>>>>
>>> -----------------------------------------------------------------
>>> >>>>>>> ---
>>> >>>>>>> -
>>> >>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> >>>>>>> For additional commands, e-mail:
>>> java-user-help@lucene.apache.org
>>> >>>>>>>
>>> >>>>>>>
>>> >>>>>>
>>> >>>>>>
>>> >>>>>
>>> >>>>> --
>>> >>>>> View this message in context: http://www.nabble.com/Issue-while-
>>> >>>>> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
>>> >>>>> tf3418085.html#a9536099
>>> >>>>> Sent from the Lucene - Java Users mailing list archive at
>>> >>>>> Nabble.com.
>>> >>>>>
>>> >>>>>
>>> >>>>>
>>> -------------------------------------------------------------------
>>> >>>>> --
>>> >>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> >>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>> >>>>>
>>> >>>>
>>> >>>> --------------------------
>>> >>>> Grant Ingersoll
>>> >>>> Center for Natural Language Processing
>>> >>>> http://www.cnlp.org
>>> >>>>
>>> >>>> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
>>> >>>> LuceneFAQ
>>> >>>>
>>> >>>>
>>> >>>>
>>> >>>>
>>> --------------------------------------------------------------------
>>> >>>> -
>>> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>> >>>>
>>> >>>>
>>> >>>
>>> >>>
>>> >>
>>> >> --
>>> >> View this message in context: http://www.nabble.com/Issue-while-
>>> >> parsing-XML-files-due-to-control-characters%2C-help-appreciated.-
>>> >> tf3418085.html#a9540232
>>> >> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>> >>
>>> >>
>>> >> ---------------------------------------------------------------------
>>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>>> >>
>>> >
>>> > ------------------------------------------------------
>>> > Grant Ingersoll
>>> > http://www.grantingersoll.com/
>>> > http://lucene.grantingersoll.com
>>> > http://www.paperoftheweek.com/
>>> >
>>> >
>>> >
>>> > ---------------------------------------------------------------------
>>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>>> >
>>> >
>>> >
>>>
>>> --
>>> View this message in context:
>>> http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9542471
>>> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>> 
>> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9565759
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 05:54:09 2007
Return-Path: <java-user-return-27001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49462 invoked from network); 20 Mar 2007 05:54:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 05:54:08 -0000
Received: (qmail 8442 invoked by uid 500); 20 Mar 2007 05:54:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8398 invoked by uid 500); 20 Mar 2007 05:54:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8387 invoked by uid 99); 20 Mar 2007 05:54:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 22:54:08 -0700
X-ASF-Spam-Status: No, hits=4.2 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_SOCKS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [203.84.221.130] (HELO web8709.mail.in.yahoo.com) (203.84.221.130)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Mar 2007 22:53:57 -0700
Received: (qmail 82048 invoked by uid 60001); 20 Mar 2007 05:53:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=uOPSOo3Y9xdfOJ41sMLEFdvxN1/hS/oR8JTQElQRhoFeKdtpSXdPWtvByg4IOngB0vP69NjRwdxb1G0A0gk7moCIBuadtVXkd3vT8SE2eNKKr2LPjq7/KgGWjLlArbPln8yJ4fH1RtWd/kemFbwHODEpcoMGlcA18vouZoXKGdo=;
X-YMail-OSG: BGjFblwVM1kzbhQ9x6NbG5U2S15SFuY3j69n._KtiWEOO.3dEFKWFTsKsRoKhG_rucJKNFQ_srRkEYdPeYKrHunwVPEyevqwCVN8TW9aIDUvrYv3HMvHMYrVyeIVnh5dg2_aMhpCK7QploF9BI7FUSP8LyNtWJVWdnUuJ5BSQMQw
Received: from [59.95.170.39] by web8709.mail.in.yahoo.com via HTTP; Tue, 20 Mar 2007 11:23:33 IST
X-Mailer: YahooMailRC/471 YahooMailWebService/0.6.132.8
Date: Tue, 20 Mar 2007 11:23:33 +0530 (IST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Re: Common Words ignoring problem
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-557968906-1174370013=:81661"
Message-ID: <605380.81661.qm@web8709.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-557968906-1174370013=:81661
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Ok, Thats fine. Thanks=0ANow what if i don't want to stop any word, means i=
 want lucene not to ignore any word.How to do this?. And also doing this wi=
ll afffect any performance or not?=0A=0AThanks...=0A=0A=0A----- Original Me=
ssage ----=0AFrom: Grant Ingersoll <gsingers@apache.org>=0ATo: java-user@lu=
cene.apache.org=0ASent: Monday, 19 March, 2007 5:47:40 PM=0ASubject: Re: Co=
mmon Words ignoring problem=0A=0A=0AOne of the constructors for StandardAna=
lyzer allows you to set your  =0Astop words.  If you use the default constr=
uctor, you get the default  =0Aset of stop words, which is in StopAnalyzer.=
ENGLISH_STOP_WORDS.=0A=0A-Grant=0A=0AOn Mar 19, 2007, at 6:14 AM, aslam bar=
i wrote:=0A=0A> Hello All,=0A> I am using StandarAnalyzer for indexing docu=
ments. Then i make a  =0A> query to search some words with And query.=0A> F=
or example I need to search for a document which contains  =0A> followings =
all words=0A> " this is garden".=0A>=0A> I think when lucene index the docu=
ment , it ignores some common  =0A> words like "this, is , are , am etc".  =
But when i say lucene to  =0A> search all words including "this" AND "is" A=
ND "garden" , then it  =0A> could not found that. Am i right? If yes , how =
to solve this problem.=0A>=0A> Thanks...=0A>=0A>=0A>         =0A> _________=
_________________________________________________=0A> Yahoo! India Answers:=
 Share what you know. Learn something new=0A> http://in.answers.yahoo.com/=
=0A=0A--------------------------=0AGrant Ingersoll=0ACenter for Natural Lan=
guage Processing=0Ahttp://www.cnlp.org=0A=0ARead the Lucene Java FAQ at htt=
p://wiki.apache.org/jakarta-lucene/ =0ALuceneFAQ=0A=0A=0A=0A---------------=
------------------------------------------------------=0ATo unsubscribe, e-=
mail: java-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-=
mail: java-user-help@lucene.apache.org=0A=0A=0A=09=09=0A___________________=
_______________________________________=0AYahoo! India Answers: Share what =
you know. Learn something new=0Ahttp://in.answers.yahoo.com/
--0-557968906-1174370013=:81661--

From java-user-return-27002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 06:41:17 2007
Return-Path: <java-user-return-27002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58881 invoked from network); 20 Mar 2007 06:41:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 06:41:16 -0000
Received: (qmail 58155 invoked by uid 500); 20 Mar 2007 06:41:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58122 invoked by uid 500); 20 Mar 2007 06:41:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58111 invoked by uid 99); 20 Mar 2007 06:41:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 23:41:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [160.85.104.50] (HELO mx1.zhwin.ch) (160.85.104.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Mar 2007 23:41:04 -0700
Received: from orwell.zhwin.ch ([160.85.104.31])
	by mx1.zhwin.ch with esmtp (Exim 4.54)
	id 1HTY1S-00003u-FQ
	for java-user@lucene.apache.org; Tue, 20 Mar 2007 07:40:42 +0100
Received: from [160.85.232.115] (Not Verified[160.85.232.115]) by orwell.zhwin.ch with NetIQ MailMarshal 6.0 Service Pack 1a (v6,0,3,33)
	id <B45ff81ab0000>; Tue, 20 Mar 2007 07:39:39 +0100
Message-ID: <45FF81F7.8050208@zhwin.ch>
Date: Tue, 20 Mar 2007 07:40:55 +0100
From: thomas arni <art@zhwin.ch>
User-Agent: Thunderbird 1.5.0.10 (X11/20070306)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Common Words ignoring problem
References: <605380.81661.qm@web8709.mail.in.yahoo.com>
In-Reply-To: <605380.81661.qm@web8709.mail.in.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

You can adapt the source code of StopAnalyzer.java in the analysis 
package, or I suppose you can use the default constructor with a empty 
stop word list (but please check this).

If you don't know "Luke" use this small tool to display your index and 
verify your index process.
http://www.getopt.org/luke/

Stop words affect the performance. The seize of the index without stop 
words is much small ( up to 40%), because they occur soo often.

Thomas




aslam bari wrote:
> Ok, Thats fine. Thanks
> Now what if i don't want to stop any word, means i want lucene not to ignore any word.How to do this?. And also doing this will afffect any performance or not?
>
> Thanks...
>
>
> ----- Original Message ----
> From: Grant Ingersoll <gsingers@apache.org>
> To: java-user@lucene.apache.org
> Sent: Monday, 19 March, 2007 5:47:40 PM
> Subject: Re: Common Words ignoring problem
>
>
> One of the constructors for StandardAnalyzer allows you to set your  
> stop words.  If you use the default constructor, you get the default  
> set of stop words, which is in StopAnalyzer.ENGLISH_STOP_WORDS.
>
> -Grant
>
> On Mar 19, 2007, at 6:14 AM, aslam bari wrote:
>
>   
>> Hello All,
>> I am using StandarAnalyzer for indexing documents. Then i make a  
>> query to search some words with And query.
>> For example I need to search for a document which contains  
>> followings all words
>> " this is garden".
>>
>> I think when lucene index the document , it ignores some common  
>> words like "this, is , are , am etc".  But when i say lucene to  
>> search all words including "this" AND "is" AND "garden" , then it  
>> could not found that. Am i right? If yes , how to solve this problem.
>>
>> Thanks...
>>
>>
>>         
>> __________________________________________________________
>> Yahoo! India Answers: Share what you know. Learn something new
>> http://in.answers.yahoo.com/
>>     
>
> --------------------------
> Grant Ingersoll
> Center for Natural Language Processing
> http://www.cnlp.org
>
> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
> LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> 		
> __________________________________________________________
> Yahoo! India Answers: Share what you know. Learn something new
> http://in.answers.yahoo.com/
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 08:07:53 2007
Return-Path: <java-user-return-27003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93547 invoked from network); 20 Mar 2007 08:07:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 08:07:52 -0000
Received: (qmail 65802 invoked by uid 500); 20 Mar 2007 08:07:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65765 invoked by uid 500); 20 Mar 2007 08:07:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65753 invoked by uid 99); 20 Mar 2007 08:07:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 01:07:51 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 01:07:42 -0700
Received: by nf-out-0910.google.com with SMTP id g2so223718nfe
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 01:07:20 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=OgAkE3f6n6cA9KJqmeDYljcliehNVsplLIdX6E4zLLU/jp6oBnF0gblb4cdDYaw2fCirqL71cjTNhCBrlchWivA67Gua1cFFAf71as8tzBTb2LfwjYVx54DD6MTJNUXLFDVsi5IuOxK53ograeSmD5OqkPJLWFEwM5t5A2gI2Hk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=J9f8pSPYyGzuakUjuN9xVUiu7kyMW7MgjameHzQaQghsGcWIw5cvaLvb09m+n9vqLqyB97za4unrou6GDVoYIdBX4quHzbZHg4AvNsTBLmM4fQW0V0l//b752mrYDSWw/X6M+WITRW62TZsqGdulmSf5MzRsJCp13AyoLpFs/dk=
Received: by 10.82.177.3 with SMTP id z3mr11921376bue.1174378038268;
        Tue, 20 Mar 2007 01:07:18 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e9sm1167630muf.2007.03.20.01.07.16;
        Tue, 20 Mar 2007 01:07:16 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <45FF81F7.8050208@zhwin.ch>
References: <605380.81661.qm@web8709.mail.in.yahoo.com> <45FF81F7.8050208@zhwin.ch>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A6884FEA-86EE-473A-BA2D-C4C92BF07F67@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Common Words ignoring problem
Date: Tue, 20 Mar 2007 09:07:13 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


20 mar 2007 kl. 07.40 skrev thomas arni:

> You can adapt the source code of StopAnalyzer.java in the analysis  
> package, or I suppose you can use the default constructor with a  
> empty stop word list (but please check this).

I often do this:

analyzer = new ...Analyzer(Collection.EMPTY_SET);

and it seems to work just fine.

-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 10:33:04 2007
Return-Path: <java-user-return-27004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45684 invoked from network); 20 Mar 2007 10:33:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 10:33:03 -0000
Received: (qmail 19691 invoked by uid 500); 20 Mar 2007 10:33:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19651 invoked by uid 500); 20 Mar 2007 10:33:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19640 invoked by uid 99); 20 Mar 2007 10:33:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 03:33:02 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 03:32:54 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1727015ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 03:32:32 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=JvxFp2fqf/Xq7ccKv+U3fBwU5dwBkFwKL3xfvTa3t/wFXhqD50w9rHn+JGeIRnC7E4wErdPlC4ptuuKm5IUQaf/EaWOu++5CP5B4vF1+n0PK3AfWpnwHHgcBOLiGtt4QR1ozJ3ofjcrBpcwvlGK0UWg8Wk4plEdKhj9rPTQpdRI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=hsDK6O5IG+7hqtzjv5/H7StpLI2Yw3VXa+e8d8uaOzEGD8NfKofS72fQYv+oAlWQtVngOu4ASwnyTAJgoFHVN5haMD/PY9028WklwTXkwJlvkY9iVbB6TwAOOxRbR0rSlN8PkxO+8uIXE+HwOry8F5c7tH1Jj2myK9vIbLbY0oU=
Received: by 10.67.121.15 with SMTP id y15mr1070840ugm.1174386752890;
        Tue, 20 Mar 2007 03:32:32 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Tue, 20 Mar 2007 03:32:32 -0700 (PDT)
Message-ID: <4628d2a90703200332s655366ft901fa8aa2161df3b@mail.gmail.com>
Date: Tue, 20 Mar 2007 16:02:32 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: can't get docFreq of phrase
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_83067_17427185.1174386752847"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_83067_17427185.1174386752847
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
    I can get docFreq. of single term like (f1:test) by using
indexReader.docFreq(new Term("f1","test")). But can't get docFreq. of phrase
term like f2:"test under") by the same method.

    Is  anything wrong in this code?
    Please help me to resolve this problem.


Thanks & Regards
RSK

------=_Part_83067_17427185.1174386752847--

From java-user-return-27005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 11:05:54 2007
Return-Path: <java-user-return-27005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55135 invoked from network); 20 Mar 2007 11:05:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 11:05:52 -0000
Received: (qmail 63269 invoked by uid 500); 20 Mar 2007 11:05:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63246 invoked by uid 500); 20 Mar 2007 11:05:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63235 invoked by uid 99); 20 Mar 2007 11:05:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:05:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.213] (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Mar 2007 04:05:40 -0700
Received: (qmail 31159 invoked by uid 60001); 20 Mar 2007 11:05:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=ZF947SKxGlOLYvxGV7zibBPs5/i0p5+HCo4FYraVu4vd1wy/1b+J7Co/IqXcJG9HVL3vCtXPJHOtRO/zFP3Z0/U052Lin/3x5AqPoIg2PONJSMcB7FALFvCLHItTnTozXhyDPjhEFK5BDmsX0hW+FEIYl7JSUTeE3j3CF1ahrvw=;
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Tue, 20 Mar 2007 11:05:17 GMT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.7.41.4
Date: Tue, 20 Mar 2007 11:05:17 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: can't get docFreq of phrase
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
Message-ID: <587470.27811.qm@web26002.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

        IndexSearcher s=3Dnew IndexSearcher("/indexes/myindex");=0A        =
PhraseQuery pq =3D new PhraseQuery();=0A        pq.add(new Term("contents",=
"test"));=0A        pq.add(new Term("contents","under"));=0A        int df=
=3Ds.search(pq).length();=0A=0ACheers=0AMark=0A----- Original Message ----=
=0AFrom: SK R <rsk.sen@gmail.com>=0ATo: java-user@lucene.apache.org=0ASent:=
 Tuesday, 20 March, 2007 10:32:32 AM=0ASubject: can't get docFreq of phrase=
=0A=0AHi,=0A    I can get docFreq. of single term like (f1:test) by using=
=0AindexReader.docFreq(new Term("f1","test")). But can't get docFreq. of ph=
rase=0Aterm like f2:"test under") by the same method.=0A=0A    Is  anything=
 wrong in this code?=0A    Please help me to resolve this problem.=0A=0A=0A=
Thanks & Regards=0ARSK=0A=0A=0A=0A=0A=0A=09=09=0A__________________________=
_________________________________ =0AAll New Yahoo! Mail =96 Tired of unwan=
ted email come-ons? Let our SpamGuard protect you. http://uk.docs.yahoo.com=
/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 11:14:38 2007
Return-Path: <java-user-return-27006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57471 invoked from network); 20 Mar 2007 11:14:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 11:14:37 -0000
Received: (qmail 79532 invoked by uid 500); 20 Mar 2007 11:14:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79506 invoked by uid 500); 20 Mar 2007 11:14:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79495 invoked by uid 99); 20 Mar 2007 11:14:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:14:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:14:28 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1736482ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 04:14:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=hyzRS9ceoEee3x7KMpJ2xDORn4cnay/qD1AUvPXVvpPNOJXicnI4M2jRS0FirsY/in16mGhmlDVOcMdfwD0OAXkdHrqOWZ57HNAX2mHQeFdq/b3gWMaRUkS+AhRsTbc2SqItoScwweArjHW8tDuH5ps3slPmkv3slRIcxn1W5aM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=O/rqTULipqmxuson/yhUqJ0EnA+tqJXHKQubxU+Y33f6v3CkDWw4AMYBxuKO18cuG88inuvK9g/6tH85DYJvKNaX6+vJdZ0ORjxgitBc970N9Q8LkDFaCpSM+mzhOhZrgGlMVJCOOghnH6W7sP4f0tzyVzoUCiZcyu3IQ8w1W7g=
Received: by 10.66.244.11 with SMTP id r11mr1150366ugh.1174389247305;
        Tue, 20 Mar 2007 04:14:07 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Tue, 20 Mar 2007 04:14:07 -0700 (PDT)
Message-ID: <4628d2a90703200414h362de905k9594cf0f09f809dd@mail.gmail.com>
Date: Tue, 20 Mar 2007 16:44:07 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: can't get docFreq of phrase
In-Reply-To: <587470.27811.qm@web26002.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_83411_15143406.1174389247264"
References: <587470.27811.qm@web26002.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_83411_15143406.1174389247264
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Mark,
         Thanks for your reply.
          Could i get this match length (docFreq) without using
searcher.search(..) ?

          One more doubt is "Preformace for getting search length by using
searcher.search(...) is same as using reader.docFreq(..)??;

On 3/20/07, mark harwood <markharw00d@yahoo.co.uk> wrote:
>
>         IndexSearcher s=3Dnew IndexSearcher("/indexes/myindex");
>         PhraseQuery pq =3D new PhraseQuery();
>         pq.add(new Term("contents","test"));
>         pq.add(new Term("contents","under"));
>         int df=3Ds.search(pq).length();
>
> Cheers
> Mark
> ----- Original Message ----
> From: SK R <rsk.sen@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, 20 March, 2007 10:32:32 AM
> Subject: can't get docFreq of phrase
>
> Hi,
>     I can get docFreq. of single term like (f1:test) by using
> indexReader.docFreq(new Term("f1","test")). But can't get docFreq. of
> phrase
> term like f2:"test under") by the same method.
>
>     Is  anything wrong in this code?
>     Please help me to resolve this problem.
>
>
> Thanks & Regards
> RSK
>
>
>
>
>
>
> ___________________________________________________________
> All New Yahoo! Mail =96 Tired of unwanted email come-ons? Let our SpamGua=
rd
> protect you. http://uk.docs.yahoo.com/nowyoucan.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_83411_15143406.1174389247264--

From java-user-return-27007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 11:22:18 2007
Return-Path: <java-user-return-27007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60445 invoked from network); 20 Mar 2007 11:22:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 11:22:18 -0000
Received: (qmail 95279 invoked by uid 500); 20 Mar 2007 11:22:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95255 invoked by uid 500); 20 Mar 2007 11:22:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95240 invoked by uid 99); 20 Mar 2007 11:22:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:22:16 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:22:08 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1737978ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 04:21:47 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Zp3dx15h5rOgZ2BCcbPGBJhHvraABHmBZQ2r2RJNLIwdr5VViHdPNFN6jvlba0N3k+AoCh9AdgaPhJiv0CwMiAiAr7D8Mw4OPUaEWosydpEALvTEVXx/jSqOWES4iYl1DJG/DqJvEczYwZTTQgY0M/Z3scS/56WIf/i/nEjahGU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=m1zHOO4aSYR5svGP5Slcn4cMtgYW/vCYZjYWE0bmNDdYREal30aGYDfVMoJaHHI0aYVCmuX7zO5FlUmim7pWxAuuEpmptv3jOIADrNU52hsAu8XiYkQVk3Baqp2vIQxkqB2oR9ws2qSl1oxn8pq++MqHwDahkIcDF3+enWo9rGw=
Received: by 10.66.232.9 with SMTP id e9mr1153179ugh.1174389707039;
        Tue, 20 Mar 2007 04:21:47 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id p32sm349124ugc.2007.03.20.04.21.45;
        Tue, 20 Mar 2007 04:21:46 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <4628d2a90703200414h362de905k9594cf0f09f809dd@mail.gmail.com>
References: <587470.27811.qm@web26002.mail.ukl.yahoo.com> <4628d2a90703200414h362de905k9594cf0f09f809dd@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <805D2BAB-E4FC-4697-89C0-5282AC96645D@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: can't get docFreq of phrase
Date: Tue, 20 Mar 2007 12:21:36 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


20 mar 2007 kl. 12.14 skrev SK R:

> Hi Mark,
>         Thanks for your reply.
>          Could i get this match length (docFreq) without using
> searcher.search(..) ?
>
>          One more doubt is "Preformace for getting search length by  
> using
> searcher.search(...) is same as using reader.docFreq(..)??;

You can save a couple of clock ticks by skipping scoring when  
searching. Otherwise no big change. See LUCENE-584 in the Jira.

-- 
karl



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 11:43:13 2007
Return-Path: <java-user-return-27008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66587 invoked from network); 20 Mar 2007 11:43:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 11:43:12 -0000
Received: (qmail 32951 invoked by uid 500); 20 Mar 2007 11:43:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32917 invoked by uid 500); 20 Mar 2007 11:43:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32906 invoked by uid 99); 20 Mar 2007 11:43:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:43:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.214] (HELO web26003.mail.ukl.yahoo.com) (217.12.10.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Mar 2007 04:43:02 -0700
Received: (qmail 71261 invoked by uid 60001); 20 Mar 2007 11:42:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=u/EC7oRHl5XO+VgHtCTxvklF5uUsFp5b6XUPs3ZNcm+McCW/7ToXZBgD4S5BJweN3DlTZYvAU3u7Y4eDbt/+6CvWmNoDqzILRdLuJiax4ZOg6MEC/Lr1tCoJn9aleGpBwunTgzOR0wauVsU8ELqvHfN5D+4EYqYXDAajdUebkgU=  ;
Message-ID: <20070320114239.71259.qmail@web26003.mail.ukl.yahoo.com>
X-YMail-OSG: bA23KSwVM1nBft79_7OaK_MyzkndviEhSv60F58nRRvI8jyo93ynvnZFXCSZ5mJlZtvbygT.WNSsDlMr0XOKNfeD44al.jr.bWf4DSBoWsTVkpRdCGY-
Received: from [193.36.230.96] by web26003.mail.ukl.yahoo.com via HTTP; Tue, 20 Mar 2007 11:42:39 GMT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.7.41.4
Date: Tue, 20 Mar 2007 11:42:39 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: can't get docFreq of phrase
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

>> Could i get this match length (docFreq) without using searcher.search(..=
) ?=0A=0AYes, but it's likely to involve more code on your part. TermPositi=
ons is class you want to look at. See the PhraseQuery implementation for ex=
amples of how to use this.=0A=0A>> One more doubt is "Preformace for gettin=
g search length by using searcher.search(...) is same as using reader.docFr=
eq(..)??;=0A=0AIt will be slower - but then again calling docFreq is not a =
solution in your case anyway=0AIncidentally, one more obscure solution whic=
h would allow you to use docFreq is to use an Ngram Analyzer to build your =
index out of not just single words but pairs of words. Not sure what your e=
nd-goal is and therefore if there is any real value in adopting this approa=
ch.=0A=0AThe old adage of avoiding "premature optimization" applies. If the=
 searcher-based code I provided is fast enough (cache the searcher) then av=
oid yourself the coding effort of using TermPositions API or the index over=
head/complexity of using NGram analyzers. =0A=0A=0ACheers=0AMark=0A=0A=0A=
=0A----- Original Message ----=0AFrom: SK R <rsk.sen@gmail.com>=0ATo: java-=
user@lucene.apache.org=0ASent: Tuesday, 20 March, 2007 11:14:07 AM=0ASubjec=
t: Re: can't get docFreq of phrase=0A=0AHi Mark,=0A         Thanks for your=
 reply.=0A          Could i get this match length (docFreq) without using=
=0Asearcher.search(..) ?=0A=0A          One more doubt is "Preformace for g=
etting search length by using=0Asearcher.search(...) is same as using reade=
r.docFreq(..)??;=0A=0AOn 3/20/07, mark harwood <markharw00d@yahoo.co.uk> wr=
ote:=0A>=0A>         IndexSearcher s=3Dnew IndexSearcher("/indexes/myindex"=
);=0A>         PhraseQuery pq =3D new PhraseQuery();=0A>         pq.add(new=
 Term("contents","test"));=0A>         pq.add(new Term("contents","under"))=
;=0A>         int df=3Ds.search(pq).length();=0A>=0A> Cheers=0A> Mark=0A> -=
---- Original Message ----=0A> From: SK R <rsk.sen@gmail.com>=0A> To: java-=
user@lucene.apache.org=0A> Sent: Tuesday, 20 March, 2007 10:32:32 AM=0A> Su=
bject: can't get docFreq of phrase=0A>=0A> Hi,=0A>     I can get docFreq. o=
f single term like (f1:test) by using=0A> indexReader.docFreq(new Term("f1"=
,"test")). But can't get docFreq. of=0A> phrase=0A> term like f2:"test unde=
r") by the same method.=0A>=0A>     Is  anything wrong in this code?=0A>   =
  Please help me to resolve this problem.=0A>=0A>=0A> Thanks & Regards=0A> =
RSK=0A>=0A>=0A>=0A>=0A>=0A>=0A> ___________________________________________=
________________=0A> All New Yahoo! Mail =96 Tired of unwanted email come-o=
ns? Let our SpamGuard=0A> protect you. http://uk.docs.yahoo.com/nowyoucan.h=
tml=0A>=0A> ---------------------------------------------------------------=
------=0A> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=
=0A> For additional commands, e-mail: java-user-help@lucene.apache.org=0A>=
=0A>=0A=0A=0A=0A=0A=0A=09=0A=09=0A=09=09=0A________________________________=
___________________________ =0ANew Yahoo! Mail is the ultimate force in com=
petitive emailing. Find out more at the Yahoo! Mail Championships. Plus: pl=
ay games and win prizes. =0Ahttp://uk.rd.yahoo.com/evt=3D44106/*http://mail=
.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 11:44:58 2007
Return-Path: <java-user-return-27009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67188 invoked from network); 20 Mar 2007 11:44:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 11:44:57 -0000
Received: (qmail 40860 invoked by uid 500); 20 Mar 2007 11:44:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40830 invoked by uid 500); 20 Mar 2007 11:44:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40814 invoked by uid 99); 20 Mar 2007 11:44:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:44:51 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 04:44:42 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1742592ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 04:44:20 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=diAymp+fJnDGJ/17WR331haOTj7OGW7Vc37BdcXp61tUkTKBvgSyAP/XJfFzoaUGab6r3/tYP1BJ7RSkV2j+2bIUBDpuGi2bKqM20GCzlqUwz2pDpHK8Q6BUsQq3+tuzgaPbzaTaQA1uVILqRSMPygtqr3o/XecXHXp0u/WiRs8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZobZ8K7Cn23c+5BIoVvotCJnEsHv6ZvrUp4J+DlMWt6QarLQAInTLGoZmLDol4NUJ5//K9tKoP4atndua9k5nMzHFH8Ir+iWXD1uIpFMH3F3mqlhewSf9OXnYm0xBlmAycmFNMKfoEJHypAbMx3xpzI4yeFqOLQkIiyQ4uZj9wg=
Received: by 10.67.22.2 with SMTP id z2mr1159903ugi.1174391060099;
        Tue, 20 Mar 2007 04:44:20 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Tue, 20 Mar 2007 04:44:20 -0700 (PDT)
Message-ID: <4628d2a90703200444n20e1205cve3bdaac1cf15b538@mail.gmail.com>
Date: Tue, 20 Mar 2007 17:14:20 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: can't get docFreq of phrase
In-Reply-To: <805D2BAB-E4FC-4697-89C0-5282AC96645D@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_83488_19253690.1174391060053"
References: <587470.27811.qm@web26002.mail.ukl.yahoo.com>
	 <4628d2a90703200414h362de905k9594cf0f09f809dd@mail.gmail.com>
	 <805D2BAB-E4FC-4697-89C0-5282AC96645D@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_83488_19253690.1174391060053
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks a lot.

On 3/20/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 20 mar 2007 kl. 12.14 skrev SK R:
>
> > Hi Mark,
> >         Thanks for your reply.
> >          Could i get this match length (docFreq) without using
> > searcher.search(..) ?
> >
> >          One more doubt is "Preformace for getting search length by
> > using
> > searcher.search(...) is same as using reader.docFreq(..)??;
>
> You can save a couple of clock ticks by skipping scoring when
> searching. Otherwise no big change. See LUCENE-584 in the Jira.
>
> --
> karl
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_83488_19253690.1174391060053--

From java-user-return-27010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 17:51:41 2007
Return-Path: <java-user-return-27010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45655 invoked from network); 20 Mar 2007 17:51:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 17:51:38 -0000
Received: (qmail 12374 invoked by uid 500); 20 Mar 2007 17:51:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12305 invoked by uid 500); 20 Mar 2007 17:51:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12277 invoked by uid 99); 20 Mar 2007 17:51:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 10:51:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 10:51:22 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2KHp0Mi030446
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 17:51:00 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2KHp0S81634322
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 18:51:00 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2KHoxCH001228
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 18:50:59 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2KHoxDx001219
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 18:50:59 +0100
In-Reply-To: <9542471.post@talk.nabble.com>
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFEA4C88D0.17A655FC-ON882572A4.005D6779-882572A4.0061B30A@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 20 Mar 2007 09:47:08 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 20/03/2007 19:50:59
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Lokeya <lokeya@gmail.com> wrote on 18/03/2007 13:19:45:

>
> Yep I did that, and now my code looks as follows.
> The time taken for indexing one file is now
> => Elapsed Time in Minutes :: 0.3531
> which is really great

I am jumping in late so appologies if I am missing something.
However I don't understand where this improvement came
from. (more below)

>
> //Create an Index under LUCENE
> IndexWriter writer = new IndexWriter("./LUCENE", new
>                                      StopStemmingAnalyzer(),
>                                      false);
> Document doc = new Document();
>
> //Get Array List Elements  and add them as fileds to doc
> for(int k=0; k < alist_Title.size(); k++)             {
>   doc.add(new Field("Title",
>                     alist_Title.get(k).toString(),
>                     Field.Store.YES,
>                     Field.Index.UN_TOKENIZED));
> }
>
> for(int k=0; k < alist_Descr.size(); k++)             {
>   doc.add(new Field("Description",
>                     alist_Descr.get(k).toString(),
>                     Field.Store.YES,
>                     Field.Index.UN_TOKENIZED));
> }
>
> //Add the document created out of those fields to
> // the IndexWriter which will create and index
> writer.addDocument(doc);
> writer.optimize();
> writer.close();
>
> long elapsedTimeMillis = System.currentTimeMillis()-startTime;
> System.out.println("Elapsed Time for  "+
>                    dirName +" :: " + elapsedTimeMillis);
> float elapsedTimeMin = elapsedTimeMillis/(60*1000F);
> System.out.println("Elapsed Time in Minutes ::  "+
>                    elapsedTimeMin);

the code listed above is, still, for each indexed document,
doing this:

  1. open index writer
  2. create a document (and add fields to it)
  3. add the doc to the index
  4. optimize the index
  5. close the index writer

As already mentioned here this is very non optimal.
So I don't understand where the improvement came from.

It should be done like this:

  1. open/create the index
  2. for each valid doc input {
       a. create a document (add fields)
       b. add the doc to the index
     }
  3. optimize the index (optionally)
  4. close the index

It would probably also help both coding and discussion to capture
some logic in methods, e.g.

IndexWriter createIndex();
IndexWriter openIndex();
void closeIndex();
Document createDocument(String oai_citeseer_fileName)

> but after processing 4 dumpfiles(which means
> 40,000 small xml's), I get :
>
> caught a class java.io.IOException
>  40114  with message: Lock obtain timed out:
> Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
>
>
> This is the new issue now.What could be the reason ?. I am surprised
because
> I am only writing to Index under ./LUCENE/ evrytime and not doing
anything
> with the index(ofcrs to avoid such synchronization issues !)

If the code listed above is getting this exception, and this runs on
Windows, then perhaps this is related to issue 665 - intensive IO
activity, write lock acquired and released for each and every added
document. If so, this too would be avoided by opening the index just once.

Last comment - I did not understand if a single index is used for all
70 metadata files, or each one has its own index, totalling 70 indexes.
I would think it should be only one index for all, and then you better
avoid calling optimize 70 times - that would waste time too. Better
organize the code like this:

1. create/open index
2. for each meta data file {
   a. for each "valid element" in meta data file {
        a.1 create document
        a.2 add doc to index
      }
   }
3. optimize
4. close index

Regards,
Doron


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 18:21:58 2007
Return-Path: <java-user-return-27011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55894 invoked from network); 20 Mar 2007 18:21:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 18:21:57 -0000
Received: (qmail 65702 invoked by uid 500); 20 Mar 2007 18:21:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65667 invoked by uid 500); 20 Mar 2007 18:21:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65656 invoked by uid 99); 20 Mar 2007 18:21:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 11:21:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.152 as permitted sender)
Received: from [195.212.29.152] (HELO mtagate3.de.ibm.com) (195.212.29.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 11:21:44 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate3.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2KILNFf067668
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 18:21:23 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2KILMeL1638606
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 19:21:22 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2KILMAd026035
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 19:21:22 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2KILMpO026032
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 19:21:22 +0100
In-Reply-To: <359a92830703181528x28903216o9aae91d1878ab68e@mail.gmail.com>
Subject: Re: Eliminate duplicates
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFFD8C8AD6.C8B00AC6-ON882572A4.00634075-882572A4.006457B6@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 20 Mar 2007 10:16:00 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 20/03/2007 20:21:21
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Another option for this might be IndexWriter.updateDocument().

"Erick Erickson" <erickerickson@gmail.com> wrote on 18/03/2007 15:28:09:

> BTW, instead of searching with a query, it might be faster
> to use TermEnum on your unique field. If TermEnum finds
> a term like the one you're about to add, you already have
> the title and can either delete the one already in the index
> (see TermDocs) or just not add the current one....
>
> On 3/18/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> >
> > Markus,
> > What you were thinking is fine - search and, if found, delete first,
then
> > add.  Lucene allows duplicate and offers no automated way for avoiding
them.
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 18:31:20 2007
Return-Path: <java-user-return-27012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59420 invoked from network); 20 Mar 2007 18:31:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 18:31:19 -0000
Received: (qmail 80938 invoked by uid 500); 20 Mar 2007 18:31:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80896 invoked by uid 500); 20 Mar 2007 18:31:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80882 invoked by uid 99); 20 Mar 2007 18:31:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 11:31:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gresh@us.ibm.com designates 32.97.182.144 as permitted sender)
Received: from [32.97.182.144] (HELO e4.ny.us.ibm.com) (32.97.182.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 11:31:06 -0700
Received: from d01relay04.pok.ibm.com (d01relay04.pok.ibm.com [9.56.227.236])
	by e4.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l2KIUjRF025970
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 14:30:45 -0400
Received: from d01av01.pok.ibm.com (d01av01.pok.ibm.com [9.56.224.215])
	by d01relay04.pok.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2KIUj9m297590
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 14:30:45 -0400
Received: from d01av01.pok.ibm.com (loopback [127.0.0.1])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2KIUjKM032469
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 14:30:45 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2KIUiVf032458
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 14:30:44 -0400
In-Reply-To: <OFEA4C88D0.17A655FC-ON882572A4.005D6779-882572A4.0061B30A@il.ibm.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Obtaining the (indexed) terms in a field in a particular document
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF879C078F.F0058DCE-ON852572A4.006536AF-852572A4.0065B113@us.ibm.com>
Date: Tue, 20 Mar 2007 14:30:44 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Build V80_M3_10312006|October 31, 2006) at
 03/20/2007 14:30:45,
	Serialize complete at 03/20/2007 14:30:45
Content-Type: multipart/alternative; boundary="=_alternative 0065ADBF852572A4_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 0065ADBF852572A4_=
Content-Type: text/plain; charset="US-ASCII"

My apologies if this is a simple question--

How can I get all the (stemmed and stop words removed, etc.) terms in a 
particular field of a particular document?

Suppose my documents each consist of two fields, one with the name "my_id" 
and a unique identifier, and the other being some text string consisting
of a number of words.
I'd like to get all the terms in the text string given the unique 
identifier.

(My basic reason is to do a sort of document similarity between the text 
string and some other text string, doing a boolean query with
a number of SHOULD clauses, if this makes sense; I'm welcome to 
suggestions of better ways to do this)

Donna L. Gresh

--=_alternative 0065ADBF852572A4_=--

From java-user-return-27013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 19:07:42 2007
Return-Path: <java-user-return-27013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74230 invoked from network); 20 Mar 2007 19:07:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 19:07:41 -0000
Received: (qmail 61808 invoked by uid 500); 20 Mar 2007 19:07:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61761 invoked by uid 500); 20 Mar 2007 19:07:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61750 invoked by uid 99); 20 Mar 2007 19:07:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:07:38 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 209.85.132.242 as permitted sender)
Received: from [209.85.132.242] (HELO an-out-0708.google.com) (209.85.132.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:07:28 -0700
Received: by an-out-0708.google.com with SMTP id c3so1586049ana
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 12:07:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Kb2gcsvm7ppeBVk62pi/CxloTFzJxTxyH+yXA9qFfRL+UaUiRh/2GwkJG3k0UHsV7m1ASkMDl7zmsKGjF04VFrMmDAm/q7o/XSoLrHyUhd9/JaZ0dSz7/CSLjSaC96w4yXh26XcgfdokviIk81JFTVW1m/HmqWMAAgeWB9KtNOM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=r+ieUT6WZG6dCEdfzc3ppaHcVP6WKLM0Llw6YVRm9bCMYo0SdJCc/7s36JAv/EqDLv8u6RRvR1nJSeMS0QIRAFbjyqRAglMaVXj0k20aeDADAzsJwESXgf9e60C8XYVXoWnA4ILzMXZeDMgGj1A8RoNQvhP/oZbdo4l1n9aBYHg=
Received: by 10.100.154.13 with SMTP id b13mr5450165ane.1174417627275;
        Tue, 20 Mar 2007 12:07:07 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 20 Mar 2007 12:07:07 -0700 (PDT)
Message-ID: <359a92830703201207r506752fdw8675edac1a2c22bd@mail.gmail.com>
Date: Tue, 20 Mar 2007 15:07:07 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Obtaining the (indexed) terms in a field in a particular document
In-Reply-To: <OF879C078F.F0058DCE-ON852572A4.006536AF-852572A4.0065B113@us.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_164430_22715670.1174417627160"
References: <OFEA4C88D0.17A655FC-ON882572A4.005D6779-882572A4.0061B30A@il.ibm.com>
	 <OF879C078F.F0058DCE-ON852572A4.006536AF-852572A4.0065B113@us.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_164430_22715670.1174417627160
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You can do a document.get(field), *assuming* you have stored the data
(Field.Store.YES) at index time, although you may not get
stop words.

On 3/20/07, Donna L Gresh <gresh@us.ibm.com> wrote:
>
> My apologies if this is a simple question--
>
> How can I get all the (stemmed and stop words removed, etc.) terms in a
> particular field of a particular document?
>
> Suppose my documents each consist of two fields, one with the name "my_id"
> and a unique identifier, and the other being some text string consisting
> of a number of words.
> I'd like to get all the terms in the text string given the unique
> identifier.
>
> (My basic reason is to do a sort of document similarity between the text
> string and some other text string, doing a boolean query with
> a number of SHOULD clauses, if this makes sense; I'm welcome to
> suggestions of better ways to do this)
>
> Donna L. Gresh
>

------=_Part_164430_22715670.1174417627160--

From java-user-return-27014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 19:08:42 2007
Return-Path: <java-user-return-27014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74633 invoked from network); 20 Mar 2007 19:08:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 19:08:41 -0000
Received: (qmail 65141 invoked by uid 500); 20 Mar 2007 19:08:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65070 invoked by uid 500); 20 Mar 2007 19:08:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65054 invoked by uid 99); 20 Mar 2007 19:08:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:08:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 209.85.132.242 as permitted sender)
Received: from [209.85.132.242] (HELO an-out-0708.google.com) (209.85.132.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:08:26 -0700
Received: by an-out-0708.google.com with SMTP id c3so1586481ana
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 12:08:06 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=aJewzvO02/0ulLFNi/dVEHKQM7V1sfrWAl86OiuuuzEWT5qkslbMCLlTIcm5frr+Iyn+8Ow2lx/dgT2rcEwo22Lpxdm3emWnEBoyJLRXE85fCiDhGwEZFsCLNB3qrTsRcPClN6wxtxYiW/g2AJMh0rOOlI6xVxmv8n+rISEx+lg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DU/NCzF8NIx5uFhOBoY+yMhuoewMAoh5P/e2m/jBF94RkZtwEB+EsdtuDyVWd4IL5IOL7njGs9bs46AXdlCDuv3X6yWFsMdnokjV9DiOPl1LFka/UjtvPqeWq7VDza+yKy7SyOXwXiIJZdswUDNOoXPXkBjpVAhcKEHq5INhzXU=
Received: by 10.100.37.4 with SMTP id k4mr5458387ank.1174417685980;
        Tue, 20 Mar 2007 12:08:05 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 20 Mar 2007 12:08:00 -0700 (PDT)
Message-ID: <359a92830703201208k79899010pd12919e449606f7@mail.gmail.com>
Date: Tue, 20 Mar 2007 15:08:00 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Obtaining the (indexed) terms in a field in a particular document
In-Reply-To: <359a92830703201207r506752fdw8675edac1a2c22bd@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_164470_4953657.1174417680812"
References: <OFEA4C88D0.17A655FC-ON882572A4.005D6779-882572A4.0061B30A@il.ibm.com>
	 <OF879C078F.F0058DCE-ON852572A4.006536AF-852572A4.0065B113@us.ibm.com>
	 <359a92830703201207r506752fdw8675edac1a2c22bd@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_164470_4953657.1174417680812
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sorry, but you have to have the Lucene document ID, which you
can get either as part of a Hits or HitCollector or...
or by using TermDocs/TermEnum on your unique id (my_id in
your example).

Erick

On 3/20/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> You can do a document.get(field), *assuming* you have stored the data
> (Field.Store.YES) at index time, although you may not get
> stop words.
>
> On 3/20/07, Donna L Gresh <gresh@us.ibm.com> wrote:
> >
> > My apologies if this is a simple question--
> >
> > How can I get all the (stemmed and stop words removed, etc.) terms in a
> > particular field of a particular document?
> >
> > Suppose my documents each consist of two fields, one with the name
> > "my_id"
> > and a unique identifier, and the other being some text string consisting
> > of a number of words.
> > I'd like to get all the terms in the text string given the unique
> > identifier.
> >
> > (My basic reason is to do a sort of document similarity between the text
> >
> > string and some other text string, doing a boolean query with
> > a number of SHOULD clauses, if this makes sense; I'm welcome to
> > suggestions of better ways to do this)
> >
> > Donna L. Gresh
> >
>
>

------=_Part_164470_4953657.1174417680812--

From java-user-return-27015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 19:34:18 2007
Return-Path: <java-user-return-27015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92611 invoked from network); 20 Mar 2007 19:34:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 19:34:18 -0000
Received: (qmail 17814 invoked by uid 500); 20 Mar 2007 19:34:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17755 invoked by uid 500); 20 Mar 2007 19:34:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17735 invoked by uid 99); 20 Mar 2007 19:34:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:34:04 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gresh@us.ibm.com designates 32.97.182.144 as permitted sender)
Received: from [32.97.182.144] (HELO e4.ny.us.ibm.com) (32.97.182.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:33:50 -0700
Received: from d01relay02.pok.ibm.com (d01relay02.pok.ibm.com [9.56.227.234])
	by e4.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l2KJXQWo018415
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 15:33:26 -0400
Received: from d01av02.pok.ibm.com (d01av02.pok.ibm.com [9.56.224.216])
	by d01relay02.pok.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2KJXQxY283986
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 15:33:26 -0400
Received: from d01av02.pok.ibm.com (loopback [127.0.0.1])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2KJXQlR023035
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 15:33:26 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2KJXQbV023030
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 15:33:26 -0400
In-Reply-To: <359a92830703201208k79899010pd12919e449606f7@mail.gmail.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Re: Obtaining the (indexed) terms in a field in a particular document
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF97105346.A2D38EB1-ON852572A4.006B021C-852572A4.006B6E67@us.ibm.com>
Date: Tue, 20 Mar 2007 15:33:26 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Build V80_M3_10312006|October 31, 2006) at
 03/20/2007 15:33:26,
	Serialize complete at 03/20/2007 15:33:26
Content-Type: multipart/alternative; boundary="=_alternative 006B6D20852572A4_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 006B6D20852572A4_=
Content-Type: text/plain; charset="US-ASCII"

Thanks, I see what you are saying.

Seems that if I create the field at index time with term vectors stored, 
then I can iterate through the documents and get both the unique 
identifier and the terms, right? My original question was imprecise in 
that I'm going to want to get all the terms for *all* the documents (one 
document at a time) so I can just iterate through all the documents using

                for (int i=0; i<indexReaderR.numDocs(); i++) {
                        TermFreqVector tfv = 
indexReaderR.getTermFreqVector(i,"my text field name");

Donna L. Gresh
Services Research, Mathematical Sciences Department
IBM T.J. Watson Research Center
(914) 945-2472
http://www.research.ibm.com/people/g/donnagresh
gresh@us.ibm.com




"Erick Erickson" <erickerickson@gmail.com> 
03/20/2007 03:08 PM
Please respond to
java-user@lucene.apache.org


To
java-user@lucene.apache.org
cc

Subject
Re: Obtaining the (indexed) terms in a field in a particular document






Sorry, but you have to have the Lucene document ID, which you
can get either as part of a Hits or HitCollector or...
or by using TermDocs/TermEnum on your unique id (my_id in
your example).

Erick

On 3/20/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> You can do a document.get(field), *assuming* you have stored the data
> (Field.Store.YES) at index time, although you may not get
> stop words.
>
> On 3/20/07, Donna L Gresh <gresh@us.ibm.com> wrote:
> >
> > My apologies if this is a simple question--
> >
> > How can I get all the (stemmed and stop words removed, etc.) terms in 
a
> > particular field of a particular document?
> >
> > Suppose my documents each consist of two fields, one with the name
> > "my_id"
> > and a unique identifier, and the other being some text string 
consisting
> > of a number of words.
> > I'd like to get all the terms in the text string given the unique
> > identifier.
> >
> > (My basic reason is to do a sort of document similarity between the 
text
> >
> > string and some other text string, doing a boolean query with
> > a number of SHOULD clauses, if this makes sense; I'm welcome to
> > suggestions of better ways to do this)
> >
> > Donna L. Gresh
> >
>
>


--=_alternative 006B6D20852572A4_=--

From java-user-return-27016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 19:40:27 2007
Return-Path: <java-user-return-27016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95502 invoked from network); 20 Mar 2007 19:40:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 19:40:25 -0000
Received: (qmail 31474 invoked by uid 500); 20 Mar 2007 19:40:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31433 invoked by uid 500); 20 Mar 2007 19:40:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31412 invoked by uid 99); 20 Mar 2007 19:40:23 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:40:23 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [160.79.251.45] (HELO mail02.tveyes.com) (160.79.251.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:40:12 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76B27.86E81594"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: Sort Performance Question
Date: Tue, 20 Mar 2007 15:39:50 -0400
Message-ID: <3CA90CC651AE3F4BAEDF8A5B78639C8C90674D@mail02.tveyes.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sort Performance Question
Thread-Index: AcdrJ4aP6iemV3TtRGGuzUt0FUpWQQ==
From: "David Seltzer" <dseltzer@TVEyes.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76B27.86E81594
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi All,

=20

I have a sort performance question:

=20

I have a fairly large index consisting of chunks of full-text
transcriptions of television, radio and other media, and I'm trying to
make it searchable and sortable by date.  The search front-end uses a
parallelmultisearcher to search up to three indexes at a time (each
index contains a month of live data). When I search for the word "toast"
(for example) sorted by score the results come back in about 1200ms,
when I sort it by DateTime the results come back in 3900ms.

=20

Initially I was sorting based on a unixtime field, but having read up on
it, I switched to a slightly easier format: "yyyyMMDDHHmm". Now this
value is still larger than an int, so I went one step farther and
created two more fields for test purposes: SortDate, which is yyyyMMdd
and SortTime which is HHmm. When I sort by SortDate then SortTime the
results come in even slower, around 4300ms.

=20

To summarize:

=20

//The sorting fields looks like this:

new Field("SortDateTime", sdfDateTime.format(dMySortDateTime),
Field.Store.YES, Field.Index.UN_TOKENIZED);

new Field("SortDate", sdfDate.format(dMySortDateTime),  Field.Store.YES,
Field.Index.UN_TOKENIZED);

new Field("SortTime", sdfTime.format(dMySortDateTime),  Field.Store.YES,
Field.Index.UN_TOKENIZED);

=20

//and the performance looks like this:

=20

//sort by score

Sort sSortOrder =3D Sort.RELEVANCE; //1200ms

=20

//sort by datetime

Sort sSortOrder =3D new Sort("SortDateTime", true); //3900ms

=20

//sort by date then time

//yes, I know this isn't valid code

Sort sSortOrder =3D new Sort({new
SortField("SortDate",SortField.INT,bReverse), new
SortField("SortTime",SortField.INT,bReverse)}); //4300ms

=20

=20

The two indexes that are being searched at the moment look like this:

=20

Index 1:

Index Path: /storage/unisearch/MMS_index/2007.02/

Index Size on Disk: 1,400,569 KB

Number of Records: 2682238

Index Version: 03/13/2007

=20

Index 2:

Index Path: /storage/unisearch/MMS_index/2007.03/

Index Size on Disk: 2,055,199 KB

Number of Records: 3457434

Index Version: 03/13/2007

=20

The search is being performed in tomcat and I'm running:
org.apache.lucene - build 2007-02-14 on a Dual 3.4GHz Xeon w/ 2GB memory
and Red Hat 3.4.3-22.

=20

So, onto the question: Is this fast, slow, or normal.

=20

Along, with the obvious follow up: if it's slow, how can I make it
faster.

=20

Thanks for your help!

=20

-Dave


------_=_NextPart_001_01C76B27.86E81594--

From java-user-return-27017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 19:58:58 2007
Return-Path: <java-user-return-27017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3507 invoked from network); 20 Mar 2007 19:58:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 19:58:58 -0000
Received: (qmail 76052 invoked by uid 500); 20 Mar 2007 19:58:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76026 invoked by uid 500); 20 Mar 2007 19:58:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76009 invoked by uid 99); 20 Mar 2007 19:58:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:58:56 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of casspc@gmail.com designates 209.85.132.247 as permitted sender)
Received: from [209.85.132.247] (HELO an-out-0708.google.com) (209.85.132.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 12:58:45 -0700
Received: by an-out-0708.google.com with SMTP id c3so1604435ana
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 12:58:25 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=mLa3oZLW7bNMZBbZB7NK5viTxsrLGROWRiiYbCdE9LG+qiYRgYJ0KQVqWk7sqrTy1ISLuLGMa9lZ8z3FuyMpi/rvL85tMaz8/KXaxkTyv9uG2d2PFKLpItecEeWGmi8TuExeIlDKURN+Tw90KQivILK5YkGNG6EJ+HYHurszTjQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=hOp4mHXL5g2GqDKx8eGt6y0L3soZZWFroOSpLc2I8yvzeTdQS6JOJ2ST/nIELA/zDYlG7zBE4vs/N19WiO9etADNB8uDywyKr1ufyWdMW58vYjdQrQoWF4Hzpqn65zid0D1Ns3VA6kbUM5SRQFdmobOn6SOCgZwd7zp/gQBxe/E=
Received: by 10.100.132.16 with SMTP id f16mr5532448and.1174420705139;
        Tue, 20 Mar 2007 12:58:25 -0700 (PDT)
Received: by 10.100.45.2 with HTTP; Tue, 20 Mar 2007 12:58:25 -0700 (PDT)
Message-ID: <8e69b6620703201258o38d18f05j8f5010c48ca195a8@mail.gmail.com>
Date: Tue, 20 Mar 2007 12:58:25 -0700
From: "Cass Costello" <casspc@gmail.com>
To: solr-user@lucene.apache.org, java-user@lucene.apache.org
Subject: Thank you...
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_118148_20104937.1174420705105"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_118148_20104937.1174420705105
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

...to everyone who helps make Lucene and Solr such fantastic tools.

I'm the Platform Architect for a leading online event ticket
after-marketplace (think eBay for tickets), and we've just completed a 12
month project to rewrite the Browse and Search components of our
customer-facing site.  Both rely heavily on Solr and a smattering of custom
Lucene API calls throughout the code base.  As of this morning (2 weeks
after our final-stage push to production), we've reduced our hardware needs
over 50% and have improved page response times by 30-60% as compared to the
old architecture (a mix of very old CF code for the browse pieces, and a
couple GSAs for the seach pages).  More importantly, we've established new
patterns and flex points for future growth, and I have utmost confidence
that we'll be leveraging the Lucene/Solr combo for years to come as we grow.
The devs are proud, the execs are happy, our customers have noticed the
speed improvements, and we all learned many positive lessons along the way.

These forums and various online resources (the Solr wiki first and foremost)
have been tremendously helpful.   And so, thank you, all, for pointing the
way to a simpler, faster, better solution for our needs.

Cass Costello

-- 
A complex system that works is invariably found to have evolved from a
simple system that works.
  - John Gaule

------=_Part_118148_20104937.1174420705105--

From java-user-return-27018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:03:32 2007
Return-Path: <java-user-return-27018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4954 invoked from network); 20 Mar 2007 20:03:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:03:31 -0000
Received: (qmail 86806 invoked by uid 500); 20 Mar 2007 20:03:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86241 invoked by uid 500); 20 Mar 2007 20:03:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86230 invoked by uid 99); 20 Mar 2007 20:03:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:03:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:03:19 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EB6ED30EFC16; Tue, 20 Mar 2007 14:02:57 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id DEE3130EFC16
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 14:02:53 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <3CA90CC651AE3F4BAEDF8A5B78639C8C90674D@mail02.tveyes.com>
References: <3CA90CC651AE3F4BAEDF8A5B78639C8C90674D@mail02.tveyes.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E3D2730E-E625-4FE4-8855-EB3E743EDF6A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort Performance Question
Date: Tue, 20 Mar 2007 16:02:50 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1

Are you using a cached IndexSearcher such that successive sorts on  
the same field will be more efficient?

	Erik


On Mar 20, 2007, at 3:39 PM, David Seltzer wrote:

> Hi All,
>
>
>
> I have a sort performance question:
>
>
>
> I have a fairly large index consisting of chunks of full-text
> transcriptions of television, radio and other media, and I'm trying to
> make it searchable and sortable by date.  The search front-end uses a
> parallelmultisearcher to search up to three indexes at a time (each
> index contains a month of live data). When I search for the word  
> "toast"
> (for example) sorted by score the results come back in about 1200ms,
> when I sort it by DateTime the results come back in 3900ms.
>
>
>
> Initially I was sorting based on a unixtime field, but having read  
> up on
> it, I switched to a slightly easier format: "yyyyMMDDHHmm". Now this
> value is still larger than an int, so I went one step farther and
> created two more fields for test purposes: SortDate, which is yyyyMMdd
> and SortTime which is HHmm. When I sort by SortDate then SortTime the
> results come in even slower, around 4300ms.
>
>
>
> To summarize:
>
>
>
> //The sorting fields looks like this:
>
> new Field("SortDateTime", sdfDateTime.format(dMySortDateTime),
> Field.Store.YES, Field.Index.UN_TOKENIZED);
>
> new Field("SortDate", sdfDate.format(dMySortDateTime),   
> Field.Store.YES,
> Field.Index.UN_TOKENIZED);
>
> new Field("SortTime", sdfTime.format(dMySortDateTime),   
> Field.Store.YES,
> Field.Index.UN_TOKENIZED);
>
>
>
> //and the performance looks like this:
>
>
>
> //sort by score
>
> Sort sSortOrder = Sort.RELEVANCE; //1200ms
>
>
>
> //sort by datetime
>
> Sort sSortOrder = new Sort("SortDateTime", true); //3900ms
>
>
>
> //sort by date then time
>
> //yes, I know this isn't valid code
>
> Sort sSortOrder = new Sort({new
> SortField("SortDate",SortField.INT,bReverse), new
> SortField("SortTime",SortField.INT,bReverse)}); //4300ms
>
>
>
>
>
> The two indexes that are being searched at the moment look like this:
>
>
>
> Index 1:
>
> Index Path: /storage/unisearch/MMS_index/2007.02/
>
> Index Size on Disk: 1,400,569 KB
>
> Number of Records: 2682238
>
> Index Version: 03/13/2007
>
>
>
> Index 2:
>
> Index Path: /storage/unisearch/MMS_index/2007.03/
>
> Index Size on Disk: 2,055,199 KB
>
> Number of Records: 3457434
>
> Index Version: 03/13/2007
>
>
>
> The search is being performed in tomcat and I'm running:
> org.apache.lucene - build 2007-02-14 on a Dual 3.4GHz Xeon w/ 2GB  
> memory
> and Red Hat 3.4.3-22.
>
>
>
> So, onto the question: Is this fast, slow, or normal.
>
>
>
> Along, with the obvious follow up: if it's slow, how can I make it
> faster.
>
>
>
> Thanks for your help!
>
>
>
> -Dave
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:06:13 2007
Return-Path: <java-user-return-27019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5573 invoked from network); 20 Mar 2007 20:06:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:06:12 -0000
Received: (qmail 91419 invoked by uid 500); 20 Mar 2007 20:06:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91378 invoked by uid 500); 20 Mar 2007 20:06:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91367 invoked by uid 99); 20 Mar 2007 20:06:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:06:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [68.142.229.98] (HELO smtp107.sbc.mail.re2.yahoo.com) (68.142.229.98)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Mar 2007 13:06:01 -0700
Received: (qmail 38296 invoked from network); 20 Mar 2007 20:05:38 -0000
Received: from unknown (HELO sys2a) (shelece@sbcglobal.net@69.107.113.126 with login)
  by smtp107.sbc.mail.re2.yahoo.com with SMTP; 20 Mar 2007 20:05:38 -0000
Reply-To: <bedouglas@earthlink.net>
From: "bruce" <bedouglas@earthlink.net>
To: <java-user@lucene.apache.org>,
	<solr-user@lucene.apache.org>
Cc: <casspc@gmail.com>
Subject: RE: Thank you...
Date: Tue, 20 Mar 2007 13:09:38 -0700
Message-ID: <0ef901c76b2b$b0f6d280$0301a8c0@tmesa.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 9.0, Build 9.0.2910.0
In-Reply-To: <8e69b6620703201258o38d18f05j8f5010c48ca195a8@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1896
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org

hey cass...

anyway you could let us know the site/app that we're powering!!!

always good to see what's going on in the world!

thanks


-----Original Message-----
From: Cass Costello [mailto:casspc@gmail.com]
Sent: Tuesday, March 20, 2007 12:58 PM
To: solr-user@lucene.apache.org; java-user@lucene.apache.org
Subject: Thank you...


...to everyone who helps make Lucene and Solr such fantastic tools.

I'm the Platform Architect for a leading online event ticket
after-marketplace (think eBay for tickets), and we've just completed a 12
month project to rewrite the Browse and Search components of our
customer-facing site.  Both rely heavily on Solr and a smattering of custom
Lucene API calls throughout the code base.  As of this morning (2 weeks
after our final-stage push to production), we've reduced our hardware needs
over 50% and have improved page response times by 30-60% as compared to the
old architecture (a mix of very old CF code for the browse pieces, and a
couple GSAs for the seach pages).  More importantly, we've established new
patterns and flex points for future growth, and I have utmost confidence
that we'll be leveraging the Lucene/Solr combo for years to come as we grow.
The devs are proud, the execs are happy, our customers have noticed the
speed improvements, and we all learned many positive lessons along the way.

These forums and various online resources (the Solr wiki first and foremost)
have been tremendously helpful.   And so, thank you, all, for pointing the
way to a simpler, faster, better solution for our needs.

Cass Costello

--
A complex system that works is invariably found to have evolved from a
simple system that works.
  - John Gaule


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:31:45 2007
Return-Path: <java-user-return-27020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12672 invoked from network); 20 Mar 2007 20:31:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:31:44 -0000
Received: (qmail 53483 invoked by uid 500); 20 Mar 2007 20:31:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53443 invoked by uid 500); 20 Mar 2007 20:31:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53432 invoked by uid 99); 20 Mar 2007 20:31:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:31:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [160.79.251.45] (HELO mail02.tveyes.com) (160.79.251.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:31:31 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Sort Performance Question
Date: Tue, 20 Mar 2007 16:31:09 -0400
Message-ID: <3CA90CC651AE3F4BAEDF8A5B78639C8C906764@mail02.tveyes.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sort Performance Question
Thread-Index: AcdrKtI2geIaEEDqT66jHOykaZWJEAAAxAcg
From: "David Seltzer" <dseltzer@TVEyes.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Erik,

I'm not using a cached IndexSearcher. Is this an option in an
environment where the underlying index changes on a second-by-second
basis? At what layer would a cached IndexSearcher be cached? At the
tomcat layer?

Caching at the object layer seems like it might help, but it doesn't
address my underlying concern. IE: the relative performance difference
between natural order and sorting order. Maybe you're right - and I
shouldn't be worried about the very first search against the index.

How would a cached searcher implementation look?

-Dave

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Tuesday, March 20, 2007 4:03 PM
To: java-user@lucene.apache.org
Subject: Re: Sort Performance Question

Are you using a cached IndexSearcher such that successive sorts on =20
the same field will be more efficient?

	Erik


On Mar 20, 2007, at 3:39 PM, David Seltzer wrote:

> Hi All,
>
>
>
> I have a sort performance question:
>
>
>
> I have a fairly large index consisting of chunks of full-text
> transcriptions of television, radio and other media, and I'm trying to
> make it searchable and sortable by date.  The search front-end uses a
> parallelmultisearcher to search up to three indexes at a time (each
> index contains a month of live data). When I search for the word =20
> "toast"
> (for example) sorted by score the results come back in about 1200ms,
> when I sort it by DateTime the results come back in 3900ms.
>
>
>
> Initially I was sorting based on a unixtime field, but having read =20
> up on
> it, I switched to a slightly easier format: "yyyyMMDDHHmm". Now this
> value is still larger than an int, so I went one step farther and
> created two more fields for test purposes: SortDate, which is yyyyMMdd
> and SortTime which is HHmm. When I sort by SortDate then SortTime the
> results come in even slower, around 4300ms.
>
>
>
> To summarize:
>
>
>
> //The sorting fields looks like this:
>
> new Field("SortDateTime", sdfDateTime.format(dMySortDateTime),
> Field.Store.YES, Field.Index.UN_TOKENIZED);
>
> new Field("SortDate", sdfDate.format(dMySortDateTime),  =20
> Field.Store.YES,
> Field.Index.UN_TOKENIZED);
>
> new Field("SortTime", sdfTime.format(dMySortDateTime),  =20
> Field.Store.YES,
> Field.Index.UN_TOKENIZED);
>
>
>
> //and the performance looks like this:
>
>
>
> //sort by score
>
> Sort sSortOrder =3D Sort.RELEVANCE; //1200ms
>
>
>
> //sort by datetime
>
> Sort sSortOrder =3D new Sort("SortDateTime", true); //3900ms
>
>
>
> //sort by date then time
>
> //yes, I know this isn't valid code
>
> Sort sSortOrder =3D new Sort({new
> SortField("SortDate",SortField.INT,bReverse), new
> SortField("SortTime",SortField.INT,bReverse)}); //4300ms
>
>
>
>
>
> The two indexes that are being searched at the moment look like this:
>
>
>
> Index 1:
>
> Index Path: /storage/unisearch/MMS_index/2007.02/
>
> Index Size on Disk: 1,400,569 KB
>
> Number of Records: 2682238
>
> Index Version: 03/13/2007
>
>
>
> Index 2:
>
> Index Path: /storage/unisearch/MMS_index/2007.03/
>
> Index Size on Disk: 2,055,199 KB
>
> Number of Records: 3457434
>
> Index Version: 03/13/2007
>
>
>
> The search is being performed in tomcat and I'm running:
> org.apache.lucene - build 2007-02-14 on a Dual 3.4GHz Xeon w/ 2GB =20
> memory
> and Red Hat 3.4.3-22.
>
>
>
> So, onto the question: Is this fast, slow, or normal.
>
>
>
> Along, with the obvious follow up: if it's slow, how can I make it
> faster.
>
>
>
> Thanks for your help!
>
>
>
> -Dave
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:37:04 2007
Return-Path: <java-user-return-27021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14566 invoked from network); 20 Mar 2007 20:37:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:37:03 -0000
Received: (qmail 67837 invoked by uid 500); 20 Mar 2007 20:37:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67800 invoked by uid 500); 20 Mar 2007 20:37:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67789 invoked by uid 99); 20 Mar 2007 20:37:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:37:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:36:50 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1456B30EFC16; Tue, 20 Mar 2007 14:36:26 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id ABBF230EFC16
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 14:36:10 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <3CA90CC651AE3F4BAEDF8A5B78639C8C906764@mail02.tveyes.com>
References: <3CA90CC651AE3F4BAEDF8A5B78639C8C906764@mail02.tveyes.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <AA6EBE0C-EAF4-42AD-B827-AAEB47182BF0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort Performance Question
Date: Tue, 20 Mar 2007 16:36:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1

In a web application, I have generally cached IndexSearcher in  
application scope and reused it for all requests.

You will have to balance the demand for timeliness of updates with  
the time it takes to build up the sort caches.  You can't really have  
instantaneous viewing of newly added documents and fully optimized  
sorting (or any other operation that relies on building up caches  
from an IndexReader/IndexSearcher).  Many folks have implemented  
IndexSearcher warming in the background of their applications,  
something which is a dramatic feature in Solr.  So you may want to  
have a look at how Solr does its magic, or simply use Solr flat out :)

	Erik


On Mar 20, 2007, at 4:31 PM, David Seltzer wrote:

> Erik,
>
> I'm not using a cached IndexSearcher. Is this an option in an
> environment where the underlying index changes on a second-by-second
> basis? At what layer would a cached IndexSearcher be cached? At the
> tomcat layer?
>
> Caching at the object layer seems like it might help, but it doesn't
> address my underlying concern. IE: the relative performance difference
> between natural order and sorting order. Maybe you're right - and I
> shouldn't be worried about the very first search against the index.
>
> How would a cached searcher implementation look?
>
> -Dave
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Tuesday, March 20, 2007 4:03 PM
> To: java-user@lucene.apache.org
> Subject: Re: Sort Performance Question
>
> Are you using a cached IndexSearcher such that successive sorts on
> the same field will be more efficient?
>
> 	Erik
>
>
> On Mar 20, 2007, at 3:39 PM, David Seltzer wrote:
>
>> Hi All,
>>
>>
>>
>> I have a sort performance question:
>>
>>
>>
>> I have a fairly large index consisting of chunks of full-text
>> transcriptions of television, radio and other media, and I'm  
>> trying to
>> make it searchable and sortable by date.  The search front-end uses a
>> parallelmultisearcher to search up to three indexes at a time (each
>> index contains a month of live data). When I search for the word
>> "toast"
>> (for example) sorted by score the results come back in about 1200ms,
>> when I sort it by DateTime the results come back in 3900ms.
>>
>>
>>
>> Initially I was sorting based on a unixtime field, but having read
>> up on
>> it, I switched to a slightly easier format: "yyyyMMDDHHmm". Now this
>> value is still larger than an int, so I went one step farther and
>> created two more fields for test purposes: SortDate, which is  
>> yyyyMMdd
>> and SortTime which is HHmm. When I sort by SortDate then SortTime the
>> results come in even slower, around 4300ms.
>>
>>
>>
>> To summarize:
>>
>>
>>
>> //The sorting fields looks like this:
>>
>> new Field("SortDateTime", sdfDateTime.format(dMySortDateTime),
>> Field.Store.YES, Field.Index.UN_TOKENIZED);
>>
>> new Field("SortDate", sdfDate.format(dMySortDateTime),
>> Field.Store.YES,
>> Field.Index.UN_TOKENIZED);
>>
>> new Field("SortTime", sdfTime.format(dMySortDateTime),
>> Field.Store.YES,
>> Field.Index.UN_TOKENIZED);
>>
>>
>>
>> //and the performance looks like this:
>>
>>
>>
>> //sort by score
>>
>> Sort sSortOrder = Sort.RELEVANCE; //1200ms
>>
>>
>>
>> //sort by datetime
>>
>> Sort sSortOrder = new Sort("SortDateTime", true); //3900ms
>>
>>
>>
>> //sort by date then time
>>
>> //yes, I know this isn't valid code
>>
>> Sort sSortOrder = new Sort({new
>> SortField("SortDate",SortField.INT,bReverse), new
>> SortField("SortTime",SortField.INT,bReverse)}); //4300ms
>>
>>
>>
>>
>>
>> The two indexes that are being searched at the moment look like this:
>>
>>
>>
>> Index 1:
>>
>> Index Path: /storage/unisearch/MMS_index/2007.02/
>>
>> Index Size on Disk: 1,400,569 KB
>>
>> Number of Records: 2682238
>>
>> Index Version: 03/13/2007
>>
>>
>>
>> Index 2:
>>
>> Index Path: /storage/unisearch/MMS_index/2007.03/
>>
>> Index Size on Disk: 2,055,199 KB
>>
>> Number of Records: 3457434
>>
>> Index Version: 03/13/2007
>>
>>
>>
>> The search is being performed in tomcat and I'm running:
>> org.apache.lucene - build 2007-02-14 on a Dual 3.4GHz Xeon w/ 2GB
>> memory
>> and Red Hat 3.4.3-22.
>>
>>
>>
>> So, onto the question: Is this fast, slow, or normal.
>>
>>
>>
>> Along, with the obvious follow up: if it's slow, how can I make it
>> faster.
>>
>>
>>
>> Thanks for your help!
>>
>>
>>
>> -Dave
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:45:28 2007
Return-Path: <java-user-return-27023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17369 invoked from network); 20 Mar 2007 20:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:45:26 -0000
Received: (qmail 84054 invoked by uid 500); 20 Mar 2007 20:45:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83981 invoked by uid 500); 20 Mar 2007 20:45:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83958 invoked by uid 99); 20 Mar 2007 20:45:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:45:17 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:45:07 -0700
Received: by wr-out-0506.google.com with SMTP id i28so15429wra
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 13:44:45 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=LTbRQ/mMHzXeD5j5wFDeIcKu1tN1yJ6dikVvTXQOR1BrE7Y+VguSiDpbFmxilBDh8NQZ+zyyLk+4cSBid6DeFhmxbXSLDUAhhGz6Pwomn7WHTigXQymtH+kB+lUe3sSFKHSTu3ivRL+pgFXSWNGypVzhQSyOqXcww3fyYpBmBRg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TLcNqUsX3I5q0QFsBf+xYFj1iO7sO3LZVh0MNvcxKzw9Mgz5OHjfsW0Xe0zqn30mRfprd3jepR/BAIUd/PO2AJro6yLJaiWyx4kb+WxRxkA/YIUpNIxBpjgPH9PLxQc370Akkm8v09nwBIVw+mermrbvSdRuPMlN2EmXzrOwUYA=
Received: by 10.90.55.19 with SMTP id d19mr1523497aga.1174423485651;
        Tue, 20 Mar 2007 13:44:45 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 20 Mar 2007 13:44:45 -0700 (PDT)
Message-ID: <359a92830703201344k34484077xb95eb49e7576c298@mail.gmail.com>
Date: Tue, 20 Mar 2007 16:44:45 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Obtaining the (indexed) terms in a field in a particular document
In-Reply-To: <OF97105346.A2D38EB1-ON852572A4.006B021C-852572A4.006B6E67@us.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_166700_3913288.1174423485144"
References: <359a92830703201208k79899010pd12919e449606f7@mail.gmail.com>
	 <OF97105346.A2D38EB1-ON852572A4.006B021C-852572A4.006B6E67@us.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_166700_3913288.1174423485144
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, depending upon your storage requirements, it's actually
much easier than that. Assuming you're adding
this field (or a duplicate) as UN_TOKENIZED (in this case, no
need to store), you can just spin
through all the terms for that field with TermDocs/TermEnum.
The trick is to have your term start with a value of "". I.e.
new Term(field, "") to enumerate them all. See TermDocs.seek.

This is without TermVectors at all, which'll save you some space.

Erick

On 3/20/07, Donna L Gresh <gresh@us.ibm.com> wrote:
>
> Thanks, I see what you are saying.
>
> Seems that if I create the field at index time with term vectors stored,
> then I can iterate through the documents and get both the unique
> identifier and the terms, right? My original question was imprecise in
> that I'm going to want to get all the terms for *all* the documents (one
> document at a time) so I can just iterate through all the documents using
>
>                 for (int i=0; i<indexReaderR.numDocs(); i++) {
>                         TermFreqVector tfv =
> indexReaderR.getTermFreqVector(i,"my text field name");
>
> Donna L. Gresh
> Services Research, Mathematical Sciences Department
> IBM T.J. Watson Research Center
> (914) 945-2472
> http://www.research.ibm.com/people/g/donnagresh
> gresh@us.ibm.com
>
>
>
>
> "Erick Erickson" <erickerickson@gmail.com>
> 03/20/2007 03:08 PM
> Please respond to
> java-user@lucene.apache.org
>
>
> To
> java-user@lucene.apache.org
> cc
>
> Subject
> Re: Obtaining the (indexed) terms in a field in a particular document
>
>
>
>
>
>
> Sorry, but you have to have the Lucene document ID, which you
> can get either as part of a Hits or HitCollector or...
> or by using TermDocs/TermEnum on your unique id (my_id in
> your example).
>
> Erick
>
> On 3/20/07, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > You can do a document.get(field), *assuming* you have stored the data
> > (Field.Store.YES) at index time, although you may not get
> > stop words.
> >
> > On 3/20/07, Donna L Gresh <gresh@us.ibm.com> wrote:
> > >
> > > My apologies if this is a simple question--
> > >
> > > How can I get all the (stemmed and stop words removed, etc.) terms in
> a
> > > particular field of a particular document?
> > >
> > > Suppose my documents each consist of two fields, one with the name
> > > "my_id"
> > > and a unique identifier, and the other being some text string
> consisting
> > > of a number of words.
> > > I'd like to get all the terms in the text string given the unique
> > > identifier.
> > >
> > > (My basic reason is to do a sort of document similarity between the
> text
> > >
> > > string and some other text string, doing a boolean query with
> > > a number of SHOULD clauses, if this makes sense; I'm welcome to
> > > suggestions of better ways to do this)
> > >
> > > Donna L. Gresh
> > >
> >
> >
>
>

------=_Part_166700_3913288.1174423485144--

From java-user-return-27022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:45:28 2007
Return-Path: <java-user-return-27022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17365 invoked from network); 20 Mar 2007 20:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:45:26 -0000
Received: (qmail 84040 invoked by uid 500); 20 Mar 2007 20:45:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83979 invoked by uid 500); 20 Mar 2007 20:45:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83957 invoked by uid 99); 20 Mar 2007 20:45:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:45:17 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.238 as permitted sender)
Received: from [64.233.184.238] (HELO wr-out-0506.google.com) (64.233.184.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:45:07 -0700
Received: by wr-out-0506.google.com with SMTP id i28so15431wra
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 13:44:46 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=FrJXmKP1w4dvaOXYmcOVD+UpQNKOmNll3F7+Kw/oei3gwGJPCaMRmuRi9pZ/iLsMLjcmQbgKEct8qU4407XZiWrt+AlQbX3KPBPddcGyObh4KZ+rTWQtlTeiJmoymxvtJOd5sRNB13OUynlby3w+iz5ZM1liGidsbYUD1IkmvQs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nCxFlRzYx0RURkk1cxw0LHh9CP9GdzyI6i3tzETsWQ/KTGKL6sG01scrJj+CNjyGXERWwYLGcGt6ZtgAzQiZyBo615h+X4YiJjsMVTO46ClYKwIDIHNeRH6tox9r9BDD1M5JxVNtvKPYL6OV7a5fz/A3thYI3pucuGbPXgiCSqo=
Received: by 10.90.49.19 with SMTP id w19mr1488173agw.1174423485691;
        Tue, 20 Mar 2007 13:44:45 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 20 Mar 2007 13:44:45 -0700 (PDT)
Message-ID: <359a92830703201344k34484077xb95eb49e7576c298@mail.gmail.com>
Date: Tue, 20 Mar 2007 16:44:45 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Obtaining the (indexed) terms in a field in a particular document
In-Reply-To: <OF97105346.A2D38EB1-ON852572A4.006B021C-852572A4.006B6E67@us.ibm.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_166700_3913288.1174423485144"
References: <359a92830703201208k79899010pd12919e449606f7@mail.gmail.com>
	 <OF97105346.A2D38EB1-ON852572A4.006B021C-852572A4.006B6E67@us.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_166700_3913288.1174423485144
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, depending upon your storage requirements, it's actually
much easier than that. Assuming you're adding
this field (or a duplicate) as UN_TOKENIZED (in this case, no
need to store), you can just spin
through all the terms for that field with TermDocs/TermEnum.
The trick is to have your term start with a value of "". I.e.
new Term(field, "") to enumerate them all. See TermDocs.seek.

This is without TermVectors at all, which'll save you some space.

Erick

On 3/20/07, Donna L Gresh <gresh@us.ibm.com> wrote:
>
> Thanks, I see what you are saying.
>
> Seems that if I create the field at index time with term vectors stored,
> then I can iterate through the documents and get both the unique
> identifier and the terms, right? My original question was imprecise in
> that I'm going to want to get all the terms for *all* the documents (one
> document at a time) so I can just iterate through all the documents using
>
>                 for (int i=0; i<indexReaderR.numDocs(); i++) {
>                         TermFreqVector tfv =
> indexReaderR.getTermFreqVector(i,"my text field name");
>
> Donna L. Gresh
> Services Research, Mathematical Sciences Department
> IBM T.J. Watson Research Center
> (914) 945-2472
> http://www.research.ibm.com/people/g/donnagresh
> gresh@us.ibm.com
>
>
>
>
> "Erick Erickson" <erickerickson@gmail.com>
> 03/20/2007 03:08 PM
> Please respond to
> java-user@lucene.apache.org
>
>
> To
> java-user@lucene.apache.org
> cc
>
> Subject
> Re: Obtaining the (indexed) terms in a field in a particular document
>
>
>
>
>
>
> Sorry, but you have to have the Lucene document ID, which you
> can get either as part of a Hits or HitCollector or...
> or by using TermDocs/TermEnum on your unique id (my_id in
> your example).
>
> Erick
>
> On 3/20/07, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > You can do a document.get(field), *assuming* you have stored the data
> > (Field.Store.YES) at index time, although you may not get
> > stop words.
> >
> > On 3/20/07, Donna L Gresh <gresh@us.ibm.com> wrote:
> > >
> > > My apologies if this is a simple question--
> > >
> > > How can I get all the (stemmed and stop words removed, etc.) terms in
> a
> > > particular field of a particular document?
> > >
> > > Suppose my documents each consist of two fields, one with the name
> > > "my_id"
> > > and a unique identifier, and the other being some text string
> consisting
> > > of a number of words.
> > > I'd like to get all the terms in the text string given the unique
> > > identifier.
> > >
> > > (My basic reason is to do a sort of document similarity between the
> text
> > >
> > > string and some other text string, doing a boolean query with
> > > a number of SHOULD clauses, if this makes sense; I'm welcome to
> > > suggestions of better ways to do this)
> > >
> > > Donna L. Gresh
> > >
> >
> >
>
>

------=_Part_166700_3913288.1174423485144--

From java-user-return-27024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:49:56 2007
Return-Path: <java-user-return-27024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23371 invoked from network); 20 Mar 2007 20:49:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:49:54 -0000
Received: (qmail 99048 invoked by uid 500); 20 Mar 2007 20:49:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98768 invoked by uid 500); 20 Mar 2007 20:49:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98748 invoked by uid 99); 20 Mar 2007 20:49:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:49:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of casspc@gmail.com designates 209.85.132.247 as permitted sender)
Received: from [209.85.132.247] (HELO an-out-0708.google.com) (209.85.132.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:49:43 -0700
Received: by an-out-0708.google.com with SMTP id c3so14547ana
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 13:49:22 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=seCbXiTJlz5/YzzOp6oQagfZPQiMLCCnJNXT+vhW59qlQxSX077kMTtpJdjEE1LDCfo0uTnr/yBGDfdESMgoORt7h7I+TGzFH+2VKmo3oupZD8Rr/2uZej/vAioVe9IdZKvYKarRkeLQJ5qSq2OX11dxbOyslWNjIq2h1rZZyIg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=Xro9ZmkNdQhfBDWpgPXqGOCXaiX4C8bLWG75whzERYV14Fx8aKOhTTT9/8JJ8E8CmdRbKogyIMCMSjcD2QesVDtIFsyjKqS4RKDO9ZUIrRP93VstOBgeEdpBCKLUsbB8ZIqIWN1uwzhbEFk4IU2kLi0obhv3PkhOdN+tXrnZNTQ=
Received: by 10.100.191.5 with SMTP id o5mr5600716anf.1174423762636;
        Tue, 20 Mar 2007 13:49:22 -0700 (PDT)
Received: by 10.100.45.2 with HTTP; Tue, 20 Mar 2007 13:49:22 -0700 (PDT)
Message-ID: <8e69b6620703201349k35aecfe1ka1c27b6962081c9@mail.gmail.com>
Date: Tue, 20 Mar 2007 13:49:22 -0700
From: "Cass Costello" <casspc@gmail.com>
To: bedouglas@earthlink.net
Subject: Re: Thank you...
Cc: java-user@lucene.apache.org, solr-user@lucene.apache.org
In-Reply-To: <0ef901c76b2b$b0f6d280$0301a8c0@tmesa.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_118948_22751293.1174423762572"
References: <8e69b6620703201258o38d18f05j8f5010c48ca195a8@mail.gmail.com>
	 <0ef901c76b2b$b0f6d280$0301a8c0@tmesa.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_118948_22751293.1174423762572
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Heh - it used to be in my sig ... my bad.

Thanks, all. :)

http://www.stubhub.com


On 3/20/07, bruce <bedouglas@earthlink.net> wrote:
>
> hey cass...
>
> anyway you could let us know the site/app that we're powering!!!
>
> always good to see what's going on in the world!
>
> thanks
>
>
> -----Original Message-----
> From: Cass Costello [mailto:casspc@gmail.com]
> Sent: Tuesday, March 20, 2007 12:58 PM
> To: solr-user@lucene.apache.org; java-user@lucene.apache.org
> Subject: Thank you...
>
>
> ...to everyone who helps make Lucene and Solr such fantastic tools.
>
> I'm the Platform Architect for a leading online event ticket
> after-marketplace (think eBay for tickets), and we've just completed a 12
> month project to rewrite the Browse and Search components of our
> customer-facing site.  Both rely heavily on Solr and a smattering of
> custom
> Lucene API calls throughout the code base.  As of this morning (2 weeks
> after our final-stage push to production), we've reduced our hardware
> needs
> over 50% and have improved page response times by 30-60% as compared to
> the
> old architecture (a mix of very old CF code for the browse pieces, and a
> couple GSAs for the seach pages).  More importantly, we've established new
> patterns and flex points for future growth, and I have utmost confidence
> that we'll be leveraging the Lucene/Solr combo for years to come as we
> grow.
> The devs are proud, the execs are happy, our customers have noticed the
> speed improvements, and we all learned many positive lessons along the
> way.
>
> These forums and various online resources (the Solr wiki first and
> foremost)
> have been tremendously helpful.   And so, thank you, all, for pointing the
> way to a simpler, faster, better solution for our needs.
>
> Cass Costello
>
> --
> A complex system that works is invariably found to have evolved from a
> simple system that works.
>   - John Gaule
>
>


-- 
A complex system that works is invariably found to have evolved from a
simple system that works.
  - John Gaule

------=_Part_118948_22751293.1174423762572--

From java-user-return-27025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 20:51:02 2007
Return-Path: <java-user-return-27025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25156 invoked from network); 20 Mar 2007 20:51:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 20:51:00 -0000
Received: (qmail 5630 invoked by uid 500); 20 Mar 2007 20:51:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5598 invoked by uid 500); 20 Mar 2007 20:51:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5587 invoked by uid 99); 20 Mar 2007 20:51:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 13:51:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.104.95.4] (HELO listing.marketingbrokers.com) (66.104.95.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Mar 2007 13:50:48 -0700
Received: from ip66-104-95-21.z95-104-66.customer.algx.net ([66.104.95.21])
          by listing.marketingbrokers.com (JAMES SMTP Server 2.2.0) with SMTP ID 29
          for <java-user@lucene.apache.org>;
          Tue, 20 Mar 2007 12:50:04 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <3CA90CC651AE3F4BAEDF8A5B78639C8C90674D@mail02.tveyes.com>
References: <3CA90CC651AE3F4BAEDF8A5B78639C8C90674D@mail02.tveyes.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6C466DC4-5B08-4C87-9E68-0A93D6D4F960@marketingbrokers.com>
Content-Transfer-Encoding: 7bit
From: Peter W. <peter@marketingbrokers.com>
Subject: Re: Sort Performance Question
Date: Tue, 20 Mar 2007 13:50:07 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

The response time for sorts depends on number of results.
If you don't need all documents returned you could use a filter.

One idea would be to use DateTools to save your dates as Strings
and build your query with FilteredQuery passing in a custom filter
to search this field.

The filter would be constructed using two RangeFilters setting upper
and lower date boundaries (Strings) combined using NumberTools and
ChainedFilter.

With a subset of your matching results sorting should be much faster.

Regards,

Peter W.



On Mar 20, 2007, at 12:39 PM, David Seltzer wrote:

> Hi All,
>
>
>
> I have a sort performance question:
>
>
>
> I have a fairly large index consisting of chunks of full-text
> transcriptions of television, radio and other media, and I'm trying to
> make it searchable and sortable by date.  ...
>
> Initially I was sorting based on a unixtime field, but having read  
> up on
> it, I switched to a slightly easier format: "yyyyMMDDHHmm". Now this
> value is still larger than an int, so I went one step farther and
> created two more fields for test purposes: SortDate, which is yyyyMMdd
> and SortTime which is HHmm. When I sort by SortDate then SortTime the
> results come in even slower, around 4300ms. ...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 22:15:24 2007
Return-Path: <java-user-return-27026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97727 invoked from network); 20 Mar 2007 22:15:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 22:15:22 -0000
Received: (qmail 37800 invoked by uid 500); 20 Mar 2007 22:15:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37772 invoked by uid 500); 20 Mar 2007 22:15:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37761 invoked by uid 99); 20 Mar 2007 22:15:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 15:15:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ryanackley@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 15:15:13 -0700
Received: by ug-out-1314.google.com with SMTP id k40so37503ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 15:14:48 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=YcI6Qfvbg4qUnNUsdHW0qMqz72IeZ3u/xRugoASwtC86g0egZ3bGVMfwedO4VP7FRPq2kvpKmqd2aAT1MIjxHEe7NL3XuwkiNp/gNwn7J4IsP+wDMnMqpNmHKOURrOEj4TPc0w4LBUbE599lvPaz83VuDI+xP7oK3gOzt0Udx4I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=EHvfU7TYEmBUHl9fq6sakjSDWC6GjiVznJbTXjqzJjjQqYaLI7xNecZrdARy/55rXqsjPf/4OFym8jRMi1G/9GaCqn5ZSNvWz5o7W+RE2f3vi5GDLP5AWgGCLmB+QHRePQC+jcexATYxyizoA/oPF875qveoPDQ8bEwzMgq/HbQ=
Received: by 10.70.90.17 with SMTP id n17mr155352wxb.1174428887915;
        Tue, 20 Mar 2007 15:14:47 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Tue, 20 Mar 2007 15:14:47 -0700 (PDT)
Message-ID: <e15c52dc0703201514r74ab69dic919e45733fa108a@mail.gmail.com>
Date: Tue, 20 Mar 2007 15:14:47 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TextMining.org Word extractor
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

I've been out of the loop for a while. I just saw this recent thread
and re-subscribed to the list.

In the next month or two I will be able to put some time into the
textmining library. Fast saved files are on the list of improvements
as well as other features that have been requested. I would also like
to add more file formats and move all source to sourceforge or some
other project hosting service. I will try to replace the hacked page
with a static html page within the next week. In the meantime you can
download direct at

http://www.textmining.org/textmining.zip

Textmining has always been Apache licensed. It has never been GPL.

-Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 20 22:25:14 2007
Return-Path: <java-user-return-27027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1199 invoked from network); 20 Mar 2007 22:25:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 20 Mar 2007 22:25:13 -0000
Received: (qmail 58780 invoked by uid 500); 20 Mar 2007 22:25:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58746 invoked by uid 500); 20 Mar 2007 22:25:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58735 invoked by uid 99); 20 Mar 2007 22:25:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 15:25:14 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of martin.haye@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 15:25:05 -0700
Received: by ug-out-1314.google.com with SMTP id k40so40954ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 15:24:44 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=AJe/g4pPVul2IOV5jDkcw2YD0hKF0cprAMkWf9Yx4/sbFhQu9X9zE6JgjTRM3xbQ61GdK8i/V6RU88LpUn458lFSawpLrmYLyk/CAMtqlpY/RYL2hPVcd6Jbn+BLZP+iXjntn+SX7HNCcdSqcXh7preQa+HDwpNSZZnJ1wL1+9s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=p57zhh+qXXgnLYorVtII77RU7nZ8JvgMd13GFHibSAvLYtxuNqdWUlVJr0fksCXHp26C38y6wiUGBg9HyXSOBkpiG/3EP3AJZNDqbS5wC5YZJAJoJA6E76tm82AsmPDsQAV4GMhDzR8RUHadh2Z3MGWkrKH5oYD8Csy5HYlESL4=
Received: by 10.65.204.7 with SMTP id g7mr175773qbq.1174429483785;
        Tue, 20 Mar 2007 15:24:43 -0700 (PDT)
Received: by 10.115.76.18 with HTTP; Tue, 20 Mar 2007 15:24:43 -0700 (PDT)
Message-ID: <2d5af9490703201524h5059e288n661013b3208b588@mail.gmail.com>
Date: Tue, 20 Mar 2007 15:24:43 -0700
From: "Martin Haye" <martin.haye@gmail.com>
Reply-To: m1@snyder-haye.com
To: java-user@lucene.apache.org
Subject: Spelt, for better spelling correction
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_185730_6480197.1174429483575"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_185730_6480197.1174429483575
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

As part of XTF, an open source publishing engine that uses Lucene, I
developed a new spelling correction engine specifically to provide "Did you
mean..." links for misspelled queries. I and a small group are preparing
this for submission as a contrib module to Lucene. And we're inviting
interested people to join the discussion about it.

The new engine is being called "Spelt" and differs from the one currently in
Lucene contrib in the following ways:

- More accurate: Much better performance on single-word queries (90% correct
in #1 slot in my tests). On general list including multi-word queries, gets
80%+ correct.
- Multi-word: Handles and corrects multi-word queries such as "harrypotter"
-> "harry potter".
- Fast: In my tests, builds the dictionary more than 30 times faster.
- Small: Dictionary size is roughly a third of that built by the existing
engine.
- Other bells and whistles...

There is already a standalone test program that people can try out, and
we're interested in feedback. If you're interested in discussing, testing,
or previewing, consider joining the Google group:
http://groups.google.com/group/spelt/

--Martin

------=_Part_185730_6480197.1174429483575--

From java-user-return-27028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 00:01:56 2007
Return-Path: <java-user-return-27028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30458 invoked from network); 21 Mar 2007 00:01:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 00:01:55 -0000
Received: (qmail 19872 invoked by uid 500); 21 Mar 2007 00:01:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19836 invoked by uid 500); 21 Mar 2007 00:01:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19820 invoked by uid 99); 21 Mar 2007 00:01:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 17:01:56 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of yseeley@gmail.com designates 209.85.134.187 as permitted sender)
Received: from [209.85.134.187] (HELO mu-out-0910.google.com) (209.85.134.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 17:01:48 -0700
Received: by mu-out-0910.google.com with SMTP id i10so106750mue
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 17:01:26 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=nr/UJBWvHjgEG2zNa947OhT2k5rYCdi2IUE55J1l8b65N2iXmtT2spYSL1pegsNRB86Ho8nAEfYxBLhMP3n8VUOAmBOXUMAefUmhSxbf9d2EThNCqa1Ciynd3OJlzBqVzNFaH6NP8+qaoNa6EZGwMHic2zCP64jvhC26qAl1ebU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=P1IpbehGziVv8sS2zWn4E3aUpQgOn8fUizSxXxEHhQHqkPqq+JT5SRiQmQja6OSOsm2ZdCTEO5pa6uTULiuX96HflZKHYxpML1l+PpISk/gXwq9drVqkaJYr3nOJOoyumyNGfbjjH0psVwjnKUynoCLQHoeegIXqkvacOZd3Uyk=
Received: by 10.82.138.6 with SMTP id l6mr333629bud.1174435286583;
        Tue, 20 Mar 2007 17:01:26 -0700 (PDT)
Received: by 10.82.126.8 with HTTP; Tue, 20 Mar 2007 17:01:26 -0700 (PDT)
Message-ID: <c68e39170703201701i222d9c61t2508400e6e0bd2fb@mail.gmail.com>
Date: Tue, 20 Mar 2007 20:01:26 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org, m1@snyder-haye.com
Subject: Re: Spelt, for better spelling correction
In-Reply-To: <2d5af9490703201524h5059e288n661013b3208b588@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <2d5af9490703201524h5059e288n661013b3208b588@mail.gmail.com>
X-Google-Sender-Auth: cbc1dcd95f2a6716
X-Virus-Checked: Checked by ClamAV on apache.org

Sounds interesting Martin!
Is the dictionary static, or is it generated from the corpus or from
user queries?

-Yonik

On 3/20/07, Martin Haye <martin.haye@gmail.com> wrote:
> As part of XTF, an open source publishing engine that uses Lucene, I
> developed a new spelling correction engine specifically to provide "Did you
> mean..." links for misspelled queries. I and a small group are preparing
> this for submission as a contrib module to Lucene. And we're inviting
> interested people to join the discussion about it.
>
> The new engine is being called "Spelt" and differs from the one currently in
> Lucene contrib in the following ways:
>
> - More accurate: Much better performance on single-word queries (90% correct
> in #1 slot in my tests). On general list including multi-word queries, gets
> 80%+ correct.
> - Multi-word: Handles and corrects multi-word queries such as "harrypotter"
> -> "harry potter".
> - Fast: In my tests, builds the dictionary more than 30 times faster.
> - Small: Dictionary size is roughly a third of that built by the existing
> engine.
> - Other bells and whistles...
>
> There is already a standalone test program that people can try out, and
> we're interested in feedback. If you're interested in discussing, testing,
> or previewing, consider joining the Google group:
> http://groups.google.com/group/spelt/
>
> --Martin
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 00:13:04 2007
Return-Path: <java-user-return-27029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33571 invoked from network); 21 Mar 2007 00:13:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 00:13:03 -0000
Received: (qmail 40740 invoked by uid 500); 21 Mar 2007 00:13:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40717 invoked by uid 500); 21 Mar 2007 00:13:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40706 invoked by uid 99); 21 Mar 2007 00:13:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 17:13:04 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 17:12:54 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2L0CR6A006666
	for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 02:12:28 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3l2cbmx; 21 Mar 2007 02:12:00 +0200
Message-ID: <4600785A.8060500@teamware.com>
Date: Wed, 21 Mar 2007 11:12:10 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: question about getting all terms in a section of the documents
References: <OF313ECB0D.1AC6DBF8-ON852572A3.004A0307-852572A3.004AA7A2@us.ibm.com>
In-Reply-To: <OF313ECB0D.1AC6DBF8-ON852572A3.004A0307-852572A3.004AA7A2@us.ibm.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Wed, 21 Mar 2007 02:12:28 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=-1.11, required 5,
	autolearn=not spam, BAYES_05 -1.11)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Donna L Gresh wrote:
> 
> Also, the terms.close()
> statement is outside the scope of terms. I changed to the following, is 
> this correct and should the
> FAQ be changed?
> 
> try
>                 {
>                     TermEnum terms = indexReader.terms(new 
> Term("FIELD-NAME-HERE", ""));
>  
>                     while ("FIELD-NAME-HERE".equals( 
> terms.term().field()))
>                     {
>                      // ... collect enum.term().text() ...
>                 String term = terms.term().text();
>                         System.out.println(term);
>                      if (!terms.next())
>                             break;
>                     }
>                     terms.close();
>                 }

I assume the original reason for the finally block was to demonstrate that the 
TermEnum must be closed, so perhaps it should be

TermEnum terms = null;
try
{
...
}
finally
{
    if (terms != null)
        terms.close();
}

the same applies to TermDocs.  Maybe others?
Antony





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 01:07:38 2007
Return-Path: <java-user-return-27030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49300 invoked from network); 21 Mar 2007 01:07:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 01:07:38 -0000
Received: (qmail 2960 invoked by uid 500); 21 Mar 2007 01:07:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2930 invoked by uid 500); 21 Mar 2007 01:07:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2919 invoked by uid 99); 21 Mar 2007 01:07:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 18:07:38 -0700
X-ASF-Spam-Status: No, hits=4.1 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,HTML_OBFUSCATE_05_10
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.147.74.246] (HELO web62108.mail.re1.yahoo.com) (69.147.74.246)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Mar 2007 18:07:29 -0700
Received: (qmail 11585 invoked by uid 60001); 21 Mar 2007 01:07:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=JBXQmUl/3wfatvol4d9OMznz+QA2RrGIT3EXlgF4OQK0M3uXMEs3gzlUtBAofBc33D/pvJm5/Koup00Nf6rDv/6028cMEYDai+ysUPm+v6sqIgjl1oT8S1LxamFTovZtvpxz3+I5yRl5ZoXbcqAyqQhYnlauyVJfY9+NR213Tow=;
X-YMail-OSG: MZlbb5YVM1mt6xGpjF_8hwclF7ehUcwymKDt1FLd1ISk2I.xJfmemDZTRuvlr1bN0g.YSQ3eMZHor1oQedxko9CUNHB8rNjwdRH_kk4AI.dqXDzU.uHUCrJGTQ7SZ1Tf
Received: from [67.177.227.206] by web62108.mail.re1.yahoo.com via HTTP; Tue, 20 Mar 2007 18:07:05 PDT
Date: Tue, 20 Mar 2007 18:07:05 -0700 (PDT)
From: Santa Clause <noclueu2@yahoo.com>
Subject: Search Question
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-22368317-1174439225=:8829"
Content-Transfer-Encoding: 8bit
Message-ID: <205837.8829.qm@web62108.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-22368317-1174439225=:8829
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello all,
  I have a how-to question. I have a field with these tokens in it (a b c f b g a) and I am searching on it with these tokens (a f e g a). So far this is easy I just set up a BooleanQuery with a bunch of optional TermQueries and get hits on (a f g a) but not (e) which is close to what I want. Now the part I am having difficulties with, I want to only find document that have those search tokens in order. Search (a f e g a) gets a hit, search (a f g e a) would not. A PhraseQuery expects all the search terms to be there but is close to what I want. Currently I do the set of TermQueries then filter out any document that does not have the terms in the right order as I am displaying them. I do not cycle through the entire Hits object, just enough to get something to display This works but then I never know the real count of found documents without going through all of them, which is slow. The option I am pondering is writing my own Query object but I'd rather find an easier
 solution. Any thoughts?

Thanks,
Richard K.

 
---------------------------------
8:00? 8:25? 8:40?  Find a flick in no time
 with theYahoo! Search movie showtime shortcut.
--0-22368317-1174439225=:8829--

From java-user-return-27031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 01:23:31 2007
Return-Path: <java-user-return-27031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62805 invoked from network); 21 Mar 2007 01:23:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 01:23:29 -0000
Received: (qmail 25007 invoked by uid 500); 21 Mar 2007 01:23:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24973 invoked by uid 500); 21 Mar 2007 01:23:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24961 invoked by uid 99); 21 Mar 2007 01:23:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 18:23:30 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 18:23:20 -0700
Received: by ug-out-1314.google.com with SMTP id k40so95514ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 18:22:59 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BXbYavMGhYT1W6DEyoJ7XPZylOdsnF1fJ6N/aeICuJTzX5pVhdw1pXf+kGIKCW2Lw4FjSDLT5ltth/pk7npXV1G6redQoENm2n0gEoW7j8zUjGXyLkBnP0AT7rlaRnNKFXvAGLS1h4DmM+xXp1Ix0O6rAGeBOoy1Kq0KCPODRpc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZaRfKmnQvKYFo5iB5lVHpNUkjCXHNdcadS3ZV8+e4ls/7JVJT/QQBIqL8lb8pjHkxBthjLLxSIAIsj9GfszuccOLynjWZ/L9MU6eCQwzUXEgBtDKprhEKR2qPvtFr0yM/IyJxTXhme6Zw88f02sUqhCjX7Ip2wZQB5uxvU9L+MQ=
Received: by 10.65.242.10 with SMTP id u10mr407498qbr.1174440179038;
        Tue, 20 Mar 2007 18:22:59 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 20 Mar 2007 18:22:58 -0700 (PDT)
Message-ID: <359a92830703201822i6fb93774vd966494ca52378c7@mail.gmail.com>
Date: Tue, 20 Mar 2007 21:22:58 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Search Question
In-Reply-To: <205837.8829.qm@web62108.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_170675_10305303.1174440178960"
References: <205837.8829.qm@web62108.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_170675_10305303.1174440178960
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I'm betting you can make SpanNearQuery work for you. In the simple case it's
a bunch of SpanQuerys (which in its simplest form is just a Span version of
TermQuery). The two other parameters are slop (See Lucene In Action for an
explanation of this) and whether the terms must appear in the order they are
in the array of SpanQuery you use in the constructor to the SpanNearQuery.

Once you construct the SpanNearQuery, you can use it just like any other
query.

So, if you wanted to find all the documents with your terms in order but
didn't care how close together they were, you could specify a very large
slop and inOrder = true. If you only wanted proximate terms, select a
reasonable slop. Defining "reasonable" is an exercise left to the reader...

Best
Erick

On 3/20/07, Santa Clause <noclueu2@yahoo.com> wrote:
>
> Hello all,
>   I have a how-to question. I have a field with these tokens in it (a b c
> f b g a) and I am searching on it with these tokens (a f e g a). So far this
> is easy I just set up a BooleanQuery with a bunch of optional TermQueries
> and get hits on (a f g a) but not (e) which is close to what I want. Now the
> part I am having difficulties with, I want to only find document that have
> those search tokens in order. Search (a f e g a) gets a hit, search (a f g e
> a) would not. A PhraseQuery expects all the search terms to be there but is
> close to what I want. Currently I do the set of TermQueries then filter out
> any document that does not have the terms in the right order as I am
> displaying them. I do not cycle through the entire Hits object, just enough
> to get something to display This works but then I never know the real count
> of found documents without going through all of them, which is slow. The
> option I am pondering is writing my own Query object but I'd rather find an
> easier
> solution. Any thoughts?
>
> Thanks,
> Richard K.
>
>
> ---------------------------------
> 8:00? 8:25? 8:40?  Find a flick in no time
> with theYahoo! Search movie showtime shortcut.

------=_Part_170675_10305303.1174440178960--

From java-user-return-27032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 01:51:39 2007
Return-Path: <java-user-return-27032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70787 invoked from network); 21 Mar 2007 01:51:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 01:51:38 -0000
Received: (qmail 54196 invoked by uid 500); 21 Mar 2007 01:51:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53748 invoked by uid 500); 21 Mar 2007 01:51:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53737 invoked by uid 99); 21 Mar 2007 01:51:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 18:51:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.39.214] (HELO web50312.mail.re2.yahoo.com) (206.190.39.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Mar 2007 18:51:31 -0700
Received: (qmail 68781 invoked by uid 60001); 21 Mar 2007 01:51:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=npYuePXO5LOuAt6Bm2h3dg2D1iXGsCFCWxGwSmWgGxK0TJvURYU55ikehzCDAbFFlvIopEt+c+8bJX/ddSmTRU3cGuKC5py24WT9NbxE7W5wjYBoFgM6JtODcFUVSibeqWB8GdKfALEePvlJJE1g1hlduFsHK1lM5ZRXhhdtSPE=  ;
Message-ID: <20070321015106.68779.qmail@web50312.mail.re2.yahoo.com>
X-YMail-OSG: 7soHWnoVM1nlhvOXVqL3u.ZD1J583cgJGLHddasspWzT2TyRptPwlsmy45sNV8.0Zfi0kl6tHt4PnxkkqBGYG4ok20Nsz27GbNK4WCcs6E2Bz4rmokR9Ow--
Received: from [74.73.75.122] by web50312.mail.re2.yahoo.com via HTTP; Tue, 20 Mar 2007 18:51:06 PDT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.7.41.4
Date: Tue, 20 Mar 2007 18:51:06 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: TextMining.org Word extractor
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
X-Virus-Checked: Checked by ClamAV on apache.org

If you are thinking about putting textmining library elsewhere, allow me to point out Tika:
  http://wiki.apache.org/incubator/TikaProposal

Better home for your lib, perhaps?

Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: Ryan Ackley <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, March 20, 2007 6:14:47 PM
Subject: Re: TextMining.org Word extractor

I've been out of the loop for a while. I just saw this recent thread
and re-subscribed to the list.

In the next month or two I will be able to put some time into the
textmining library. Fast saved files are on the list of improvements
as well as other features that have been requested. I would also like
to add more file formats and move all source to sourceforge or some
other project hosting service. I will try to replace the hacked page
with a static html page within the next week. In the meantime you can
download direct at

http://www.textmining.org/textmining.zip

Textmining has always been Apache licensed. It has never been GPL.

-Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 01:58:02 2007
Return-Path: <java-user-return-27033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72038 invoked from network); 21 Mar 2007 01:58:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 01:58:01 -0000
Received: (qmail 61437 invoked by uid 500); 21 Mar 2007 01:58:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61269 invoked by uid 500); 21 Mar 2007 01:58:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61258 invoked by uid 99); 21 Mar 2007 01:58:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 18:58:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.243] (HELO web50310.mail.re2.yahoo.com) (206.190.38.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Mar 2007 18:57:51 -0700
Received: (qmail 98927 invoked by uid 60001); 21 Mar 2007 01:57:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=cIaExUJYsPxeTPcoL8Tnty/KZaHs6hDvlNDR7e2nZwMa+8doRxd/DmHr0Bu7Soyy1wAneLFSma9ZFyYaAhGShhdshXWOir8JtLmXbUuUVpFnoDF5vx9riaI6l8+pvpCTrj1Z2gsi2/83yggs5lv2A0h7X7L/iEJDVJhk4FQh7II=;
X-YMail-OSG: wvZAZ44VM1mzWbTLt7OhYI1pCEAgO8QAbgpAIHnpdLaShUyDQqg_nZ138bg7VWAqTNt44k4sqdpYJ8Is2TJdNufdf.NzwJjbXj51Ao4AV1pFx1iEcJ_xqA--
Received: from [74.73.75.122] by web50310.mail.re2.yahoo.com via HTTP; Tue, 20 Mar 2007 18:57:29 PDT
X-Mailer: YahooMailRC/471 YahooMailWebService/0.7.41.4
Date: Tue, 20 Mar 2007 18:57:29 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Spelt, for better spelling correction
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <256442.98894.qm@web50310.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Boy, I'm looking forward to this!  I read some of the background discussion.  I think this might fit as a Lucene contrib, but we'll be able to tell when the code makes it into JIRA.

Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: Martin Haye <martin.haye@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, March 20, 2007 6:24:43 PM
Subject: Spelt, for better spelling correction

As part of XTF, an open source publishing engine that uses Lucene, I
developed a new spelling correction engine specifically to provide "Did you
mean..." links for misspelled queries. I and a small group are preparing
this for submission as a contrib module to Lucene. And we're inviting
interested people to join the discussion about it.

The new engine is being called "Spelt" and differs from the one currently in
Lucene contrib in the following ways:

- More accurate: Much better performance on single-word queries (90% correct
in #1 slot in my tests). On general list including multi-word queries, gets
80%+ correct.
- Multi-word: Handles and corrects multi-word queries such as "harrypotter"
-> "harry potter".
- Fast: In my tests, builds the dictionary more than 30 times faster.
- Small: Dictionary size is roughly a third of that built by the existing
engine.
- Other bells and whistles...

There is already a standalone test program that people can try out, and
we're interested in feedback. If you're interested in discussing, testing,
or previewing, consider joining the Google group:
http://groups.google.com/group/spelt/

--Martin




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 02:36:20 2007
Return-Path: <java-user-return-27034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3866 invoked from network); 21 Mar 2007 02:36:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 02:36:19 -0000
Received: (qmail 2824 invoked by uid 500); 21 Mar 2007 02:36:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2790 invoked by uid 500); 21 Mar 2007 02:36:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2778 invoked by uid 99); 21 Mar 2007 02:36:20 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 19:36:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ryanackley@gmail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 19:36:10 -0700
Received: by ug-out-1314.google.com with SMTP id k40so118506ugc
        for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 19:35:49 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=h2cwmmIQUv9srrtE3+bDE7QdW8jyePSaAEgY6ByM55FW0SZxn5n73N1AGLb04OnJKNJSHgG5Z3hjMwTV7bB2sLXQWawr/tnPQ+Yny3pON8bOxey8V9vs7Okqtpbp83KSbYckmWyjEndzdF9vjTZCWrc6Zr6GWJ/wf2+zp15X7e8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=BQpchI1f2flco7JeacWi1aPbXNHzdHyhk+pyRIRihvI7NvtMnGQHyeTckDWEU2N+S6qxKnjz2xHiIxdiQx8NQVacr70oFMdUOF/6rRLZPkhZ/hlw3OQP8H/N/ZsFyFjBRHZTIB6Iw5Ej2VdaoImkRufO4BmyFsfbgw2W3Tjii5g=
Received: by 10.114.170.1 with SMTP id s1mr2255wae.1174444548373;
        Tue, 20 Mar 2007 19:35:48 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Tue, 20 Mar 2007 19:35:48 -0700 (PDT)
Message-ID: <e15c52dc0703201935k61489bb6r11e5c2a9c70ab7e5@mail.gmail.com>
Date: Tue, 20 Mar 2007 19:35:48 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TextMining.org Word extractor
In-Reply-To: <20070321015106.68779.qmail@web50312.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <20070321015106.68779.qmail@web50312.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Someone pointed me there already. Looks interesting. Is there a
mailing list for the incubator? Does anyone know the status of the
proposal?

On 3/20/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> If you are thinking about putting textmining library elsewhere, allow me to point out Tika:
>  http://wiki.apache.org/incubator/TikaProposal
>
> Better home for your lib, perhaps?
>
> Otis
>  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>
> ----- Original Message ----
> From: Ryan Ackley <ryanackley@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, March 20, 2007 6:14:47 PM
> Subject: Re: TextMining.org Word extractor
>
> I've been out of the loop for a while. I just saw this recent thread
> and re-subscribed to the list.
>
> In the next month or two I will be able to put some time into the
> textmining library. Fast saved files are on the list of improvements
> as well as other features that have been requested. I would also like
> to add more file formats and move all source to sourceforge or some
> other project hosting service. I will try to replace the hacked page
> with a static html page within the next week. In the meantime you can
> download direct at
>
> http://www.textmining.org/textmining.zip
>
> Textmining has always been Apache licensed. It has never been GPL.
>
> -Ryan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 04:44:37 2007
Return-Path: <java-user-return-27035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67905 invoked from network); 21 Mar 2007 04:44:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 04:44:36 -0000
Received: (qmail 81191 invoked by uid 500); 21 Mar 2007 04:44:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81166 invoked by uid 500); 21 Mar 2007 04:44:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81151 invoked by uid 99); 21 Mar 2007 04:44:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 21:44:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [72.3.240.46] (HELO s68659.istandfor.com) (72.3.240.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Mar 2007 21:44:27 -0700
Received: from [192.168.0.3] (ool-457abb02.dyn.optonline.net [69.122.187.2])
	(authenticated bits=0)
	by s68659.istandfor.com (8.12.11.20060308/8.12.11) with ESMTP id l2L4i5iU014799
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 20 Mar 2007 23:44:06 -0500
Message-ID: <4600B817.5010102@istandfor.com>
Date: Wed, 21 Mar 2007 00:44:07 -0400
From: Ruslan Sivak <rsivak@istandfor.com>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: retrieving matched slop
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I have an app that searches a single document against many queries.  
Lets say the document was

The quick brown fox jumped over the lazy dog.

and my queries are

SpanNearQuery("quick","brown",50)
SpanNearQuery("quick","fox",50)

I would like to retrieve the slop or some sort of score that was matched 
when I'm searching.  Since the first one requires no slop, it would 
return 0 or the highest score and the second query would return 1 for 
slop as fox is one word away from quick.  Is there any way to retrieve 
these values?

Russ


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 09:21:29 2007
Return-Path: <java-user-return-27036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63089 invoked from network); 21 Mar 2007 09:21:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 09:21:28 -0000
Received: (qmail 22472 invoked by uid 500); 21 Mar 2007 09:21:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22443 invoked by uid 500); 21 Mar 2007 09:21:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22431 invoked by uid 99); 21 Mar 2007 09:21:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 02:21:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.214.66.197] (HELO zimbra.ngine.de) (85.214.66.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 02:21:17 -0700
Received: from localhost (localhost [127.0.0.1])
	by zimbra.ngine.de (Postfix) with ESMTP id D6C2E4500F0
	for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 10:39:29 +0100 (CET)
X-Virus-Scanned: amavisd-new at 
X-Spam-Score: -2.926
X-Spam-Level: 
Received: from zimbra.ngine.de ([127.0.0.1])
	by localhost (zimbra.ngine.de [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Kv47HTvvkDky for <java-user@lucene.apache.org>;
	Wed, 21 Mar 2007 10:39:29 +0100 (CET)
Received: from zimbra.ngine.de (h1044539.serverkompetenz.net [85.214.66.197])
	by zimbra.ngine.de (Postfix) with ESMTP id 74ADB4500AD
	for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 10:39:29 +0100 (CET)
Message-ID: <20458805.381174469969398.JavaMail.root@h1044539>
Date: Wed, 21 Mar 2007 10:39:29 +0100 (CET)
From: Emanuel Schleussinger <emanuel@ngine.de>
To: java-user@lucene.apache.org
Subject: Querying fragments of a tree structure
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [85.214.66.197]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.926 tagged_above=-10 required=6.6
	tests=[ALL_TRUSTED=-1.8, AWL=-0.941, BAYES_40=-0.185]

Hi,

first, thanks for this great a resource, and sorry if i am oversimplfying a few things, i am still rather new to Lucene.

I have been thinking how to integrate my app with Lucene - it is a CMS type system that has documents organized in a tree-style layout. A few facts about the system:
 - Every node in the system is represented by a unique numeric id in  a field called "id" 
 - There is one deinfed root node, and an arbitrary amount of descendants. 
 - Each of the nodes on any level knows his descendants in a field called "child" 
 - Each node also knows his parent node in a field called "parent"

I am indexing all the fields from all the nodes in Lucene already, and thus, i can use Lucene to e.g. get all the descendant node IDs of a node simply by issuing a query like "id:2" and then extracting the multivalue-field "child".

Now, here is what i am trying to solve now -- i would like to be able to fetch all the nodes that match a certain criteria, if they are contained in some fragment of the tree. To visualize:

Root
 +-> A
 |   +-> B
 |   +-> C
 |       +->D
 |       +->E
 +->F
    +->G

i would like to issue a query that gives me all the nodes within "A", a flat list of results that contain B,C,D and E

Now, since per my definition D is not directly correlated with A (it knows his parent C, but not that its also part of A -- only C knows that) , i was thinking of introducing a new field for every node into my Lucene index that holds a list of IDs thats trace back to the root element (in this case, the D node would have C and A in that field, in that order) - but it strikes me this may not be the most elegant approach...

The above is only a simplified example, in reality, i have a tree about 10 levels deep, with thousands of nodes, and i frequently need to surface nodes within a certain fragment of that tree.

Is there any best practice that you ran into on how to map this elegantly into Lucene?

Thanks a ton for any pointers,
Emanuel Schleussinger
 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 13:13:22 2007
Return-Path: <java-user-return-27037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49082 invoked from network); 21 Mar 2007 13:13:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 13:13:20 -0000
Received: (qmail 96995 invoked by uid 500); 21 Mar 2007 13:13:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96934 invoked by uid 500); 21 Mar 2007 13:13:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96923 invoked by uid 99); 21 Mar 2007 13:13:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 06:13:19 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.231 as permitted sender)
Received: from [64.233.184.231] (HELO wr-out-0506.google.com) (64.233.184.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 06:13:11 -0700
Received: by wr-out-0506.google.com with SMTP id i28so252349wra
        for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 06:12:50 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=j17FZSq/OBzSgQ8QA97g1W4JQBMq9Fp5NMr8VdzVUa7A78WXObcx2Dkmy/vDCbtXNhJTgP3xbIyFRGitNogAfNe6eCMcti1nLAwEYnCOJvGml34aI8whg6yE9WSv39+kTWCnNZYelosXujMgaemPNrNISGCgtlFWfIb9UBgM3bE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Kdh4sp7oyDvTkY20eGHoRixGj+yFGXfc9B/c6EDripPpz595ZscsmSNNDswr/CnUeGacVmSv1P2lsPJJED2OgJWFJN3ur6GgvQ8efIDOMmBbF1T9JpqDNNU0XScWDa92HO7IfQSkWvaPKsAZVBvcWmJBGl+C1jIoT8mRL2vRhwM=
Received: by 10.114.169.2 with SMTP id r2mr153308wae.1174482769151;
        Wed, 21 Mar 2007 06:12:49 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Wed, 21 Mar 2007 06:12:49 -0700 (PDT)
Message-ID: <359a92830703210612s6bc48d4ck6cd95a07dd2c81b@mail.gmail.com>
Date: Wed, 21 Mar 2007 09:12:49 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Querying fragments of a tree structure
In-Reply-To: <20458805.381174469969398.JavaMail.root@h1044539>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_179469_25015800.1174482769019"
References: <20458805.381174469969398.JavaMail.root@h1044539>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_179469_25015800.1174482769019
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Is it a fair restatement of your problem that you want to generate
a list of all children of a node? That's what I'm reading.....

Would it work for you to store the complete ancestry in each node?
By that I mean (from your example),

NOTE: it's no problem in Lucene to store different values for the
same field in the same document. I.e
Document doc.
doc.add("field" "value1");
doc.add("field" "value2");
writer.add(doc);...

This is equivalent (if using WhitespaceAnalyzer in this example)  to:
Document doc;
doc.add("field", "value1 value2");
writer.add(doc);

(There is a subtle difference between the two having to do
with PositionIncrementGap, but that's probably irrelevant for you
in this problem).

So what about just doing that for each parent node in your tree? So
your "ancestry" field for documents D and E have stored "C" and "A".
This is TOKENIZED, but not necessarily STORED....

Document C has only "A".

Now, finding the children of "A" reduces to something like
+ancestry:A
which you can add to your BooleanClauses if you want to also specify
other search criteria or just use by itself if you don't.


What follows is my first idea, but I think the above is a better notion.

Node A stores nothing
Nodes  B and C  store "A"
Nodex D and E store "A$C"
etc.

Now, finding all the children of A reduces to doing a WildcardTermEnum
on "A*" and, for each resulting term using TermDocs.seek(term) to find
the corresponding document.

Note a couple of things:
1> index the ancestry field UN_TOKENIZED. You don't need to store it.
1a> You could use something like this to form a Lucene Filter if you needed
to, say, find all the nodes in the tree that were children of a specified
node
AND met certain search criteria.

2> You could also just search on A*, but be aware that you may have to
deal with TooManyClauses exceptions. The TermEnum/TermDocs method
avoids that problem, but may be overkill in your situation.
2a> Lucene 2.1 allows wildcards in the first position if you do a wlidcard
search, but you need to turn that on by a call which I can't bring up from
memory.


Hope this helps
Erick

On 3/21/07, Emanuel Schleussinger <emanuel@ngine.de> wrote:
>
> Hi,
>
> first, thanks for this great a resource, and sorry if i am oversimplfying
> a few things, i am still rather new to Lucene.
>
> I have been thinking how to integrate my app with Lucene - it is a CMS
> type system that has documents organized in a tree-style layout. A few facts
> about the system:
> - Every node in the system is represented by a unique numeric id in  a
> field called "id"
> - There is one deinfed root node, and an arbitrary amount of descendants.
> - Each of the nodes on any level knows his descendants in a field called
> "child"
> - Each node also knows his parent node in a field called "parent"
>
> I am indexing all the fields from all the nodes in Lucene already, and
> thus, i can use Lucene to e.g. get all the descendant node IDs of a node
> simply by issuing a query like "id:2" and then extracting the
> multivalue-field "child".
>
> Now, here is what i am trying to solve now -- i would like to be able to
> fetch all the nodes that match a certain criteria, if they are contained in
> some fragment of the tree. To visualize:
>
> Root
> +-> A
> |   +-> B
> |   +-> C
> |       +->D
> |       +->E
> +->F
>     +->G
>
> i would like to issue a query that gives me all the nodes within "A", a
> flat list of results that contain B,C,D and E
>
> Now, since per my definition D is not directly correlated with A (it knows
> his parent C, but not that its also part of A -- only C knows that) , i was
> thinking of introducing a new field for every node into my Lucene index that
> holds a list of IDs thats trace back to the root element (in this case, the
> D node would have C and A in that field, in that order) - but it strikes me
> this may not be the most elegant approach...
>
> The above is only a simplified example, in reality, i have a tree about 10
> levels deep, with thousands of nodes, and i frequently need to surface nodes
> within a certain fragment of that tree.
>
> Is there any best practice that you ran into on how to map this elegantly
> into Lucene?
>
> Thanks a ton for any pointers,
> Emanuel Schleussinger
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_179469_25015800.1174482769019--

From java-user-return-27038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 14:49:53 2007
Return-Path: <java-user-return-27038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98271 invoked from network); 21 Mar 2007 14:49:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 14:49:52 -0000
Received: (qmail 54250 invoked by uid 500); 21 Mar 2007 14:49:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54203 invoked by uid 500); 21 Mar 2007 14:49:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54192 invoked by uid 99); 21 Mar 2007 14:49:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 07:49:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 66.249.90.177 as permitted sender)
Received: from [66.249.90.177] (HELO ik-out-1112.google.com) (66.249.90.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 07:49:39 -0700
Received: by ik-out-1112.google.com with SMTP id b35so404333ika
        for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 07:49:18 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=CpOHDSJ/V4cNyBuR1DwSAhD46Yx3VhA7zL2fmxcxRzmxni3iMmro2aQoiT2QdfXeklZ+np2cI4ld4dFTz2elMe6rk9p2e1I49def57/aZ7Wr82aIU6pvLCiEZg9DzxwCReXbc0NonZV9htIsWuKgUWFipi58jwElIn/iPPvVFNg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=MdzDj/XvWdVMAS/g/wNa/uxuHig1BSxNKmEQAwNEFQI1SYOLVCwRCTYS1aBzmFBUrRWbXqr7yKCdmEOOI6N5K3fLgXg2CXf0KwD5D7OCy2mcmNzdemTxCHlTRPsnjeiDcuVqWPbUIGpIHBS7OCyN31dkb6Zfj3qwBS5j8n5yWWc=
Received: by 10.70.65.8 with SMTP id n8mr1579354wxa.1174488557178;
        Wed, 21 Mar 2007 07:49:17 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id h8sm2121083wxd.2007.03.21.07.49.15;
        Wed, 21 Mar 2007 07:49:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <e15c52dc0703201935k61489bb6r11e5c2a9c70ab7e5@mail.gmail.com>
References: <20070321015106.68779.qmail@web50312.mail.re2.yahoo.com> <e15c52dc0703201935k61489bb6r11e5c2a9c70ab7e5@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6650A727-89A8-4ED9-B878-6CEA3A274DDC@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: TextMining.org Word extractor
Date: Wed, 21 Mar 2007 10:49:13 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Last I remember, it was being voted on by the Incubator committee.

Good to hear TextMining is back in action!  Does that mean you are  
back on POI Word again too?

-Grant

On Mar 20, 2007, at 10:35 PM, Ryan Ackley wrote:

> Someone pointed me there already. Looks interesting. Is there a
> mailing list for the incubator? Does anyone know the status of the
> proposal?
>
> On 3/20/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>> If you are thinking about putting textmining library elsewhere,  
>> allow me to point out Tika:
>>  http://wiki.apache.org/incubator/TikaProposal
>>
>> Better home for your lib, perhaps?
>>
>> Otis
>>  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
>> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>>
>> ----- Original Message ----
>> From: Ryan Ackley <ryanackley@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Tuesday, March 20, 2007 6:14:47 PM
>> Subject: Re: TextMining.org Word extractor
>>
>> I've been out of the loop for a while. I just saw this recent thread
>> and re-subscribed to the list.
>>
>> In the next month or two I will be able to put some time into the
>> textmining library. Fast saved files are on the list of improvements
>> as well as other features that have been requested. I would also like
>> to add more file formats and move all source to sourceforge or some
>> other project hosting service. I will try to replace the hacked page
>> with a static html page within the next week. In the meantime you can
>> download direct at
>>
>> http://www.textmining.org/textmining.zip
>>
>> Textmining has always been Apache licensed. It has never been GPL.
>>
>> -Ryan
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 16:13:54 2007
Return-Path: <java-user-return-27039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45789 invoked from network); 21 Mar 2007 16:13:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 16:13:53 -0000
Received: (qmail 66593 invoked by uid 500); 21 Mar 2007 16:13:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66562 invoked by uid 500); 21 Mar 2007 16:13:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66547 invoked by uid 99); 21 Mar 2007 16:13:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 09:13:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ryanackley@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 09:13:42 -0700
Received: by nf-out-0910.google.com with SMTP id d4so977528nfe
        for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 09:13:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=V8I1vaOXYdPgfBbD7vDwSOKREY9l2i1jjXDYljou0fOz/D4plbMl4y+crr++lxTMHHHR1PGTzVl44W30KKddVT/NPcpMwROmiucp4eJwSW8QDmYMcsu5KVmmXbbqH6MEK5hy6HcFKGQKb7/mnNsMd3NnDOq9dg5PbDM8EQhAGgM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=IF1SSU6QzkQS2OPyCHZxmyKqEstmPEYIG0tU9+Sql9wKsa/QlxwsX5qOvvg7IVkPVFIL2/xFmi/GNRTfQnMUvGso3rXGuiV2uXgJP1+NMMq9Kes2H1aBefwe77asvCHIvyuBOdIIihilJSGV42j+N9aUsOijl+1F65zEz53PPEU=
Received: by 10.114.157.1 with SMTP id f1mr220800wae.1174493599540;
        Wed, 21 Mar 2007 09:13:19 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Wed, 21 Mar 2007 09:13:19 -0700 (PDT)
Message-ID: <e15c52dc0703210913i77b1ef38vfff29c8264b9d94c@mail.gmail.com>
Date: Wed, 21 Mar 2007 09:13:19 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TextMining.org Word extractor
In-Reply-To: <6650A727-89A8-4ED9-B878-6CEA3A274DDC@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <20070321015106.68779.qmail@web50312.mail.re2.yahoo.com>
	 <e15c52dc0703201935k61489bb6r11e5c2a9c70ab7e5@mail.gmail.com>
	 <6650A727-89A8-4ED9-B878-6CEA3A274DDC@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Sorry, I don't think there is any POI in my future :-) Long story.
Maybe I'll blog about it or something. Stay tuned.

I have another project that I'm interested in spending time on. Not
sure if it's going to be open source at this point but it will utilize
the textmining.org library so I plan on adding some new features and
maintaining it.

Tika is interesting. What I would like to see is an open source
competitor to Oracle/Stellent outside in
(http://www.stellent.com/en/products/outside_in/index.htm) This is
what Google and the big boys use to extract text from binary files and
convert to html. (think "View As HTML" in google search results.) This
was/is my pie-in-the sky vision for textmining.org. I think the lowest
tier pricing for Stellant is like $30,000 so there are probably users
ravenous for any competition.

On 3/21/07, Grant Ingersoll <grant.ingersoll@gmail.com> wrote:
> Last I remember, it was being voted on by the Incubator committee.
>
> Good to hear TextMining is back in action!  Does that mean you are
> back on POI Word again too?
>
> -Grant
>
> On Mar 20, 2007, at 10:35 PM, Ryan Ackley wrote:
>
> > Someone pointed me there already. Looks interesting. Is there a
> > mailing list for the incubator? Does anyone know the status of the
> > proposal?
> >
> > On 3/20/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> >> If you are thinking about putting textmining library elsewhere,
> >> allow me to point out Tika:
> >>  http://wiki.apache.org/incubator/TikaProposal
> >>
> >> Better home for your lib, perhaps?
> >>
> >> Otis
> >>  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> >> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
> >>
> >> ----- Original Message ----
> >> From: Ryan Ackley <ryanackley@gmail.com>
> >> To: java-user@lucene.apache.org
> >> Sent: Tuesday, March 20, 2007 6:14:47 PM
> >> Subject: Re: TextMining.org Word extractor
> >>
> >> I've been out of the loop for a while. I just saw this recent thread
> >> and re-subscribed to the list.
> >>
> >> In the next month or two I will be able to put some time into the
> >> textmining library. Fast saved files are on the list of improvements
> >> as well as other features that have been requested. I would also like
> >> to add more file formats and move all source to sourceforge or some
> >> other project hosting service. I will try to replace the hacked page
> >> with a static html page within the next week. In the meantime you can
> >> download direct at
> >>
> >> http://www.textmining.org/textmining.zip
> >>
> >> Textmining has always been Apache licensed. It has never been GPL.
> >>
> >> -Ryan
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
> ------------------------------------------------------
> Grant Ingersoll
> http://www.grantingersoll.com/
> http://lucene.grantingersoll.com
> http://www.paperoftheweek.com/
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 18:04:23 2007
Return-Path: <java-user-return-27040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88886 invoked from network); 21 Mar 2007 18:04:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 18:04:22 -0000
Received: (qmail 27021 invoked by uid 500); 21 Mar 2007 18:04:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26985 invoked by uid 500); 21 Mar 2007 18:04:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26965 invoked by uid 99); 21 Mar 2007 18:04:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 11:04:21 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of martin.haye@gmail.com designates 64.233.184.231 as permitted sender)
Received: from [64.233.184.231] (HELO wr-out-0506.google.com) (64.233.184.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 11:04:11 -0700
Received: by wr-out-0506.google.com with SMTP id i28so358576wra
        for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 11:03:50 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=E2gN2w6xVmsnBS+bTmbpyzecP3YyhlgMQB4lZ8rx+WsKhCr13Hfc4nq7ewmmlCDOAkHN8GBOjpCiIgoJzlpdfJ+wDvZM0wusqsx/EOFCF4ah29W0/NRQZjWBXfSJpYovacdBRbg1+uvn9BvHe6Fy9Op5I+TJ4g67P1oxLNpCGBU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=HCSqcshZ/WeyHIhZZtEldUtvki4f+aJ7Mj1NZinj3YPK2x8nsldzBbaIdR7uvkOHUs6ER4rzIL9dyDx2bkHWpz6G6njKPRw5bFUGZh461jC9j/6sNS3hRRcByTL9jxiZ3wDYtpUneOwX6403MfCa6TW41RntSksj0dBU6icDZ90=
Received: by 10.114.88.1 with SMTP id l1mr258468wab.1174500230137;
        Wed, 21 Mar 2007 11:03:50 -0700 (PDT)
Received: by 10.115.76.18 with HTTP; Wed, 21 Mar 2007 11:03:50 -0700 (PDT)
Message-ID: <2d5af9490703211103y5c602164i72a1f0f0e3e7666b@mail.gmail.com>
Date: Wed, 21 Mar 2007 11:03:50 -0700
From: "Martin Haye" <m1@snyder-haye.com>
Sender: martin.haye@gmail.com
To: "Yonik Seeley" <yonik@apache.org>
Subject: Re: Spelt, for better spelling correction
Cc: java-user@lucene.apache.org
In-Reply-To: <c68e39170703201701i222d9c61t2508400e6e0bd2fb@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_205508_14894941.1174500230088"
References: <2d5af9490703201524h5059e288n661013b3208b588@mail.gmail.com>
	 <c68e39170703201701i222d9c61t2508400e6e0bd2fb@mail.gmail.com>
X-Google-Sender-Auth: 0c7cabbb2209310e
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_205508_14894941.1174500230088
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

The dictionary is generated from the corpus, with the result that a larger
corpus gives better results.

Words are queued up during an index run, and at the end are munged to create
an optimized dictionary. It also supports incremental building, though the
overhead would be too much for those applications that are continuously
adding things to an index. Happily, it's not as important to keep the
spelling dictionary absolutely up to date, so it would be fine to queue
words over several index runs, and refresh the dictionary less often.

--Martin

On 3/20/07, Yonik Seeley <yonik@apache.org> wrote:
>
> Sounds interesting Martin!
> Is the dictionary static, or is it generated from the corpus or from
> user queries?
>
> -Yonik
>
> On 3/20/07, Martin Haye <martin.haye@gmail.com> wrote:
> > As part of XTF, an open source publishing engine that uses Lucene, I
> > developed a new spelling correction engine specifically to provide "Did
> you
> > mean..." links for misspelled queries. I and a small group are preparing
> > this for submission as a contrib module to Lucene. And we're inviting
> > interested people to join the discussion about it.
> >
> > The new engine is being called "Spelt" and differs from the one
> currently in
> > Lucene contrib in the following ways:
> >
> > - More accurate: Much better performance on single-word queries (90%
> correct
> > in #1 slot in my tests). On general list including multi-word queries,
> gets
> > 80%+ correct.
> > - Multi-word: Handles and corrects multi-word queries such as
> "harrypotter"
> > -> "harry potter".
> > - Fast: In my tests, builds the dictionary more than 30 times faster.
> > - Small: Dictionary size is roughly a third of that built by the
> existing
> > engine.
> > - Other bells and whistles...
> >
> > There is already a standalone test program that people can try out, and
> > we're interested in feedback. If you're interested in discussing,
> testing,
> > or previewing, consider joining the Google group:
> > http://groups.google.com/group/spelt/
> >
> > --Martin
> >
>

------=_Part_205508_14894941.1174500230088--

From java-user-return-27041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 18:39:27 2007
Return-Path: <java-user-return-27041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98644 invoked from network); 21 Mar 2007 18:39:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 18:39:26 -0000
Received: (qmail 99432 invoked by uid 500); 21 Mar 2007 18:39:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99405 invoked by uid 500); 21 Mar 2007 18:39:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99394 invoked by uid 99); 21 Mar 2007 18:39:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 11:39:22 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.184.235 as permitted sender)
Received: from [64.233.184.235] (HELO wr-out-0506.google.com) (64.233.184.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 11:39:13 -0700
Received: by wr-out-0506.google.com with SMTP id i28so371300wra
        for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 11:38:53 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XCIuVLNiagLdu/Ohnz4AYCySY80np5gJGCG8vF0jmN6clI7AfPnMOMKx6Jqr/UEoRsVe+TyoXIg/+sHgsCpZFVHGGhno0FWbY5xiQWHtP9ggrSvuwq17I0LiFG3wJjEQqsMwzq5YzEORvMNT7IgG9em1R/TR5EwqkESz3wsbrOE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=AwCySuW55UNREWCVOT0/B4s6VzjLlldKjjlBY22pL4/1h9fwq7QKHM7vsZH3IvVTxoss/iVdbvqMHK6m5Oo7iCXBo779L75LcSFweoFxT+8Oc19B0KgrupRmD+49RkRsGf1LLGRsel37BDSQLCyNhKSyLDyXGn+xl0opddjw6wI=
Received: by 10.65.119.14 with SMTP id w14mr2177031qbm.1174502332896;
        Wed, 21 Mar 2007 11:38:52 -0700 (PDT)
Received: by 10.65.150.17 with HTTP; Wed, 21 Mar 2007 11:38:52 -0700 (PDT)
Message-ID: <e994873a0703211138w2a6b3f48g6d8cb2b378474a5f@mail.gmail.com>
Date: Wed, 21 Mar 2007 14:38:52 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene search performance: linear?
In-Reply-To: <4F78AB8AF361164AB110D9841D3089810D8CC0@rw-msg-02.broadvision.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_111682_11973352.1174502332773"
References: <4F78AB8AF361164AB110D9841D3089810D8CC0@rw-msg-02.broadvision.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_111682_11973352.1174502332773
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On a similar topic, has anybody measured query performance as a function of
index size?
Well, I did and the results surprised me. I measured query throughput on 8
indexes that varied in size from 55,000 to 4.4 million documents. When
plotted on a graph, there is a distinct hyperbolic curve (1/x). I expected
to see more of a linear curve with a sharp drop-off at some point.
Interesting

Peter

On 12/5/06, Zhang, Lisheng <Lisheng.Zhang@broadvision.com> wrote:
>
> Hi Soeren,
>
> Thanks very much for explanations, yes, there
> is no linear relation when searching a keyword
> which is only in a few docs.
>
> Best regards, Lisheng
>
> -----Original Message-----
> From: Soeren Pekrul [mailto:soeren.pekrul@gmx.de]
> Sent: Tuesday, December 05, 2006 10:37 AM
> To: java-user@lucene.apache.org
> Subject: Re: Lucene search performance: linear?
>
>
> Hello Lisheng,
>
> a search process has to do usually two thinks. First it has to find the
> term in the index. I don't know the implementation of finding a term in
> Lucene. I hope that the index is at least a sorted list or a binary
> tree, so it can search binary. The time finding a term depends of the
> term's number n_t. If it searches binary the complexity is approximately
> log(n_t). The search time should be better then linear.
>
> Second it has to collect the documents for a term. This depends of the
> documents number n_d for a term. It has to go thru the list of documents
> for a term. The time should be proportional to the number of documents
> for a term even if it doesn't calculate the similarity. Usually the
> number of documents for a single term is less than the total number of
> documents in the collection and less than the total number of terms in
> the index.
>
> If the number of documents for a single term is less than the total
> number of documents the search process for a single term including
> process one (finding the term) and process two (collecting the documents
> and calculating the score) should be better the linear to the number of
> documents.
>
> > I indexed first 220,000, all with a special keyword, I did a simple
> > query and only fetched 5 docs, with Hits.length()=3D220,000.
> >
> > Then I indexed 440,000 docs, with the same keyword, query it
> > again and fetched a few docs, with Hits.length(0=3D440,000.
>
> In your case the query term is contained in all documents. The number of
> documents for a single term is equals the total number of documents in
> your collection. The hit collector has to collect all documents. The
> collecting process is proportional to the number of documents to
> collect. So the search for all documents should be at least linear to
> the total number of documents.
>
> S=F6ren
>
> Zhang, Lisheng schrieb:
> > Hi,
> >
> > I indexed first 220,000, all with a special keyword, I did a simple
> > query and only fetched 5 docs, with Hits.length()=3D220,000.
> >
> > Then I indexed 440,000 docs, with the same keyword, query it
> > again and fetched a few docs, with Hits.length(0=3D440,000.
> >
> > I found that search time is about linear: 2nd time is about 2 times
> > longer than 1st query. I would like to understand:
> >
> > Does the linear relation come from score calculation, since we
> > have to calculate score one by one? Or other reason?
> >
> > If we have B-tree index I would naively expect a better scalibility?
> >
> > Thanks very much for your helps,
> >
> > Lisheng
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_111682_11973352.1174502332773--

From java-user-return-27042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 18:55:43 2007
Return-Path: <java-user-return-27042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3536 invoked from network); 21 Mar 2007 18:55:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 18:55:42 -0000
Received: (qmail 20504 invoked by uid 500); 21 Mar 2007 18:55:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20473 invoked by uid 500); 21 Mar 2007 18:55:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20454 invoked by uid 99); 21 Mar 2007 18:55:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 11:55:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of yseeley@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 11:55:30 -0700
Received: by nf-out-0910.google.com with SMTP id g2so1041422nfe
        for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 11:55:09 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=Opx+gxIgqmOE78jwbJIHmPhtmm7oVcWwhJsmcq+tTIghY6XAyrzYNHNGGT34Jv4M73z12ViH4gWiHUBBboNnxDrUvXhG/o9EO730ZV6RAKPNmDKpa2K/CFI6p8msN/h84j3Fm0jkqJaNGUZBaY24Xkv9KjtIk0HJu5qrqEB3P7M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=QxLhGVl/QtvZKw2JmantLoCoUCf9ZreJMC2kiGfywQHZE51g57Z/3FIsKuZQmhCf7mqyga6jnMH2EpAYsLKyvJ8CsE4G5MEiyTtMxe3Nv93V8W6HLdaYD7yT6JpsM9FgaliV5F3aKj7geq4xgjEYKuoCDRmkdHBOEvBab+APnYQ=
Received: by 10.82.167.5 with SMTP id p5mr2284721bue.1174503309347;
        Wed, 21 Mar 2007 11:55:09 -0700 (PDT)
Received: by 10.82.126.8 with HTTP; Wed, 21 Mar 2007 11:55:09 -0700 (PDT)
Message-ID: <c68e39170703211155v4a5b156bo95e0796b2918ea1e@mail.gmail.com>
Date: Wed, 21 Mar 2007 14:55:09 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene search performance: linear?
In-Reply-To: <e994873a0703211138w2a6b3f48g6d8cb2b378474a5f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <4F78AB8AF361164AB110D9841D3089810D8CC0@rw-msg-02.broadvision.com>
	 <e994873a0703211138w2a6b3f48g6d8cb2b378474a5f@mail.gmail.com>
X-Google-Sender-Auth: 1adcc0637a42f15b
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/21/07, Peter Keegan <peterlkeegan@gmail.com> wrote:
> On a similar topic, has anybody measured query performance as a function of
> index size?
> Well, I did and the results surprised me. I measured query throughput on 8
> indexes that varied in size from 55,000 to 4.4 million documents. When
> plotted on a graph, there is a distinct hyperbolic curve (1/x). I expected
> to see more of a linear curve with a sharp drop-off at some point.
> Interesting

The size of the index should also grow sub-linearly.
I think some of what you are seeing is due to index compression.
As you add more and more documents, there are fewer new terms added to
the index.  If you searched for a term in most of the documents, you
should see linear scaling with number of documents.  But those are
cases when you want to separate out that component and cache it :-)

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 19:05:04 2007
Return-Path: <java-user-return-27043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8365 invoked from network); 21 Mar 2007 19:05:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 19:05:03 -0000
Received: (qmail 39537 invoked by uid 500); 21 Mar 2007 19:05:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39509 invoked by uid 500); 21 Mar 2007 19:05:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39498 invoked by uid 99); 21 Mar 2007 19:05:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 12:05:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.5] (HELO spunkymail-a2.g.dreamhost.com) (208.97.132.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 12:04:52 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a2.g.dreamhost.com (Postfix) with ESMTP id 83FD487B21
	for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 12:04:27 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <8e69b6620703201349k35aecfe1ka1c27b6962081c9@mail.gmail.com>
References: <8e69b6620703201258o38d18f05j8f5010c48ca195a8@mail.gmail.com> <0ef901c76b2b$b0f6d280$0301a8c0@tmesa.com> <8e69b6620703201349k35aecfe1ka1c27b6962081c9@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2C75427C-A964-4E39-B2C0-146A812EA686@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Thank you...
Date: Wed, 21 Mar 2007 15:04:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Cass,

Care to write up a Use Case when you have a few spare cycles?  http:// 
wiki.apache.org/lucene-java/UseCases

-Grant

On Mar 20, 2007, at 4:49 PM, Cass Costello wrote:

> Heh - it used to be in my sig ... my bad.
>
> Thanks, all. :)
>
> http://www.stubhub.com
>
>
> On 3/20/07, bruce <bedouglas@earthlink.net> wrote:
>>
>> hey cass...
>>
>> anyway you could let us know the site/app that we're powering!!!
>>
>> always good to see what's going on in the world!
>>
>> thanks
>>
>>
>> -----Original Message-----
>> From: Cass Costello [mailto:casspc@gmail.com]
>> Sent: Tuesday, March 20, 2007 12:58 PM
>> To: solr-user@lucene.apache.org; java-user@lucene.apache.org
>> Subject: Thank you...
>>
>>
>> ...to everyone who helps make Lucene and Solr such fantastic tools.
>>
>> I'm the Platform Architect for a leading online event ticket
>> after-marketplace (think eBay for tickets), and we've just  
>> completed a 12
>> month project to rewrite the Browse and Search components of our
>> customer-facing site.  Both rely heavily on Solr and a smattering of
>> custom
>> Lucene API calls throughout the code base.  As of this morning (2  
>> weeks
>> after our final-stage push to production), we've reduced our hardware
>> needs
>> over 50% and have improved page response times by 30-60% as  
>> compared to
>> the
>> old architecture (a mix of very old CF code for the browse pieces,  
>> and a
>> couple GSAs for the seach pages).  More importantly, we've  
>> established new
>> patterns and flex points for future growth, and I have utmost  
>> confidence
>> that we'll be leveraging the Lucene/Solr combo for years to come  
>> as we
>> grow.
>> The devs are proud, the execs are happy, our customers have  
>> noticed the
>> speed improvements, and we all learned many positive lessons along  
>> the
>> way.
>>
>> These forums and various online resources (the Solr wiki first and
>> foremost)
>> have been tremendously helpful.   And so, thank you, all, for  
>> pointing the
>> way to a simpler, faster, better solution for our needs.
>>
>> Cass Costello
>>
>> --
>> A complex system that works is invariably found to have evolved  
>> from a
>> simple system that works.
>>   - John Gaule
>>
>>
>
>
> -- 
> A complex system that works is invariably found to have evolved from a
> simple system that works.
>  - John Gaule

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 19:15:59 2007
Return-Path: <java-user-return-27044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12692 invoked from network); 21 Mar 2007 19:15:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 19:15:58 -0000
Received: (qmail 62812 invoked by uid 500); 21 Mar 2007 19:15:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62729 invoked by uid 500); 21 Mar 2007 19:15:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62717 invoked by uid 99); 21 Mar 2007 19:15:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 12:15:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 12:15:48 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 39F485B763; Wed, 21 Mar 2007 12:15:28 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2C0C37F403
	for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 12:15:28 -0700 (PDT)
Date: Wed, 21 Mar 2007 12:15:28 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Thank you...
In-Reply-To: <2C75427C-A964-4E39-B2C0-146A812EA686@apache.org>
Message-ID: <Pine.LNX.4.58.0703211211370.8052@hal.rescomp.berkeley.edu>
References: <8e69b6620703201258o38d18f05j8f5010c48ca195a8@mail.gmail.com>
 <0ef901c76b2b$b0f6d280$0301a8c0@tmesa.com> <8e69b6620703201349k35aecfe1ka1c27b6962081c9@mail.gmail.com>
 <2C75427C-A964-4E39-B2C0-146A812EA686@apache.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Care to write up a Use Case when you have a few spare cycles?  http://
: wiki.apache.org/lucene-java/UseCases

Oh, Oh OH! ... competing requests for wiki submisions: Can you add some of
the info about the performance numbers you are seeing to...

	http://wiki.apache.org/solr/SolrPerformanceData

...I've taken the liberty of adding stubhub to the "Powered By" Solr
page...

	http://wiki.apache.org/solr/PublicServers



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 20:10:15 2007
Return-Path: <java-user-return-27045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46385 invoked from network); 21 Mar 2007 20:10:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 20:10:13 -0000
Received: (qmail 93234 invoked by uid 500); 21 Mar 2007 20:10:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93196 invoked by uid 500); 21 Mar 2007 20:10:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 80305 invoked by uid 99); 21 Mar 2007 20:05:09 -0000
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jafarim@gmail.com designates 66.249.82.236 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=sUCFc0dP8IUpDIBhkjncdOcoK1RcS7pjjMaIP1pK4a7mqSZzZKT90qu4hVCztpSA/+qu//ez5raL0tXxR5Yojzn07AsHnGoQNcCKJb0fsBVQtA0rxpC/XX/igjIzhh8MDt1psr7plzAqSOHb1FsPYL/HRBnwj3SlihPjMSObCU8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=tIi2NUSPFK539i1eZ6nAAK7QdCtFuwK7vyjJWRmoB85OwAy5RNvziPG0xOrHa7ecxYaMmXVMvCeqUMdprtWn631EFwQ4ZDqU/oPnB81gLhG7giM5m4kXWtLMtrH7nzkhqA+JjQfYu4ha19nyhiRMREVzuRzYNf40+HsN1VV2Xxw=
Message-ID: <bddd3c950703211304s704b09d3i704f168e77a797f8@mail.gmail.com>
Date: Wed, 21 Mar 2007 23:34:37 +0330
From: jafarim <jafarim@gmail.com>
To: java-user@lucene.apache.org
Subject: Lazy field loading in
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_80101_15522192.1174507477548"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_80101_15522192.1174507477548
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
I am seeking for making use of the latest lazy field loading in lucene 2.1.
I store the orignal bytes of a document, say a PDF file for example, in a
special untokenized field in the index. Though there is enough facilities in
IndexReader class for lazy field loading, the search API in IndexSearcher
does not contain such facilities. Hence, the Documents I get from the
Hits.doc() would not benefit from the mentioned feature.
Am I missing an important point or this is a desired feature to go on the
todo list?
--Jafarim

------=_Part_80101_15522192.1174507477548--

From java-user-return-27046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 20:59:02 2007
Return-Path: <java-user-return-27046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61651 invoked from network); 21 Mar 2007 20:59:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 20:59:01 -0000
Received: (qmail 8356 invoked by uid 500); 21 Mar 2007 20:59:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8331 invoked by uid 500); 21 Mar 2007 20:59:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8320 invoked by uid 99); 21 Mar 2007 20:59:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 13:59:02 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of casspc@gmail.com designates 209.85.132.242 as permitted sender)
Received: from [209.85.132.242] (HELO an-out-0708.google.com) (209.85.132.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 13:58:51 -0700
Received: by an-out-0708.google.com with SMTP id c3so427886ana
        for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 13:58:30 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=o5DbMz0NChpjqhF0JOa5x+tKhTlcNLg4dQSsubQMHKu27gbwN99GwmwMQVu1/Umr6iJHdAnEyuK5dzKitqSdc1goKllhN6xokVO4Qg4BS6Iae4AFahfckY9YK1s6Q5jSj2yrn2Oa5Z/523qXvtCMfpVnHWHPpsLbyTgc02UcuHg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Y8vuoHrYN9zmm1hvCJ/Q8ITS01/60lgahIML+svBHwD9eRME9CvFbXt+l2fPpMVx93TjS50SnelpNv2elnkaztW4kWzAXmOq/VsgFfDRUme3DBVWg7eY5MsKgNyRemEm9uX0cqozgrdA8b6YrCfNkHyt7mSQ5PB2pDrwiY7D2QY=
Received: by 10.100.57.14 with SMTP id f14mr930219ana.1174510709771;
        Wed, 21 Mar 2007 13:58:29 -0700 (PDT)
Received: by 10.100.45.20 with HTTP; Wed, 21 Mar 2007 13:58:29 -0700 (PDT)
Message-ID: <8e69b6620703211358n267fa33avb87b33f65ef0e868@mail.gmail.com>
Date: Wed, 21 Mar 2007 13:58:29 -0700
From: "Cass Costello" <casspc@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Thank you...
In-Reply-To: <8e69b6620703211259y3efb6d54nbde2e335195faba8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_148092_26702210.1174510709716"
References: <8e69b6620703201258o38d18f05j8f5010c48ca195a8@mail.gmail.com>
	 <0ef901c76b2b$b0f6d280$0301a8c0@tmesa.com>
	 <8e69b6620703201349k35aecfe1ka1c27b6962081c9@mail.gmail.com>
	 <c68e39170703211217l4a054ffahe40f3a629b56b00b@mail.gmail.com>
	 <8e69b6620703211259y3efb6d54nbde2e335195faba8@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_148092_26702210.1174510709716
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

You all rock.  I'm clearing the semi-official legal hurdle with my CTO and
our head counsel to full (or something close to full) disclosure of some of
the architectural details, so stay tuned for as much as I'm allowed to share
(and btw, for any of you that live/work/vacation in the SF Bay area, I'd be
happy to discuss things over a beer :)

In the meantime, yes, much of the faceting you see on the Browse and Search
pages is direct Solr faceting.  We made *very* liberal use of
faceting-specific fields in our event and ontology documents.

Similarly, we rely on the standard query handler for almost all the Solr
calls.  Our business logic is modelled in a CoR pattern, and we did write
one command to encapsulate SolrCore/Request/Response use for our highest
throughput needs - the win there was direct building into our predominant
xml object model (we use XOM) via a QueryResponseXOMBuilder.build(
solrRequest, solrResponse ) call.

I definitely need clearance before sharing hard perf numbers (anyone working
for TicketMaster on these lists? - funny, I used to use "eBay" in lines like
that - see below) but I will share the fact that our response times and q/s
numbers were very good out-of-the-box.  We've an Ehcache-based distributed
caching framework that we threw in front of the Solr servers, and our final
total throughput for the Solr queries utilized to support Browse runs into
the 100's of requests per sec, per Solr server.  Our Search (true free-text
searches) numbers are lower, but not by that much.

This might be the coolest (for me, anyway) result of the entire endeavor...
StubHub was recently acquired by eBay.  I've been working closely with a
couple of their architects over the past few weeks, and we've done a bit of
theoretical, comparative analysis between our search/browse platform and
theirs (which is completely home grown), and things stack up favorably for
the Solr/Lucene approach, esp. when considering the *vast* difference in
hardware allocation per-request.  Again, if I'm allowed, more details to
follow.

>>...I've taken the liberty of adding stubhub to the "Powered By" Solr
page...

Awesome.  I can't say it enough... thank you all.





On 3/21/07, Yonik Seeley <yonik@apache.org> wrote:
>
> On 3/20/07, Cass Costello <casspc@gmail.com> wrote:
> > Heh - it used to be in my sig ... my bad.
> >
> > Thanks, all. :)
> >
> > http://www.stubhub.com
>
> I tried it out... looks great!
> Is the faceting stuff done with Solr too?
> If so is it the Solr built-in faceting, or a custom query handler?  If
> the latter, can you think of ways to improve the built in faceting
> that would have made things easier?
>
> -Yonik
>



-- 
A complex system that works is invariably found to have evolved from a
simple system that works.
  - John Gaule


-- 
A complex system that works is invariably found to have evolved from a
simple system that works.
  - John Gaule

------=_Part_148092_26702210.1174510709716--

From java-user-return-27047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 21:42:34 2007
Return-Path: <java-user-return-27047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74693 invoked from network); 21 Mar 2007 21:42:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 21:42:33 -0000
Received: (qmail 2412 invoked by uid 500); 21 Mar 2007 21:42:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2380 invoked by uid 500); 21 Mar 2007 21:42:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2368 invoked by uid 99); 21 Mar 2007 21:42:33 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 14:42:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 14:42:24 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CCCB15B763; Wed, 21 Mar 2007 14:42:03 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C5C947F403
	for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 14:42:03 -0700 (PDT)
Date: Wed, 21 Mar 2007 14:42:03 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lazy field loading in
In-Reply-To: <bddd3c950703211304s704b09d3i704f168e77a797f8@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703211438400.16360@hal.rescomp.berkeley.edu>
References: <bddd3c950703211304s704b09d3i704f168e77a797f8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: IndexReader class for lazy field loading, the search API in IndexSearcher
: does not contain such facilities. Hence, the Documents I get from the
: Hits.doc() would not benefit from the mentioned feature.

Lazy loading stored fields is really about perfermance tweaking ... if
yoiu are that concerned baout performance, you shouldn't be using Hits at
all.

there was a change made to the trunk recently to support
Searchable.doc(int,FieldSelector) but i dont' think you'll ever see a
method returning Hits which takes in a FieldSelector .. use TopDocs or
TopFieldDocs and fetch the docs with calls to doc().



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 21 21:47:02 2007
Return-Path: <java-user-return-27048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76042 invoked from network); 21 Mar 2007 21:47:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 21 Mar 2007 21:47:02 -0000
Received: (qmail 10224 invoked by uid 500); 21 Mar 2007 21:46:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10189 invoked by uid 500); 21 Mar 2007 21:46:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10176 invoked by uid 99); 21 Mar 2007 21:46:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 14:46:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 14:46:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E09165B763; Wed, 21 Mar 2007 14:46:28 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C9E6E7F403
	for <java-user@lucene.apache.org>; Wed, 21 Mar 2007 14:46:28 -0700 (PDT)
Date: Wed, 21 Mar 2007 14:46:28 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: retrieving matched slop
In-Reply-To: <4600B817.5010102@istandfor.com>
Message-ID: <Pine.LNX.4.58.0703211444320.16360@hal.rescomp.berkeley.edu>
References: <4600B817.5010102@istandfor.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


there's a few options...

you can define a custom SImilarity that makes the score based entirely on
the sloppyFreq ... it's not trivial, but it's certainly possible.

the other option is to call SpanQuery.getSpans directly, and then iterate
over it and compare end() - start() for each span.

: Date: Wed, 21 Mar 2007 00:44:07 -0400
: From: Ruslan Sivak <rsivak@istandfor.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: retrieving matched slop
:
: I have an app that searches a single document against many queries.
: Lets say the document was
:
: The quick brown fox jumped over the lazy dog.
:
: and my queries are
:
: SpanNearQuery("quick","brown",50)
: SpanNearQuery("quick","fox",50)
:
: I would like to retrieve the slop or some sort of score that was matched
: when I'm searching.  Since the first one requires no slop, it would
: return 0 or the highest score and the second query would return 1 for
: slop as fox is one word away from quick.  Is there any way to retrieve
: these values?
:
: Russ
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 05:09:38 2007
Return-Path: <java-user-return-27049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7090 invoked from network); 22 Mar 2007 05:09:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 05:09:37 -0000
Received: (qmail 19636 invoked by uid 500); 22 Mar 2007 05:09:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18950 invoked by uid 500); 22 Mar 2007 05:09:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18939 invoked by uid 99); 22 Mar 2007 05:09:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 22:09:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 22:09:27 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HUFXu-0003m7-PR
	for java-user@lucene.apache.org; Wed, 21 Mar 2007 22:09:06 -0700
Message-ID: <9608570.post@talk.nabble.com>
Date: Wed, 21 Mar 2007 22:09:06 -0700 (PDT)
From: Lokeya <lokeya@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
In-Reply-To: <OFEA4C88D0.17A655FC-ON882572A4.005D6779-882572A4.0061B30A@il.ibm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: lokeya@gmail.com
References: <9526527.post@talk.nabble.com> <359a92830703170829q16f3bc57u1654ff70cc59e3e9@mail.gmail.com> <9536099.post@talk.nabble.com> <714E8804-CD19-4477-98FA-E56F95977EEE@apache.org> <359a92830703180639q4ad0264dif5220f844867204@mail.gmail.com> <9540232.post@talk.nabble.com> <5BD5D3FF-1A33-465F-BFD4-B312731EFDB7@gmail.com> <9542471.post@talk.nabble.com> <OFEA4C88D0.17A655FC-ON882572A4.005D6779-882572A4.0061B30A@il.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Initially I was writing into the Index 7,00,000 times. I chaged the code to
now write only 70 times which means I am putting lot of data in an array
list and add to doc and index at one shot. This is where the improvement
came from. To be precise IndexWriter is now adding document 70 times Vs.
7,00,000 times. 

If this is not clear please let me know. I have't pasted the latest code
where I have fixed the lock issue as well. If required I can do that.

Thanks everyone for quick turnaround and it really helped me a lot.


Doron Cohen wrote:
> 
> Lokeya <lokeya@gmail.com> wrote on 18/03/2007 13:19:45:
> 
>>
>> Yep I did that, and now my code looks as follows.
>> The time taken for indexing one file is now
>> => Elapsed Time in Minutes :: 0.3531
>> which is really great
> 
> I am jumping in late so appologies if I am missing something.
> However I don't understand where this improvement came
> from. (more below)
> 
>>
>> //Create an Index under LUCENE
>> IndexWriter writer = new IndexWriter("./LUCENE", new
>>                                      StopStemmingAnalyzer(),
>>                                      false);
>> Document doc = new Document();
>>
>> //Get Array List Elements  and add them as fileds to doc
>> for(int k=0; k < alist_Title.size(); k++)             {
>>   doc.add(new Field("Title",
>>                     alist_Title.get(k).toString(),
>>                     Field.Store.YES,
>>                     Field.Index.UN_TOKENIZED));
>> }
>>
>> for(int k=0; k < alist_Descr.size(); k++)             {
>>   doc.add(new Field("Description",
>>                     alist_Descr.get(k).toString(),
>>                     Field.Store.YES,
>>                     Field.Index.UN_TOKENIZED));
>> }
>>
>> //Add the document created out of those fields to
>> // the IndexWriter which will create and index
>> writer.addDocument(doc);
>> writer.optimize();
>> writer.close();
>>
>> long elapsedTimeMillis = System.currentTimeMillis()-startTime;
>> System.out.println("Elapsed Time for  "+
>>                    dirName +" :: " + elapsedTimeMillis);
>> float elapsedTimeMin = elapsedTimeMillis/(60*1000F);
>> System.out.println("Elapsed Time in Minutes ::  "+
>>                    elapsedTimeMin);
> 
> the code listed above is, still, for each indexed document,
> doing this:
> 
>   1. open index writer
>   2. create a document (and add fields to it)
>   3. add the doc to the index
>   4. optimize the index
>   5. close the index writer
> 
> As already mentioned here this is very non optimal.
> So I don't understand where the improvement came from.
> 
> It should be done like this:
> 
>   1. open/create the index
>   2. for each valid doc input {
>        a. create a document (add fields)
>        b. add the doc to the index
>      }
>   3. optimize the index (optionally)
>   4. close the index
> 
> It would probably also help both coding and discussion to capture
> some logic in methods, e.g.
> 
> IndexWriter createIndex();
> IndexWriter openIndex();
> void closeIndex();
> Document createDocument(String oai_citeseer_fileName)
> 
>> but after processing 4 dumpfiles(which means
>> 40,000 small xml's), I get :
>>
>> caught a class java.io.IOException
>>  40114  with message: Lock obtain timed out:
>> Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
>>
>>
>> This is the new issue now.What could be the reason ?. I am surprised
> because
>> I am only writing to Index under ./LUCENE/ evrytime and not doing
> anything
>> with the index(ofcrs to avoid such synchronization issues !)
> 
> If the code listed above is getting this exception, and this runs on
> Windows, then perhaps this is related to issue 665 - intensive IO
> activity, write lock acquired and released for each and every added
> document. If so, this too would be avoided by opening the index just once.
> 
> Last comment - I did not understand if a single index is used for all
> 70 metadata files, or each one has its own index, totalling 70 indexes.
> I would think it should be only one index for all, and then you better
> avoid calling optimize 70 times - that would waste time too. Better
> organize the code like this:
> 
> 1. create/open index
> 2. for each meta data file {
>    a. for each "valid element" in meta data file {
>         a.1 create document
>         a.2 add doc to index
>       }
>    }
> 3. optimize
> 4. close index
> 
> Regards,
> Doron
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Issue-while-parsing-XML-files-due-to-control-characters%2C-help-appreciated.-tf3418085.html#a9608570
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 05:54:46 2007
Return-Path: <java-user-return-27050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14714 invoked from network); 22 Mar 2007 05:54:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 05:54:45 -0000
Received: (qmail 66381 invoked by uid 500); 22 Mar 2007 05:54:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66336 invoked by uid 500); 22 Mar 2007 05:54:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66325 invoked by uid 99); 22 Mar 2007 05:54:47 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 22:54:47 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 22:54:38 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2M5rHdU010435
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:53:18 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3m7hglj; 22 Mar 2007 07:53:00 +0200
Message-ID: <460219CC.6020808@teamware.com>
Date: Thu, 22 Mar 2007 16:53:16 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Combining score from two or more hits
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Thu, 22 Mar 2007 07:53:18 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=-0.185,
	required 5, autolearn=not spam, BAYES_40 -0.18)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

I have indexed objects that contain one or more attachments.  Each attachment is 
indexed as a separate Document along with the object metadata.

When I make a search, I may get hits in more than one Document that refer to the 
same object.  I have a HitCollector which knows if the object has already been 
found, so I want to be able to update the score of an existing hit in a way that 
makes sense.  e.g. If hit H1 has score 1.35 and hit H2 has score 2.9 is is 
possible to re-score it on the basis that the real hit result is (H1 AND H2).

I can take the highest score of any Document, but just wondered if this is 
possible during the HitCollector.collect method?

Antony





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 06:07:37 2007
Return-Path: <java-user-return-27051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18159 invoked from network); 22 Mar 2007 06:07:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 06:07:36 -0000
Received: (qmail 79761 invoked by uid 500); 22 Mar 2007 06:07:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79718 invoked by uid 500); 22 Mar 2007 06:07:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79703 invoked by uid 99); 22 Mar 2007 06:07:36 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [64.240.127.211] (HELO nypsp701-int0.prod.tradingscreen.com) (64.240.127.211)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Mar 2007 23:07:36 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by nypsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032202032017165
 for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 02:03:21 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76C47.C0FC7D3C"
Subject: indexing rss feeds in multiple languages
Date: Thu, 22 Mar 2007 15:03:03 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E5884195@tkdwi001.dev.tradingscreen.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing rss feeds in multiple languages
Thread-Index: AcdsR8EmRV+kgpJiTEGyjWwA9d81uA==
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76C47.C0FC7D3C
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I saw that there are many post on the mailing list about indexing in =
multiple language, so I will try to not post duplicate question. In my =
case, I want to index rss feeds, so one feed contains several items in =
different languages, and some common data for all the items (date, =
source..).  After reading the different posts, I think I will create a =
document per item, index them in the same index using each time a =
language specific analyzer, and store lang field for specific search. =
But I'm wondering how I should handle the common fields, it seems I have =
two options:

1 : store the common data in each item. What happen if duplicate =
information are entered, are they duplicate in the index ?

=20

2 : create a separate document for the common data. In this case I will =
need to link these data to all underlying items storing some ids. The =
issue is that I would need to search the index twice if the search is =
done only per date, because I would need to retrieve the items contents. =


=20

Thank in advance for your help.

=20

M=E9lanie=20

=20


------_=_NextPart_001_01C76C47.C0FC7D3C--

From java-user-return-27052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 06:29:57 2007
Return-Path: <java-user-return-27052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23480 invoked from network); 22 Mar 2007 06:29:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 06:29:56 -0000
Received: (qmail 99555 invoked by uid 500); 22 Mar 2007 06:29:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99513 invoked by uid 500); 22 Mar 2007 06:29:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99502 invoked by uid 99); 22 Mar 2007 06:29:54 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.150 as permitted sender)
Received: from [195.212.29.150] (HELO mtagate1.de.ibm.com) (195.212.29.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Mar 2007 23:29:53 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate1.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2M6SMYJ127330
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 06:28:22 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2M6SM4H1802480
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:28:22 +0100
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2M6SMSZ020964
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:28:22 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2M6SMqI020957
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:28:22 +0100
In-Reply-To: <9608570.post@talk.nabble.com>
Subject: Re: Issue while parsing XML files due to control characters, help
 appreciated.
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF15652D13.66B1CC9B-ON882572A6.0021FA55-882572A6.00230867@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 21 Mar 2007 22:22:39 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 22/03/2007 08:28:21
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Lokeya <lokeya@gmail.com> wrote on 21/03/2007 22:09:06:

>
> Initially I was writing into the Index 7,00,000 times. I chaged the code
to
> now write only 70 times which means I am putting lot of data in an array
> list and add to doc and index at one shot. This is where the improvement
> came from. To be precise IndexWriter is now adding document 70 times Vs.
> 7,00,000 times.

I was just concluding from the provided code;

So now your index should have only 70 documents, right?

(Search "granularity" would be 1/70 of collection size, is that really
useful?)

If now you open the index writer once, add all those 70 documents, call
optimize once, close index writer once, that's the right way.

> If this is not clear please let me know. I have't pasted the latest code
> where I have fixed the lock issue as well. If required I can do that.
>
> Thanks everyone for quick turnaround and it really helped me a lot.
>
>
> Doron Cohen wrote:
> >
> > Lokeya <lokeya@gmail.com> wrote on 18/03/2007 13:19:45:
> >
> >>
> >> Yep I did that, and now my code looks as follows.
> >> The time taken for indexing one file is now
> >> => Elapsed Time in Minutes :: 0.3531
> >> which is really great
> >
> > I am jumping in late so appologies if I am missing something.
> > However I don't understand where this improvement came
> > from. (more below)
> >
> >>
> >> //Create an Index under LUCENE
> >> IndexWriter writer = new IndexWriter("./LUCENE", new
> >>                                      StopStemmingAnalyzer(),
> >>                                      false);
> >> Document doc = new Document();
> >>
> >> //Get Array List Elements  and add them as fileds to doc
> >> for(int k=0; k < alist_Title.size(); k++)             {
> >>   doc.add(new Field("Title",
> >>                     alist_Title.get(k).toString(),
> >>                     Field.Store.YES,
> >>                     Field.Index.UN_TOKENIZED));
> >> }
> >>
> >> for(int k=0; k < alist_Descr.size(); k++)             {
> >>   doc.add(new Field("Description",
> >>                     alist_Descr.get(k).toString(),
> >>                     Field.Store.YES,
> >>                     Field.Index.UN_TOKENIZED));
> >> }
> >>
> >> //Add the document created out of those fields to
> >> // the IndexWriter which will create and index
> >> writer.addDocument(doc);
> >> writer.optimize();
> >> writer.close();
> >>
> >> long elapsedTimeMillis = System.currentTimeMillis()-startTime;
> >> System.out.println("Elapsed Time for  "+
> >>                    dirName +" :: " + elapsedTimeMillis);
> >> float elapsedTimeMin = elapsedTimeMillis/(60*1000F);
> >> System.out.println("Elapsed Time in Minutes ::  "+
> >>                    elapsedTimeMin);
> >
> > the code listed above is, still, for each indexed document,
> > doing this:
> >
> >   1. open index writer
> >   2. create a document (and add fields to it)
> >   3. add the doc to the index
> >   4. optimize the index
> >   5. close the index writer
> >
> > As already mentioned here this is very non optimal.
> > So I don't understand where the improvement came from.
> >
> > It should be done like this:
> >
> >   1. open/create the index
> >   2. for each valid doc input {
> >        a. create a document (add fields)
> >        b. add the doc to the index
> >      }
> >   3. optimize the index (optionally)
> >   4. close the index
> >
> > It would probably also help both coding and discussion to capture
> > some logic in methods, e.g.
> >
> > IndexWriter createIndex();
> > IndexWriter openIndex();
> > void closeIndex();
> > Document createDocument(String oai_citeseer_fileName)
> >
> >> but after processing 4 dumpfiles(which means
> >> 40,000 small xml's), I get :
> >>
> >> caught a class java.io.IOException
> >>  40114  with message: Lock obtain timed out:
> >> Lock@/tmp/lucene-e36d478e46e88f594d57a03c10ee0b3b-write.lock
> >>
> >>
> >> This is the new issue now.What could be the reason ?. I am surprised
> > because
> >> I am only writing to Index under ./LUCENE/ evrytime and not doing
> > anything
> >> with the index(ofcrs to avoid such synchronization issues !)
> >
> > If the code listed above is getting this exception, and this runs on
> > Windows, then perhaps this is related to issue 665 - intensive IO
> > activity, write lock acquired and released for each and every added
> > document. If so, this too would be avoided by opening the index just
once.
> >
> > Last comment - I did not understand if a single index is used for all
> > 70 metadata files, or each one has its own index, totalling 70 indexes.
> > I would think it should be only one index for all, and then you better
> > avoid calling optimize 70 times - that would waste time too. Better
> > organize the code like this:
> >
> > 1. create/open index
> > 2. for each meta data file {
> >    a. for each "valid element" in meta data file {
> >         a.1 create document
> >         a.2 add doc to index
> >       }
> >    }
> > 3. optimize
> > 4. close index
> >
> > Regards,
> > Doron


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 06:43:33 2007
Return-Path: <java-user-return-27053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25073 invoked from network); 22 Mar 2007 06:43:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 06:43:32 -0000
Received: (qmail 13843 invoked by uid 500); 22 Mar 2007 06:43:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13818 invoked by uid 500); 22 Mar 2007 06:43:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13807 invoked by uid 99); 22 Mar 2007 06:43:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.re2.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Mar 2007 23:43:28 -0700
Received: (qmail 27470 invoked by uid 60001); 22 Mar 2007 06:41:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=10C4Xcuj4CCYe1JsW8JZ9ikYIKWVaSnHofSBXTmSMv6818onOcz3OzFhM3bN32TdrCTQaanmP3i8+d1f68b9nSs1rb/QAPEvbU8qeTJxG1lWdZR1VIbWPXo+BU5oZXqi8gNODzBVl0/CaP6NvxptajWPkjB+LrVqScva1m11hig=;
X-YMail-OSG: HmbUX8kVM1mPFRjDHaS9GdWt9TVc2taRz46TWamohWm0Zaha7y.7H04rlmrAmc0H_HYfh5T6d3Qzv0bYoj.kpVHcWUWuGMrIBeUOghtkWhM9HqBDeGjjbQ--
Received: from [74.73.75.122] by web50305.mail.re2.yahoo.com via HTTP; Wed, 21 Mar 2007 23:41:47 PDT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Wed, 21 Mar 2007 23:41:47 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Spelt, for better spelling correction
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <366256.27065.qm@web50305.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Martin,
This sounds like the spellchecker dictionary needs to be built in parallel with the main Lucene index.  Is it possible to create a dictionary out of an existing (and no longer modified) Lucene index?

Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: Martin Haye <m1@snyder-haye.com>
To: Yonik Seeley <yonik@apache.org>
Cc: java-user@lucene.apache.org
Sent: Wednesday, March 21, 2007 2:03:50 PM
Subject: Re: Spelt, for better spelling correction

The dictionary is generated from the corpus, with the result that a larger
corpus gives better results.

Words are queued up during an index run, and at the end are munged to create
an optimized dictionary. It also supports incremental building, though the
overhead would be too much for those applications that are continuously
adding things to an index. Happily, it's not as important to keep the
spelling dictionary absolutely up to date, so it would be fine to queue
words over several index runs, and refresh the dictionary less often.

--Martin

On 3/20/07, Yonik Seeley <yonik@apache.org> wrote:
>
> Sounds interesting Martin!
> Is the dictionary static, or is it generated from the corpus or from
> user queries?
>
> -Yonik
>
> On 3/20/07, Martin Haye <martin.haye@gmail.com> wrote:
> > As part of XTF, an open source publishing engine that uses Lucene, I
> > developed a new spelling correction engine specifically to provide "Did
> you
> > mean..." links for misspelled queries. I and a small group are preparing
> > this for submission as a contrib module to Lucene. And we're inviting
> > interested people to join the discussion about it.
> >
> > The new engine is being called "Spelt" and differs from the one
> currently in
> > Lucene contrib in the following ways:
> >
> > - More accurate: Much better performance on single-word queries (90%
> correct
> > in #1 slot in my tests). On general list including multi-word queries,
> gets
> > 80%+ correct.
> > - Multi-word: Handles and corrects multi-word queries such as
> "harrypotter"
> > -> "harry potter".
> > - Fast: In my tests, builds the dictionary more than 30 times faster.
> > - Small: Dictionary size is roughly a third of that built by the
> existing
> > engine.
> > - Other bells and whistles...
> >
> > There is already a standalone test program that people can try out, and
> > we're interested in feedback. If you're interested in discussing,
> testing,
> > or previewing, consider joining the Google group:
> > http://groups.google.com/group/spelt/
> >
> > --Martin
> >
>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 06:44:34 2007
Return-Path: <java-user-return-27054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25290 invoked from network); 22 Mar 2007 06:44:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 06:44:33 -0000
Received: (qmail 16270 invoked by uid 500); 22 Mar 2007 06:44:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16240 invoked by uid 500); 22 Mar 2007 06:44:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16228 invoked by uid 99); 22 Mar 2007 06:44:32 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_NJABL_PROXY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [203.84.221.132] (HELO web8711.mail.in.yahoo.com) (203.84.221.132)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Mar 2007 23:44:31 -0700
Received: (qmail 18596 invoked by uid 60001); 22 Mar 2007 06:42:57 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=O/zHSnnGCgauYq3NQAW920qd2KSSeQ2rwdYt4ia38ELPxk1rIdMuzrDGcKLdaTQSHv4LOtmvFMIE2MHvCdNl8pPEXkLkvhnnR3us6OQHfO1FM5oD8jq0xvKk4SRF2Il2KugQj3nznik6HegmkKXKJXZD9tkv/34Q+MlPWihxvwk=;
X-YMail-OSG: hp9WRzUVM1kuwXpGGthO37DMwe0i.60b0E6Tt.sEc3oh1U3IrZ63ZXBrxGYGvED_4S32prNlS1hPoIF1tpcWYA6cTVTIFTA9qKMsRf1cQa2bsVuVYPWtzZixr57jQwvw
Received: from [59.95.170.4] by web8711.mail.in.yahoo.com via HTTP; Thu, 22 Mar 2007 12:12:57 IST
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Thu, 22 Mar 2007 12:12:57 +0530 (IST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Re: indexing rss feeds in multiple languages
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="0-1564893975-1174545777=:16536"
Message-ID: <647819.16536.qm@web8711.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1564893975-1174545777=:16536
Content-Type: multipart/alternative; boundary="0-341823876-1174545777=:16536"

--0-341823876-1174545777=:16536
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,=0AHave a  look to my resume attached with the mail. if it suits you, le=
t me know.=0AThanks...=0A=0A=0A----- Original Message ----=0AFrom: Melanie =
Langlois <Melanie.Langlois@tradingscreen.com>=0ATo: java-user@lucene.apache=
.org=0ASent: Thursday, 22 March, 2007 11:33:03 AM=0ASubject: indexing rss f=
eeds in multiple languages=0A=0A=0AHi,=0A=0A=0A=0AI saw that there are many=
 post on the mailing list about indexing in multiple language, so I will tr=
y to not post duplicate question. In my case, I want to index rss feeds, so=
 one feed contains several items in different languages, and some common da=
ta for all the items (date, source..).  After reading the different posts, =
I think I will create a document per item, index them in the same index usi=
ng each time a language specific analyzer, and store lang field for specifi=
c search. But I'm wondering how I should handle the common fields, it seems=
 I have two options:=0A=0A1 : store the common data in each item. What happ=
en if duplicate information are entered, are they duplicate in the index ?=
=0A=0A=0A=0A2 : create a separate document for the common data. In this cas=
e I will need to link these data to all underlying items storing some ids. =
The issue is that I would need to search the index twice if the search is d=
one only per date, because I would need to retrieve the items contents. =0A=
=0A=0A=0AThank in advance for your help.=0A=0A=0A=0AM=E9lanie=0A=0A=0A=09=
=09=0A__________________________________________________________=0AYahoo! I=
ndia Answers: Share what you know. Learn something new=0Ahttp://in.answers.=
yahoo.com/
--0-341823876-1174545777=:16536
Content-Type: text/html; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

<html><head><style type=3D"text/css"><!-- DIV {margin:0px;} --></style></he=
ad><body><div style=3D"font-family:times new roman, new york, times, serif;=
font-size:12pt"><DIV style=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman=
, new york, times, serif">Hi,</DIV>=0A<DIV style=3D"FONT-SIZE: 12pt; FONT-F=
AMILY: times new roman, new york, times, serif">Have a&nbsp; look to my res=
ume attached with the mail. if it suits you, let me know.</DIV>=0A<DIV styl=
e=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman, new york, times, serif"=
>Thanks...<BR><BR></DIV>=0A<DIV style=3D"FONT-SIZE: 12pt; FONT-FAMILY: time=
s new roman, new york, times, serif">----- Original Message ----<BR>From: M=
elanie Langlois &lt;Melanie.Langlois@tradingscreen.com&gt;<BR>To: java-user=
@lucene.apache.org<BR>Sent: Thursday, 22 March, 2007 11:33:03 AM<BR>Subject=
: indexing rss feeds in multiple languages<BR><BR>=0A<DIV>Hi,<BR><BR><BR><B=
R>I saw that there are many post on the mailing list about indexing in mult=
iple language, so I will try to not post duplicate question. In my case, I =
want to index rss feeds, so one feed contains several items in different la=
nguages, and some common data for all the items (date, source..).&nbsp;&nbs=
p;After reading the different posts, I think I will create a document per i=
tem, index them in the same index using each time a language specific analy=
zer, and store lang field for specific search. But I'm wondering how I shou=
ld handle the common fields, it seems I have two options:<BR><BR>1 : store =
the common data in each item. What happen if duplicate information are ente=
red, are they duplicate in the index ?<BR><BR><BR><BR>2 : create a separate=
 document for the common data. In this case I will need to link these data =
to all underlying items storing some ids. The issue is that I would need to=
 search the index twice if the search is done only per date,
 because I would need to retrieve the items contents. <BR><BR><BR><BR>Thank=
 in advance for your help.<BR><BR><BR><BR>M=E9lanie</DIV></DIV>=0A<DIV styl=
e=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman, new york, times, serif"=
><BR></DIV></div><br>=0A=09=0A=0A=09=0A=09=09<hr size=3D1></hr> =0AHere=92s=
 a new way to find what you're looking for - <a href=3D"http://us.rd.yahoo.=
com/mail/in/yanswers/*http://in.answers.yahoo.com/">Yahoo! Answers</a> </bo=
dy></html>
--0-341823876-1174545777=:16536--

--0-1564893975-1174545777=:16536
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--0-1564893975-1174545777=:16536--

From java-user-return-27055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 06:58:24 2007
Return-Path: <java-user-return-27055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27828 invoked from network); 22 Mar 2007 06:58:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 06:58:23 -0000
Received: (qmail 32133 invoked by uid 500); 22 Mar 2007 06:58:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32082 invoked by uid 500); 22 Mar 2007 06:58:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31947 invoked by uid 99); 22 Mar 2007 06:58:21 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_NJABL_PROXY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [203.84.221.131] (HELO web8710.mail.in.yahoo.com) (203.84.221.131)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Mar 2007 23:58:20 -0700
Received: (qmail 52036 invoked by uid 60001); 22 Mar 2007 06:56:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=wr0SIXEgpO4rk4qQFWHA9+tus7iqwFjoBx5pMOESboM8zfypEWAVhjuJGGNhU9pf3+YlHZDJUwQ3r2gWuzbw7NjKLxHodWGqy+gh2+cvG3ZeSU9XgyUQ9ljzP9KxOXp1OQ3uUrprfapXY/GBhiLQL8FwFn81/0mFZFhva+6Moqw=;
X-YMail-OSG: GM6ha_YVM1l7Ig.GixmmhGqROM8DP2jybIP_4fTus.ktxoEiDGIn2xPCOxnI9i38qiF4Fvi8OkyO5XOqygltQDpKWEfuYbC.OCcFelsXl7d9dIY833xriZF2TeevbOLH
Received: from [59.95.170.4] by web8710.mail.in.yahoo.com via HTTP; Thu, 22 Mar 2007 12:26:48 IST
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Thu, 22 Mar 2007 12:26:48 +0530 (IST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Re: indexing rss feeds in multiple languages
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1009672306-1174546608=:44192"
Message-ID: <911191.44192.qm@web8710.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1009672306-1174546608=:44192
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

OOPs!!!=0ASorry, =0AMy last message has come here by mistake. It was for so=
meone else, It is just a silly mistake.=0A=0Asorry People.=0A=0A=0A----- Or=
iginal Message ----=0AFrom: aslam bari <iamaslamok@yahoo.co.in>=0ATo: java-=
user@lucene.apache.org=0ASent: Thursday, 22 March, 2007 12:12:57 PM=0ASubje=
ct: Re: indexing rss feeds in multiple languages=0A=0A=0AHi,=0AHave a  look=
 to my resume attached with the mail. if it suits you, let me know.=0AThank=
s...=0A=0A=0A----- Original Message ----=0AFrom: Melanie Langlois <Melanie.=
Langlois@tradingscreen.com>=0ATo: java-user@lucene.apache.org=0ASent: Thurs=
day, 22 March, 2007 11:33:03 AM=0ASubject: indexing rss feeds in multiple l=
anguages=0A=0A=0AHi,=0A=0A=0A=0AI saw that there are many post on the maili=
ng list about indexing in multiple language, so I will try to not post dupl=
icate question. In my case, I want to index rss feeds, so one feed contains=
 several items in different languages, and some common data for all the ite=
ms (date, source..).  After reading the different posts, I think I will cre=
ate a document per item, index them in the same index using each time a lan=
guage specific analyzer, and store lang field for specific search. But I'm =
wondering how I should handle the common fields, it seems I have two option=
s:=0A=0A1 : store the common data in each item. What happen if duplicate in=
formation are entered, are they duplicate in the index ?=0A=0A=0A=0A2 : cre=
ate a separate document for the common data. In this case I will need to li=
nk these data to all underlying items storing some ids. The issue is that I=
 would need to search the index twice if the search is done only per date, =
because I would need to retrieve the items contents. =0A=0A=0A=0AThank in a=
dvance for your help.=0A=0A=0A=0AM=E9lanie=0A=0A=0A=0A=0A=0AHere=92s a new =
way to find what you're looking for - Yahoo! Answers =0A-------------------=
--------------------------------------------------=0ATo unsubscribe, e-mail=
: java-user-unsubscribe@lucene.apache.org=0AFor additional commands, e-mail=
: java-user-help@lucene.apache.org=0A=0A=0A=09=09=0A_______________________=
___________________________________=0AYahoo! India Answers: Share what you =
know. Learn something new=0Ahttp://in.answers.yahoo.com/
--0-1009672306-1174546608=:44192--

From java-user-return-27056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 07:01:14 2007
Return-Path: <java-user-return-27056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28691 invoked from network); 22 Mar 2007 07:01:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 07:01:13 -0000
Received: (qmail 35750 invoked by uid 500); 22 Mar 2007 07:01:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35698 invoked by uid 500); 22 Mar 2007 07:00:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35678 invoked by uid 99); 22 Mar 2007 07:00:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 00:00:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from [195.212.29.154] (HELO mtagate5.de.ibm.com) (195.212.29.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 00:00:49 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2M6xgKk232334
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 06:59:42 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2M6xg0F1753290
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:59:42 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2M6xgvF019898
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:59:42 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2M6xgGO019895
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:59:42 +0100
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E5884195@tkdwi001.dev.tradingscreen.com>
Subject: Re: indexing rss feeds in multiple languages
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF75039CCD.7A93CD9C-ON882572A6.0023C4FF-882572A6.00261AB7@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Wed, 21 Mar 2007 22:56:12 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 22/03/2007 08:59:41
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

If language is known also at search time, PerFieldAnalyzerWrapper seems=
 a
nice third option: single document per feed, with a separate field for =
each
language, additional field(s) for the common data;  using
PerFieldAnalyzerWrapper at both indexing and search;  using FieldSelect=
or
at search to retrieve only the relevant field(s) for matched documents.=

(never done this myself though.)
- Doron

"Melanie Langlois" <Melanie.Langlois@tradingscreen.com> wrote on 21/03/=
2007
23:03:03:

> Hi,
>
>
>
> I saw that there are many post on the mailing list about indexing in
> multiple language, so I will try to not post duplicate question. In
> my case, I want to index rss feeds, so one feed contains several
> items in different languages, and some common data for all the items
> (date, source..).  After reading the different posts, I think I will
> create a document per item, index them in the same index using each
> time a language specific analyzer, and store lang field for specific
> search. But I'm wondering how I should handle the common fields, it
> seems I have two options:
>
> 1 : store the common data in each item. What happen if duplicate
> information are entered, are they duplicate in the index ?
>
>
>
> 2 : create a separate document for the common data. In this case I
> will need to link these data to all underlying items storing some
> ids. The issue is that I would need to search the index twice if the
> search is done only per date, because I would need to retrieve the
> items contents.
>
>
>
> Thank in advance for your help.
>
>
>
> M=E9lanie
>
>
>=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 07:39:28 2007
Return-Path: <java-user-return-27057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45933 invoked from network); 22 Mar 2007 07:39:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 07:39:26 -0000
Received: (qmail 73227 invoked by uid 500); 22 Mar 2007 07:39:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73196 invoked by uid 500); 22 Mar 2007 07:39:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73183 invoked by uid 99); 22 Mar 2007 07:39:26 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 00:39:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 00:39:16 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032216363800038
 for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 16:36:38 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: indexing rss feeds in multiple languages
Date: Thu, 22 Mar 2007 16:36:38 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E5884197@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <OF75039CCD.7A93CD9C-ON882572A6.0023C4FF-882572A6.00261AB7@il.ibm.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing rss feeds in multiple languages
Thread-Index: AcdsT9wGbZfeyIdNQVqNOEbHWqmvoAAA8jZg
References: <847893AE8EE17A48A3725E82C10DE9E5884195@tkdwi001.dev.tradingscreen.com> <OF75039CCD.7A93CD9C-ON882572A6.0023C4FF-882572A6.00261AB7@il.ibm.com>
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Well, thanks, sounds like the best option to me. Does anybody use the =
PerFieldAnalyzerWrapper? I'm just curious to know if there is any impact =
on the performances when using different analyzers.=20

M=E9lanie=20

-----Original Message-----
From: Doron Cohen [mailto:DORONC@il.ibm.com]=20
Sent: Thursday, March 22, 2007 3:56 PM
To: java-user@lucene.apache.org
Subject: Re: indexing rss feeds in multiple languages

If language is known also at search time, PerFieldAnalyzerWrapper seems =
a
nice third option: single document per feed, with a separate field for =
each
language, additional field(s) for the common data;  using
PerFieldAnalyzerWrapper at both indexing and search;  using =
FieldSelector
at search to retrieve only the relevant field(s) for matched documents.
(never done this myself though.)
- Doron

"Melanie Langlois" <Melanie.Langlois@tradingscreen.com> wrote on =
21/03/2007
23:03:03:

> Hi,
>
>
>
> I saw that there are many post on the mailing list about indexing in
> multiple language, so I will try to not post duplicate question. In
> my case, I want to index rss feeds, so one feed contains several
> items in different languages, and some common data for all the items
> (date, source..).  After reading the different posts, I think I will
> create a document per item, index them in the same index using each
> time a language specific analyzer, and store lang field for specific
> search. But I'm wondering how I should handle the common fields, it
> seems I have two options:
>
> 1 : store the common data in each item. What happen if duplicate
> information are entered, are they duplicate in the index ?
>
>
>
> 2 : create a separate document for the common data. In this case I
> will need to link these data to all underlying items storing some
> ids. The issue is that I would need to search the index twice if the
> search is done only per date, because I would need to retrieve the
> items contents.
>
>
>
> Thank in advance for your help.
>
>
>
> M=E9lanie
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 08:30:29 2007
Return-Path: <java-user-return-27058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57909 invoked from network); 22 Mar 2007 08:30:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 08:30:28 -0000
Received: (qmail 45745 invoked by uid 500); 22 Mar 2007 08:30:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45709 invoked by uid 500); 22 Mar 2007 08:30:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45695 invoked by uid 99); 22 Mar 2007 08:30:27 -0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 01:30:26 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2M8Rqo8019421
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 10:27:53 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3marftc; 22 Mar 2007 10:27:00 +0200
Message-ID: <46023E06.8080507@teamware.com>
Date: Thu, 22 Mar 2007 19:27:50 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: indexing rss feeds in multiple languages
References: <847893AE8EE17A48A3725E82C10DE9E5884195@tkdwi001.dev.tradingscreen.com> <OF75039CCD.7A93CD9C-ON882572A6.0023C4FF-882572A6.00261AB7@il.ibm.com> <847893AE8EE17A48A3725E82C10DE9E5884197@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E5884197@tkdwi001.dev.tradingscreen.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Thu, 22 Mar 2007 10:27:53 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Melanie Langlois wrote:
> Well, thanks, sounds like the best option to me. Does anybody use the
> PerFieldAnalyzerWrapper? I'm just curious to know if there is any impact on
> the performances when using different analyzers.

I've not done any specifc comparisons between using a single Analyzer and 
multiple Analyzer with PFAW, but our indexes are typically 20-25 fields, each of 
which can have a different analyzer depending on language or field type, 
although in practice about 8-10 fields may use the non-default analyzer.

Performance is pretty good in any case and there's not been any noticeable 
degradtion when tweaking analyzers.
Antony





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 10:43:15 2007
Return-Path: <java-user-return-27059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96088 invoked from network); 22 Mar 2007 10:43:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 10:43:15 -0000
Received: (qmail 47881 invoked by uid 500); 22 Mar 2007 10:43:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47853 invoked by uid 500); 22 Mar 2007 10:43:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47840 invoked by uid 99); 22 Mar 2007 10:43:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 03:43:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.214.66.197] (HELO zimbra.ngine.de) (85.214.66.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 03:43:05 -0700
Received: from localhost (localhost [127.0.0.1])
	by zimbra.ngine.de (Postfix) with ESMTP id DB04D4500F4
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 11:42:49 +0100 (CET)
X-Virus-Scanned: amavisd-new at 
X-Spam-Score: -3.886
X-Spam-Level: 
Received: from zimbra.ngine.de ([127.0.0.1])
	by localhost (zimbra.ngine.de [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0RKMZ6lgg1Hq for <java-user@lucene.apache.org>;
	Thu, 22 Mar 2007 11:42:49 +0100 (CET)
Received: from zimbra.ngine.de (h1044539.serverkompetenz.net [85.214.66.197])
	by zimbra.ngine.de (Postfix) with ESMTP id 25E094500AE
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 11:42:49 +0100 (CET)
Message-ID: <22957502.171174560169044.JavaMail.root@h1044539>
Date: Thu, 22 Mar 2007 11:42:49 +0100 (CET)
From: Emanuel Schleussinger <emanuel@ngine.de>
To: java-user@lucene.apache.org
Subject: Re: Querying fragments of a tree structure
In-Reply-To: <359a92830703210612s6bc48d4ck6cd95a07dd2c81b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Originating-IP: [85.214.66.197]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.886 tagged_above=-10 required=6.6
	tests=[ALL_TRUSTED=-1.8, AWL=0.513, BAYES_00=-2.599]

Hi Erick,

excellent insight, thanks a lot. As you would expect, this method works a treat.

thanks a lot for your time!
Emanuel

----- Original Message -----
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Sent: Wednesday, March 21, 2007 2:12:49 PM (GMT+0100) Europe/Berlin
Subject: Re: Querying fragments of a tree structure

Is it a fair restatement of your problem that you want to generate
a list of all children of a node? That's what I'm reading.....

Would it work for you to store the complete ancestry in each node?
By that I mean (from your example),

NOTE: it's no problem in Lucene to store different values for the
same field in the same document. I.e
Document doc.
doc.add("field" "value1");
doc.add("field" "value2");
writer.add(doc);...

This is equivalent (if using WhitespaceAnalyzer in this example)  to:
Document doc;
doc.add("field", "value1 value2");
writer.add(doc);

(There is a subtle difference between the two having to do
with PositionIncrementGap, but that's probably irrelevant for you
in this problem).

So what about just doing that for each parent node in your tree? So
your "ancestry" field for documents D and E have stored "C" and "A".
This is TOKENIZED, but not necessarily STORED....

Document C has only "A".

Now, finding the children of "A" reduces to something like
+ancestry:A
which you can add to your BooleanClauses if you want to also specify
other search criteria or just use by itself if you don't.


What follows is my first idea, but I think the above is a better notion.

Node A stores nothing
Nodes  B and C  store "A"
Nodex D and E store "A$C"
etc.

Now, finding all the children of A reduces to doing a WildcardTermEnum
on "A*" and, for each resulting term using TermDocs.seek(term) to find
the corresponding document.

Note a couple of things:
1> index the ancestry field UN_TOKENIZED. You don't need to store it.
1a> You could use something like this to form a Lucene Filter if you needed
to, say, find all the nodes in the tree that were children of a specified
node
AND met certain search criteria.

2> You could also just search on A*, but be aware that you may have to
deal with TooManyClauses exceptions. The TermEnum/TermDocs method
avoids that problem, but may be overkill in your situation.
2a> Lucene 2.1 allows wildcards in the first position if you do a wlidcard
search, but you need to turn that on by a call which I can't bring up from
memory.


Hope this helps
Erick

On 3/21/07, Emanuel Schleussinger <emanuel@ngine.de> wrote:
>
> Hi,
>
> first, thanks for this great a resource, and sorry if i am oversimplfying
> a few things, i am still rather new to Lucene.
>
> I have been thinking how to integrate my app with Lucene - it is a CMS
> type system that has documents organized in a tree-style layout. A few facts
> about the system:
> - Every node in the system is represented by a unique numeric id in  a
> field called "id"
> - There is one deinfed root node, and an arbitrary amount of descendants.
> - Each of the nodes on any level knows his descendants in a field called
> "child"
> - Each node also knows his parent node in a field called "parent"
>
> I am indexing all the fields from all the nodes in Lucene already, and
> thus, i can use Lucene to e.g. get all the descendant node IDs of a node
> simply by issuing a query like "id:2" and then extracting the
> multivalue-field "child".
>
> Now, here is what i am trying to solve now -- i would like to be able to
> fetch all the nodes that match a certain criteria, if they are contained in
> some fragment of the tree. To visualize:
>
> Root
> +-> A
> |   +-> B
> |   +-> C
> |       +->D
> |       +->E
> +->F
>     +->G
>
> i would like to issue a query that gives me all the nodes within "A", a
> flat list of results that contain B,C,D and E
>
> Now, since per my definition D is not directly correlated with A (it knows
> his parent C, but not that its also part of A -- only C knows that) , i was
> thinking of introducing a new field for every node into my Lucene index that
> holds a list of IDs thats trace back to the root element (in this case, the
> D node would have C and A in that field, in that order) - but it strikes me
> this may not be the most elegant approach...
>
> The above is only a simplified example, in reality, i have a tree about 10
> levels deep, with thousands of nodes, and i frequently need to surface nodes
> within a certain fragment of that tree.
>
> Is there any best practice that you ran into on how to map this elegantly
> into Lucene?
>
> Thanks a ton for any pointers,
> Emanuel Schleussinger
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 11:07:33 2007
Return-Path: <java-user-return-27060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7988 invoked from network); 22 Mar 2007 11:07:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 11:07:32 -0000
Received: (qmail 99429 invoked by uid 500); 22 Mar 2007 11:07:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99393 invoked by uid 500); 22 Mar 2007 11:07:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99382 invoked by uid 99); 22 Mar 2007 11:07:32 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:07:32 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:07:24 -0700
Received: by ug-out-1314.google.com with SMTP id k40so709483ugc
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 04:06:58 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=VJ3jA9Fn0fDfltOHrViiVxE/5pvivIvN2vV0+FtPhWJFX0A45xuhzz5mQV6J01nw42+9ribmS32B/gzKhFMd+niki2NGYwmrgktYOdjDyaRhGnNepRxB+RlZFLnINR4YLFYc6zNopxZp9BFgPYAxW2svkbt5ETEN8mWzN2SG3IA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=KSGUHMUN9uqvahzFOOjRvWhYJtAwMSMyK5YMF4SQbsf/3gFBt0Bs5CNm7Z97SLDtTrapQObswOFnsNeHg/2rlnrg3n72MC4pCI5oUGZAtzTPaI1UoSIG4b50NO50EgDcns3la3tvJ6pf6UXXp5PP7Fa7rEDO/M7VyeSRDAw2OSs=
Received: by 10.67.97.7 with SMTP id z7mr4707637ugl.1174561618754;
        Thu, 22 Mar 2007 04:06:58 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Thu, 22 Mar 2007 04:06:58 -0700 (PDT)
Message-ID: <4628d2a90703220406n624bf5e9h329bd10c4bbb538c@mail.gmail.com>
Date: Thu, 22 Mar 2007 16:36:58 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: how ungrouped query handled?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4555_9242771.1174561618715"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_4555_9242771.1174561618715
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
     Can anyone explain how lucene handles the belowed query?
    My query is *field1:source AND (field2:name OR field3:dest)* . I've
given this string to queryparser and then searched by using searcher. It
returns correct results. It's query.toString() print is :: +field1:source
+(field2:name field3:dest)
    But if i don't group my terms (i.e) my query : *field1:source AND
field2:name OR field3:dest *,then it gives the result of  first two term's
search result. It doesn't search 3rd term. It's query.toString() print is ::
+field1:source +field2:name field3:dest.
If i use same boolean operator between all terms, then it returns correct
results.
Why it doesn't search the terms after 2nd term if grouping not used?

Thanks & Regards
RSK

------=_Part_4555_9242771.1174561618715--

From java-user-return-27061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 11:15:30 2007
Return-Path: <java-user-return-27061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10357 invoked from network); 22 Mar 2007 11:15:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 11:15:29 -0000
Received: (qmail 13723 invoked by uid 500); 22 Mar 2007 11:15:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13679 invoked by uid 500); 22 Mar 2007 11:15:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13635 invoked by uid 99); 22 Mar 2007 11:15:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:15:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rubdabadub@gmail.com designates 209.85.132.246 as permitted sender)
Received: from [209.85.132.246] (HELO an-out-0708.google.com) (209.85.132.246)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:15:17 -0700
Received: by an-out-0708.google.com with SMTP id c3so638420ana
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 04:14:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=a/9DX36xza4hkt0fM7OcVaWjKd8eA+ZqfL4oSE836ICWm9yftNOSU7q4LalEKNdJqzBQdadZa4mNkI6WNDOoYiglNujOcdnbnyH9LTM3u8vnSdNSkR/hEfrFtdh0EYgRF0fusmGrXov28HGeFKKBdy0MaRexcntbJRiD5mVv2PQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=rO0honxCNHlbPMQwbDIqzYm1t+yHPnqbphKyhWRW+hWdrVrrNbTxWUVhdmM4fxqLjMfQmz+59EVfJx0+jDS66AY2GkVQLa2fPJi9ntdCEA1Hl+4gsFAK0jLl9+khZVZmHmF2FVJ5gS7Tr36uf5vc4z11elzjBaHyjWKpqLpfp0U=
Received: by 10.115.60.1 with SMTP id n1mr224681wak.1174562096785;
        Thu, 22 Mar 2007 04:14:56 -0700 (PDT)
Received: by 10.115.90.2 with HTTP; Thu, 22 Mar 2007 04:14:56 -0700 (PDT)
Message-ID: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com>
Date: Thu, 22 Mar 2007 12:14:56 +0100
From: rubdabadub <rubdabadub@gmail.com>
To: java-user@lucene.apache.org, nutch-user@lucene.apache.org, 
	solr-user@lucene.apache.org, hadoop-user@lucene.apache.org
Subject: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi:

First of all apology to those friends who follow all the list.

Often times I work offline and I do not have any commit rights to any
of the projects. All the modifications I make for various clients and
trying to keep up to date with latest trunk somehow makes it difficult
for me to just stick with "subversion". I have heard many things about
distributed
revision control system and I am sure there are tricks/fixes for the
subversion problem i mentioned above, but I also wanted to learn
something new :-) So after some trial with many DRCS I have decided to
go for Bazaar! Its really cool DRCS.. you got try it.

http://bazaar-vcs.org/.

Now due to the fact that SVN is RCS and bzr is DRCS one need to
convert SVN repos to bzr repos. and cool enough.. there is a free vcs
mirroring service at Launchpad

https://launchpad.net/

So now the following projects are available via bzr branch. You can
access them here.

Nutch - https://launchpad.net/nutch
Solr - https://launchpad.net/solr
Lucene - https://launchpad.net/lucene
Hadoop - https://launchpad.net/hadoop

It only mirrors "trunk". Thats what I need to follow thats why and I
don't see any reason to mirror releases.

Regards

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 11:26:32 2007
Return-Path: <java-user-return-27062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13475 invoked from network); 22 Mar 2007 11:26:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 11:26:31 -0000
Received: (qmail 30326 invoked by uid 500); 22 Mar 2007 11:26:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30288 invoked by uid 500); 22 Mar 2007 11:26:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30115 invoked by uid 99); 22 Mar 2007 11:26:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:26:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.81] (HELO spunkymail-a18.g.dreamhost.com) (208.97.132.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:26:14 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a18.g.dreamhost.com (Postfix) with ESMTP id C7FDF5B52B
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 04:25:55 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com>
References: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
Date: Thu, 22 Mar 2007 07:25:52 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Is the point of this that you can make "commits" to Lucene so that  
you don't lose your changes on trunk?

On Mar 22, 2007, at 7:14 AM, rubdabadub wrote:

> Hi:
>
> First of all apology to those friends who follow all the list.
>
> Often times I work offline and I do not have any commit rights to any
> of the projects. All the modifications I make for various clients and
> trying to keep up to date with latest trunk somehow makes it difficult
> for me to just stick with "subversion". I have heard many things about
> distributed
> revision control system and I am sure there are tricks/fixes for the
> subversion problem i mentioned above, but I also wanted to learn
> something new :-) So after some trial with many DRCS I have decided to
> go for Bazaar! Its really cool DRCS.. you got try it.
>
> http://bazaar-vcs.org/.
>
> Now due to the fact that SVN is RCS and bzr is DRCS one need to
> convert SVN repos to bzr repos. and cool enough.. there is a free vcs
> mirroring service at Launchpad
>
> https://launchpad.net/
>
> So now the following projects are available via bzr branch. You can
> access them here.
>
> Nutch - https://launchpad.net/nutch
> Solr - https://launchpad.net/solr
> Lucene - https://launchpad.net/lucene
> Hadoop - https://launchpad.net/hadoop
>
> It only mirrors "trunk". Thats what I need to follow thats why and I
> don't see any reason to mirror releases.
>
> Regards

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 11:43:28 2007
Return-Path: <java-user-return-27063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18870 invoked from network); 22 Mar 2007 11:43:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 11:43:27 -0000
Received: (qmail 65183 invoked by uid 500); 22 Mar 2007 11:43:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65146 invoked by uid 500); 22 Mar 2007 11:43:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65135 invoked by uid 99); 22 Mar 2007 11:43:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:43:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rubdabadub@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:43:18 -0700
Received: by nf-out-0910.google.com with SMTP id g2so1351853nfe
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 04:42:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YO+NLGLZBFXLbHY/JRQ1ZxxxilMUUS/W3k1aRBxYXkHpnsJdOoWSAN70sarOxwZuTYe2tUeN+PHCqpAMPiaqgTWjnGBiKAMMpZRYhXZ5qa/Nq/jsTq5zMWGWwBQkUhTuWXOxN/W5Mkfb1aHdWIAjZk+rGLlwB1/4Us2A0NhxfzE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CEQhIF9fff6/9hL+zgvrJSrPUWUOY26zt8/27utxyhvGudGOZr1AqXvz5gUMxzWk1CDjetxPMjnL6Z83IEK03BFsnF3k+hO9UH0v86I3UEfWSwIT9wevYRIeYhbSelnW2Vd0QG3m/WM2xj+65MWiejOBi8xsA8jRTIrGEuZSjJY=
Received: by 10.114.195.19 with SMTP id s19mr565603waf.1174563776816;
        Thu, 22 Mar 2007 04:42:56 -0700 (PDT)
Received: by 10.115.90.2 with HTTP; Thu, 22 Mar 2007 04:42:56 -0700 (PDT)
Message-ID: <c292ca070703220442l5505e7c8p1598707a7f6f5e7f@mail.gmail.com>
Date: Thu, 22 Mar 2007 12:42:56 +0100
From: rubdabadub <rubdabadub@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
In-Reply-To: <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com>
	 <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/22/07, Grant Ingersoll <gsingers@apache.org> wrote:
> Is the point of this that you can make "commits" to Lucene so that
> you don't lose your changes on trunk?

Not only that. But I can make as many local branch as I like ..for example
customer X, customer Y. This way I can support X and Y as they have
separate features .. All of the above can be done with SVN but its a pain
at least for me.

And off course work off line .. during summer .. under trees :-) and then update
the whole branch with main repo without loosing any changes. It just seems easy,
I have also had a case where I need to bake some part of Nutch and some part
Solr under one tree i.e. new project and still maintain that tree with
the original
repo. and i could do that just fine. Bazaar commands are like SVN commands
so its not much to learn either :-)

Regards
> On Mar 22, 2007, at 7:14 AM, rubdabadub wrote:
>
> > Hi:
> >
> > First of all apology to those friends who follow all the list.
> >
> > Often times I work offline and I do not have any commit rights to any
> > of the projects. All the modifications I make for various clients and
> > trying to keep up to date with latest trunk somehow makes it difficult
> > for me to just stick with "subversion". I have heard many things about
> > distributed
> > revision control system and I am sure there are tricks/fixes for the
> > subversion problem i mentioned above, but I also wanted to learn
> > something new :-) So after some trial with many DRCS I have decided to
> > go for Bazaar! Its really cool DRCS.. you got try it.
> >
> > http://bazaar-vcs.org/.
> >
> > Now due to the fact that SVN is RCS and bzr is DRCS one need to
> > convert SVN repos to bzr repos. and cool enough.. there is a free vcs
> > mirroring service at Launchpad
> >
> > https://launchpad.net/
> >
> > So now the following projects are available via bzr branch. You can
> > access them here.
> >
> > Nutch - https://launchpad.net/nutch
> > Solr - https://launchpad.net/solr
> > Lucene - https://launchpad.net/lucene
> > Hadoop - https://launchpad.net/hadoop
> >
> > It only mirrors "trunk". Thats what I need to follow thats why and I
> > don't see any reason to mirror releases.
> >
> > Regards
>
> --------------------------
> Grant Ingersoll
> Center for Natural Language Processing
> http://www.cnlp.org
>
> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
> LuceneFAQ
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 12:00:06 2007
Return-Path: <java-user-return-27064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24362 invoked from network); 22 Mar 2007 12:00:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 12:00:05 -0000
Received: (qmail 5006 invoked by uid 500); 22 Mar 2007 12:00:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4976 invoked by uid 500); 22 Mar 2007 12:00:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4965 invoked by uid 99); 22 Mar 2007 12:00:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 05:00:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 209.85.132.246 as permitted sender)
Received: from [209.85.132.246] (HELO an-out-0708.google.com) (209.85.132.246)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 04:59:56 -0700
Received: by an-out-0708.google.com with SMTP id c3so651926ana
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 04:59:36 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=oie96IOA0dh23hdOxGcj/bkzRuRZ/WscOmMlLsuqbt2PbfSbbHhF2E+Wl5Lb+0ekyqyKCSwt4JOfLxKNrsMiNehdBa/MLK3aqvTbCL7yGFeETNLYXNwz3LOmDRxP/Q28vH/Cz4IFwLK9CyolmEE09g48fHf7ex9egtICcXHkCu0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=M6rNsDWmf5z7U50Glfe5MARco9Z7ewzAz6s6Sn5l6WwSYpPqtQzSp0/xzNk3bEBjUJ3QAgt6wzEyWvTO7Z/XEnSnoo3u0q5tVB2VgAI+S7eLqaPlIDdE/bxqX4jVnhPlXaLY7Nm0Gy2iQKlZCDBgeztFxZ/hsUYVKSeSawExh74=
Received: by 10.100.128.8 with SMTP id a8mr1405540and.1174564775024;
        Thu, 22 Mar 2007 04:59:35 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id 74sm4702619wra.2007.03.22.04.59.32;
        Thu, 22 Mar 2007 04:59:33 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <c292ca070703220442l5505e7c8p1598707a7f6f5e7f@mail.gmail.com>
References: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com> <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org> <c292ca070703220442l5505e7c8p1598707a7f6f5e7f@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8BBDD4A9-8103-4FD6-992E-FB2DEDE6769C@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
Date: Thu, 22 Mar 2007 07:59:29 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Nice idea and I can see the benefit of it to you and I don't mean to  
be a wet blanket on it, I just wonder about the legality of it.   
People may find it and think it is the official Apache Lucene, since  
it is branded that way.  I'm not a lawyer, so I don't know for sure.   
I think you have the right to store and use the code, even create a  
whole other search product based solely on Lucene (I think), I just  
don't know about this kind of thing.  In some sense it is like  
mirroring, but that fact that you can commit w/ out going through the  
Apache process makes me think that others coming upon the code will  
be mislead about what's in it.  The site _definitely_ makes it look  
like Launchpad is the home for Lucene with the intro and the bug  
tracking, etc, even though we all know this site will rank further  
down in the SERPs than the main site.

Perhaps I am misunderstanding?


On Mar 22, 2007, at 7:42 AM, rubdabadub wrote:

> On 3/22/07, Grant Ingersoll <gsingers@apache.org> wrote:
>> Is the point of this that you can make "commits" to Lucene so that
>> you don't lose your changes on trunk?
>
> Not only that. But I can make as many local branch as I like ..for  
> example
> customer X, customer Y. This way I can support X and Y as they have
> separate features .. All of the above can be done with SVN but its  
> a pain
> at least for me.
>
> And off course work off line .. during summer .. under trees :-)  
> and then update
> the whole branch with main repo without loosing any changes. It  
> just seems easy,
> I have also had a case where I need to bake some part of Nutch and  
> some part
> Solr under one tree i.e. new project and still maintain that tree with
> the original
> repo. and i could do that just fine. Bazaar commands are like SVN  
> commands
> so its not much to learn either :-)
>
> Regards
>> On Mar 22, 2007, at 7:14 AM, rubdabadub wrote:
>>
>> > Hi:
>> >
>> > First of all apology to those friends who follow all the list.
>> >
>> > Often times I work offline and I do not have any commit rights  
>> to any
>> > of the projects. All the modifications I make for various  
>> clients and
>> > trying to keep up to date with latest trunk somehow makes it  
>> difficult
>> > for me to just stick with "subversion". I have heard many things  
>> about
>> > distributed
>> > revision control system and I am sure there are tricks/fixes for  
>> the
>> > subversion problem i mentioned above, but I also wanted to learn
>> > something new :-) So after some trial with many DRCS I have  
>> decided to
>> > go for Bazaar! Its really cool DRCS.. you got try it.
>> >
>> > http://bazaar-vcs.org/.
>> >
>> > Now due to the fact that SVN is RCS and bzr is DRCS one need to
>> > convert SVN repos to bzr repos. and cool enough.. there is a  
>> free vcs
>> > mirroring service at Launchpad
>> >
>> > https://launchpad.net/
>> >
>> > So now the following projects are available via bzr branch. You can
>> > access them here.
>> >
>> > Nutch - https://launchpad.net/nutch
>> > Solr - https://launchpad.net/solr
>> > Lucene - https://launchpad.net/lucene
>> > Hadoop - https://launchpad.net/hadoop
>> >
>> > It only mirrors "trunk". Thats what I need to follow thats why  
>> and I
>> > don't see any reason to mirror releases.
>> >
>> > Regards
>>
>> --------------------------
>> Grant Ingersoll
>> Center for Natural Language Processing
>> http://www.cnlp.org
>>
>> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
>> LuceneFAQ
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 12:17:14 2007
Return-Path: <java-user-return-27065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30001 invoked from network); 22 Mar 2007 12:17:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 12:17:14 -0000
Received: (qmail 41480 invoked by uid 500); 22 Mar 2007 12:17:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41450 invoked by uid 500); 22 Mar 2007 12:17:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41438 invoked by uid 99); 22 Mar 2007 12:17:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 05:17:13 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rubdabadub@gmail.com designates 66.249.82.227 as permitted sender)
Received: from [66.249.82.227] (HELO wx-out-0506.google.com) (66.249.82.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 05:17:04 -0700
Received: by wx-out-0506.google.com with SMTP id i29so700404wxd
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 05:16:44 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ovVx7hYsJIpx1wWnQPI/mifCZHzkM4i7Dmr9N8t9DZ2EV/fdt0EHy42Mb5I0z+f3BRIkLvBvua8EUj0L1b/T3JVrQnfL586x0vKsXm0BEhM6fwcF5T2lH3/Aw/MiDuF7UTPoYKyxMd2DO07RXeJZXKP8h0ufNiEGDWY3jc/9vg4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=G8VBgln/wCajBW+Y3fyXtPzaphalWyq05pCzYejd7iQy5gKOOC24P/uxjzqW6x5zC5I4Ga0+3+gpgrcg3X9M/2O7OhDc3kRF3ES4jjKryXX1+iQGyr5x3eOVOyRjXXM2F+x8eVq4gfn41FiSNamn6zVPmeCXyQbMb6moBOdqVfs=
Received: by 10.114.193.1 with SMTP id q1mr576343waf.1174565803098;
        Thu, 22 Mar 2007 05:16:43 -0700 (PDT)
Received: by 10.115.90.2 with HTTP; Thu, 22 Mar 2007 05:16:43 -0700 (PDT)
Message-ID: <c292ca070703220516l2634f2fekc45dd8815f866b58@mail.gmail.com>
Date: Thu, 22 Mar 2007 13:16:43 +0100
From: rubdabadub <rubdabadub@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
In-Reply-To: <8BBDD4A9-8103-4FD6-992E-FB2DEDE6769C@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com>
	 <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org>
	 <c292ca070703220442l5505e7c8p1598707a7f6f5e7f@mail.gmail.com>
	 <8BBDD4A9-8103-4FD6-992E-FB2DEDE6769C@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/22/07, Grant Ingersoll <grant.ingersoll@gmail.com> wrote:
> Nice idea and I can see the benefit of it to you and I don't mean to
> be a wet blanket on it, I just wonder about the legality of it.
> People may find it and think it is the official Apache Lucene, since
> it is branded that way.  I'm not a lawyer, so I don't know for sure.
> I think you have the right to store and use the code, even create a
> whole other search product based solely on Lucene (I think), I just
> don't know about this kind of thing.  In some sense it is like
> mirroring, but that fact that you can commit w/ out going through the

NO NO!! I don't make any commits to apache trunk. Nor any one else
for that matter. The repo at launchpad is just a pure mirror and will
always be a mirror.

Just to clarify what I meant by commit. Basically you "pull" the Lucene
branch from launchpad to your local machine and that becomes a
complete copy of the trunk and you make another local branch from
that branch. Example

bzr branch http://bazaar.launchpad.net/~vcs-imports/lucene/trunk local.copy
bzr branch local.copy local.customerx

then you do all your work on local.customerx and make commits there. Cos you
want to keep the local.copy exactly identical to lanuchpad version
which in turns
a mirror like any other mirror that apache have thats all. If I were
to commit things
to the launchpad version I loose the whole point of mirroring and
getting changes
from trunk.

> Apache process makes me think that others coming upon the code will
> be mislead about what's in it.  The site _definitely_ makes it look
> like Launchpad is the home for Lucene with the intro and the bug
> tracking, etc, even though we all know this site will rank further
> down in the SERPs than the main site.

I am not a lawyer or branding expert. But if you want me to edit the description
text with something like "A mirrored copy of Apache Lucene.. original
site at..."
No problem Please provide me the exact text so I can edit it to avoid confusion
etc.. Last thing I want to do is create confusion.

Moreover if such need like mine exist maybe Apache Infrastructure
should consider
a DRCS system then a RCS system .. SVN doesn't provide the flexibility
that I need.
In apache there is CVS and SVN co-exist as well as there are mirrors
of such all
over the world so.. why not have a bzr branch? if Launchpad want to
host it great
if other mirror wants to host it great.

I hope it clarifies misunderstanding.. Please do provide an exact text
so we don't
get into some lawyer trouble :-) I don't want to take a stab on the
text its better you
provide me exact instructions.

Regards.
> On Mar 22, 2007, at 7:42 AM, rubdabadub wrote:
>
> > On 3/22/07, Grant Ingersoll <gsingers@apache.org> wrote:
> >> Is the point of this that you can make "commits" to Lucene so that
> >> you don't lose your changes on trunk?
> >
> > Not only that. But I can make as many local branch as I like ..for
> > example
> > customer X, customer Y. This way I can support X and Y as they have
> > separate features .. All of the above can be done with SVN but its
> > a pain
> > at least for me.
> >
> > And off course work off line .. during summer .. under trees :-)
> > and then update
> > the whole branch with main repo without loosing any changes. It
> > just seems easy,
> > I have also had a case where I need to bake some part of Nutch and
> > some part
> > Solr under one tree i.e. new project and still maintain that tree with
> > the original
> > repo. and i could do that just fine. Bazaar commands are like SVN
> > commands
> > so its not much to learn either :-)
> >
> > Regards
> >> On Mar 22, 2007, at 7:14 AM, rubdabadub wrote:
> >>
> >> > Hi:
> >> >
> >> > First of all apology to those friends who follow all the list.
> >> >
> >> > Often times I work offline and I do not have any commit rights
> >> to any
> >> > of the projects. All the modifications I make for various
> >> clients and
> >> > trying to keep up to date with latest trunk somehow makes it
> >> difficult
> >> > for me to just stick with "subversion". I have heard many things
> >> about
> >> > distributed
> >> > revision control system and I am sure there are tricks/fixes for
> >> the
> >> > subversion problem i mentioned above, but I also wanted to learn
> >> > something new :-) So after some trial with many DRCS I have
> >> decided to
> >> > go for Bazaar! Its really cool DRCS.. you got try it.
> >> >
> >> > http://bazaar-vcs.org/.
> >> >
> >> > Now due to the fact that SVN is RCS and bzr is DRCS one need to
> >> > convert SVN repos to bzr repos. and cool enough.. there is a
> >> free vcs
> >> > mirroring service at Launchpad
> >> >
> >> > https://launchpad.net/
> >> >
> >> > So now the following projects are available via bzr branch. You can
> >> > access them here.
> >> >
> >> > Nutch - https://launchpad.net/nutch
> >> > Solr - https://launchpad.net/solr
> >> > Lucene - https://launchpad.net/lucene
> >> > Hadoop - https://launchpad.net/hadoop
> >> >
> >> > It only mirrors "trunk". Thats what I need to follow thats why
> >> and I
> >> > don't see any reason to mirror releases.
> >> >
> >> > Regards
> >>
> >> --------------------------
> >> Grant Ingersoll
> >> Center for Natural Language Processing
> >> http://www.cnlp.org
> >>
> >> Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/
> >> LuceneFAQ
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
> ------------------------------------------------------
> Grant Ingersoll
> http://www.grantingersoll.com/
> http://lucene.grantingersoll.com
> http://www.paperoftheweek.com/
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 12:51:40 2007
Return-Path: <java-user-return-27066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39658 invoked from network); 22 Mar 2007 12:51:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 12:51:39 -0000
Received: (qmail 10554 invoked by uid 500); 22 Mar 2007 12:51:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10294 invoked by uid 500); 22 Mar 2007 12:51:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10283 invoked by uid 99); 22 Mar 2007 12:51:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 05:51:38 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of martin.haye@gmail.com designates 64.233.184.238 as permitted sender)
Received: from [64.233.184.238] (HELO wr-out-0506.google.com) (64.233.184.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 05:51:29 -0700
Received: by wr-out-0506.google.com with SMTP id i28so632039wra
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 05:51:09 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=p2aZ6TlT0oX2u/VzpYmlkPctXSoMEqJaGcukDoOeNcZ62G+ZZWBDYJFH9OyhP8oUyuwmWMOAk62E1yqZEcRvJJ180aVRn+ofklnocFgXIH5LXtwUFODXnxPtfgq1XJJrEY3gIgyrVWtVt55zsjAQncxv42p1lw6KxpopsOIiGsw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=klc9mrqV2JUUJNG168oCe5D8ykCkm12Wjlny+VeMfCy47oLTC2D32sJPhht4ljbzlvXjfjzMy+DcX2ZOe9You3DM3FeguRiZQMR/5fwTjiL7VOcsWu23Y0Dz9q0LUr+JozeZUUv/QwG5lJCdzA9UbbXEb/SKIpgCubdMJMBKztY=
Received: by 10.115.77.1 with SMTP id e1mr586810wal.1174567868478;
        Thu, 22 Mar 2007 05:51:08 -0700 (PDT)
Received: by 10.115.76.18 with HTTP; Thu, 22 Mar 2007 05:51:08 -0700 (PDT)
Message-ID: <2d5af9490703220551p3066de07sf9090a3fc76f3347@mail.gmail.com>
Date: Thu, 22 Mar 2007 05:51:08 -0700
From: "Martin Haye" <m1@snyder-haye.com>
Sender: martin.haye@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Spelt, for better spelling correction
In-Reply-To: <366256.27065.qm@web50305.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_222568_6127760.1174567868219"
References: <366256.27065.qm@web50305.mail.re2.yahoo.com>
X-Google-Sender-Auth: 6f538a2dc2f18f78
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_222568_6127760.1174567868219
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Otis,

I hadn't really thought about this, but it would be easy to build a
dictionary from an existing Lucene index. Tha main caveat is that it would
only work with "stored" fields. That's because this spellchecker boosts
accuracy using pair frequencies in addition to term frequencies, and Lucene
doesn't need or track pair frequencies to my knowledge. So any field which
you wanted to spellcheck would need to be indexed with Field.Store.YES.

Of course a side effect is that they'd have to be Analyzed again, with the
resulting time cost. Still, this could make sense for a lot of people.

I'll make sure the contribution includes an index-to-dictionary API, and
thank you very much for the input.

--Martin

On 3/21/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Martin,
> This sounds like the spellchecker dictionary needs to be built in parallel
> with the main Lucene index.  Is it possible to create a dictionary out of an
> existing (and no longer modified) Lucene index?
>
> Otis
> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>
> ----- Original Message ----
> From: Martin Haye <m1@snyder-haye.com>
> To: Yonik Seeley <yonik@apache.org>
> Cc: java-user@lucene.apache.org
> Sent: Wednesday, March 21, 2007 2:03:50 PM
> Subject: Re: Spelt, for better spelling correction
>
> The dictionary is generated from the corpus, with the result that a larger
> corpus gives better results.
>
> Words are queued up during an index run, and at the end are munged to
> create
> an optimized dictionary. It also supports incremental building, though the
> overhead would be too much for those applications that are continuously
> adding things to an index. Happily, it's not as important to keep the
> spelling dictionary absolutely up to date, so it would be fine to queue
> words over several index runs, and refresh the dictionary less often.
>
> --Martin
>
> On 3/20/07, Yonik Seeley <yonik@apache.org> wrote:
> >
> > Sounds interesting Martin!
> > Is the dictionary static, or is it generated from the corpus or from
> > user queries?
> >
> > -Yonik
> >
> > On 3/20/07, Martin Haye <martin.haye@gmail.com> wrote:
> > > As part of XTF, an open source publishing engine that uses Lucene, I
> > > developed a new spelling correction engine specifically to provide
> "Did
> > you
> > > mean..." links for misspelled queries. I and a small group are
> preparing
> > > this for submission as a contrib module to Lucene. And we're inviting
> > > interested people to join the discussion about it.
> > >
> > > The new engine is being called "Spelt" and differs from the one
> > currently in
> > > Lucene contrib in the following ways:
> > >
> > > - More accurate: Much better performance on single-word queries (90%
> > correct
> > > in #1 slot in my tests). On general list including multi-word queries,
> > gets
> > > 80%+ correct.
> > > - Multi-word: Handles and corrects multi-word queries such as
> > "harrypotter"
> > > -> "harry potter".
> > > - Fast: In my tests, builds the dictionary more than 30 times faster.
> > > - Small: Dictionary size is roughly a third of that built by the
> > existing
> > > engine.
> > > - Other bells and whistles...
> > >
> > > There is already a standalone test program that people can try out,
> and
> > > we're interested in feedback. If you're interested in discussing,
> > testing,
> > > or previewing, consider joining the Google group:
> > > http://groups.google.com/group/spelt/
> > >
> > > --Martin
> > >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_222568_6127760.1174567868219--

From java-user-return-27067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 13:03:30 2007
Return-Path: <java-user-return-27067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44664 invoked from network); 22 Mar 2007 13:03:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 13:03:30 -0000
Received: (qmail 36914 invoked by uid 500); 22 Mar 2007 13:03:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36881 invoked by uid 500); 22 Mar 2007 13:03:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36868 invoked by uid 99); 22 Mar 2007 13:03:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:03:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 66.249.82.229 as permitted sender)
Received: from [66.249.82.229] (HELO wx-out-0506.google.com) (66.249.82.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:03:20 -0700
Received: by wx-out-0506.google.com with SMTP id i29so717418wxd
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 06:02:59 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=sOV2biKXJwa6G2ISjQKVpENSxE7CIOhZvc3latAbRropgxSLaFlvCqNbuTdrkksbPMDD+SFCPPY8V9UB5AybOueK9V+/2/OmtHnq836kXFrTC8sUJZR9o0vHFZztUmdVP9jIIEHhDV3YNHWYnm8ZWeu7RAFJ6/vrcRyhIzXOEeY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=YuQDVXeMjiuB22xNjy+TcpYOEH++5T1K+QdDpj7+7+nXqfcrilKnP5NlaBzdvp52/9RYg962PhQZjJD93Tsem1CT2/zQw94ye/5aModBEqgv3CMx+dR69ZfCRaHsoxJYX6qrgfyjGb0UBsGFdr9wBZLqJYnkDUip8zioAtU5dcw=
Received: by 10.90.56.14 with SMTP id e14mr3355650aga.1174568579270;
        Thu, 22 Mar 2007 06:02:59 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id 7sm3379003wrh.2007.03.22.06.02.57;
        Thu, 22 Mar 2007 06:02:58 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <c292ca070703220516l2634f2fekc45dd8815f866b58@mail.gmail.com>
References: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com> <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org> <c292ca070703220442l5505e7c8p1598707a7f6f5e7f@mail.gmail.com> <8BBDD4A9-8103-4FD6-992E-FB2DEDE6769C@gmail.com> <c292ca070703220516l2634f2fekc45dd8815f866b58@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6E602DA8-CEFA-45F8-91C1-F2276525C94C@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
Date: Thu, 22 Mar 2007 09:02:55 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org


On Mar 22, 2007, at 8:16 AM, rubdabadub wrote:

> On 3/22/07, Grant Ingersoll <grant.ingersoll@gmail.com> wrote:
>> Nice idea and I can see the benefit of it to you and I don't mean to
>> be a wet blanket on it, I just wonder about the legality of it.
>> People may find it and think it is the official Apache Lucene, since
>> it is branded that way.  I'm not a lawyer, so I don't know for sure.
>> I think you have the right to store and use the code, even create a
>> whole other search product based solely on Lucene (I think), I just
>> don't know about this kind of thing.  In some sense it is like
>> mirroring, but that fact that you can commit w/ out going through the
>
> NO NO!! I don't make any commits to apache trunk. Nor any one else
> for that matter. The repo at launchpad is just a pure mirror and will
> always be a mirror.
>
> Just to clarify what I meant by commit. Basically you "pull" the  
> Lucene
> branch from launchpad to your local machine and that becomes a
> complete copy of the trunk and you make another local branch from
> that branch. Example
>
> bzr branch http://bazaar.launchpad.net/~vcs-imports/lucene/trunk  
> local.copy
> bzr branch local.copy local.customerx
>
> then you do all your work on local.customerx and make commits  
> there. Cos you
> want to keep the local.copy exactly identical to lanuchpad version
> which in turns
> a mirror like any other mirror that apache have thats all. If I were
> to commit things
> to the launchpad version I loose the whole point of mirroring and
> getting changes
> from trunk.
>

Gotcha.  I guess I just rely on IntelliJ built in versioning to  
provide similar capabilities, plus, maybe checking out multiple  
copies of the source.  Also, I try to avoid making changes in open  
source libraries unless absolutely necessary.

>> Apache process makes me think that others coming upon the code will
>> be mislead about what's in it.  The site _definitely_ makes it look
>> like Launchpad is the home for Lucene with the intro and the bug
>> tracking, etc, even though we all know this site will rank further
>> down in the SERPs than the main site.
>
> I am not a lawyer or branding expert. But if you want me to edit  
> the description
> text with something like "A mirrored copy of Apache Lucene.. original
> site at..."
> No problem Please provide me the exact text so I can edit it to  
> avoid confusion
> etc.. Last thing I want to do is create confusion.
>
> Moreover if such need like mine exist maybe Apache Infrastructure
> should consider
> a DRCS system then a RCS system .. SVN doesn't provide the flexibility
> that I need.
> In apache there is CVS and SVN co-exist as well as there are mirrors
> of such all
> over the world so.. why not have a bzr branch? if Launchpad want to
> host it great
> if other mirror wants to host it great.
>
> I hope it clarifies misunderstanding.. Please do provide an exact text
> so we don't
> get into some lawyer trouble :-) I don't want to take a stab on the
> text its better you
> provide me exact instructions.
>

I'll wait for some of the others that are closer to the Foundation to  
contribute (maybe one of the PMC members).  Like I said, I don't know  
if it is an issue at all.  I just don't want people to be confused  
about it.  I think you could propose a DRCS to infrastructure and  
make a case for it.  Personally, I'm fine with SVN, but then again I  
used to think I was fine with CVS and I don't think I would want to  
go back to that!

I am curious, how many custom changes are you making to the code that  
this is even an issue?  Perhaps submitting patches and working to get  
them committed would be a more efficient strategy.

-Grant





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 13:07:39 2007
Return-Path: <java-user-return-27068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46499 invoked from network); 22 Mar 2007 13:07:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 13:07:39 -0000
Received: (qmail 44301 invoked by uid 500); 22 Mar 2007 13:07:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43969 invoked by uid 500); 22 Mar 2007 13:07:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43958 invoked by uid 99); 22 Mar 2007 13:07:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:07:39 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.237 as permitted sender)
Received: from [64.233.184.237] (HELO wr-out-0506.google.com) (64.233.184.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:07:30 -0700
Received: by wr-out-0506.google.com with SMTP id i28so636651wra
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 06:07:09 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JSPCnWy47IVKYLBjZODxvyqjzD3rnx5jFCHAZyrKVALuBxXoXLbFNieabbl0nSrAIhxoCRKDcx6krqe2jmS7XCs3xzD4csY8JNVSeRLpXxncp4J18xT2YpHQ1JI+dapaTPnhaFrzqXH7L0izBALXOSqELMFD8TwJGuEne4jtjNI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=R1+0mhZxNSkkb44rsDQ9ZW5f3kMVxmOWEnpEAsMr3Lax5f6uRYOfTxQYMeWb9JoepHAiNAzzaWUk4cx2R5U2NBm+7I5J7woMyA1cqkgE95HLtuiAgiMoKQIhMfT+9pul+Ix90smMYElkjFsu+Lc0wHPZftT0FR595BBXN1E48Dc=
Received: by 10.114.148.1 with SMTP id v1mr590711wad.1174568828361;
        Thu, 22 Mar 2007 06:07:08 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Thu, 22 Mar 2007 06:07:03 -0700 (PDT)
Message-ID: <359a92830703220607u5cf8278cr857a050f27504414@mail.gmail.com>
Date: Thu, 22 Mar 2007 09:07:03 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Combining score from two or more hits
In-Reply-To: <460219CC.6020808@teamware.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_200286_31540631.1174568823305"
References: <460219CC.6020808@teamware.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_200286_31540631.1174568823305
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Don't know if it's useful or not, but if you used  TopDocs instead,
you have access to an array of ScoreDoc which you could modify
freely. In my app, I used a FieldSortedHitQueue to re-sort things
when I needed to.

ERick

On 3/22/07, Antony Bowesman <adb@teamware.com> wrote:
>
> I have indexed objects that contain one or more attachments.  Each
> attachment is
> indexed as a separate Document along with the object metadata.
>
> When I make a search, I may get hits in more than one Document that refer
> to the
> same object.  I have a HitCollector which knows if the object has already
> been
> found, so I want to be able to update the score of an existing hit in a
> way that
> makes sense.  e.g. If hit H1 has score 1.35 and hit H2 has score 2.9 is is
> possible to re-score it on the basis that the real hit result is (H1 AND
> H2).
>
> I can take the highest score of any Document, but just wondered if this is
> possible during the HitCollector.collect method?
>
> Antony
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_200286_31540631.1174568823305--

From java-user-return-27069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 13:25:29 2007
Return-Path: <java-user-return-27069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61974 invoked from network); 22 Mar 2007 13:25:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 13:25:29 -0000
Received: (qmail 93795 invoked by uid 500); 22 Mar 2007 13:25:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93767 invoked by uid 500); 22 Mar 2007 13:25:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93755 invoked by uid 99); 22 Mar 2007 13:25:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:25:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rubdabadub@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:25:18 -0700
Received: by an-out-0708.google.com with SMTP id c3so682552ana
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 06:24:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=a8MjgINyAr9NjStTc9dQDq2E33V89aHT/1KIjbhlrBxYmZGbVNjhyIwZHLF9xWsZHQYBy6XKhQgMj5OxvTKOY2nWi3h79NYmhboL/lwnVQx/4UH6X2hyy0NqeJ7iLPnCl6VCqk1mZVw4/fKSXrHAGYsUdrOnUXin1A/i5E0UfTE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ZmCy2jxPxJ/QVg/7sR31SWiYSylDwY+c2WwASjHcl0FGvA1ZnW54pXE1HtfBWH6YygH/1jfcK9/m6RJXMvZPPzXsgV06PLRBu+bKZt3rq0HQTBw1fF1n50Zwietbmfc9viZxo8oJhFapHmhj+++VHf1p1B+MN+tkACOh5wgzwN8=
Received: by 10.115.61.1 with SMTP id o1mr598134wak.1174569897384;
        Thu, 22 Mar 2007 06:24:57 -0700 (PDT)
Received: by 10.115.90.2 with HTTP; Thu, 22 Mar 2007 06:24:57 -0700 (PDT)
Message-ID: <c292ca070703220624l45f83037u5b3ff494fffc78c5@mail.gmail.com>
Date: Thu, 22 Mar 2007 14:24:57 +0100
From: rubdabadub <rubdabadub@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
In-Reply-To: <6E602DA8-CEFA-45F8-91C1-F2276525C94C@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com>
	 <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org>
	 <c292ca070703220442l5505e7c8p1598707a7f6f5e7f@mail.gmail.com>
	 <8BBDD4A9-8103-4FD6-992E-FB2DEDE6769C@gmail.com>
	 <c292ca070703220516l2634f2fekc45dd8815f866b58@mail.gmail.com>
	 <6E602DA8-CEFA-45F8-91C1-F2276525C94C@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Good to hear :-)

> I am curious, how many custom changes are you making to the code that
> this is even an issue?  Perhaps submitting patches and working to get
> them committed would be a more efficient strategy.

Well there are 3 problems I see.

1. There are very good patches on all of the lucene Jiira but for one way
or another these issues never get applied to trunk. For me its not a question
of why its more of a question how can i use it and learn from it. So having
my own local branch to do "whatever" is really great. I build I apply patch
play around .. tear it down without thinking about anything else. Yes you
could do this with various copies of the source but often times these patches
works with rev. XXXX etc.. Its much easier to play when you are in control
of the local.trunk.

2. I also have to customer modifications and maintain i.e support and some
of the fixes only works with a certain rev of trunk and often times i
make mistake
and do svn up .. it happens and that does create some extra key strokes :-)

3. You are correct about the committing strategy but most of my changes are
customer specifics and customer have specific rules so it never gets back to
you guys. Well customer rules I can't decide on the modifications I make.

Regards

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 13:52:09 2007
Return-Path: <java-user-return-27070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81017 invoked from network); 22 Mar 2007 13:52:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 13:52:07 -0000
Received: (qmail 74949 invoked by uid 500); 22 Mar 2007 13:51:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74884 invoked by uid 500); 22 Mar 2007 13:51:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74847 invoked by uid 99); 22 Mar 2007 13:51:47 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:51:47 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:51:37 -0700
Received: by ug-out-1314.google.com with SMTP id k40so755881ugc
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 06:51:16 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gRPElmWYa1kRY5yKqr5Sg3tHpMWi0OJeQObgw8QyHB4TluhlS2pextRvqw0bFraURWiCCqF8eO2Qidd+srktdSVnvLb6wHPVnLKd5JXggKtKFY47RVmfgiyr0Wvge3DG6gPUg15tG9wBvvz5STjaD0cQ1E3ginQEwniFmQgyHtI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=g4FGCqXVNdjBM8F4axAs16N0iAa1go8vnVDmMnF6s4dlC7cuCz02jCnZ+090ZMeyloxmyHKbrb2ZNhqj3jNHQwxiVtBwFqRjFAKrhoKuBeWo7CWMsAJaGoLGEHe4F5sZ5PTY1iGWMblfbtm1/ht1/SpMFA6LqTsWuvLdzV2VAmQ=
Received: by 10.114.52.1 with SMTP id z1mr607183waz.1174571475701;
        Thu, 22 Mar 2007 06:51:15 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Thu, 22 Mar 2007 06:51:15 -0700 (PDT)
Message-ID: <359a92830703220651x682e7f5bvc768dd7287380e6e@mail.gmail.com>
Date: Thu, 22 Mar 2007 09:51:15 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how ungrouped query handled?
In-Reply-To: <4628d2a90703220406n624bf5e9h329bd10c4bbb538c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_200990_17245562.1174571475643"
References: <4628d2a90703220406n624bf5e9h329bd10c4bbb538c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_200990_17245562.1174571475643
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

This is a pretty common issue that I've been grappling with by chance
recently. The main point is that the parser is NOT a boolean logic
parser.....

Search the mail archive for the thread "bad query parser bug" and
you'll find a good discussion.

I tried using PrecedenceQueryParser, but that didn't work for
me very well, search the mail archive on that and you'll see some
examples of why.

I solved this problem for my immediate issues by writing a very
quick-and-dirty parenthesizer for my raw query. If it wasn't going
on summer, I might see if I can contribute something by
seeing if there's a way I can see to fix PrecedenceQueryParser.

Best
Erick

On 3/22/07, SK R <rsk.sen@gmail.com> wrote:
>
> Hi,
>      Can anyone explain how lucene handles the belowed query?
>     My query is *field1:source AND (field2:name OR field3:dest)* . I've
> given this string to queryparser and then searched by using searcher. It
> returns correct results. It's query.toString() print is :: +field1:source
> +(field2:name field3:dest)
>     But if i don't group my terms (i.e) my query : *field1:source AND
> field2:name OR field3:dest *,then it gives the result of  first two term's
> search result. It doesn't search 3rd term. It's query.toString() print is
> ::
> +field1:source +field2:name field3:dest.
> If i use same boolean operator between all terms, then it returns correct
> results.
> Why it doesn't search the terms after 2nd term if grouping not used?
>
> Thanks & Regards
> RSK
>

------=_Part_200990_17245562.1174571475643--

From java-user-return-27071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 13:59:28 2007
Return-Path: <java-user-return-27071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84350 invoked from network); 22 Mar 2007 13:59:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 13:59:27 -0000
Received: (qmail 631 invoked by uid 500); 22 Mar 2007 13:59:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 591 invoked by uid 500); 22 Mar 2007 13:59:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 580 invoked by uid 99); 22 Mar 2007 13:59:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:59:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of Andreas.Guther@markettools.com designates 72.5.112.150 as permitted sender)
Received: from [72.5.112.150] (HELO mvmail04.markettools.com) (72.5.112.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 06:59:17 -0700
Received: from WDCCPMAIL01.markettools.com ([10.64.64.33]) by mvmail04.markettools.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 22 Mar 2007 06:58:55 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Speeding up looping over Hits
Date: Thu, 22 Mar 2007 06:58:54 -0700
Message-ID: <3FB08D6A21B3EC4D8749EF6D9E626278010466E3@WDCCPMAIL01.markettools.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Speeding up looping over Hits
Thread-Index: Acdsijptxu1YDdM7SNW3qbcGwRElaA==
From: "Andreas Guther" <Andreas.Guther@markettools.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 22 Mar 2007 13:58:55.0296 (UTC) FILETIME=[3AE8A400:01C76C8A]
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

While looking into performance enhancement for our search feature I
noticed a significant difference in Documents access time while looping
over Hits.

I wrote a test application search for a list of search terms and then
for each returned Hits object loops twice over every single hits.doc(i).

for (int i =3D 0; i < numberOfDocs; i++) {doc =3D hits.doc(i);}

I am seeing differences like the following

Found 16,215 hits for 'Water or Wine' in 219 ms
Processed 16,215 docs in 53,141 ms; per single doc 3.2773 ms
Processed 16,215 docs in 2,032 ms; per single doc 0.1253 ms

Interestingly if I run the same test application a second time in my IDE
the difference between the first and the second loop is very low.

I have no explanation why I see this difference but it becomes a huge
problem for us due to the fact that I need to extract from each document
a small set of information pieces and the first time looping just takes
too much time.

I could not find any indication for an external caching of Hits.  I am
running my tests within Eclipse with a memory setting of -Xms766M
-Xmx1024M.

What is the explanation in the different access speed for the same
search results?

Is there a way to speed up looping over the Hits data structure?

Andreas



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 14:04:37 2007
Return-Path: <java-user-return-27072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86524 invoked from network); 22 Mar 2007 14:04:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 14:04:36 -0000
Received: (qmail 22481 invoked by uid 500); 22 Mar 2007 14:04:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22452 invoked by uid 500); 22 Mar 2007 14:04:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22441 invoked by uid 99); 22 Mar 2007 14:04:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 07:04:35 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 209.85.132.251 as permitted sender)
Received: from [209.85.132.251] (HELO an-out-0708.google.com) (209.85.132.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 07:04:26 -0700
Received: by an-out-0708.google.com with SMTP id c3so698252ana
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 07:04:06 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DChuufH8MTdBqSVurGV+gHQyO1A4r+qb1ZB4uT5hCFvNOPjobgA6pjKlGGhZYIQkh2PHX7yOAvBX+BxnmneMFpEmHZf184pHtb/Ng8/zEkxAFEEiLnGj3a9EDVDHhvabR2WWn3+0zb4ioq9kPHdL0asR/mgFQ3upoUTVzfYRiT8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lt5V1xp0sefu5IwaPS0ZH/ElMAifrKZUZzlBSi6/J16WU7wnzWJDEoAVhKSZIJYFZWqYcUH/Skoe0ptGWsJLMRCx1eULg3+L0yllQcwxEnG11iJwpJ4polqL6jtnyXWoPOFPOWR8EKvcpMo5cJn1EnO+gdisb/iCVSjbT0TDjhI=
Received: by 10.115.47.1 with SMTP id z1mr612221waj.1174572245174;
        Thu, 22 Mar 2007 07:04:05 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Thu, 22 Mar 2007 07:04:05 -0700 (PDT)
Message-ID: <359a92830703220704x36ed8709oc44f1061093011df@mail.gmail.com>
Date: Thu, 22 Mar 2007 10:04:05 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Speeding up looping over Hits
In-Reply-To: <3FB08D6A21B3EC4D8749EF6D9E626278010466E3@WDCCPMAIL01.markettools.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_201310_7966126.1174572245125"
References: <3FB08D6A21B3EC4D8749EF6D9E626278010466E3@WDCCPMAIL01.markettools.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_201310_7966126.1174572245125
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Your timing differences are probably because of caching. But this
has been mentioned many times in the archive, that a Hits object
is intended to allow fast, simple retrieval of the first few documents
in a result set (100 if memory serves). Each 100 or so calls to
next() causes the search to be re-issued.

See HitCollector, TopDocs, etc...

Erick

On 3/22/07, Andreas Guther <Andreas.Guther@markettools.com> wrote:
>
> Hi,
>
> While looking into performance enhancement for our search feature I
> noticed a significant difference in Documents access time while looping
> over Hits.
>
> I wrote a test application search for a list of search terms and then
> for each returned Hits object loops twice over every single hits.doc(i).
>
> for (int i = 0; i < numberOfDocs; i++) {doc = hits.doc(i);}
>
> I am seeing differences like the following
>
> Found 16,215 hits for 'Water or Wine' in 219 ms
> Processed 16,215 docs in 53,141 ms; per single doc 3.2773 ms
> Processed 16,215 docs in 2,032 ms; per single doc 0.1253 ms
>
> Interestingly if I run the same test application a second time in my IDE
> the difference between the first and the second loop is very low.
>
> I have no explanation why I see this difference but it becomes a huge
> problem for us due to the fact that I need to extract from each document
> a small set of information pieces and the first time looping just takes
> too much time.
>
> I could not find any indication for an external caching of Hits.  I am
> running my tests within Eclipse with a memory setting of -Xms766M
> -Xmx1024M.
>
> What is the explanation in the different access speed for the same
> search results?
>
> Is there a way to speed up looping over the Hits data structure?
>
> Andreas
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_201310_7966126.1174572245125--

From java-user-return-27073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 14:08:06 2007
Return-Path: <java-user-return-27073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88164 invoked from network); 22 Mar 2007 14:08:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 14:08:04 -0000
Received: (qmail 32321 invoked by uid 500); 22 Mar 2007 14:08:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32192 invoked by uid 500); 22 Mar 2007 14:08:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32181 invoked by uid 99); 22 Mar 2007 14:08:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 07:08:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 07:07:54 -0700
Received: from [192.168.0.253] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id l2ME7fd21561
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 09:07:41 -0500
Message-ID: <46028DA2.9020401@getopt.org>
Date: Thu, 22 Mar 2007 15:07:30 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: bzr branches for Apache Lucene/Nutch/Solr/Hadoop at Launchpad
References: <c292ca070703220414m5897d15o79fa970f8eb322e2@mail.gmail.com>	 <CFBD17F7-899B-4EA1-B3D8-3CE3CA919691@apache.org>	 <c292ca070703220442l5505e7c8p1598707a7f6f5e7f@mail.gmail.com>	 <8BBDD4A9-8103-4FD6-992E-FB2DEDE6769C@gmail.com> <c292ca070703220516l2634f2fekc45dd8815f866b58@mail.gmail.com>
In-Reply-To: <c292ca070703220516l2634f2fekc45dd8815f866b58@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

rubdabadub wrote:
> On 3/22/07, Grant Ingersoll <grant.ingersoll@gmail.com> wrote:
>> Nice idea and I can see the benefit of it to you and I don't mean to
>> be a wet blanket on it, I just wonder about the legality of it.

So long as it meets the Apache license conditions regarding the 
distribution it's not forbidden. It could be confusing or superfluous, 
but it couldn't be illegal.


>> People may find it and think it is the official Apache Lucene, since
>> it is branded that way.  I'm not a lawyer, so I don't know for sure.
>> I think you have the right to store and use the code, even create a
>> whole other search product based solely on Lucene (I think), I just
>> don't know about this kind of thing.  In some sense it is like
>> mirroring, but that fact that you can commit w/ out going through the
> 
> NO NO!! I don't make any commits to apache trunk. Nor any one else
> for that matter. The repo at launchpad is just a pure mirror and will
> always be a mirror.


Actually, I often find myself in a similar situation to "rubdabadub". 
I'm working on several commercial projects that use and modify 
Lucene/Nutch, and often such modifications are proprietary (about 
equally often they are not, and are submitted as patches).

Over time, the issue of tracking the vendor source tree and merging from 
that tree (per svnbook) to several different private svn repos becomes a 
tricky and time-consuming business ... I'd welcome any improvements here.

It seems I need to find some time to get more familiar with bzr ...

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 18:08:56 2007
Return-Path: <java-user-return-27074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92506 invoked from network); 22 Mar 2007 18:08:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 18:08:55 -0000
Received: (qmail 16236 invoked by uid 500); 22 Mar 2007 18:08:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16196 invoked by uid 500); 22 Mar 2007 18:08:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16185 invoked by uid 99); 22 Mar 2007 18:08:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 11:08:53 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.18.177.52] (HELO alnrmhc12.comcast.net) (206.18.177.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 11:08:44 -0700
Received: from xpsoleary (c-24-19-171-50.hsd1.mn.comcast.net[24.19.171.50])
          by comcast.net (alnrmhc12) with SMTP
          id <20070322180823b1200e3nlse>; Thu, 22 Mar 2007 18:08:23 +0000
Reply-To: <tm-oleary@comcast.net>
From: "Mike O'Leary" <tm-oleary@comcast.net>
To: "Lucene Java User List" <java-user@lucene.apache.org>
Subject: Extracting formatted text from PDF files
Date: Thu, 22 Mar 2007 11:08:01 -0700
Message-ID: <000601c76cad$0e7f3c30$0302a8c0@xpsoleary>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0007_01C76C72.6222D530"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: AcdsrQc0wwr76iXoQzu2Ov3DTG94Ag==
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0007_01C76C72.6222D530
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Please forgive the laziness inherent in this question, as I haven't looked
through the PDFBox code yet. I am wondering if that code supports extracting
text from PDF files while preserving such things as sequences of whitespace
between characters and other layout and formatting information. I am working
with a project that extracts and operates on certain table-like blocks of
text from PDF files, and a lot of freeware and shareware PDF to text
converters seem to either ignore formatting or try to preserve formatting
and not get it quite right. I am wondering if PDFBox provides better support
for this kind of thing. Thanks.

Mike O'Leary


------=_NextPart_000_0007_01C76C72.6222D530--


From java-user-return-27075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 18:25:21 2007
Return-Path: <java-user-return-27075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99189 invoked from network); 22 Mar 2007 18:25:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 18:25:20 -0000
Received: (qmail 58771 invoked by uid 500); 22 Mar 2007 18:25:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58737 invoked by uid 500); 22 Mar 2007 18:25:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58726 invoked by uid 99); 22 Mar 2007 18:25:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 11:25:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.49.119] (HELO web54309.mail.yahoo.com) (206.190.49.119)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 11:25:10 -0700
Received: (qmail 10422 invoked by uid 60001); 22 Mar 2007 18:24:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=i+wTOX4kgDY5j9OgAI2+GQge/HvoQM9o449O3q20YGYIfV7dhrIFtW8iczpgapz/3n8buGBa8Yuy2GZHh/5sFW/16gIbT7ULIbc1Np13HFtE4aVmkubYNWYOTMEEX0y3iLCLphdQzUj7jY6Db840XF3kNJare/jRByYlslz8ass=;
X-YMail-OSG: w5sVsqYVM1kforIs7RDZVSo1ZjLw9lKVtfGRQGcV
Received: from [74.139.212.16] by web54309.mail.yahoo.com via HTTP; Thu, 22 Mar 2007 11:24:48 PDT
Date: Thu, 22 Mar 2007 11:24:48 -0700 (PDT)
From: Maryam <mkar160@yahoo.com>
Subject: How can I index Phrases in Lucene?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <462183.10111.qm@web54309.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, 

I know how to index terms in lucene, now I wanna see
how can I index phrases like "information retreival"
in lucene and calculate the number of times that
phrase has appeared in the document. Is there any way
to do it in Lucene?

Thanks


 
____________________________________________________________________________________
It's here! Your new message!  
Get new email alerts with the free Yahoo! Toolbar.
http://tools.search.yahoo.com/toolbar/features/mail/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 18:55:42 2007
Return-Path: <java-user-return-27076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12414 invoked from network); 22 Mar 2007 18:55:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 18:55:40 -0000
Received: (qmail 30487 invoked by uid 500); 22 Mar 2007 18:55:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30453 invoked by uid 500); 22 Mar 2007 18:55:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30442 invoked by uid 99); 22 Mar 2007 18:55:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 11:55:39 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.227 as permitted sender)
Received: from [64.233.184.227] (HELO wr-out-0506.google.com) (64.233.184.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 11:55:31 -0700
Received: by wr-out-0506.google.com with SMTP id i28so752503wra
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 11:55:10 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=KmKboxteHXFnVX8hiiGqJbGso4sWJ3l8cx+CmkLEcLEVb06SvgZXYMG5GBIVY3+PerKVbIgJYJ42ibcIDchMQymQRv9vhpWZI8GuVEKHXseqLl2cvFxcP8kr9ZM2mAafKGupdB8Hu0Pd3iH1oVrfmMqyxjtynK8gyLe0OjKqJG8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=N4jzHUJ9k7+TzNzPrRi6SFmahHkJlTd4tLIooCohiDG5BlBJKyHkUOzkYkZcMJFJtF5q+qHwTkeHvvX8TlxuGFmh+CbDCwEBEAqKz/szARMRZETG9C0viI1zdpXzxEndSQx8x9DZN4JbiAEdDfatPDwiIyPx4kLeQhXNBaLFRJI=
Received: by 10.115.54.1 with SMTP id g1mr718206wak.1174589709779;
        Thu, 22 Mar 2007 11:55:09 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Thu, 22 Mar 2007 11:55:09 -0700 (PDT)
Message-ID: <359a92830703221155y2a55adabj8bead73e7897ba5a@mail.gmail.com>
Date: Thu, 22 Mar 2007 14:55:09 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How can I index Phrases in Lucene?
In-Reply-To: <462183.10111.qm@web54309.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_207499_7117780.1174589709735"
References: <462183.10111.qm@web54309.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_207499_7117780.1174589709735
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, you don't index phrases, it's done for you. You should try
something like the following....

Create a SpanNearQuery with your terms. Specify an appropriate
slop (probably 0 assuming you want them all next to each other).

Now use call getSpans and count <G>... You may have to do
something with overlapping spans, but you'll need to experiment
a bit to understand it.

Erick

On 3/22/07, Maryam <mkar160@yahoo.com> wrote:
>
> Hi,
>
> I know how to index terms in lucene, now I wanna see
> how can I index phrases like "information retreival"
> in lucene and calculate the number of times that
> phrase has appeared in the document. Is there any way
> to do it in Lucene?
>
> Thanks
>
>
>
>
> ____________________________________________________________________________________
> It's here! Your new message!
> Get new email alerts with the free Yahoo! Toolbar.
> http://tools.search.yahoo.com/toolbar/features/mail/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_207499_7117780.1174589709735--

From java-user-return-27077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 19:01:19 2007
Return-Path: <java-user-return-27077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14396 invoked from network); 22 Mar 2007 19:01:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 19:01:16 -0000
Received: (qmail 40420 invoked by uid 500); 22 Mar 2007 19:01:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40371 invoked by uid 500); 22 Mar 2007 19:01:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40322 invoked by uid 99); 22 Mar 2007 19:01:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 12:01:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 12:01:02 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 07A6C5B76E; Thu, 22 Mar 2007 12:00:41 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 01F917F403
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 12:00:41 -0700 (PDT)
Date: Thu, 22 Mar 2007 12:00:40 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: how ungrouped query handled?
In-Reply-To: <359a92830703220651x682e7f5bvc768dd7287380e6e@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703221151590.28914@hal.rescomp.berkeley.edu>
References: <4628d2a90703220406n624bf5e9h329bd10c4bbb538c@mail.gmail.com>
 <359a92830703220651x682e7f5bvc768dd7287380e6e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


see also the FAQ "Why am I getting no hits / incorrect hits?" which points
to...

http://wiki.apache.org/lucene-java/BooleanQuerySyntax

...I've just added some more words of wisdom there from past emails.


: Date: Thu, 22 Mar 2007 09:51:15 -0400
: From: Erick Erickson <erickerickson@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: how ungrouped query handled?
:
: This is a pretty common issue that I've been grappling with by chance
: recently. The main point is that the parser is NOT a boolean logic
: parser.....
:
: Search the mail archive for the thread "bad query parser bug" and
: you'll find a good discussion.
:
: I tried using PrecedenceQueryParser, but that didn't work for
: me very well, search the mail archive on that and you'll see some
: examples of why.
:
: I solved this problem for my immediate issues by writing a very
: quick-and-dirty parenthesizer for my raw query. If it wasn't going
: on summer, I might see if I can contribute something by
: seeing if there's a way I can see to fix PrecedenceQueryParser.
:
: Best
: Erick
:
: On 3/22/07, SK R <rsk.sen@gmail.com> wrote:
: >
: > Hi,
: >      Can anyone explain how lucene handles the belowed query?
: >     My query is *field1:source AND (field2:name OR field3:dest)* . I've
: > given this string to queryparser and then searched by using searcher. It
: > returns correct results. It's query.toString() print is :: +field1:source
: > +(field2:name field3:dest)
: >     But if i don't group my terms (i.e) my query : *field1:source AND
: > field2:name OR field3:dest *,then it gives the result of  first two term's
: > search result. It doesn't search 3rd term. It's query.toString() print is
: > ::
: > +field1:source +field2:name field3:dest.
: > If i use same boolean operator between all terms, then it returns correct
: > results.
: > Why it doesn't search the terms after 2nd term if grouping not used?
: >
: > Thanks & Regards
: > RSK
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 19:34:36 2007
Return-Path: <java-user-return-27078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34595 invoked from network); 22 Mar 2007 19:34:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 19:34:35 -0000
Received: (qmail 29964 invoked by uid 500); 22 Mar 2007 19:34:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29934 invoked by uid 500); 22 Mar 2007 19:34:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29919 invoked by uid 99); 22 Mar 2007 19:34:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 12:34:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of soeren.pekrul@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 12:34:26 -0700
Received: (qmail invoked by alias); 22 Mar 2007 19:34:05 -0000
Received: from p548C794F.dip.t-dialin.net (EHLO [10.0.1.102]) [84.140.121.79]
  by mail.gmx.net (mp032) with SMTP; 22 Mar 2007 20:34:05 +0100
X-Authenticated: #3493418
X-Provags-ID: V01U2FsdGVkX186A+MXsHU6R3zPuCLVHelEHkV0LAvIfoxOTM5MZk
	MBL3TBMQjCzYz9
Message-ID: <4602DA43.1070609@gmx.de>
Date: Thu, 22 Mar 2007 20:34:27 +0100
From: Soeren Pekrul <soeren.pekrul@gmx.de>
User-Agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Extracting formatted text from PDF files
References: <000601c76cad$0e7f3c30$0302a8c0@xpsoleary>
In-Reply-To: <000601c76cad$0e7f3c30$0302a8c0@xpsoleary>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org

Mike O'Leary wrote:
> Please forgive the laziness inherent in this question, as I haven't looked
> through the PDFBox code yet. I am wondering if that code supports extracting
> text from PDF files while preserving such things as sequences of whitespace
> between characters and other layout and formatting information. I am working
> with a project that extracts and operates on certain table-like blocks of
> text from PDF files, and a lot of freeware and shareware PDF to text
> converters seem to either ignore formatting or try to preserve formatting
> and not get it quite right. I am wondering if PDFBox provides better support
> for this kind of thing. Thanks.

That is not so simple. Usually there is not this information inside a 
PDF file. PDF is an output file format. It contains just the information 
print a character "a" at the position x and y. In many cases a PDF file 
doesnt know even words or white spaces. We read words due to the 
position of characters, we see paragraphs due to the position of 
characters, and we see tables due to the position of characters. The 
file doesnt contain this information.
I found this code in a PDF file for the German word "Wuchsform" (form of 
growing) and the colon ":":

/F1 1 Tf
-3.8801 -1.274 TD
[ (W) 29.60001 (uchsform:) ] TJ

First line: Select a font
Second line: Move the cursor to position -3.8801, -1.274
Third line: Print the character "W", move the cursor 29.60001 units to 
right and print the characters "uchsform:".

Extracting the words from a PDF file for indexing means you have first 
to build words from the characters positions. Recognizing paragraphs, 
column text, tables, captions, lists, footnotes etc. is much more difficult.

Sren

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 19:51:50 2007
Return-Path: <java-user-return-27079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41144 invoked from network); 22 Mar 2007 19:51:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 19:51:49 -0000
Received: (qmail 76502 invoked by uid 500); 22 Mar 2007 19:51:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76475 invoked by uid 500); 22 Mar 2007 19:51:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76464 invoked by uid 99); 22 Mar 2007 19:51:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 12:51:48 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 12:51:39 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2MJpBTF022162
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 21:51:11 +0200
Received: from [10.142.3.12] ([10.142.3.12]) by nimitz with ESMTP
	 id m3mlfamh; 22 Mar 2007 21:51:00 +0200
Message-ID: <4602DE2E.2020306@teamware.com>
Date: Fri, 23 Mar 2007 06:51:10 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5 (Windows/20051201)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Combining score from two or more hits
References: <460219CC.6020808@teamware.com> <359a92830703220607u5cf8278cr857a050f27504414@mail.gmail.com>
In-Reply-To: <359a92830703220607u5cf8278cr857a050f27504414@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Thu, 22 Mar 2007 21:51:11 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Erick Erickson wrote:
> Don't know if it's useful or not, but if you used  TopDocs instead,
> you have access to an array of ScoreDoc which you could modify
> freely. In my app, I used a FieldSortedHitQueue to re-sort things
> when I needed to.

Thanks Erick, I've been using TopDocs, but am playing with my own HitCollector 
variant of TopDocHitCollector.  The problem is not adjusting the score, it's 
what to adjust it by, i.e. is it possible to re-evaluate the scores of H1 and H2 
knowing that the original query resulted in hits on H1 AND H2.

Antony

> 
> ERick
> 
> On 3/22/07, Antony Bowesman <adb@teamware.com> wrote:
>>
>> I have indexed objects that contain one or more attachments.  Each
>> attachment is
>> indexed as a separate Document along with the object metadata.
>>
>> When I make a search, I may get hits in more than one Document that refer
>> to the
>> same object.  I have a HitCollector which knows if the object has already
>> been
>> found, so I want to be able to update the score of an existing hit in a
>> way that
>> makes sense.  e.g. If hit H1 has score 1.35 and hit H2 has score 2.9 
>> is is
>> possible to re-score it on the basis that the real hit result is (H1 AND
>> H2).
>>
>> I can take the highest score of any Document, but just wondered if 
>> this is
>> possible during the HitCollector.collect method?
>>
>> Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 20:23:42 2007
Return-Path: <java-user-return-27080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51260 invoked from network); 22 Mar 2007 20:23:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 20:23:40 -0000
Received: (qmail 42113 invoked by uid 500); 22 Mar 2007 20:23:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42076 invoked by uid 500); 22 Mar 2007 20:23:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42065 invoked by uid 99); 22 Mar 2007 20:23:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 13:23:41 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.147.74.241] (HELO web62103.mail.re1.yahoo.com) (69.147.74.241)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 13:23:31 -0700
Received: (qmail 60193 invoked by uid 60001); 22 Mar 2007 20:23:09 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=38NBIi8neijHB79qvQOsNBNcSfeYn0JgD+F2jprr4X31n2qvOFRS+TqgYIJCHvdVRdIFu0XSP5T9V+nit07c29/rjvtbM6p3CCKwLymwccz3uQGJrxdLeCwok0I0gulsnG/vMcBdK1Zlp5qcPSu5OA6TwZFeuFCcmhaE8EMbEc0=;
X-YMail-OSG: 1PO7ajQVM1mV5BbIedTNf03VgW3NffxgcWo_o8o9E3LuDKkjHzxDZH2l9kGOIhRRiuS5hGP5DvLZDbM8w1dEz877OzKrIeRxlguVqQASTdgjusVGS6W.MQ--
Received: from [71.33.164.178] by web62103.mail.re1.yahoo.com via HTTP; Thu, 22 Mar 2007 13:23:09 PDT
Date: Thu, 22 Mar 2007 13:23:09 -0700 (PDT)
From: Santa Clause <noclueu2@yahoo.com>
Subject: Re: Speeding up looping over Hits
To: java-user@lucene.apache.org
In-Reply-To: <3FB08D6A21B3EC4D8749EF6D9E626278010466E3@WDCCPMAIL01.markettools.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2036999543-1174594989=:56947"
Content-Transfer-Encoding: 8bit
Message-ID: <60178.56947.qm@web62103.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-2036999543-1174594989=:56947
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Another thing you may want to look at is the newer version 2.1.0 and  getFieldable. I think that will lazy load the data, that way you are  only reading the parts of the document that you need at that moment  rather than the whole thing. Someone please correct me if I am wrong or  point to what I really mean :) 
  
  I had a similar situation a long while back and I was able to find a  patch for the version of Lucene I was using that allowed the above. It  made a huge difference. I think something similar is now built in 2.1.0.
  

Andreas Guther <Andreas.Guther@markettools.com> wrote:  Hi,

While looking into performance enhancement for our search feature I
noticed a significant difference in Documents access time while looping
over Hits.

I wrote a test application search for a list of search terms and then
for each returned Hits object loops twice over every single hits.doc(i).

for (int i = 0; i < numberOfDocs; i++) {doc = hits.doc(i);}

I am seeing differences like the following

Found 16,215 hits for 'Water or Wine' in 219 ms
Processed 16,215 docs in 53,141 ms; per single doc 3.2773 ms
Processed 16,215 docs in 2,032 ms; per single doc 0.1253 ms

Interestingly if I run the same test application a second time in my IDE
the difference between the first and the second loop is very low.

I have no explanation why I see this difference but it becomes a huge
problem for us due to the fact that I need to extract from each document
a small set of information pieces and the first time looping just takes
too much time.

I could not find any indication for an external caching of Hits.  I am
running my tests within Eclipse with a memory setting of -Xms766M
-Xmx1024M.

What is the explanation in the different access speed for the same
search results?

Is there a way to speed up looping over the Hits data structure?

Andreas



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Now that's room service! Choose from over 150,000 hotels 
in 45,000 destinations on Yahoo! Travel to find your fit.
--0-2036999543-1174594989=:56947--

From java-user-return-27081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 20:34:30 2007
Return-Path: <java-user-return-27081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54938 invoked from network); 22 Mar 2007 20:34:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 20:34:29 -0000
Received: (qmail 73716 invoked by uid 500); 22 Mar 2007 20:34:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73687 invoked by uid 500); 22 Mar 2007 20:34:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73675 invoked by uid 99); 22 Mar 2007 20:34:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 13:34:29 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mlesko@systemsalliance.com designates 12.183.27.52 as permitted sender)
Received: from [12.183.27.52] (HELO mail.SYSALLI.COM) (12.183.27.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 13:34:19 -0700
Received: from exchsrv1.SYSALLI.COM ([172.16.1.4]) by mail.SYSALLI.COM with Microsoft SMTPSVC(6.0.3790.1830); Thu, 22 Mar 2007 16:31:50 -0400
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2826
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76CC1.1EC22757"
Subject: Software Product Development Job Opportunity (Baltimore, MD)
Date: Thu, 22 Mar 2007 16:31:50 -0400
Message-ID: <1473C00BBFE9A640AB4C5B9A730176210289D5EE@exchsrv1.SYSALLI.COM>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Software Product Development Job Opportunity (Baltimore, MD)
thread-index: AcdsiR/JCypic04FTAWEjvntbeLCsAAN+pDw
From: "Lesko, Matt" <mlesko@systemsalliance.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 22 Mar 2007 20:31:50.0325 (UTC) FILETIME=[1EB89650:01C76CC1]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76CC1.1EC22757
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Official job description & info to submit a resume:
http://www.systemsalliance.com/careers/internal-jobs/baltimore/Software_
Engineer_MD.html 

 

Located 15 minutes North of Baltimore in Sparks, MD

 

Position is on a team, working with myself and others, maintaining and
developing an existing content management system.

 

Quiet working environment in shared office with a nice view. 

 

Management that chooses to do the right thing more often than the
expedient. 

 

Full stack on your own machine (IIS/Apache, Coldfusion [JRun], SQL
Server/Oracle) for local development.

 

Trac for defect tracking & source control. 

 

Java work includes Lucene, XOM and JavaCC. 

 

Feel free to contact me with questions email: mlesko at systemsalliance
dot com. 

 


************************************************************************
This email communication is confidential, is intended only for 
the use of the named recipient(s), and may be legally privileged.
If the reader of this message is not the intended recipient, 
you are hereby notified that any distribution or copying of this 
email or any of its contents is strictly prohibited.  If you have 
received this communication in error, please re-send it to the 
sender and delete the original message and any copy of it 
from your computer system.  To contact intended sender
please call 410-584-0595.  Thank you.
************************************************************************


------_=_NextPart_001_01C76CC1.1EC22757--

From java-user-return-27082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 20:34:31 2007
Return-Path: <java-user-return-27082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54961 invoked from network); 22 Mar 2007 20:34:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 20:34:30 -0000
Received: (qmail 74652 invoked by uid 500); 22 Mar 2007 20:34:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74622 invoked by uid 500); 22 Mar 2007 20:34:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74605 invoked by uid 99); 22 Mar 2007 20:34:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 13:34:34 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.232 as permitted sender)
Received: from [64.233.184.232] (HELO wr-out-0506.google.com) (64.233.184.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 13:34:24 -0700
Received: by wr-out-0506.google.com with SMTP id i28so777424wra
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 13:34:03 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=eWUbkxyeCf7QU+3Op1TarnP92uFocGNj6Sl8k89l5FQjE0Tbq5wK0We2w6H4+mK98XBJ0by0Oino+4BNoU3x0qWJswrOr3+C0RJTpG/+XAZCi/hnubldXRG2dyZx+m74oonO0aRUlyfTopIQIB5K7UISmGaDDJL0wJS/ne0Abvk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=i7lj2F97N+bXT2Rh9R+BpXJp3I0plsJLcWe4jR2RnkJydAkrsY9h7N0QJLA/uPoxmoUNLsRGJtsOQSPcMLXv6q8STKniexG1xPBeOcTZuHDzmcYw7dp9uMpM9pgd2NZfKvKOsguVaJLfb2SpdNkGPwp9MEPdlSUOG8COjphmcEA=
Received: by 10.114.80.4 with SMTP id d4mr763630wab.1174595642868;
        Thu, 22 Mar 2007 13:34:02 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Thu, 22 Mar 2007 13:34:02 -0700 (PDT)
Message-ID: <359a92830703221334md01a638l5501e031b21d22c9@mail.gmail.com>
Date: Thu, 22 Mar 2007 16:34:02 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Speeding up looping over Hits
In-Reply-To: <60178.56947.qm@web62103.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_209957_4687709.1174595642765"
References: <3FB08D6A21B3EC4D8749EF6D9E626278010466E3@WDCCPMAIL01.markettools.com>
	 <60178.56947.qm@web62103.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_209957_4687709.1174595642765
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Oh yeah.. By only loading the relevant fields, my query times
reduced by over 90%. I actually wrote that up on the mailing list if
you wanted to try to find it, but it took Andreas' message to
remind me...

Erick

On 3/22/07, Santa Clause <noclueu2@yahoo.com> wrote:
>
> Another thing you may want to look at is the newer version 2.1.0and  getFieldable. I think that will lazy load the data, that way you
> are  only reading the parts of the document that you need at that
> moment  rather than the whole thing. Someone please correct me if I am wrong
> or  point to what I really mean :)
>
>   I had a similar situation a long while back and I was able to find
> a  patch for the version of Lucene I was using that allowed the above.
> It  made a huge difference. I think something similar is now built in
> 2.1.0.
>
>
> Andreas Guther <Andreas.Guther@markettools.com> wrote:  Hi,
>
> While looking into performance enhancement for our search feature I
> noticed a significant difference in Documents access time while looping
> over Hits.
>
> I wrote a test application search for a list of search terms and then
> for each returned Hits object loops twice over every single hits.doc(i).
>
> for (int i = 0; i < numberOfDocs; i++) {doc = hits.doc(i);}
>
> I am seeing differences like the following
>
> Found 16,215 hits for 'Water or Wine' in 219 ms
> Processed 16,215 docs in 53,141 ms; per single doc 3.2773 ms
> Processed 16,215 docs in 2,032 ms; per single doc 0.1253 ms
>
> Interestingly if I run the same test application a second time in my IDE
> the difference between the first and the second loop is very low.
>
> I have no explanation why I see this difference but it becomes a huge
> problem for us due to the fact that I need to extract from each document
> a small set of information pieces and the first time looping just takes
> too much time.
>
> I could not find any indication for an external caching of Hits.  I am
> running my tests within Eclipse with a memory setting of -Xms766M
> -Xmx1024M.
>
> What is the explanation in the different access speed for the same
> search results?
>
> Is there a way to speed up looping over the Hits data structure?
>
> Andreas
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------
> Now that's room service! Choose from over 150,000 hotels
> in 45,000 destinations on Yahoo! Travel to find your fit.

------=_Part_209957_4687709.1174595642765--

From java-user-return-27083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 22 22:16:42 2007
Return-Path: <java-user-return-27083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87036 invoked from network); 22 Mar 2007 22:16:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 22 Mar 2007 22:16:41 -0000
Received: (qmail 80881 invoked by uid 500); 22 Mar 2007 22:16:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80577 invoked by uid 500); 22 Mar 2007 22:16:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80565 invoked by uid 99); 22 Mar 2007 22:16:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 15:16:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 15:16:30 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 404C34A816F
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 09:18:16 +1100 (EST)
Message-ID: <4603000C.3090708@nuix.com>
Date: Fri, 23 Mar 2007 09:15:40 +1100
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070321)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Extracting formatted text from PDF files
References: <000601c76cad$0e7f3c30$0302a8c0@xpsoleary>
In-Reply-To: <000601c76cad$0e7f3c30$0302a8c0@xpsoleary>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mike O'Leary wrote:
> Please forgive the laziness inherent in this question, as I haven't looked
> through the PDFBox code yet. I am wondering if that code supports extracting
> text from PDF files while preserving such things as sequences of whitespace
> between characters and other layout and formatting information. I am working
> with a project that extracts and operates on certain table-like blocks of
> text from PDF files, and a lot of freeware and shareware PDF to text
> converters seem to either ignore formatting or try to preserve formatting
> and not get it quite right.

Even pdftohtml?  The sample outputs I've seen from that application 
don't look too bad to me.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 00:35:28 2007
Return-Path: <java-user-return-27084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28983 invoked from network); 23 Mar 2007 00:35:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 00:35:27 -0000
Received: (qmail 66314 invoked by uid 500); 23 Mar 2007 00:35:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66283 invoked by uid 500); 23 Mar 2007 00:35:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66266 invoked by uid 99); 23 Mar 2007 00:35:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 17:35:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.49.119] (HELO web54309.mail.yahoo.com) (206.190.49.119)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 17:35:18 -0700
Received: (qmail 53030 invoked by uid 60001); 23 Mar 2007 00:34:57 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=HwLNDGVSIbDDZYmUvuO2/cVqDSKxivpAgJgab/861/k0zMq7xnO90Chfhb0wolAKxb7Xbo+0tTaE0/wQ/G6chTzdM2PjI16ig7s8sbcnkZYXybGSBjvOM860alo9EzwEOq1B056NxH+oUPNUmivezLJ584Lkb88TgwuJckR8c9M=;
X-YMail-OSG: QHecCN0VM1kHk.jaz9PHkYmdxJvmXGC4BC9mREH3zHKSrCVfRR5MOe6a2FE5.U9aYw--
Received: from [74.139.212.16] by web54309.mail.yahoo.com via HTTP; Thu, 22 Mar 2007 17:34:56 PDT
Date: Thu, 22 Mar 2007 17:34:56 -0700 (PDT)
From: Maryam <mkar160@yahoo.com>
Subject: problem in reading an index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <180697.52169.qm@web54309.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, 

I have written this piece of code to read the index,
mainly to see what terms are in each document and what
the frequency of each term in the document is. This
piece of code correctly calculates the number of docs
in the index, but I dont know why variable
myTermFreq[] is null. Would you please let me know
your idea bout it?

IndexReader reader = IndexReader.open(myInd);
for (int docNo = 0; docNo < reader.numDocs(); docNo++)
{
TermFreqVector myTermFreq[] =
reader.getTermFreqVectors(docNo);
	if (myTermFreq != null) {
		for (int i = 0; i < myTermFreq.length; i++) {
			int freq[] = myTermFreq[i].getTermFrequencies();
			//String terms[]= myTermFreq[i].getTerms();
		for (int j=0;j<terms.length;j++)
			System.out.println("term"+terms[j]);
		for (int j=0;j<freq.length;j++)
			System.out.println("freq:"+ freq[j]);
	}
}

}
Thanks



 
____________________________________________________________________________________
8:00? 8:25? 8:40? Find a flick in no time 
with the Yahoo! Search movie showtime shortcut.
http://tools.search.yahoo.com/shortcuts/#news

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 01:10:33 2007
Return-Path: <java-user-return-27085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36021 invoked from network); 23 Mar 2007 01:10:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 01:10:32 -0000
Received: (qmail 1313 invoked by uid 500); 23 Mar 2007 01:10:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1278 invoked by uid 500); 23 Mar 2007 01:10:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1267 invoked by uid 99); 23 Mar 2007 01:10:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 18:10:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 18:10:22 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 54BDD4A8170
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 12:12:07 +1100 (EST)
Message-ID: <460328CB.2030704@nuix.com>
Date: Fri, 23 Mar 2007 12:09:31 +1100
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070322)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: problem in reading an index
References: <180697.52169.qm@web54309.mail.yahoo.com>
In-Reply-To: <180697.52169.qm@web54309.mail.yahoo.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Maryam wrote:
> Hi, 
> 
> I have written this piece of code to read the index,
> mainly to see what terms are in each document and what
> the frequency of each term in the document is. This
> piece of code correctly calculates the number of docs
> in the index, but I dont know why variable
> myTermFreq[] is null. Would you please let me know
> your idea bout it?

 From TFJD:
    Return an array of term frequency vectors for the specified document.
    The array contains a vector for each vectorized field in the
    document.  Each vector contains terms and frequencies for all terms
    in a given vectorized field.  If no such fields existed, the method
    returns null.

i.e. you may not have stored the term vectors when indexing the data.

Daniel



-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 01:12:31 2007
Return-Path: <java-user-return-27086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37440 invoked from network); 23 Mar 2007 01:12:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 01:12:31 -0000
Received: (qmail 3969 invoked by uid 500); 23 Mar 2007 01:12:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3944 invoked by uid 500); 23 Mar 2007 01:12:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3933 invoked by uid 99); 23 Mar 2007 01:12:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 18:12:31 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 18:12:22 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032310120000016
 for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 10:12:00 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76CE8.4269C450"
Subject:  Reverse search
Date: Fri, 23 Mar 2007 10:12:00 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E5884199@tkdwi001.dev.tradingscreen.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Reverse search
Thread-Index: Acds6EHoQZQXaGxyTW2isxCyVD/2hQ==
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76CE8.4269C450
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,

=20

I want to manage user subscriptions to specific documents. So I would =
like to store the subscription (query) into the lucene directory, and =
whenever I receive a new document, I will search all the matching =
subscriptions to send the documents to all subcribers. For instance if a =
user subscribes to all documents with text containing (WORD1 and WORD2) =
or WORD3, how can I match the incoming document based on stored =
subscriptions? I was thinking to have two subfields for each field of =
the subscription: the AND conditions and the OR conditions.=20

-OR. I will tokenized the document field content and insert OR between =
each of them, and run the query against OR condition of subscription

-It's for the AND that I will have an issue, because if the incoming =
text may contains more words than the sequence I want to search.=20

For instance, if I subscribe for documents contents lucene and java for =
instance , if the incoming document contents is lucene is a great API =
which has been developed in java, once I removed stopwords my query =
would look like lucene and great and API and developed and java.=20

As query is composed of more words than the stored subscription I will =
fail to retrieve the subscription. But if I put only or words, the =
results will not be accurate, as I can obtain subscription only for java =
for instance.

=20

Do you know how I can handle this situation? I'm not sure I can actually =
do this using Lucene...

=20

Thank you,

=20

M=E9lanie=20
=20

=20


------_=_NextPart_001_01C76CE8.4269C450--

From java-user-return-27087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 01:35:50 2007
Return-Path: <java-user-return-27087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50347 invoked from network); 23 Mar 2007 01:35:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 01:35:50 -0000
Received: (qmail 24448 invoked by uid 500); 23 Mar 2007 01:35:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24407 invoked by uid 500); 23 Mar 2007 01:35:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24391 invoked by uid 99); 23 Mar 2007 01:35:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 18:35:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 18:35:41 -0700
Received: by nf-out-0910.google.com with SMTP id g2so1661137nfe
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 18:35:20 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=UFvUVN4jeBRfUhluQ89EsWrBj2y/LZxS4Y2JkiZhXKIwE3pfvFDvdM7A7gx5KaApEZ5TCHJWBy9pGTna8alnEZU0wine1eHj0ycLBZ+cLR8QHuHqUetbbpoRfsQ0a6ONn3pQqf31m34RW1lRJxUeaBRpuHm5wKZKlCbj3ht4lUo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=GE/PtxT+80kNVTNdj/47JVVkOYTErW3wRCFlyq6KLdCTHQcXG8kgnf50PAAH9XlEGpm1kj5aPTPn8Q86CSH5HWwNvN0J+mwprg5EIWGjQJWsQux7ihYw/Yr0NBoRm+oNLVCiHGzF7xeMpOHBCjZgbwx2NFbWH4J1bZPd2cOWqXA=
Received: by 10.82.107.15 with SMTP id f15mr5399933buc.1174613719679;
        Thu, 22 Mar 2007 18:35:19 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id i5sm13000455mue.2007.03.22.18.35.16;
        Thu, 22 Mar 2007 18:35:17 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E5884199@tkdwi001.dev.tradingscreen.com>
References: <847893AE8EE17A48A3725E82C10DE9E5884199@tkdwi001.dev.tradingscreen.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B9C62D3A-8DE3-460A-ABF9-8DAF251FF7C5@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Reverse search
Date: Fri, 23 Mar 2007 02:35:13 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


23 mar 2007 kl. 02.12 skrev Melanie Langlois:

> I want to manage user subscriptions to specific documents. So I  
> would like to store the subscription (query) into the lucene  
> directory, and whenever I receive a new document, I will search all  
> the matching subscriptions to send the documents to all subcribers.  
> For instance if a user subscribes to all documents with text  
> containing (WORD1 and WORD2) or WORD3, how can I match the incoming  
> document based on stored subscriptions? I was thinking to have two  
> subfields for each field of the subscription: the AND conditions  
> and the OR conditions.
>
> -OR. I will tokenized the document field content and insert OR  
> between each of them, and run the query against OR condition of  
> subscription
>
> -It's for the AND that I will have an issue, because if the  
> incoming text may contains more words than the sequence I want to  
> search.
>
> For instance, if I subscribe for documents contents lucene and java  
> for instance , if the incoming document contents is lucene is a  
> great API which has been developed in java, once I removed  
> stopwords my query would look like lucene and great and API and  
> developed and java.
>
> As query is composed of more words than the stored subscription I  
> will fail to retrieve the subscription. But if I put only or words,  
> the results will not be accurate, as I can obtain subscription only  
> for java for instance.
>

I wrote such a thing way back, where I used the new document as the  
query and the user subscriptions as the index. Similar to what you  
describe, I had an AND, OR and NOT field. This really limited the  
type of queries users could store. It does however work, particullary  
well on systems with /huge/ amounts of subscriptions (many millions).

Today I would have used something else. If you insert one document at  
the time to your index, take a look at MemoryIndex in contrib. If you  
insert documents in batches larger than one document at the time,  
take a look at LUCENE-550 in the Jira. Add new documents to such an  
index and place the subscribed queries on it. Depening on the  
queries, the speed should be some 20-100 times faster than using a  
RAMDirectory. One million queries should take some 20 seconds to  
assemble and place on a 25 document index on my laptop. See <https:// 
issues.apache.org/jira/secure/attachment/ 
12353601/12353601_HitCollectionBench.jpg> for performace of LUCENE-550.

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 01:47:33 2007
Return-Path: <java-user-return-27088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52992 invoked from network); 23 Mar 2007 01:47:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 01:47:32 -0000
Received: (qmail 37490 invoked by uid 500); 23 Mar 2007 01:47:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37278 invoked by uid 500); 23 Mar 2007 01:47:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37266 invoked by uid 99); 23 Mar 2007 01:47:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 18:47:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 18:47:20 -0700
Received: by ug-out-1314.google.com with SMTP id k40so954197ugc
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 18:46:59 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=PkP1xzThTN2nyb2JuAdJTgWHeVlf226VuePKYAABmHuxcfWM4GqpuipGW46tN0nqtuojuUQjUcmG8uD+hm2pp4dvwxJ3noVkpE2b3kFld/aD8KiKDb4wNXP8HesDzDnjIevYH5gHqvhexhXNP2Xjze+1m4bzMklkAG54hfq2lJQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=QOj+RXoKkOVemMfItnW9vYCVkNWHIzrWGJy9xrMqhZPsR+sLZ+dIqWeuIy7RkGMhBasbx32/+mDRDMRVjLiq/i/I9dve4DNXKwdSZ6ROYPrCYjT2LLiHdTzLn4OTWQRibldvjEVNKc4EV+PCK5zuv7eGQp1BWGTMahXTJ7BIAXY=
Received: by 10.66.244.10 with SMTP id r10mr5832713ugh.1174614419661;
        Thu, 22 Mar 2007 18:46:59 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id j2sm13028191mue.2007.03.22.18.46.58;
        Thu, 22 Mar 2007 18:46:58 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <460328CB.2030704@nuix.com>
References: <180697.52169.qm@web54309.mail.yahoo.com> <460328CB.2030704@nuix.com>
Content-Type: text/plain; charset=WINDOWS-1252; delsp=yes; format=flowed
Message-Id: <2BE42CEB-FE97-42FA-BDEE-6B3288CB87C2@gmail.com>
Content-Transfer-Encoding: quoted-printable
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: problem in reading an index
Date: Fri, 23 Mar 2007 02:46:54 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


23 mar 2007 kl. 02.09 skrev Daniel Noll:

> Maryam wrote:
>> Hi, I have written this piece of code to read the index,
>> mainly to see what terms are in each document and what
>> the frequency of each term in the document is. This
>> piece of code correctly calculates the number of docs
>> in the index, but I don=92t know why variable
>> myTermFreq[] is null. Would you please let me know
>> your idea bout it?
>
> =46rom TFJD:
>    Return an array of term frequency vectors for the specified =20
> document.
>    The array contains a vector for each vectorized field in the
>    document.  Each vector contains terms and frequencies for all terms
>    in a given vectorized field.  If no such fields existed, the method
>    returns null.
>
> i.e. you may not have stored the term vectors when indexing the data.

This thread might be of interest:

http://www.nabble.com/Resolving-term-vector-even-when-not-stored--=20
tf3412160.html#a9507268

--=20
karl=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 02:08:16 2007
Return-Path: <java-user-return-27089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57771 invoked from network); 23 Mar 2007 02:08:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 02:08:15 -0000
Received: (qmail 61967 invoked by uid 500); 23 Mar 2007 02:08:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61924 invoked by uid 500); 23 Mar 2007 02:08:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61896 invoked by uid 99); 23 Mar 2007 02:08:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 19:08:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 19:08:05 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032311074400005
 for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 11:07:44 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Reverse search
Date: Fri, 23 Mar 2007 11:07:44 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E588419A@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <B9C62D3A-8DE3-460A-ABF9-8DAF251FF7C5@gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reverse search
Thread-Index: Acds65gVildQBCv3ReifR3UEMIfhRgAAxvaw
References: <847893AE8EE17A48A3725E82C10DE9E5884199@tkdwi001.dev.tradingscreen.com> <B9C62D3A-8DE3-460A-ABF9-8DAF251FF7C5@gmail.com>
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Karl, the performances graph is really amazing!
I have to say that it would not have think this way around would be =
faster, but sounds nice if I can use this, make everything easier to =
manage. I'm just wondering what did you consider when you build your =
graph, only the time to run the queries? Because, I should add the time =
for creating the index anytime a new document comes in (or a subset of =
documents if several comes in same time), and the indexing of these =
documents. The documents should not be big, around 2KB. Did you measure =
this part ?

M=E9lanie=20
 =20
-----Original Message-----
From: karl wettin [mailto:karl.wettin@gmail.com]=20
Sent: Friday, March 23, 2007 10:35 AM
To: java-user@lucene.apache.org
Subject: Re: Reverse search


23 mar 2007 kl. 02.12 skrev Melanie Langlois:

> I want to manage user subscriptions to specific documents. So I =20
> would like to store the subscription (query) into the lucene =20
> directory, and whenever I receive a new document, I will search all =20
> the matching subscriptions to send the documents to all subcribers. =20
> For instance if a user subscribes to all documents with text =20
> containing (WORD1 and WORD2) or WORD3, how can I match the incoming =20
> document based on stored subscriptions? I was thinking to have two =20
> subfields for each field of the subscription: the AND conditions =20
> and the OR conditions.
>
> -OR. I will tokenized the document field content and insert OR =20
> between each of them, and run the query against OR condition of =20
> subscription
>
> -It's for the AND that I will have an issue, because if the =20
> incoming text may contains more words than the sequence I want to =20
> search.
>
> For instance, if I subscribe for documents contents lucene and java =20
> for instance , if the incoming document contents is lucene is a =20
> great API which has been developed in java, once I removed =20
> stopwords my query would look like lucene and great and API and =20
> developed and java.
>
> As query is composed of more words than the stored subscription I =20
> will fail to retrieve the subscription. But if I put only or words, =20
> the results will not be accurate, as I can obtain subscription only =20
> for java for instance.
>

I wrote such a thing way back, where I used the new document as the =20
query and the user subscriptions as the index. Similar to what you =20
describe, I had an AND, OR and NOT field. This really limited the =20
type of queries users could store. It does however work, particullary =20
well on systems with /huge/ amounts of subscriptions (many millions).

Today I would have used something else. If you insert one document at =20
the time to your index, take a look at MemoryIndex in contrib. If you =20
insert documents in batches larger than one document at the time, =20
take a look at LUCENE-550 in the Jira. Add new documents to such an =20
index and place the subscribed queries on it. Depening on the =20
queries, the speed should be some 20-100 times faster than using a =20
RAMDirectory. One million queries should take some 20 seconds to =20
assemble and place on a 25 document index on my laptop. See <https://=20
issues.apache.org/jira/secure/attachment/=20
12353601/12353601_HitCollectionBench.jpg> for performace of LUCENE-550.

--=20
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 03:14:18 2007
Return-Path: <java-user-return-27090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69237 invoked from network); 23 Mar 2007 03:14:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 03:14:17 -0000
Received: (qmail 50183 invoked by uid 500); 23 Mar 2007 03:14:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50126 invoked by uid 500); 23 Mar 2007 03:14:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50115 invoked by uid 99); 23 Mar 2007 03:14:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:14:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.49.113] (HELO web54303.mail.yahoo.com) (206.190.49.113)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 20:14:07 -0700
Received: (qmail 24075 invoked by uid 60001); 23 Mar 2007 03:13:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=YrJ4VPsfKm7zLTUuDPuF/qNqSrGw7zrOxbZTudw8AYzQ4GYrCHwx83mmKxDEFVMPHrKNCqikw5/HhYxITC6dopQxQobMYTEUCQ+nv4JajlgO/YQZeLqfXCiZ067hUgEg+PeWpPDHNtAqf5v2pr7ctPUkfZMkEAO3o799A0a39kU=;
X-YMail-OSG: VccgHPIVM1mBhoCq3FJAR6SUKGdhiAo56yvmZf5YuML3ArC3HV_CRUlsygFESnpjRw--
Received: from [74.139.212.16] by web54303.mail.yahoo.com via HTTP; Thu, 22 Mar 2007 20:13:45 PDT
Date: Thu, 22 Mar 2007 20:13:45 -0700 (PDT)
From: Maryam <mkar160@yahoo.com>
Subject: Questions about Indexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <431962.23827.qm@web54303.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, 

I have three questions about indexing:

1) I am indexing HTML documents, how can I do "stop
removal" before indexing, I dont want to index stop
words? 

2) I can have an access to the terms in one document,
but how can I have access to the document name that
these terms has been appeared?

3) I want to find phrases at index level, e.x. find
frequency of phrases in the collection, also their
frequency in each document. How can I do it in Lucene,
is there any sample code?

Thanks



 
____________________________________________________________________________________
Be a PS3 game guru.
Get your game face on with the latest PS3 news and previews at Yahoo! Games.
http://videogames.yahoo.com/platform?platform=120121

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 03:21:42 2007
Return-Path: <java-user-return-27091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70948 invoked from network); 23 Mar 2007 03:21:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 03:21:41 -0000
Received: (qmail 58651 invoked by uid 500); 23 Mar 2007 03:21:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58625 invoked by uid 500); 23 Mar 2007 03:21:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58614 invoked by uid 99); 23 Mar 2007 03:21:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:21:41 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 66.249.82.225 as permitted sender)
Received: from [66.249.82.225] (HELO wx-out-0506.google.com) (66.249.82.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:21:31 -0700
Received: by wx-out-0506.google.com with SMTP id i29so1001493wxd
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 20:21:11 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=L90JvVbnI2wbKTYMqx6Sm8ZXCrMzRt9IU591HHO1IKS5H1IFfNtlAj9aox9Wapitc9tyvbn4CRrvQIPmBeu+ehZQqT08y+QKPBFtF1AW+BuFLyUzu3rffDIbr747FHdQsDT5fdh7qYiQofga56Mw97kEtcORB0+6Y1uu+EYQReA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=F5Ug9eD0zNScdnjk5qRKLGvWNkscA/s7+TVVsrEnDhocoZZ/BpxzEgC9eVdTcjDLgKU9MryPN6mOqajllrfIi8mkpLbsQ5aPBiy4lNySSYOHfvzUrjZj221D9ES9eTlrOSAeAFOASooBO9OMW4wk62NAPIK6qHe5tG8F/PjbtiI=
Received: by 10.70.99.9 with SMTP id w9mr4877397wxb.1174620071246;
        Thu, 22 Mar 2007 20:21:11 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id g3sm4249412wra.2007.03.22.20.21.09;
        Thu, 22 Mar 2007 20:21:09 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <OFCDED8A74.9909D1E7-ON882572A3.0070EA9E-882572A3.00746689@il.ibm.com>
References: <OFCDED8A74.9909D1E7-ON882572A3.0070EA9E-882572A3.00746689@il.ibm.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C7517D8E-9E48-47F7-9836-F028B9B9E150@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: contrib/benchmark questions
Date: Thu, 22 Mar 2007 23:21:07 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

OK, Doron (and other benchmarkers!), on to search:

Here's my alg file:

#Indexing declaration up here

OpenReader
     { "SrchSameRdr" Search > : 5000

     { "SrchTrvSameRdr" SearchTrav > : 5000
     { "SrchTrvSameRdrTopTen" SearchTrav(10) > : 5000
     { "SrchTrvRetLoadAllSameRdr" SearchTravRet > : 5000

#Skip bytes and body
     { "SrchTrvRetLoadSomeSameRdr" SearchTravRetLoadFieldSelector 
(docid,docname,docdate,doctitle) > : 5000
     CloseReader


Never mind the last task, I will be submitting a patch shortly that  
will make sense out of it.  Essentially, it specifies what fields to  
load for the document

Here are the 	results:
                 Operation                      round merge  
max.buffered   runCnt   recsPerRun        rec/s  elapsedSec     
avgUsedMem    avgTotalMem
      [java] OpenReader -  -  -  -  -  -  -  -  0 -  10 -  -  -   10  
-  -   1 -  -  -  - 1 -  -   125.0 -  -   0.01 -   5,385,600 -  -  
9,965,568
      [java] SrchSameRdr_5000                   0    10            
10        1         5000      1,184.3        4.22     5,805,120       
9,965,568
      [java] SrchTrvSameRdr_5000 -  -  -  -  -  0 -  10 -  -  -   10  
-  -   1 -  -  427500 -   71,776.4 -  -   5.96 -   5,806,144 -  -  
9,965,568
      [java] SrchTrvSameRdrTopTen_5000          0    10            
10        1       427500     62,001.4        6.89     5,766,584       
9,965,568
      [java] SrchTrvRetLoadAllSameRdr_5000 -  - 0 -  10 -  -  -   10  
-  -   1 -  -  850000 -  - 7,226.4 -  - 117.62 -   6,161,728 -  -  
9,965,568
      [java] SrchTrvRetLoadSomeSameRdr_5000     0    10            
10        1       850000     10,334.0       82.25     6,162,752       
9,965,568
      [java] CloseReader -  -  -  -  -  -  -  - 0 -  10 -  -  -   10  
-  -   1 -  -  -  - 1 -  - 1,000.0 -  -   0.00 -   5,921,856 -  -  
9,965,568

The line I'm a bit confused by is the recsPerRun
For the tasks that are doing the traversal and the retrieval, why so  
many recsPerRun?  Is it counting the hits, the traversals and the  
retrievals each as one record?

What I am trying to do is compare:
Search
Search plus traversal of all hits
Search plus traversal of top ten
Search plus traversal and retrieval of all documents and all fields  
on the document
Search plus traversal and retrieval of all documents and some fields  
on the document

I think I see in the ReadTask that it is the res var that is being  
incremented and would have to be altered.  I guess I can go by  
elapsed time, but even that seems slightly askew.  I think this is  
due to the withRetrieve() function overhead inside the for loop.  I  
have moved it out and will submit that change, too.

Am I interpreting this correctly?

-Grant

On Mar 19, 2007, at 5:11 PM, Doron Cohen wrote:

> Grant Ingersoll <gsingers@apache.org> wrote on 19/03/2007 13:10:16:
>
>> So, if I am understanding correctly:
>>
>>>> "SearchSameRdr" Search > : 5000
>>
>> means don't collect indiv. stats fur SearchSameRdr, but do whatever
>> that task does 5000 times, right?
>
> Almost...
>
> It should be btw
>    { "SearchSameRdr" Search > : 5000
> and it means: run Search 5000 times, sequentially, 5000 times,  
> assign the
> name "SearchSameRdr" to that sequence of 5000, and do not collect
> individual stats for the individual tasks making that sequence.
>
> If it was just
>   { Search > : 5000
> it would still mean the same, just that a name was assigned to this  
> for
> you, something like: "Seq_Search_5000".
>
> If it was:
>    { "SearchSameRdr" Search } : 5000
> it would be the same as your example, just that stas would be  
> collected not
> only for the entire elapsed sequence, but also breaking it down for  
> each of
> the 5000 calls to "Search".
>
> Similar logic with
>   [ .. ]
> and
>   [ .. >
> just that the tasks making the (parallel) sequence are executed in
> parallel, each in a separate thread.
>
>>
>>>
>>>> 3. Is there anyway to dump out the stats as a CSV file or  
>>>> something?
>>>> Would I implement a Task for this?  Ultimately, I want to be  
>>>> able to
>>>> create a graph in Excel that shows tradeoffs between speed and
>>>> memory.
>>>
>>> Yes, implementing a report task would be the way.
>>> ... but when I look at how I implemented these reports, all the
>>> work is
>>> done in the class Points. Seems it should be modified a little with
>>> more
>>> thought of making it easiert to extend reports.
>>
>> I may take a crack at it, but deadline for the talk is looming
>
> I'll take a look too, let you know if I have anything.
>
>>> - Being intetested in memory stats - the thing that all the rounds
>>> run in a
>>> single program, same JVM run, usually means what you see is very  
>>> much
>>> dependent in the GC behavior of the specific VM you are using. If
>>> it does
>>> not release memory (most likely) to the OS you would not be able to
>>> notice
>>> that round i+1 used less memory than round i. It would probably
>>> better for
>>> something like this to put the "round" logic in an ant script,
>>> invoking
>>> each round in a separate new exec. But then things get more
>>> complicated for
>>> having a final stats report containing all rounds. What do you
>>> think about
>>> this?
>>
>> Good to know.  Perhaps a GarbageCollectionTask is needed?
>
> ResetSystemSoft and ResetSystemErase both call GC;
> Is this sufficient, task wise?
> The concern is that this is not enough gc/mem wise, because the JVM  
> already
> has some memory, that the OS is not going to reclaim.
>
>> So, I should wrap those task in an OpenReader/CloseReader?
>
> Yes, if you want the same reader object to be used by all these.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 03:25:32 2007
Return-Path: <java-user-return-27092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71883 invoked from network); 23 Mar 2007 03:25:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 03:25:31 -0000
Received: (qmail 65947 invoked by uid 500); 23 Mar 2007 03:25:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65511 invoked by uid 500); 23 Mar 2007 03:25:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65499 invoked by uid 99); 23 Mar 2007 03:25:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:25:31 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ryantxu@gmail.com designates 209.85.132.240 as permitted sender)
Received: from [209.85.132.240] (HELO an-out-0708.google.com) (209.85.132.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:25:23 -0700
Received: by an-out-0708.google.com with SMTP id c3so973118ana
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 20:25:02 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=QShrHP8JW+iyG/MKYza13euSQa7N5HFQuhoePgE62odrq9QtxpheC6vLrYGUCfZIHvSNBnhCS2X+Zo7j6gsE48w3zG69fT5f9VtBKJAOYeM61bbYC0bwi/H9z1ThActYT3fcve5bIhURKN6IgzFlIuGD6oV/VQ2WdBOlNjalwV4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=GX83XhCLMMJZ2rLdKuRgMJr+3na17KonVtIyFPfz4BfJuOW8p5vEA8tztURHCEYWchEqNLUcXE5opPocMTTkDpOXXkBU+QIRMEavT/A/AINKB0WvqJL+Br0A/Xvj1RA/wEkXonbZi8U08wUYOO5ImfKwd96fz7QJspriLQoqXQk=
Received: by 10.100.191.5 with SMTP id o5mr2253732anf.1174620302717;
        Thu, 22 Mar 2007 20:25:02 -0700 (PDT)
Received: by 10.100.96.7 with HTTP; Thu, 22 Mar 2007 20:25:02 -0700 (PDT)
Message-ID: <176776ee0703222025se88cdd9kf8a74c259642c8bb@mail.gmail.com>
Date: Thu, 22 Mar 2007 20:25:02 -0700
From: "Ryan McKinley" <ryantxu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How can I index Phrases in Lucene?
In-Reply-To: <359a92830703221155y2a55adabj8bead73e7897ba5a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <462183.10111.qm@web54309.mail.yahoo.com>
	 <359a92830703221155y2a55adabj8bead73e7897ba5a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Is there any way to find frequent phrases without knowing what you are
looking for?

I could index "A B C D E" as "A B C", "B C D", "C D E" etc, but that
seems kind of clunky particularly if the phrase length is large.  Is
there any position offset magic that will surface frequent phrases
automatically?

thanks
ryan


On 3/22/07, Erick Erickson <erickerickson@gmail.com> wrote:
> Well, you don't index phrases, it's done for you. You should try
> something like the following....
>
> Create a SpanNearQuery with your terms. Specify an appropriate
> slop (probably 0 assuming you want them all next to each other).
>
> Now use call getSpans and count <G>... You may have to do
> something with overlapping spans, but you'll need to experiment
> a bit to understand it.
>
> Erick
>
> On 3/22/07, Maryam <mkar160@yahoo.com> wrote:
> >
> > Hi,
> >
> > I know how to index terms in lucene, now I wanna see
> > how can I index phrases like "information retreival"
> > in lucene and calculate the number of times that
> > phrase has appeared in the document. Is there any way
> > to do it in Lucene?
> >
> > Thanks
> >
> >
> >
> >
> > ____________________________________________________________________________________
> > It's here! Your new message!
> > Get new email alerts with the free Yahoo! Toolbar.
> > http://tools.search.yahoo.com/toolbar/features/mail/
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 03:42:00 2007
Return-Path: <java-user-return-27093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74792 invoked from network); 23 Mar 2007 03:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 03:41:59 -0000
Received: (qmail 95587 invoked by uid 500); 23 Mar 2007 03:41:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95555 invoked by uid 500); 23 Mar 2007 03:41:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95539 invoked by uid 99); 23 Mar 2007 03:41:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:41:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.5] (HELO spunkymail-a2.g.dreamhost.com) (208.97.132.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:41:51 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a2.g.dreamhost.com (Postfix) with ESMTP id 271C887B34
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 20:41:29 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <C7517D8E-9E48-47F7-9836-F028B9B9E150@gmail.com>
References: <OFCDED8A74.9909D1E7-ON882572A3.0070EA9E-882572A3.00746689@il.ibm.com> <C7517D8E-9E48-47F7-9836-F028B9B9E150@gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4FB2D9BE-0053-4289-9B57-CB92A3740248@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: contrib/benchmark questions
Date: Thu, 22 Mar 2007 23:41:27 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org


On Mar 22, 2007, at 11:21 PM, Grant Ingersoll wrote:

> I think I see in the ReadTask that it is the res var that is being  
> incremented and would have to be altered.  I guess I can go by  
> elapsed time, but even that seems slightly askew.  I think this is  
> due to the withRetrieve() function overhead inside the for loop.  I  
> have moved it out and will submit that change, too.
>

Moving it out of the loop made little diff. so I guess it is mostly  
just due to it being late and me being tired and not thinking  
clearly.  B/c if I were, I would just realize that those operations  
are also retrieving documents...

-Grant

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 03:44:27 2007
Return-Path: <java-user-return-27094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75311 invoked from network); 23 Mar 2007 03:44:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 03:44:27 -0000
Received: (qmail 99852 invoked by uid 500); 23 Mar 2007 03:44:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99564 invoked by uid 500); 23 Mar 2007 03:44:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99553 invoked by uid 99); 23 Mar 2007 03:44:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:44:27 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:44:18 -0700
Received: by ug-out-1314.google.com with SMTP id k40so979129ugc
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 20:43:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=HMnKKmvUUiTyQq6EZswPQbhOxNPzG9+d18I74OlbzmNJ1OTmDWSDoH75M5385FFfCirE6wMdrgQaE+ol+Tv/75RKQz7rE7ZGKChERFYTI4bfOcvC4MLd3y4LxH4SsEoQO8K4EQB5dGye+x7p4nr6Z8I2eO0E6uHvRQ/G8hLANK4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=IbtTv29LInOKTX+u3nAKwSPkEN5yhMjGcKY+ezibpSXWymjUhw+ChvahEbhHNqxqCLs/+N9iSfXlJGl99W1cTW6pWELjaV2yohH8U1I9qD8WsPtnZU2Jy6EgOOK8Q3tSm/cNdoDy/GVNPLbRXmiocG/VEiWHx9EykcwruzNt4tE=
Received: by 10.67.92.1 with SMTP id u1mr5997012ugl.1174621437017;
        Thu, 22 Mar 2007 20:43:57 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id i5sm13258368mue.2007.03.22.20.43.55;
        Thu, 22 Mar 2007 20:43:55 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <176776ee0703222025se88cdd9kf8a74c259642c8bb@mail.gmail.com>
References: <462183.10111.qm@web54309.mail.yahoo.com> <359a92830703221155y2a55adabj8bead73e7897ba5a@mail.gmail.com> <176776ee0703222025se88cdd9kf8a74c259642c8bb@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3AC9328E-9076-4DD1-A915-D08C7AA11AF2@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: How can I index Phrases in Lucene?
Date: Fri, 23 Mar 2007 04:43:51 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


23 mar 2007 kl. 04.25 skrev Ryan McKinley:

> Is there any way to find frequent phrases without knowing what you are
> looking for?

I think you are looking for association rules. Try searching for  
Levelwise-Scan.

Weka contains GPLed Java code.
Cite seer is your best friend for whitepapers. http:// 
citeseer.ist.psu.edu/cs


-- 
karl


>
> I could index "A B C D E" as "A B C", "B C D", "C D E" etc, but that
> seems kind of clunky particularly if the phrase length is large.  Is
> there any position offset magic that will surface frequent phrases
> automatically?
>
> thanks
> ryan
>
>
> On 3/22/07, Erick Erickson <erickerickson@gmail.com> wrote:
>> Well, you don't index phrases, it's done for you. You should try
>> something like the following....
>>
>> Create a SpanNearQuery with your terms. Specify an appropriate
>> slop (probably 0 assuming you want them all next to each other).
>>
>> Now use call getSpans and count <G>... You may have to do
>> something with overlapping spans, but you'll need to experiment
>> a bit to understand it.
>>
>> Erick
>>
>> On 3/22/07, Maryam <mkar160@yahoo.com> wrote:
>> >
>> > Hi,
>> >
>> > I know how to index terms in lucene, now I wanna see
>> > how can I index phrases like "information retreival"
>> > in lucene and calculate the number of times that
>> > phrase has appeared in the document. Is there any way
>> > to do it in Lucene?
>> >
>> > Thanks
>> >
>> >
>> >
>> >
>> >  
>> _____________________________________________________________________ 
>> _______________
>> > It's here! Your new message!
>> > Get new email alerts with the free Yahoo! Toolbar.
>> > http://tools.search.yahoo.com/toolbar/features/mail/
>> >
>> >  
>> ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 03:46:46 2007
Return-Path: <java-user-return-27095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75690 invoked from network); 23 Mar 2007 03:46:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 03:46:45 -0000
Received: (qmail 5011 invoked by uid 500); 23 Mar 2007 03:46:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4981 invoked by uid 500); 23 Mar 2007 03:46:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4968 invoked by uid 99); 23 Mar 2007 03:46:46 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:46:46 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 20:46:37 -0700
Received: by ug-out-1314.google.com with SMTP id k40so979594ugc
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 20:46:16 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=pCBVeLe41260p3e5z41wYCrBNdmcFemdVA1pEVPQv8Q75Yql/zOSeoSTmLaKgHmig4IDhp7XXzIMhZ7C+Qb9HlrkqJ/QpB9g3vkSf6AKzat/WNGsmpi4THKW9WaO8BPLV8sgv/12BKTQs3fCIi4NIU5SrwzZ86NA+DQIVf+sDco=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=RFaGfADQfBUBLbP5frPWaYBwvRAQpJ9wEI9vLKI5PML0hznlId3X1IEq3neO9kybhgSu+NAF2RzNWz54w/qlKNkhl8Arv8611se7Rh/FJ5NW5eQxzGWl46lynAol0HhvpJEOpMI6XL69tr8XnN+PNcDHkI2rAqvK3Iz5LNLsV9A=
Received: by 10.67.28.4 with SMTP id f4mr5983311ugj.1174621576368;
        Thu, 22 Mar 2007 20:46:16 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id w7sm13281817mue.2007.03.22.20.46.14;
        Thu, 22 Mar 2007 20:46:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E588419A@tkdwi001.dev.tradingscreen.com>
References: <847893AE8EE17A48A3725E82C10DE9E5884199@tkdwi001.dev.tradingscreen.com> <B9C62D3A-8DE3-460A-ABF9-8DAF251FF7C5@gmail.com> <847893AE8EE17A48A3725E82C10DE9E588419A@tkdwi001.dev.tradingscreen.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <4DE8DD72-A45C-4009-84D7-F3E28FA8385D@gmail.com>
Content-Transfer-Encoding: quoted-printable
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Reverse search
Date: Fri, 23 Mar 2007 04:46:10 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


23 mar 2007 kl. 03.07 skrev Melanie Langlois:

> Thanks Karl, the performances graph is really amazing!
> I have to say that it would not have think this way around would be =20=

> faster, but sounds nice if I can use this, make everything easier =20
> to manage. I'm just wondering what did you consider when you build =20
> your graph, only the time to run the queries? Because, I should add =20=

> the time for creating the index anytime a new document comes in (or =20=

> a subset of documents if several comes in same time), and the =20
> indexing of these documents. The documents should not be big, =20
> around 2KB. Did you measure this part ?

Adding a document to a MemoryIndex or InstantiatedIndex takes more or =20=

less the same time it would take to add it to an empty RAMDirectory. =20
How many clock ticks is spent really depends on what analysers you use.

--=20
karl

>
> M=E9lanie
>
> -----Original Message-----
> From: karl wettin [mailto:karl.wettin@gmail.com]
> Sent: Friday, March 23, 2007 10:35 AM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
>
> 23 mar 2007 kl. 02.12 skrev Melanie Langlois:
>
>> I want to manage user subscriptions to specific documents. So I
>> would like to store the subscription (query) into the lucene
>> directory, and whenever I receive a new document, I will search all
>> the matching subscriptions to send the documents to all subcribers.
>> For instance if a user subscribes to all documents with text
>> containing (WORD1 and WORD2) or WORD3, how can I match the incoming
>> document based on stored subscriptions? I was thinking to have two
>> subfields for each field of the subscription: the AND conditions
>> and the OR conditions.
>>
>> -OR. I will tokenized the document field content and insert OR
>> between each of them, and run the query against OR condition of
>> subscription
>>
>> -It's for the AND that I will have an issue, because if the
>> incoming text may contains more words than the sequence I want to
>> search.
>>
>> For instance, if I subscribe for documents contents lucene and java
>> for instance , if the incoming document contents is lucene is a
>> great API which has been developed in java, once I removed
>> stopwords my query would look like lucene and great and API and
>> developed and java.
>>
>> As query is composed of more words than the stored subscription I
>> will fail to retrieve the subscription. But if I put only or words,
>> the results will not be accurate, as I can obtain subscription only
>> for java for instance.
>>
>
> I wrote such a thing way back, where I used the new document as the
> query and the user subscriptions as the index. Similar to what you
> describe, I had an AND, OR and NOT field. This really limited the
> type of queries users could store. It does however work, particullary
> well on systems with /huge/ amounts of subscriptions (many millions).
>
> Today I would have used something else. If you insert one document at
> the time to your index, take a look at MemoryIndex in contrib. If you
> insert documents in batches larger than one document at the time,
> take a look at LUCENE-550 in the Jira. Add new documents to such an
> index and place the subscribed queries on it. Depening on the
> queries, the speed should be some 20-100 times faster than using a
> RAMDirectory. One million queries should take some 20 seconds to
> assemble and place on a 25 document index on my laptop. See <https://
> issues.apache.org/jira/secure/attachment/
> 12353601/12353601_HitCollectionBench.jpg> for performace of =20
> LUCENE-550.
>
> --=20
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 05:12:29 2007
Return-Path: <java-user-return-27096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92396 invoked from network); 23 Mar 2007 05:12:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 05:12:28 -0000
Received: (qmail 17541 invoked by uid 500); 23 Mar 2007 05:12:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17510 invoked by uid 500); 23 Mar 2007 05:12:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17499 invoked by uid 99); 23 Mar 2007 05:12:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 22:12:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 22:12:17 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0FC6C5B774; Thu, 22 Mar 2007 22:11:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0A3EC7F403
	for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 22:11:57 -0700 (PDT)
Date: Thu, 22 Mar 2007 22:11:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Combining score from two or more hits
In-Reply-To: <4602DE2E.2020306@teamware.com>
Message-ID: <Pine.LNX.4.58.0703222206390.32431@hal.rescomp.berkeley.edu>
References: <460219CC.6020808@teamware.com> <359a92830703220607u5cf8278cr857a050f27504414@mail.gmail.com>
 <4602DE2E.2020306@teamware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: Thanks Erick, I've been using TopDocs, but am playing with my own HitCollector
: variant of TopDocHitCollector.  The problem is not adjusting the score, it's
: what to adjust it by, i.e. is it possible to re-evaluate the scores of H1 and H2
: knowing that the original query resulted in hits on H1 AND H2.

if you are using a HitCollector, there any re-evaluation is going to
happen in your code using whatever mechanism you want -- once your collect
method is called on a docid, Lucene is done with that docid and no longer
cares about it ... it's only whatever storage you may be maintaining of
high scoring docs thta needs to know that you've decided the score has
changed.

your big problem is going to be that you basically need to maintain a list
of *every* doc collected, if you don't know what the score of any of them
are until you've processed all the rest ... since docs are collected in
increasing order of docid, you might be able to make some optimizations
based on how big of a gap you've got between the doc you are currently
collecting and the last doc you've collected if you know that you're
always going to add docs that "relate" to eachother in sequential bundles
-- but this would be some very custom code depending on your use case.





-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 05:12:55 2007
Return-Path: <java-user-return-27097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92490 invoked from network); 23 Mar 2007 05:12:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 05:12:54 -0000
Received: (qmail 19266 invoked by uid 500); 23 Mar 2007 05:12:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19234 invoked by uid 500); 23 Mar 2007 05:12:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19223 invoked by uid 99); 23 Mar 2007 05:12:52 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 22:12:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 22:12:43 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2N5CL0e270928
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 05:12:21 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2N5CL9a1822810
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 06:12:21 +0100
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2N5CLVH032240
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 06:12:21 +0100
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2N5CLJe032237
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 06:12:21 +0100
In-Reply-To: <4FB2D9BE-0053-4289-9B57-CB92A3740248@apache.org>
Subject: Re: contrib/benchmark questions
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OFDD1301C5.38289197-ON882572A7.001AE914-882572A7.001C16A8@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Thu, 22 Mar 2007 21:06:48 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 23/03/2007 07:12:21
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Grant, I think you resolved the question already, but just to
make sure...

Grant Ingersoll <gsingers@apache.org> wrote on 22/03/2007 20:41:27:

>
> On Mar 22, 2007, at 11:21 PM, Grant Ingersoll wrote:
>
> > I think I see in the ReadTask that it is the res var that is being
> > incremented and would have to be altered.  I guess I can go by
> > elapsed time, but even that seems slightly askew.  I think this is
> > due to the withRetrieve() function overhead inside the for loop.  I
> > have moved it out and will submit that change, too.
> >
>
> Moving it out of the loop made little diff. so I guess it is mostly
> just due to it being late and me being tired and not thinking
> clearly.  B/c if I were, I would just realize that those operations
> are also retrieving documents...

Seems the cause for confusion is that #recs means different things for
different tasks. For all tasks, it means (at least) the number of times
that task executed. For warm, it adds one for each document retrieved.
For traverse, adds one for each doc id "traveresed", and for
traverseAndRetrieve, also adds one for each doc being retrieved.

I'll update the javadocs with this clarification.

Moving the call out of the loop is the right thing of course, changed
the time only, not the #recs, right?

Regards,
Doron


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 05:14:45 2007
Return-Path: <java-user-return-27098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92822 invoked from network); 23 Mar 2007 05:14:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 05:14:44 -0000
Received: (qmail 23862 invoked by uid 500); 23 Mar 2007 05:14:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23838 invoked by uid 500); 23 Mar 2007 05:14:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23827 invoked by uid 99); 23 Mar 2007 05:14:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 22:14:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 22:14:36 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 56A694A816F
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 16:16:22 +1100 (EST)
Message-ID: <4603620B.4050702@nuix.com>
Date: Fri, 23 Mar 2007 16:13:47 +1100
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070322)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Questions about Indexing
References: <431962.23827.qm@web54303.mail.yahoo.com>
In-Reply-To: <431962.23827.qm@web54303.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Maryam wrote:
> Hi, 
> 
> I have three questions about indexing:
> 
> 1) I am indexing HTML documents, how can I do "stop
> removal" before indexing, I dont want to index stop
> words? 

The same way you would do it for indexing text documents: StopFilter.

> 2) I can have an access to the terms in one document,
> but how can I have access to the document name that
> these terms has been appeared?

The usual way to do this is to store the document name as another field.

Daniel



-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 06:38:55 2007
Return-Path: <java-user-return-27099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6240 invoked from network); 23 Mar 2007 06:38:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 06:38:54 -0000
Received: (qmail 10435 invoked by uid 500); 23 Mar 2007 06:38:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10288 invoked by uid 500); 23 Mar 2007 06:38:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10277 invoked by uid 99); 23 Mar 2007 06:38:53 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [203.84.221.126] (HELO web8705.mail.in.yahoo.com) (203.84.221.126)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 22 Mar 2007 23:38:51 -0700
Received: (qmail 37505 invoked by uid 60001); 23 Mar 2007 06:37:19 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=Sl9vZw0/obzEV5egEbYIWwXrHJ8V3NS9R9epGEQTSLrCsD6t79l372qudmHSCVM0oj0LRf+rB3LR4pPp5/okB+EYMfCRjgP2XaWECgLdiIe0z497KF4mPTqVuEiaSEWD22IowFvDCdyJTfT6q+n2QJp8HXcMV4Hk0a74IJ0Ywbo=;
X-YMail-OSG: O4r5OeQVM1l.xr3Jqeb56wB6aRjmjuLnzv33kyn1Pb5Ku.nLJMR3k8.llI4FMU0w_wFBw3DjEvf3qBS1nx8oqSqOv00QHM80oXGWKyYA4sha0ezvdSL8gTEi0FkwpyiB
Received: from [59.95.174.49] by web8705.mail.in.yahoo.com via HTTP; Fri, 23 Mar 2007 12:07:19 IST
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Fri, 23 Mar 2007 12:07:19 +0530 (IST)
From: aslam bari <iamaslamok@yahoo.co.in>
Subject: Ignore Words Problem
To: java user <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-329529409-1174631839=:36995"
Message-ID: <126055.36995.qm@web8705.mail.in.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-329529409-1174631839=:36995
Content-Type: text/plain; charset=ascii

I want to be make sure, if this statement is Right or not?
"I am using StatndardAnaylyzer for Indexing documents. Bydefault it ignores some words when doing indexing. But when we search something, Lucene again include the ignore words in searching".???
Myproblem is that:-
I indexed a word document using StandarAnaylyzer. There are many words like "is am are that the" which are ignored by the Lucene. And When i want to search a query which must search all words given by user (AND query) then it does not return results. For example
I want to search those documents which MUST have ALL these words "this is garden".  for this i have made a AND query, but Lucene now gives result because "garden" is there but it cannot find "is" and "this" word because they are ignored at indexing time. So what is the better work around.
Any help will be appreciated.


		
__________________________________________________________
Yahoo! India Answers: Share what you know. Learn something new
http://in.answers.yahoo.com/
--0-329529409-1174631839=:36995--

From java-user-return-27100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 06:49:47 2007
Return-Path: <java-user-return-27100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7772 invoked from network); 23 Mar 2007 06:49:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 06:49:46 -0000
Received: (qmail 26411 invoked by uid 500); 23 Mar 2007 06:49:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26228 invoked by uid 500); 23 Mar 2007 06:49:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26215 invoked by uid 99); 23 Mar 2007 06:49:46 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 23:49:45 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1016746ugc
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 23:48:16 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ARH7PTgscUFncAFvqshOhWAapFt4bmA/KZ8crddg+EdbxV8KW8L8XRRkUJzIYrYpz4nFqhCTndYY11cWkh1zRmoThkoJWVb5V9Mlu6w7E8Z8zqxGss/jOyNdUs6v5wJfByUfq41cpFXpoHCHjguDczoG88M7aFI82spNVXD7vnw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=BoWdutp046r+aA2w5/fy2OILvi1JpL2pxoEQaqCEqx7PPiwuJyrghAs6jGR8X01ysfvLBblCQVi1ejekunsZBUBkgL3UvR9VaCfY5X5n33zziBFIAGJpzOfVpdjTU5BOWp8f8ZRrc5K+okt2KNUckrxzBjEuOKiEkIJ0Co+1UgQ=
Received: by 10.66.219.11 with SMTP id r11mr6206988ugg.1174632496091;
        Thu, 22 Mar 2007 23:48:16 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Thu, 22 Mar 2007 23:48:15 -0700 (PDT)
Message-ID: <4628d2a90703222348j42fe9ack57cd0eeb22745997@mail.gmail.com>
Date: Fri, 23 Mar 2007 12:18:15 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how ungrouped query handled?
In-Reply-To: <Pine.LNX.4.58.0703221151590.28914@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17385_16787908.1174632495988"
References: <4628d2a90703220406n624bf5e9h329bd10c4bbb538c@mail.gmail.com>
	 <359a92830703220651x682e7f5bvc768dd7287380e6e@mail.gmail.com>
	 <Pine.LNX.4.58.0703221151590.28914@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_17385_16787908.1174632495988
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks for your reply and this useful links.

On 3/23/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> see also the FAQ "Why am I getting no hits / incorrect hits?" which points
> to...
>
> http://wiki.apache.org/lucene-java/BooleanQuerySyntax
>
> ...I've just added some more words of wisdom there from past emails.
>
>
> : Date: Thu, 22 Mar 2007 09:51:15 -0400
> : From: Erick Erickson <erickerickson@gmail.com>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: Re: how ungrouped query handled?
> :
> : This is a pretty common issue that I've been grappling with by chance
> : recently. The main point is that the parser is NOT a boolean logic
> : parser.....
> :
> : Search the mail archive for the thread "bad query parser bug" and
> : you'll find a good discussion.
> :
> : I tried using PrecedenceQueryParser, but that didn't work for
> : me very well, search the mail archive on that and you'll see some
> : examples of why.
> :
> : I solved this problem for my immediate issues by writing a very
> : quick-and-dirty parenthesizer for my raw query. If it wasn't going
> : on summer, I might see if I can contribute something by
> : seeing if there's a way I can see to fix PrecedenceQueryParser.
> :
> : Best
> : Erick
> :
> : On 3/22/07, SK R <rsk.sen@gmail.com> wrote:
> : >
> : > Hi,
> : >      Can anyone explain how lucene handles the belowed query?
> : >     My query is *field1:source AND (field2:name OR field3:dest)* .
> I've
> : > given this string to queryparser and then searched by using searcher.
> It
> : > returns correct results. It's query.toString() print is ::
> +field1:source
> : > +(field2:name field3:dest)
> : >     But if i don't group my terms (i.e) my query : *field1:source AND
> : > field2:name OR field3:dest *,then it gives the result of  first two
> term's
> : > search result. It doesn't search 3rd term. It's query.toString() print
> is
> : > ::
> : > +field1:source +field2:name field3:dest.
> : > If i use same boolean operator between all terms, then it returns
> correct
> : > results.
> : > Why it doesn't search the terms after 2nd term if grouping not used?
> : >
> : > Thanks & Regards
> : > RSK
> : >
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_17385_16787908.1174632495988--

From java-user-return-27101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 06:52:36 2007
Return-Path: <java-user-return-27101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8106 invoked from network); 23 Mar 2007 06:52:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 06:52:35 -0000
Received: (qmail 29302 invoked by uid 500); 23 Mar 2007 06:52:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29267 invoked by uid 500); 23 Mar 2007 06:52:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29256 invoked by uid 99); 23 Mar 2007 06:52:33 -0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Mar 2007 23:52:33 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1017349ugc
        for <java-user@lucene.apache.org>; Thu, 22 Mar 2007 23:51:04 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=FB/mp72z6RCUH0hY2w6Nr4252UM3bKDoHfq5P9UGgZkxEhzQ9k3RsNlpObcNor7DbzawNtZ3mcKlxZ9phjakZBgMaD9j8kqywdxtpsr1b6VmsS4TVcisOA3ZPtXp7BeBv2+Tig6tdxbkGfTcmGlVoLx7xVILEE6Gmc44ZcE01T0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=sreD834HKjIZ8fyXWeXg74OMdzTHSAPfLJ6iP/F02U37oFHmUcwX35waI99otikVW/R0EacMGauYDWfCUCS32LKf/YeJqvHQWM587OE4guoU2LRlp+sZCv+vq3Lz0szK//l9OVMLFS0b8xZfXsxqzilJzkX+xZAmpPAaWCDoBgM=
Received: by 10.66.255.7 with SMTP id c7mr6251030ugi.1174632664375;
        Thu, 22 Mar 2007 23:51:04 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Thu, 22 Mar 2007 23:51:04 -0700 (PDT)
Message-ID: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
Date: Fri, 23 Mar 2007 12:21:04 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: MergeFactor and MaxBufferedDocs value should ...?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17461_13560910.1174632664341"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_17461_13560910.1174632664341
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
    I've looked the uses of MergeFactor and MaxBufferedDocs.

    If I set MergeFactor = 100 and MaxBufferedDocs=250 , then first 100
segments will be merged in RAMDir when 100 docs arrived. At the end of 350th
doc added to writer , RAMDir have 2 merged segment files + 50 seperate
segment files not merged together and these are flushed to FSDir.

    If wrong, please correct me.

    My doubt is whether we should set MergeFactor & MaxBufferedDocs in
proportional ratio (i.e) MaxBufferedDocs = n*MergeFactor where n = 1,2 ...
to reduce indexing time and get greater performance or no need to worry
about it's relation?


Thanks & Regards
RSK

------=_Part_17461_13560910.1174632664341--

From java-user-return-27102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 07:01:26 2007
Return-Path: <java-user-return-27102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10307 invoked from network); 23 Mar 2007 07:01:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 07:01:25 -0000
Received: (qmail 38472 invoked by uid 500); 23 Mar 2007 07:01:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38438 invoked by uid 500); 23 Mar 2007 07:01:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38427 invoked by uid 99); 23 Mar 2007 07:01:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 00:01:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 00:01:10 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1D6085B777; Fri, 23 Mar 2007 00:00:49 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 194E77F403
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 00:00:49 -0700 (PDT)
Date: Fri, 23 Mar 2007 00:00:49 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java user <java-user@lucene.apache.org>
Subject: Re: Ignore Words Problem
In-Reply-To: <126055.36995.qm@web8705.mail.in.yahoo.com>
Message-ID: <Pine.LNX.4.58.0703222358410.9040@hal.rescomp.berkeley.edu>
References: <126055.36995.qm@web8705.mail.in.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


What part of Grant and Karl's answers to you the last time you asked this
question wasn't clear?  have you tried it?

http://www.nabble.com/Re%3A-Common-Words-ignoring-problem-p9550886.html
http://www.nabble.com/Re%3A-Common-Words-ignoring-problem-p9567881.html

: I want to be make sure, if this statement is Right or not?
: "I am using StatndardAnaylyzer for Indexing documents. Bydefault it ignores some words when doing indexing. But when we search something, Lucene again include the ignore words in searching".???
: Myproblem is that:-
: I indexed a word document using StandarAnaylyzer. There are many words like "is am are that the" which are ignored by the Lucene. And When i want to search a query which must search all words given by user (AND query) then it does not return results. For example
: I want to search those documents which MUST have ALL these words "this is garden".  for this i have made a AND query, but Lucene now gives result because "garden" is there but it cannot find "is" and "this" word because they are ignored at indexing time. So what is the better work around.
: Any help will be appreciated.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 08:04:54 2007
Return-Path: <java-user-return-27103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34582 invoked from network); 23 Mar 2007 08:04:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 08:04:53 -0000
Received: (qmail 10701 invoked by uid 500); 23 Mar 2007 08:04:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10672 invoked by uid 500); 23 Mar 2007 08:04:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10661 invoked by uid 99); 23 Mar 2007 08:04:51 -0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 01:04:50 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2N82DmO021144
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 10:02:13 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3na1l5n; 23 Mar 2007 10:01:00 +0200
Message-ID: <46038975.8020204@teamware.com>
Date: Fri, 23 Mar 2007 19:01:57 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Combining score from two or more hits
References: <460219CC.6020808@teamware.com> <359a92830703220607u5cf8278cr857a050f27504414@mail.gmail.com> <4602DE2E.2020306@teamware.com> <Pine.LNX.4.58.0703222206390.32431@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703222206390.32431@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Fri, 23 Mar 2007 10:02:13 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Hostetter wrote:
> 
> if you are using a HitCollector, there any re-evaluation is going to
> happen in your code using whatever mechanism you want -- once your collect
> method is called on a docid, Lucene is done with that docid and no longer
> cares about it ... it's only whatever storage you may be maintaining of
> high scoring docs thta needs to know that you've decided the score has
> changed.
> 
> your big problem is going to be that you basically need to maintain a list
> of *every* doc collected, if you don't know what the score of any of them
> are until you've processed all the rest ... since docs are collected in
> increasing order of docid, you might be able to make some optimizations
> based on how big of a gap you've got between the doc you are currently
> collecting and the last doc you've collected if you know that you're
> always going to add docs that "relate" to eachother in sequential bundles
> -- but this would be some very custom code depending on your use case.

I only ever need to return a couple of ID fields per doc hit, so I load them 
with FieldCache when I start a new searcher.  These IDs refer to unique objects 
elsewhere, but there can be one or more instances of the same Id in the index 
due to the way I've structured Documents.  A Document = an attachment in the 
other system attached to the other system's object which can have 1...n 
attachments.  My problem is I need to return only unique external Ids with some 
kind of combined score up to the requested maxHits from the client.

Getting the unique Ids is no problem, but as you say I either have to store all 
hits and then sort them by score at the end once I know all unique docs, or do 
some clever stuff with some type of PriorityQueue that allows me to re-jig 
scores that already exist in the sorted queue.

One idea your comments raise is the relationship of docids to the group of 
Documents added for the higher level object.  All the Documents for the external 
object are added with a single writer at index time.  Assuming that the 
Documents for a single external Id will either all exist or none, then will the 
doc ids always be sequential for ever for that external Id or will they 
'reorganise' themselves?

Thanks
Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 09:01:42 2007
Return-Path: <java-user-return-27104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48934 invoked from network); 23 Mar 2007 09:01:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 09:01:42 -0000
Received: (qmail 86191 invoked by uid 500); 23 Mar 2007 09:01:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86165 invoked by uid 500); 23 Mar 2007 09:01:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86151 invoked by uid 99); 23 Mar 2007 09:01:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Mar 2007 02:01:38 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032317572400072
 for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 17:57:24 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Reverse search
Date: Fri, 23 Mar 2007 17:57:24 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E588419D@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <4DE8DD72-A45C-4009-84D7-F3E28FA8385D@gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reverse search
Thread-Index: Acds/d7fj+VQOzAOT9GKlaeP1rb8FAAKolYg
References: <847893AE8EE17A48A3725E82C10DE9E5884199@tkdwi001.dev.tradingscreen.com> <B9C62D3A-8DE3-460A-ABF9-8DAF251FF7C5@gmail.com> <847893AE8EE17A48A3725E82C10DE9E588419A@tkdwi001.dev.tradingscreen.com> <4DE8DD72-A45C-4009-84D7-F3E28FA8385D@gmail.com>
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Well, I though to use the PerFieldAnalyzerWrapper which contains as =
basic the snowballAnalyzer with English stopwords and use =
snowballAnalyzer with language specific keywords for the fields which =
will be in different languages. But I'm seeing that in your =
MemoryIndexTest you commented the use of SnowballAnalyzer, is it because =
it's too slow. In this case, I think I could use the StandardAnalyzer... =
what do you think?

M=E9lanie=20
 =20
-----Original Message-----
From: karl wettin [mailto:karl.wettin@gmail.com]=20
Sent: Friday, March 23, 2007 12:46 PM
To: java-user@lucene.apache.org
Subject: Re: Reverse search


23 mar 2007 kl. 03.07 skrev Melanie Langlois:

> Thanks Karl, the performances graph is really amazing!
> I have to say that it would not have think this way around would be =20
> faster, but sounds nice if I can use this, make everything easier =20
> to manage. I'm just wondering what did you consider when you build =20
> your graph, only the time to run the queries? Because, I should add =20
> the time for creating the index anytime a new document comes in (or =20
> a subset of documents if several comes in same time), and the =20
> indexing of these documents. The documents should not be big, =20
> around 2KB. Did you measure this part ?

Adding a document to a MemoryIndex or InstantiatedIndex takes more or =20
less the same time it would take to add it to an empty RAMDirectory. =20
How many clock ticks is spent really depends on what analysers you use.

--=20
karl

>
> M=E9lanie
>
> -----Original Message-----
> From: karl wettin [mailto:karl.wettin@gmail.com]
> Sent: Friday, March 23, 2007 10:35 AM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
>
> 23 mar 2007 kl. 02.12 skrev Melanie Langlois:
>
>> I want to manage user subscriptions to specific documents. So I
>> would like to store the subscription (query) into the lucene
>> directory, and whenever I receive a new document, I will search all
>> the matching subscriptions to send the documents to all subcribers.
>> For instance if a user subscribes to all documents with text
>> containing (WORD1 and WORD2) or WORD3, how can I match the incoming
>> document based on stored subscriptions? I was thinking to have two
>> subfields for each field of the subscription: the AND conditions
>> and the OR conditions.
>>
>> -OR. I will tokenized the document field content and insert OR
>> between each of them, and run the query against OR condition of
>> subscription
>>
>> -It's for the AND that I will have an issue, because if the
>> incoming text may contains more words than the sequence I want to
>> search.
>>
>> For instance, if I subscribe for documents contents lucene and java
>> for instance , if the incoming document contents is lucene is a
>> great API which has been developed in java, once I removed
>> stopwords my query would look like lucene and great and API and
>> developed and java.
>>
>> As query is composed of more words than the stored subscription I
>> will fail to retrieve the subscription. But if I put only or words,
>> the results will not be accurate, as I can obtain subscription only
>> for java for instance.
>>
>
> I wrote such a thing way back, where I used the new document as the
> query and the user subscriptions as the index. Similar to what you
> describe, I had an AND, OR and NOT field. This really limited the
> type of queries users could store. It does however work, particullary
> well on systems with /huge/ amounts of subscriptions (many millions).
>
> Today I would have used something else. If you insert one document at
> the time to your index, take a look at MemoryIndex in contrib. If you
> insert documents in batches larger than one document at the time,
> take a look at LUCENE-550 in the Jira. Add new documents to such an
> index and place the subscribed queries on it. Depening on the
> queries, the speed should be some 20-100 times faster than using a
> RAMDirectory. One million queries should take some 20 seconds to
> assemble and place on a 25 document index on my laptop. See <https://
> issues.apache.org/jira/secure/attachment/
> 12353601/12353601_HitCollectionBench.jpg> for performace of =20
> LUCENE-550.
>
> --=20
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 09:37:54 2007
Return-Path: <java-user-return-27105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58980 invoked from network); 23 Mar 2007 09:37:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 09:37:53 -0000
Received: (qmail 42831 invoked by uid 500); 23 Mar 2007 09:37:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42807 invoked by uid 500); 23 Mar 2007 09:37:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42796 invoked by uid 99); 23 Mar 2007 09:37:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 02:37:51 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.219] (HELO web26008.mail.ukl.yahoo.com) (217.12.10.219)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Mar 2007 02:37:41 -0700
Received: (qmail 55502 invoked by uid 60001); 23 Mar 2007 09:35:57 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=GnQBAPNVrHtog+QCosQh3wxzuyPy7y78ytAb/Ncf5Vhw/q5C1e79ynJBarGieGuz7M9Ng7aqSYpPDRbr1aIeg4FNntpO+YWc4g1CcM8igt3kO5RTUBZawLCnG+ik7EkwTkJZDSvcHwmzuTVVBGNp0RNUXG8NLJmkHlbYSDvCHqI=;
X-YMail-OSG: .9L1HdsVM1kjD68rQStkoWY36q7CDVgLDr4rAHlRTzB8TZurlBsLCwR1C88a_2hYA5Ns5SGNFCx9lx2N05621ImceCO_VaRRpurkBzFexewVgfsjV5Q-
Received: from [193.36.230.96] by web26008.mail.ukl.yahoo.com via HTTP; Fri, 23 Mar 2007 09:35:57 GMT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Fri, 23 Mar 2007 09:35:57 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: How can I index Phrases in Lucene?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <691035.54453.qm@web26008.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

This may be of interest:
http://issues.apache.org/jira/browse/LUCENE-474

Cheers
Mark


----- Original Message ----
From: Ryan McKinley <ryantxu@gmail.com>
To: java-user@lucene.apache.org
Sent: Friday, 23 March, 2007 3:25:02 AM
Subject: Re: How can I index Phrases in Lucene?

Is there any way to find frequent phrases without knowing what you are
looking for?

I could index "A B C D E" as "A B C", "B C D", "C D E" etc, but that
seems kind of clunky particularly if the phrase length is large.  Is
there any position offset magic that will surface frequent phrases
automatically?

thanks
ryan


On 3/22/07, Erick Erickson <erickerickson@gmail.com> wrote:
> Well, you don't index phrases, it's done for you. You should try
> something like the following....
>
> Create a SpanNearQuery with your terms. Specify an appropriate
> slop (probably 0 assuming you want them all next to each other).
>
> Now use call getSpans and count <G>... You may have to do
> something with overlapping spans, but you'll need to experiment
> a bit to understand it.
>
> Erick
>
> On 3/22/07, Maryam <mkar160@yahoo.com> wrote:
> >
> > Hi,
> >
> > I know how to index terms in lucene, now I wanna see
> > how can I index phrases like "information retreival"
> > in lucene and calculate the number of times that
> > phrase has appeared in the document. Is there any way
> > to do it in Lucene?
> >
> > Thanks
> >
> >
> >
> >
> > ____________________________________________________________________________________
> > It's here! Your new message!
> > Get new email alerts with the free Yahoo! Toolbar.
> > http://tools.search.yahoo.com/toolbar/features/mail/
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






	
	
		
___________________________________________________________ 
New Yahoo! Mail is the ultimate force in competitive emailing. Find out more at the Yahoo! Mail Championships. Plus: play games and win prizes. 
http://uk.rd.yahoo.com/evt=44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 10:15:29 2007
Return-Path: <java-user-return-27106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68677 invoked from network); 23 Mar 2007 10:15:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 10:15:28 -0000
Received: (qmail 9274 invoked by uid 500); 23 Mar 2007 10:15:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9242 invoked by uid 500); 23 Mar 2007 10:15:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9231 invoked by uid 99); 23 Mar 2007 10:15:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 03:15:24 -0700
Received: from compute2.internal (unknown [10.202.2.42])
	by out1.messagingengine.com (Postfix) with ESMTP id D510620C4D4
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 06:11:32 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by compute2.internal (MEProxy); Fri, 23 Mar 2007 06:11:32 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id AB48A15C7C3; Fri, 23 Mar 2007 06:11:32 -0400 (EDT)
Message-Id: <1174644692.28699.1180984713@webmail.messagingengine.com>
X-Sasl-Enc: F42f/SD8e+M8wSnkXhZGsHGgVofBiykoZQNXJ2Z7nOi0 1174644692
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
Subject: Re: MergeFactor and MaxBufferedDocs value should ...?
In-Reply-To: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
Date: Fri, 23 Mar 2007 06:11:32 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"SK R" <rsk.sen@gmail.com> wrote:
>     If I set MergeFactor = 100 and MaxBufferedDocs=250 , then first 100
> segments will be merged in RAMDir when 100 docs arrived. At the end of
> 350th
> doc added to writer , RAMDir have 2 merged segment files + 50 seperate
> segment files not merged together and these are flushed to FSDir.
> 
>     If wrong, please correct me.
> 
>     My doubt is whether we should set MergeFactor & MaxBufferedDocs in
> proportional ratio (i.e) MaxBufferedDocs = n*MergeFactor where n = 1,2
> ...
> to reduce indexing time and get greater performance or no need to worry
> about it's relation?

Actually, maxBufferedDocs is how many docs are held in RAM before
flushing to a single segment.  So with 250, after adding the 250th doc
the writer will write the first segment; after adding the 500th doc,
it writes the second segment, etc.

Then, mergeFactor says how many segments can be written before a merge
takes place.  A mergeFactor of 10 means after writing 10 such
segments from above, they will be merged into a single segment with
2500 docs.  After another 2500 docs you'll have 2 such segments.  Then
once you've added your 25000'th doc, all of the 2500 doc segments will
be merged into a single 25000 segment doc, etc.

To maximize indexing performance you really want maxBufferedDocs to be
as large as you can handle (the bigger you make it, the more RAM is
required by the writer).

I believe (not certain) larger values of mergeFactor will also improve
performance since it defers merging as long as possible.  However, the
larger you make this, the more segments are allowed to exist in your
index, and at some point you will hit file handle limits with your
searchers.

I don't think these two parameters need to be proportional to one
another.  I don't think that will affect performance.

Another performance boost is to turn off compound file, but, this has
a severe cost of requiring far more file handles during searching.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 12:55:18 2007
Return-Path: <java-user-return-27107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18964 invoked from network); 23 Mar 2007 12:55:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 12:55:16 -0000
Received: (qmail 91479 invoked by uid 500); 23 Mar 2007 12:55:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91444 invoked by uid 500); 23 Mar 2007 12:55:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91432 invoked by uid 99); 23 Mar 2007 12:55:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 05:55:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 05:55:05 -0700
Received: by nf-out-0910.google.com with SMTP id g2so1845601nfe
        for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 05:54:43 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=O+P6i8KHA+iQB7HBJIWbFb68q0LhOwx7Wtg1nwwhVxEpbiILF3jBP3nd3JXvuaafVKTLZrwAUJiwYUHMCttRBaYnqn1hpca1ZFVJevUI31YyunUlozmXD+PKQhbd2HG9rePcGiuOQeZ80DkfKb/PX/9dvN/8f8Drtyh7vYP0RkI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=sqXnHuOCfNvJHRxOfpDE1NUkdWIh8RG6dOa/bZf7d1Exfj7DkF8mna8IndPJOtP481DMWeeF/bXlk8QYy44oz56sT50yAMn2ccFj0bDhvv+bfAZTNXmWto5n5NBp/nQ5Ttspk4G29FIItQLVh5CT/2JjtUU4HsZPLfn2T3LTCVE=
Received: by 10.78.183.15 with SMTP id g15mr1513301huf.1174654483565;
        Fri, 23 Mar 2007 05:54:43 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id y2sm15127187mug.2007.03.23.05.54.40;
        Fri, 23 Mar 2007 05:54:41 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E588419D@tkdwi001.dev.tradingscreen.com>
References: <847893AE8EE17A48A3725E82C10DE9E5884199@tkdwi001.dev.tradingscreen.com> <B9C62D3A-8DE3-460A-ABF9-8DAF251FF7C5@gmail.com> <847893AE8EE17A48A3725E82C10DE9E588419A@tkdwi001.dev.tradingscreen.com> <4DE8DD72-A45C-4009-84D7-F3E28FA8385D@gmail.com> <847893AE8EE17A48A3725E82C10DE9E588419D@tkdwi001.dev.tradingscreen.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <673AD11C-FF6D-466B-BB35-4BB902174BD6@gmail.com>
Content-Transfer-Encoding: quoted-printable
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: Reverse search
Date: Fri, 23 Mar 2007 13:54:36 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


23 mar 2007 kl. 09.57 skrev Melanie Langlois:

> Well, I though to use the PerFieldAnalyzerWrapper which contains as =20=

> basic the snowballAnalyzer with English stopwords and use =20
> snowballAnalyzer with language specific keywords for the fields =20
> which will be in different languages. But I'm seeing that in your =20
> MemoryIndexTest you commented the use of SnowballAnalyzer, is it =20
> because it's too slow. In this case, I think I could use the =20
> StandardAnalyzer... what do you think?

I think that creating an index with a couple of documents takes a =20
fraction of the time it will take to place a million queries on that =20
index. There is no real need to optimize something that takes =20
milliseconds when you in the same process do something that takes =20
half a minute.

--=20
karl

>
> M=E9lanie
>
> -----Original Message-----
> From: karl wettin [mailto:karl.wettin@gmail.com]
> Sent: Friday, March 23, 2007 12:46 PM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
>
> 23 mar 2007 kl. 03.07 skrev Melanie Langlois:
>
>> Thanks Karl, the performances graph is really amazing!
>> I have to say that it would not have think this way around would be
>> faster, but sounds nice if I can use this, make everything easier
>> to manage. I'm just wondering what did you consider when you build
>> your graph, only the time to run the queries? Because, I should add
>> the time for creating the index anytime a new document comes in (or
>> a subset of documents if several comes in same time), and the
>> indexing of these documents. The documents should not be big,
>> around 2KB. Did you measure this part ?
>
> Adding a document to a MemoryIndex or InstantiatedIndex takes more or
> less the same time it would take to add it to an empty RAMDirectory.
> How many clock ticks is spent really depends on what analysers you =20
> use.
>
> --=20
> karl
>
>>
>> M=E9lanie
>>
>> -----Original Message-----
>> From: karl wettin [mailto:karl.wettin@gmail.com]
>> Sent: Friday, March 23, 2007 10:35 AM
>> To: java-user@lucene.apache.org
>> Subject: Re: Reverse search
>>
>>
>> 23 mar 2007 kl. 02.12 skrev Melanie Langlois:
>>
>>> I want to manage user subscriptions to specific documents. So I
>>> would like to store the subscription (query) into the lucene
>>> directory, and whenever I receive a new document, I will search all
>>> the matching subscriptions to send the documents to all subcribers.
>>> For instance if a user subscribes to all documents with text
>>> containing (WORD1 and WORD2) or WORD3, how can I match the incoming
>>> document based on stored subscriptions? I was thinking to have two
>>> subfields for each field of the subscription: the AND conditions
>>> and the OR conditions.
>>>
>>> -OR. I will tokenized the document field content and insert OR
>>> between each of them, and run the query against OR condition of
>>> subscription
>>>
>>> -It's for the AND that I will have an issue, because if the
>>> incoming text may contains more words than the sequence I want to
>>> search.
>>>
>>> For instance, if I subscribe for documents contents lucene and java
>>> for instance , if the incoming document contents is lucene is a
>>> great API which has been developed in java, once I removed
>>> stopwords my query would look like lucene and great and API and
>>> developed and java.
>>>
>>> As query is composed of more words than the stored subscription I
>>> will fail to retrieve the subscription. But if I put only or words,
>>> the results will not be accurate, as I can obtain subscription only
>>> for java for instance.
>>>
>>
>> I wrote such a thing way back, where I used the new document as the
>> query and the user subscriptions as the index. Similar to what you
>> describe, I had an AND, OR and NOT field. This really limited the
>> type of queries users could store. It does however work, particullary
>> well on systems with /huge/ amounts of subscriptions (many millions).
>>
>> Today I would have used something else. If you insert one document at
>> the time to your index, take a look at MemoryIndex in contrib. If you
>> insert documents in batches larger than one document at the time,
>> take a look at LUCENE-550 in the Jira. Add new documents to such an
>> index and place the subscribed queries on it. Depening on the
>> queries, the speed should be some 20-100 times faster than using a
>> RAMDirectory. One million queries should take some 20 seconds to
>> assemble and place on a 25 document index on my laptop. See <https://
>> issues.apache.org/jira/secure/attachment/
>> 12353601/12353601_HitCollectionBench.jpg> for performace of
>> LUCENE-550.
>>
>> --=20
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 13:06:01 2007
Return-Path: <java-user-return-27108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23257 invoked from network); 23 Mar 2007 13:06:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 13:06:01 -0000
Received: (qmail 23131 invoked by uid 500); 23 Mar 2007 13:06:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23090 invoked by uid 500); 23 Mar 2007 13:06:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23079 invoked by uid 99); 23 Mar 2007 13:05:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 06:05:59 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 06:05:51 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1116608ugc
        for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 06:05:30 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=IKnqkJcy5GhAo8xQTPMCCU3SFVvA/056uhQQQ+o/DFxV7d/raBqJjTzJvUmMUTwJ0E5i5oLpUmN61aUBcHrGsIDe4CxcTgbYVZq6gviJ0aByy1tnPtaLV4xWB5E8MNVMBFtxkn0cmR7G9YBfeJhHGadIECk72XFtbicRXPGvCBE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SmJaOpwBIgZoUArsSf9RT5RjT6IAKU+AeolhtLhDsrKbKxhPAgFD3JEQoD5MNzEgP4TzVCcCvhnrKoNBK25wB230zm8c4zim8IAeSIjEwabsoYBZvrG6zCFUVoK4+corNf6lKBkUJQZ21VjGtIPJdUnhnUntWN9jcL/uhjgA1zE=
Received: by 10.67.97.7 with SMTP id z7mr6697048ugl.1174655130219;
        Fri, 23 Mar 2007 06:05:30 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Fri, 23 Mar 2007 06:05:30 -0700 (PDT)
Message-ID: <4628d2a90703230605l6ae89fe4secd81c88bd715c67@mail.gmail.com>
Date: Fri, 23 Mar 2007 18:35:30 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: MergeFactor and MaxBufferedDocs value should ...?
In-Reply-To: <1174644692.28699.1180984713@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_21812_2805256.1174655130153"
References: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
	 <1174644692.28699.1180984713@webmail.messagingengine.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_21812_2805256.1174655130153
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Please clarify the following.

     1.When will be the segments in RAMDirectory moved (flushed) in to
FSDirectory?

     2.Segments creation by maxBufferedDocs occur in RAMDir. Where merge by
MergeFactor happen? whether in RAMDir or FSDir?

Thanks in Advance
RSK


On 3/23/07, Michael McCandless <lucene@mikemccandless.com> wrote:
>
>
> "SK R" <rsk.sen@gmail.com> wrote:
> >     If I set MergeFactor = 100 and MaxBufferedDocs=250 , then first 100
> > segments will be merged in RAMDir when 100 docs arrived. At the end of
> > 350th
> > doc added to writer , RAMDir have 2 merged segment files + 50 seperate
> > segment files not merged together and these are flushed to FSDir.
> >
> >     If wrong, please correct me.
> >
> >     My doubt is whether we should set MergeFactor & MaxBufferedDocs in
> > proportional ratio (i.e) MaxBufferedDocs = n*MergeFactor where n = 1,2
> > ...
> > to reduce indexing time and get greater performance or no need to worry
> > about it's relation?
>
> Actually, maxBufferedDocs is how many docs are held in RAM before
> flushing to a single segment.  So with 250, after adding the 250th doc
> the writer will write the first segment; after adding the 500th doc,
> it writes the second segment, etc.
>
> Then, mergeFactor says how many segments can be written before a merge
> takes place.  A mergeFactor of 10 means after writing 10 such
> segments from above, they will be merged into a single segment with
> 2500 docs.  After another 2500 docs you'll have 2 such segments.  Then
> once you've added your 25000'th doc, all of the 2500 doc segments will
> be merged into a single 25000 segment doc, etc.
>
> To maximize indexing performance you really want maxBufferedDocs to be
> as large as you can handle (the bigger you make it, the more RAM is
> required by the writer).
>
> I believe (not certain) larger values of mergeFactor will also improve
> performance since it defers merging as long as possible.  However, the
> larger you make this, the more segments are allowed to exist in your
> index, and at some point you will hit file handle limits with your
> searchers.
>
> I don't think these two parameters need to be proportional to one
> another.  I don't think that will affect performance.
>
> Another performance boost is to turn off compound file, but, this has
> a severe cost of requiring far more file handles during searching.
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_21812_2805256.1174655130153--

From java-user-return-27109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 14:04:58 2007
Return-Path: <java-user-return-27109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52199 invoked from network); 23 Mar 2007 14:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 14:04:56 -0000
Received: (qmail 70387 invoked by uid 500); 23 Mar 2007 14:04:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70349 invoked by uid 500); 23 Mar 2007 14:04:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70338 invoked by uid 99); 23 Mar 2007 14:04:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 07:04:55 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.229 as permitted sender)
Received: from [64.233.184.229] (HELO wr-out-0506.google.com) (64.233.184.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 07:04:44 -0700
Received: by wr-out-0506.google.com with SMTP id i28so1029071wra
        for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 07:04:23 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fZkb4QCIj93SchbmkIcg0Mhyd9n0Lz2n3s7+aB4QJXeeSDC01fNh+XrGeFY40B+J2ZXlUXv8UkO+AtVvEw6rslEnBdzgT0Ytb/PsFuoNjylIhhBFw/NAddcjVFrIFpTF8OFleleCQQjtM/rTSDtXf1VX8v61UKN1giuLiJi8ZsA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Dda0yXYC6hXcIB8MyYAYKANU6fqFKg1l1oq9HIzGFCRiVG8zGqt5NcezXi3Sz7nkZXmz9p0k1aW1Wva75tZLgv1k0DwnBkfq92uVBFZHPXo+ZWRUd/4fCGfb6cfvkfLw6/xIE8Qs11dAB0s7Sq+KXi1t5Smam//JlVHRVDvIqTY=
Received: by 10.114.169.2 with SMTP id r2mr1198451wae.1174658659549;
        Fri, 23 Mar 2007 07:04:19 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Fri, 23 Mar 2007 07:04:19 -0700 (PDT)
Message-ID: <359a92830703230704k6b4f4c49h88d22e4e01bdc91f@mail.gmail.com>
Date: Fri, 23 Mar 2007 10:04:19 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: MergeFactor and MaxBufferedDocs value should ...?
In-Reply-To: <4628d2a90703230605l6ae89fe4secd81c88bd715c67@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_221868_24210634.1174658659486"
References: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
	 <1174644692.28699.1180984713@webmail.messagingengine.com>
	 <4628d2a90703230605l6ae89fe4secd81c88bd715c67@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_221868_24210634.1174658659486
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I haven't used it yet, but I've seen several references to
IndexWriter.ramSizeInBytes() and using it to control when the writer
flushes the RAM. This seems like a more deterministic way of
making things efficient than trying various combinations of
maxBufferedDocs , MergeFactor, etc, all of which are guesses
at best.

I'd be really curious if it works for you...

Erick

On 3/23/07, SK R <rsk.sen@gmail.com> wrote:
>
> Please clarify the following.
>
>      1.When will be the segments in RAMDirectory moved (flushed) in to
> FSDirectory?
>
>      2.Segments creation by maxBufferedDocs occur in RAMDir. Where merge
> by
> MergeFactor happen? whether in RAMDir or FSDir?
>
> Thanks in Advance
> RSK
>
>
> On 3/23/07, Michael McCandless <lucene@mikemccandless.com> wrote:
> >
> >
> > "SK R" <rsk.sen@gmail.com> wrote:
> > >     If I set MergeFactor = 100 and MaxBufferedDocs=250 , then first
> 100
> > > segments will be merged in RAMDir when 100 docs arrived. At the end of
> > > 350th
> > > doc added to writer , RAMDir have 2 merged segment files + 50 seperate
> > > segment files not merged together and these are flushed to FSDir.
> > >
> > >     If wrong, please correct me.
> > >
> > >     My doubt is whether we should set MergeFactor & MaxBufferedDocs in
> > > proportional ratio (i.e) MaxBufferedDocs = n*MergeFactor where n = 1,2
> > > ...
> > > to reduce indexing time and get greater performance or no need to
> worry
> > > about it's relation?
> >
> > Actually, maxBufferedDocs is how many docs are held in RAM before
> > flushing to a single segment.  So with 250, after adding the 250th doc
> > the writer will write the first segment; after adding the 500th doc,
> > it writes the second segment, etc.
> >
> > Then, mergeFactor says how many segments can be written before a merge
> > takes place.  A mergeFactor of 10 means after writing 10 such
> > segments from above, they will be merged into a single segment with
> > 2500 docs.  After another 2500 docs you'll have 2 such segments.  Then
> > once you've added your 25000'th doc, all of the 2500 doc segments will
> > be merged into a single 25000 segment doc, etc.
> >
> > To maximize indexing performance you really want maxBufferedDocs to be
> > as large as you can handle (the bigger you make it, the more RAM is
> > required by the writer).
> >
> > I believe (not certain) larger values of mergeFactor will also improve
> > performance since it defers merging as long as possible.  However, the
> > larger you make this, the more segments are allowed to exist in your
> > index, and at some point you will hit file handle limits with your
> > searchers.
> >
> > I don't think these two parameters need to be proportional to one
> > another.  I don't think that will affect performance.
> >
> > Another performance boost is to turn off compound file, but, this has
> > a severe cost of requiring far more file handles during searching.
> >
> > Mike
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_221868_24210634.1174658659486--

From java-user-return-27110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 14:19:36 2007
Return-Path: <java-user-return-27110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58747 invoked from network); 23 Mar 2007 14:19:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 14:19:35 -0000
Received: (qmail 18641 invoked by uid 500); 23 Mar 2007 14:19:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18599 invoked by uid 500); 23 Mar 2007 14:19:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18588 invoked by uid 99); 23 Mar 2007 14:19:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 07:19:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.215] (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Mar 2007 07:19:22 -0700
Received: (qmail 61935 invoked by uid 60001); 23 Mar 2007 14:18:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=u5QDJzKSVF8A74m2djLcMrFsF7t+EPQeJYGorCxjgHFRGf1ke/PMq8lFOJYVXZk0UUg+joMu32y6fACrbOzk4e1Do/iYikoSbuMscBjS6z24JTOWn2masOMK7UBfv+uK6+sghVkoIAFHtzZMCdzXI8veGXKWwt5CO4tC815JuG0=;
X-YMail-OSG: RBfiqhgVM1m9_8RZmUpe0o6U5p0LZF30vjss27BeTk0auyOE6CI_dWXojcjD2DRAFwNjgWo.UMYmLpypL2_yQ88zEQQKzElavvvsCwpzPM3Sixl4xks-
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Fri, 23 Mar 2007 14:18:58 GMT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Fri, 23 Mar 2007 14:18:58 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Reverse search
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <816422.61608.qm@web26004.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Bear in mind that the million queries you run on the MemoryIndex can be sho=
rtlisted if you place those queries in a RAMIndex and use the source docume=
nt's terms to "query the queries". The list of unique terms for your docume=
nt is readily available in the MemoryIndex's TermEnum.=0AYou can take this =
list and find "likely related queries" to execute from your Query index.=0A=
Note that for phrase queries or other forms of query with multiple mandator=
y terms you should only index one of the terms (preferably the rarest) to e=
nsure that your query is not needlessly executed. For example - using this =
approach I need only run the phrase query for "XYZ limited" whenever I enco=
unter a document with the rare term "XYZ" in it, rather than the much more =
commonplace "limited". =0A=0ACheers=0AMark=0A=0A----- Original Message ----=
=0AFrom: karl wettin <karl.wettin@gmail.com>=0ATo: java-user@lucene.apache.=
org=0ASent: Friday, 23 March, 2007 12:54:36 PM=0ASubject: Re: Reverse searc=
h=0A=0A=0A23 mar 2007 kl. 09.57 skrev Melanie Langlois:=0A=0A> Well, I thou=
gh to use the PerFieldAnalyzerWrapper which contains as  =0A> basic the sno=
wballAnalyzer with English stopwords and use  =0A> snowballAnalyzer with la=
nguage specific keywords for the fields  =0A> which will be in different la=
nguages. But I'm seeing that in your  =0A> MemoryIndexTest you commented th=
e use of SnowballAnalyzer, is it  =0A> because it's too slow. In this case,=
 I think I could use the  =0A> StandardAnalyzer... what do you think?=0A=0A=
I think that creating an index with a couple of documents takes a  =0Afract=
ion of the time it will take to place a million queries on that  =0Aindex. =
There is no real need to optimize something that takes  =0Amilliseconds whe=
n you in the same process do something that takes  =0Ahalf a minute.=0A=0A-=
- =0Akarl=0A=0A>=0A> M=E9lanie=0A>=0A> -----Original Message-----=0A> From:=
 karl wettin [mailto:karl.wettin@gmail.com]=0A> Sent: Friday, March 23, 200=
7 12:46 PM=0A> To: java-user@lucene.apache.org=0A> Subject: Re: Reverse sea=
rch=0A>=0A>=0A> 23 mar 2007 kl. 03.07 skrev Melanie Langlois:=0A>=0A>> Than=
ks Karl, the performances graph is really amazing!=0A>> I have to say that =
it would not have think this way around would be=0A>> faster, but sounds ni=
ce if I can use this, make everything easier=0A>> to manage. I'm just wonde=
ring what did you consider when you build=0A>> your graph, only the time to=
 run the queries? Because, I should add=0A>> the time for creating the inde=
x anytime a new document comes in (or=0A>> a subset of documents if several=
 comes in same time), and the=0A>> indexing of these documents. The documen=
ts should not be big,=0A>> around 2KB. Did you measure this part ?=0A>=0A> =
Adding a document to a MemoryIndex or InstantiatedIndex takes more or=0A> l=
ess the same time it would take to add it to an empty RAMDirectory.=0A> How=
 many clock ticks is spent really depends on what analysers you  =0A> use.=
=0A>=0A> -- =0A> karl=0A>=0A>>=0A>> M=E9lanie=0A>>=0A>> -----Original Messa=
ge-----=0A>> From: karl wettin [mailto:karl.wettin@gmail.com]=0A>> Sent: Fr=
iday, March 23, 2007 10:35 AM=0A>> To: java-user@lucene.apache.org=0A>> Sub=
ject: Re: Reverse search=0A>>=0A>>=0A>> 23 mar 2007 kl. 02.12 skrev Melanie=
 Langlois:=0A>>=0A>>> I want to manage user subscriptions to specific docum=
ents. So I=0A>>> would like to store the subscription (query) into the luce=
ne=0A>>> directory, and whenever I receive a new document, I will search al=
l=0A>>> the matching subscriptions to send the documents to all subcribers.=
=0A>>> For instance if a user subscribes to all documents with text=0A>>> c=
ontaining (WORD1 and WORD2) or WORD3, how can I match the incoming=0A>>> do=
cument based on stored subscriptions? I was thinking to have two=0A>>> subf=
ields for each field of the subscription: the AND conditions=0A>>> and the =
OR conditions.=0A>>>=0A>>> -OR. I will tokenized the document field content=
 and insert OR=0A>>> between each of them, and run the query against OR con=
dition of=0A>>> subscription=0A>>>=0A>>> -It's for the AND that I will have=
 an issue, because if the=0A>>> incoming text may contains more words than =
the sequence I want to=0A>>> search.=0A>>>=0A>>> For instance, if I subscri=
be for documents contents lucene and java=0A>>> for instance , if the incom=
ing document contents is lucene is a=0A>>> great API which has been develop=
ed in java, once I removed=0A>>> stopwords my query would look like lucene =
and great and API and=0A>>> developed and java.=0A>>>=0A>>> As query is com=
posed of more words than the stored subscription I=0A>>> will fail to retri=
eve the subscription. But if I put only or words,=0A>>> the results will no=
t be accurate, as I can obtain subscription only=0A>>> for java for instanc=
e.=0A>>>=0A>>=0A>> I wrote such a thing way back, where I used the new docu=
ment as the=0A>> query and the user subscriptions as the index. Similar to =
what you=0A>> describe, I had an AND, OR and NOT field. This really limited=
 the=0A>> type of queries users could store. It does however work, particul=
lary=0A>> well on systems with /huge/ amounts of subscriptions (many millio=
ns).=0A>>=0A>> Today I would have used something else. If you insert one do=
cument at=0A>> the time to your index, take a look at MemoryIndex in contri=
b. If you=0A>> insert documents in batches larger than one document at the =
time,=0A>> take a look at LUCENE-550 in the Jira. Add new documents to such=
 an=0A>> index and place the subscribed queries on it. Depening on the=0A>>=
 queries, the speed should be some 20-100 times faster than using a=0A>> RA=
MDirectory. One million queries should take some 20 seconds to=0A>> assembl=
e and place on a 25 document index on my laptop. See <https://=0A>> issues.=
apache.org/jira/secure/attachment/=0A>> 12353601/12353601_HitCollectionBenc=
h.jpg> for performace of=0A>> LUCENE-550.=0A>>=0A>> -- =0A>> karl=0A>>=0A>>=
 ---------------------------------------------------------------------=0A>>=
 To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A>> For a=
dditional commands, e-mail: java-user-help@lucene.apache.org=0A>>=0A>>=0A>>=
 ---------------------------------------------------------------------=0A>>=
 To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A>> For a=
dditional commands, e-mail: java-user-help@lucene.apache.org=0A>>=0A>=0A>=
=0A> ---------------------------------------------------------------------=
=0A> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> Fo=
r additional commands, e-mail: java-user-help@lucene.apache.org=0A>=0A>=0A>=
 ---------------------------------------------------------------------=0A> =
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> For add=
itional commands, e-mail: java-user-help@lucene.apache.org=0A>=0A=0A=0A----=
-----------------------------------------------------------------=0ATo unsu=
bscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional c=
ommands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=09=
=09=0A___________________________________________________________ =0AWhat k=
ind of emailer are you? Find out today - get a free analysis of your email =
personality. Take the quiz at the Yahoo! Mail Championship. =0Ahttp://uk.rd=
.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 14:23:58 2007
Return-Path: <java-user-return-27111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60530 invoked from network); 23 Mar 2007 14:23:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 14:23:57 -0000
Received: (qmail 27161 invoked by uid 500); 23 Mar 2007 14:23:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27128 invoked by uid 500); 23 Mar 2007 14:23:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27111 invoked by uid 99); 23 Mar 2007 14:23:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 07:23:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 07:23:40 -0700
Received: from compute1.internal (unknown [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id BA69720C258
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 10:23:20 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by compute1.internal (MEProxy); Fri, 23 Mar 2007 10:23:20 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id AF5B3181574; Fri, 23 Mar 2007 10:23:20 -0400 (EDT)
Message-Id: <1174659800.1301.1181021031@webmail.messagingengine.com>
X-Sasl-Enc: Jtt3UF1me1pTNK/0CS7Ji446cYbJkR3b2tuUaAeaOR8j 1174659800
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
   <1174644692.28699.1180984713@webmail.messagingengine.com>
   <4628d2a90703230605l6ae89fe4secd81c88bd715c67@mail.gmail.com>
Subject: Re: MergeFactor and MaxBufferedDocs value should ...?
In-Reply-To: <4628d2a90703230605l6ae89fe4secd81c88bd715c67@mail.gmail.com>
Date: Fri, 23 Mar 2007 10:23:20 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"SK R" <rsk.sen@gmail.com> wrote:
>      1.When will be the segments in RAMDirectory moved (flushed) in to
> FSDirectory?

This is maxBufferedDocs.  Right now, every added doc creates its own
segment in the RAMDir.  After maxBufferedDocs, all of these single
documents are merged and flushed to a single segment in FSDir.

This is actually not really a very efficient way for IndexWriter to
use RAM.  I'm working on improving this / speeding it up under this
Jira issue:

    http://issues.apache.org/jira/browse/LUCENE-843

But it will be some time before this is stable & released!

>      2.Segments creation by maxBufferedDocs occur in RAMDir.

Actually, no.  The segments created due to maxBufferedDocs are in FSDir.

> Where merge by MergeFactor happen? whether in RAMDir or FSDir?

This is always in FSDir.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 14:28:52 2007
Return-Path: <java-user-return-27112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62733 invoked from network); 23 Mar 2007 14:28:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 14:28:51 -0000
Received: (qmail 47982 invoked by uid 500); 23 Mar 2007 14:28:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47818 invoked by uid 500); 23 Mar 2007 14:28:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47807 invoked by uid 99); 23 Mar 2007 14:28:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 07:28:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.29] (HELO out5.smtp.messagingengine.com) (66.111.4.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 07:28:40 -0700
Received: from compute1.internal (unknown [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id BC67A20BCC9
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 10:28:20 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by compute1.internal (MEProxy); Fri, 23 Mar 2007 10:28:20 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id B3BA6181573; Fri, 23 Mar 2007 10:28:20 -0400 (EDT)
Message-Id: <1174660100.1862.1181022999@webmail.messagingengine.com>
X-Sasl-Enc: SgnHxvkkrB+U4aonl491lBLZikNCNLRiwVQrqcS60EZ0 1174660100
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
   <1174644692.28699.1180984713@webmail.messagingengine.com>
   <4628d2a90703230605l6ae89fe4secd81c88bd715c67@mail.gmail.com>
   <359a92830703230704k6b4f4c49h88d22e4e01bdc91f@mail.gmail.com>
Subject: Re: MergeFactor and MaxBufferedDocs value should ...?
In-Reply-To: <359a92830703230704k6b4f4c49h88d22e4e01bdc91f@mail.gmail.com>
Date: Fri, 23 Mar 2007 10:28:20 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"Erick Erickson" <erickerickson@gmail.com> wrote:
> I haven't used it yet, but I've seen several references to
> IndexWriter.ramSizeInBytes() and using it to control when the writer
> flushes the RAM. This seems like a more deterministic way of
> making things efficient than trying various combinations of
> maxBufferedDocs , MergeFactor, etc, all of which are guesses
> at best.

I agree this is the most efficient way to flush.  The one caveat is
this Jira issue:

  http://issues.apache.org/jira/browse/LUCENE-845

which can cause over-merging if you make maxBufferedDocs too large.

I think the rule of thumb to avoid this issue is 1) set
maxBufferedDocs to be no more than 10X the "typical" number of docs
you will flush, and then 2) flush by RAM usage.

So for example if when you flush by RAM you typically flush "around"
200-300 docs, then setting maxBufferedDocs to eg 1000 is good since
it's far above 200-300 (so it won't trigger a flush when you didn't
want it to) but it's also well below 10X your range of docs (so it
won't tickle the above bug).

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 16:06:02 2007
Return-Path: <java-user-return-27113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4623 invoked from network); 23 Mar 2007 16:06:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 16:06:01 -0000
Received: (qmail 13962 invoked by uid 500); 23 Mar 2007 16:05:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13849 invoked by uid 500); 23 Mar 2007 16:05:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13822 invoked by uid 99); 23 Mar 2007 16:05:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 09:05:59 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jafarim@gmail.com designates 66.249.82.225 as permitted sender)
Received: from [66.249.82.225] (HELO wx-out-0506.google.com) (66.249.82.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 09:05:48 -0700
Received: by wx-out-0506.google.com with SMTP id i29so1215386wxd
        for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 09:05:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=qbJ70Q3j9x2qATI6FW59vyFTe5N7RqokxE6sE/ODtrzrmZIg/ShfV8vSqvCHy5X9VRGwj6f8cS/9U5kRBlIRfiJ6lGoJxslRpz5MbPt4vgRgK8H24/Myl4wbbPwA8w+ZbU+dQfblvCTbFXS872j9C9MHn1mi1CqWg2NdkiN+yuQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=m4umSsvMNSLPQOkcQxfp6WNHe4yLXDQqsBxEVzEJwY8bHyYBSwk+fAZAvjuVg1gbGW2p9SnxOBOxGjgnlQhS4BnUK4tmVx6mx+CpfQwFm/A0PL09lq8MTrSr6g08we9o22OQJRFnTksKmXMakP4ZF7B2GODfbIr53FqgRE11emQ=
Received: by 10.70.38.12 with SMTP id l12mr6025703wxl.1174665927908;
        Fri, 23 Mar 2007 09:05:27 -0700 (PDT)
Received: by 10.70.29.10 with HTTP; Fri, 23 Mar 2007 09:05:27 -0700 (PDT)
Message-ID: <bddd3c950703230905g7d26dc2cy32c7cf5472e94573@mail.gmail.com>
Date: Fri, 23 Mar 2007 19:35:27 +0330
From: jafarim <jafarim@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: Lazy Field Loading in IndexSearcher
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_65881_10246835.1174665927709"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_65881_10246835.1174665927709
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
I am seeking for making use of the latest lazy field loading in lucene 2.1.
I store the orignal bytes of a document, say a PDF file for example, in a
special untokenized field in the index. Though there is enough facilities in
IndexReader class for lazy field loading, the search API in IndexSearcher
does not contain such facilities (seemingly). Hence, the Documents I get
from the Hits.doc() would not benefit from the mentioned feature.
Am I missing an important point or this is a desired feature to go on the
todo list?
--Jafarim

------=_Part_65881_10246835.1174665927709--

From java-user-return-27114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 17:49:29 2007
Return-Path: <java-user-return-27114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45646 invoked from network); 23 Mar 2007 17:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 17:49:28 -0000
Received: (qmail 77528 invoked by uid 500); 23 Mar 2007 17:49:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77477 invoked by uid 500); 23 Mar 2007 17:49:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77466 invoked by uid 99); 23 Mar 2007 17:49:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 10:49:29 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [130.89.4.34] (HELO mail.service.utwente.nl) (130.89.4.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 10:49:19 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: index word files ( doc )
Date: Fri, 23 Mar 2007 18:48:56 +0100
Message-ID: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: index word files ( doc )
Thread-Index: Acdtc4e4WYc+BCPxRqC4ES1YH8TnTg==
From: <e.j.w.vanbloem@student.utwente.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,
=20
I am planning to index Word 2003 files. I read I have to use Jakarta =
Apache POI, but I also read on the POI site that their work with doc's =
is in an early stage.
=20
Is POI advisable? Or are there better alternatives?
Please give some advice.
=20
Regards,
=20
Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 17:55:50 2007
Return-Path: <java-user-return-27115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46855 invoked from network); 23 Mar 2007 17:55:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 17:55:49 -0000
Received: (qmail 86188 invoked by uid 500); 23 Mar 2007 17:55:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86097 invoked by uid 500); 23 Mar 2007 17:55:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86080 invoked by uid 99); 23 Mar 2007 17:55:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 10:55:49 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jafarim@gmail.com designates 66.249.90.177 as permitted sender)
Received: from [66.249.90.177] (HELO ik-out-1112.google.com) (66.249.90.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 10:55:41 -0700
Received: by ik-out-1112.google.com with SMTP id b35so1470836ika
        for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 10:55:19 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=d3zXOM+wr45lndze1m+FZlsmB6vcdHiy31I/QObNPGlaJ8pYmdlG74ieCanKfsNhZ8KzNLqvjGZ24n69OgoxFYaDZ13eOkuhM6yHyQ0Da8shoLu9jlUp+9yec9BXMtM9H4xn5Q+M4jNFNrTQugG9pj8/oalxfU7OxaoRrcd45zs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lxh3HHuemTMNzh6opKjO3kH5r8XivmxjRDhd/xJGhzeML1xo363Fq9F4yhNkDeUg/+cC1KtLKhMGUGPzfa/1ENgqld5KhGWkdV+F6XfOFLmP6+u7ZVYkbwN52cMzCVSjwzQiJIT55IwoPwPsmRhAN0EdUrQCnF/CFcfZFfe7IPU=
Received: by 10.70.99.9 with SMTP id w9mr6173051wxb.1174672519092;
        Fri, 23 Mar 2007 10:55:19 -0700 (PDT)
Received: by 10.70.29.10 with HTTP; Fri, 23 Mar 2007 10:55:19 -0700 (PDT)
Message-ID: <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
Date: Fri, 23 Mar 2007 21:25:19 +0330
From: jafarim <jafarim@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_66462_23420084.1174672519011"
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_66462_23420084.1174672519011
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
My experience is not much satisfactory. It breaks very easily on many files.

On 3/23/07, e.j.w.vanbloem@student.utwente.nl <
e.j.w.vanbloem@student.utwente.nl> wrote:
>
> Hello,
>
> I am planning to index Word 2003 files. I read I have to use Jakarta
> Apache POI, but I also read on the POI site that their work with doc's is in
> an early stage.
>
> Is POI advisable? Or are there better alternatives?
> Please give some advice.
>
> Regards,
>
> Erik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_66462_23420084.1174672519011--

From java-user-return-27116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 18:02:30 2007
Return-Path: <java-user-return-27116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49646 invoked from network); 23 Mar 2007 18:02:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 18:02:29 -0000
Received: (qmail 3990 invoked by uid 500); 23 Mar 2007 18:02:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3966 invoked by uid 500); 23 Mar 2007 18:02:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3955 invoked by uid 99); 23 Mar 2007 18:02:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 11:02:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 11:02:19 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C1D815B770; Fri, 23 Mar 2007 11:01:58 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B7DF87F403
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 11:01:58 -0700 (PDT)
Date: Fri, 23 Mar 2007 11:01:58 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user <java-user@lucene.apache.org>
Subject: Re: Lazy Field Loading in IndexSearcher
In-Reply-To: <bddd3c950703230905g7d26dc2cy32c7cf5472e94573@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703231101250.15896@hal.rescomp.berkeley.edu>
References: <bddd3c950703230905g7d26dc2cy32c7cf5472e94573@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


please read the answer i gave you the last time you asked this question...

http://www.nabble.com/Re%3A-Lazy-field-loading-in-p9604064.html


: Hi
: I am seeking for making use of the latest lazy field loading in lucene 2.1.
: I store the orignal bytes of a document, say a PDF file for example, in a
: special untokenized field in the index. Though there is enough facilities in
: IndexReader class for lazy field loading, the search API in IndexSearcher
: does not contain such facilities (seemingly). Hence, the Documents I get
: from the Hits.doc() would not benefit from the mentioned feature.
: Am I missing an important point or this is a desired feature to go on the
: todo list?
: --Jafarim




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 18:21:02 2007
Return-Path: <java-user-return-27117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55874 invoked from network); 23 Mar 2007 18:21:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 18:21:01 -0000
Received: (qmail 43762 invoked by uid 500); 23 Mar 2007 18:21:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43735 invoked by uid 500); 23 Mar 2007 18:21:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43724 invoked by uid 99); 23 Mar 2007 18:21:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 11:21:01 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jafarim@gmail.com designates 66.249.82.239 as permitted sender)
Received: from [66.249.82.239] (HELO wx-out-0506.google.com) (66.249.82.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 11:20:53 -0700
Received: by wx-out-0506.google.com with SMTP id i29so1263471wxd
        for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 11:20:32 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=hF/k0yTq9qZ3SCWRlewHYWzq87mES89kmCDzdrjs5orT9vDXN/lOr3qd8xisTgBS6rbZ3vGhcqPOjeCT8xDMC2NUWID/jiHG37q7dtCvUw3oDjj7giCEzCIP1jMTW9d1OL9GgcZLiVWURzNEudVDr7IpI+jFOoeFbTiuz8OVuPg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qnWjSfxoQFm11FchgwI4l41BCjQXkeCPUgpxaPz+0WQo4MGcNEnC1J8vF8rIyyVeyX1cUAqo57e7sSjO8cy0I/+P0SLuzck7SXFFZ85Bu/qTzqxdF/mzqtgF/1ww/MgGysILs30iFA3Om5d6HIBBo+Vxn5bZNxKV9ka6Ax+zBM4=
Received: by 10.70.89.19 with SMTP id m19mr6146399wxb.1174674032472;
        Fri, 23 Mar 2007 11:20:32 -0700 (PDT)
Received: by 10.70.29.10 with HTTP; Fri, 23 Mar 2007 11:20:32 -0700 (PDT)
Message-ID: <bddd3c950703231120p37f01ebbk2af6473b325e70a0@mail.gmail.com>
Date: Fri, 23 Mar 2007 21:50:32 +0330
From: jafarim <jafarim@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lazy Field Loading in IndexSearcher
In-Reply-To: <Pine.LNX.4.58.0703231101250.15896@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_66562_8945152.1174674032355"
References: <bddd3c950703230905g7d26dc2cy32c7cf5472e94573@mail.gmail.com>
	 <Pine.LNX.4.58.0703231101250.15896@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_66562_8945152.1174674032355
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Sorry if the question is trivial but why not a Hits.doc(int,FieldSelector)
method?

On 3/23/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> please read the answer i gave you the last time you asked this question...
>
> http://www.nabble.com/Re%3A-Lazy-field-loading-in-p9604064.html
>
>
> : Hi
> : I am seeking for making use of the latest lazy field loading in lucene
> 2.1.
> : I store the orignal bytes of a document, say a PDF file for example, in
> a
> : special untokenized field in the index. Though there is enough
> facilities in
> : IndexReader class for lazy field loading, the search API in
> IndexSearcher
> : does not contain such facilities (seemingly). Hence, the Documents I get
> : from the Hits.doc() would not benefit from the mentioned feature.
> : Am I missing an important point or this is a desired feature to go on
> the
> : todo list?
> : --Jafarim
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_66562_8945152.1174674032355--

From java-user-return-27118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 18:32:16 2007
Return-Path: <java-user-return-27118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60016 invoked from network); 23 Mar 2007 18:32:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 18:32:15 -0000
Received: (qmail 73717 invoked by uid 500); 23 Mar 2007 18:32:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73685 invoked by uid 500); 23 Mar 2007 18:32:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73655 invoked by uid 99); 23 Mar 2007 18:32:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 11:32:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 11:32:02 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CCAA25B770; Fri, 23 Mar 2007 11:31:41 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C66A07F403
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 11:31:41 -0700 (PDT)
Date: Fri, 23 Mar 2007 11:31:41 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lazy Field Loading in IndexSearcher
In-Reply-To: <bddd3c950703231120p37f01ebbk2af6473b325e70a0@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703231129040.20159@hal.rescomp.berkeley.edu>
References: <bddd3c950703230905g7d26dc2cy32c7cf5472e94573@mail.gmail.com> 
 <Pine.LNX.4.58.0703231101250.15896@hal.rescomp.berkeley.edu>
 <bddd3c950703231120p37f01ebbk2af6473b325e70a0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Sorry if the question is trivial but why not a Hits.doc(int,FieldSelector)
: method?

As i said before...

>> Lazy loading stored fields is really about perfermance tweaking ... if
>> yoiu are that concerned baout performance, you shouldn't be using Hits at
>> all.

...there is a lot of info in the archives about why Hits is not what you
should be using if you are trying to tweak for speed.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 19:40:03 2007
Return-Path: <java-user-return-27119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96937 invoked from network); 23 Mar 2007 19:40:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 19:40:02 -0000
Received: (qmail 42220 invoked by uid 500); 23 Mar 2007 19:40:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42189 invoked by uid 500); 23 Mar 2007 19:40:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42177 invoked by uid 99); 23 Mar 2007 19:40:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 12:40:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [17.250.248.176] (HELO smtpout.mac.com) (17.250.248.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 12:39:53 -0700
Received: from mac.com (smtpin07-en2 [10.13.10.152])
	by smtpout.mac.com (Xserve/smtpout06/MantshX 4.0) with ESMTP id l2NJdWqC026454
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 12:39:32 -0700 (PDT)
Received: from [192.168.1.100] (216-12-26-136.va.mvl.ntelos.net [216.12.26.136])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin07/MantshX 4.0) with ESMTP id l2NJdKin000636
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 12:39:24 -0700 (PDT)
Message-ID: <46042CEA.80507@mac.com>
Date: Fri, 23 Mar 2007 15:39:22 -0400
From: "Michael J. Prichard" <michael_prichard@mac.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Search Design Question
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Brightmail-Tracker: AAAAAA==
X-Brightmail-scanned: yes
X-Virus-Checked: Checked by ClamAV on apache.org

Hello All,

We allow our users to search through our index with a simple textfield.  
The search phrase has "content" as its default value.  This allows them 
to search quickly through content but then when they type "to:blah AND 
from:foo AND content:boogie" it will know to parse,etc.

What I want to do it expand it so when they type a phrase in the 
textfield it will search select all at once and still be smart enough to 
recognize a lucene query.

For example,  say we have these fields:

to
from
content
subject

When I type "michael contract negotiation" it will look through all 
these fields and return hits.

Then it should be able to recognize more advance searches like:

to:michael AND content:foo

and not go through all fields....

Am I making sense?  Is this a good way to provide search?  How would I 
do this?

Thanks,
Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 19:49:45 2007
Return-Path: <java-user-return-27120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99702 invoked from network); 23 Mar 2007 19:49:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 19:49:43 -0000
Received: (qmail 58838 invoked by uid 500); 23 Mar 2007 19:49:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58806 invoked by uid 500); 23 Mar 2007 19:49:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58787 invoked by uid 99); 23 Mar 2007 19:49:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 12:49:44 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.238 as permitted sender)
Received: from [64.233.184.238] (HELO wr-out-0506.google.com) (64.233.184.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 12:49:35 -0700
Received: by wr-out-0506.google.com with SMTP id i28so1121230wra
        for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 12:49:14 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JVo0kd/2r1ATCLaYOHp6Degwl3JWSo+sRnxo5SsuIdwO7nSoK/FnatWwPEsjC+9Xb9OIFJqkVFS6aP2m+Qb7NNRw0dYmpeAeZqLUeRi814PYRzjUHWdIEzLm7j/dUefLg2mdSlC/7xEZHhlp/aeEvtpGiIbnkjPOdYw4VwewzwI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SRAvihAUUdx4s9wHiRDkP80KYOEXAeMc7Eddts4ag+1XeQmFKDP+/HFeoO2VYcWSvooYuipH1Yimj6wJSBLUay1a96GSUdBlTEezCpbgwM5UI3NSRGGfc15qU7Jd/vHDpuLId95csFf0MuPLth7FoBNMiLNaYULZJIbcr1QDR34=
Received: by 10.114.151.13 with SMTP id y13mr1373138wad.1174679353508;
        Fri, 23 Mar 2007 12:49:13 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Fri, 23 Mar 2007 12:49:13 -0700 (PDT)
Message-ID: <359a92830703231249w1492f286wc60a6fe851fb0c57@mail.gmail.com>
Date: Fri, 23 Mar 2007 15:49:13 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Search Design Question
In-Reply-To: <46042CEA.80507@mac.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_228646_17416288.1174679353430"
References: <46042CEA.80507@mac.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_228646_17416288.1174679353430
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I don't believe there's anything built into Lucene that helps you out here
because you're really saying "do special things for my problem space
in these situations".

So about the only thing you can do that I know of is to construct the
query yourself by making a series of additions to BooleanQuery
based on your particular problem space.

Which you have to do anyway because you want to turn a simple
michael query into
to:michael from:micheal contents:michael subject:michael
(note default or)....

So you'll have to do something like
if (term has colon) {
    just add boolean clause for that term in that field
} else {
   add all four clauses
}

However, be warned...... this is not a trivial task if you want to
support arbitrary grouping, implement precedence, etc. Search
the list for "bad query bug" for an explanation, or go to the FAQ and
look at something like "why don't I get what I expect from queries".
In fact, you really need to look at and understand that FAQ entry
before you let Lucene loose on queries with AND, OR and NOT
in them. It'll be well worth your time......

One final note, it may be much easier for you to throw all the
fields into a single uber-field and search that rather than implement
all four separate clauses, but it's a trade off between simplicity and
size.....

Best
Erick

On 3/23/07, Michael J. Prichard <michael_prichard@mac.com> wrote:
>
> Hello All,
>
> We allow our users to search through our index with a simple textfield.
> The search phrase has "content" as its default value.  This allows them
> to search quickly through content but then when they type "to:blah AND
> from:foo AND content:boogie" it will know to parse,etc.
>
> What I want to do it expand it so when they type a phrase in the
> textfield it will search select all at once and still be smart enough to
> recognize a lucene query.
>
> For example,  say we have these fields:
>
> to
> from
> content
> subject
>
> When I type "michael contract negotiation" it will look through all
> these fields and return hits.
>
> Then it should be able to recognize more advance searches like:
>
> to:michael AND content:foo
>
> and not go through all fields....
>
> Am I making sense?  Is this a good way to provide search?  How would I
> do this?
>
> Thanks,
> Michael
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_228646_17416288.1174679353430--

From java-user-return-27121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 21:04:50 2007
Return-Path: <java-user-return-27121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16373 invoked from network); 23 Mar 2007 21:04:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 21:04:48 -0000
Received: (qmail 77140 invoked by uid 500); 23 Mar 2007 21:04:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77106 invoked by uid 500); 23 Mar 2007 21:04:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77095 invoked by uid 99); 23 Mar 2007 21:04:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 14:04:48 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [130.89.4.34] (HELO mail.service.utwente.nl) (130.89.4.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 14:04:40 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: index word files ( doc )
Date: Fri, 23 Mar 2007 22:03:32 +0100
Message-ID: <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: index word files ( doc )
Thread-Index: AcdtdILSDKKeQ79NSdeBVxrx12SepAAGjPpJ
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl> <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
From: <e.j.w.vanbloem@student.utwente.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you,
=20
Are there other sollutions?

________________________________

Van: jafarim [mailto:jafarim@gmail.com]
Verzonden: vr 23-3-2007 18:55
Aan: java-user@lucene.apache.org
Onderwerp: Re: index word files ( doc )



Hi
My experience is not much satisfactory. It breaks very easily on many =
files.

On 3/23/07, e.j.w.vanbloem@student.utwente.nl <
e.j.w.vanbloem@student.utwente.nl> wrote:
>
> Hello,
>
> I am planning to index Word 2003 files. I read I have to use Jakarta
> Apache POI, but I also read on the POI site that their work with doc's =
is in
> an early stage.
>
> Is POI advisable? Or are there better alternatives?
> Please give some advice.
>
> Regards,
>
> Erik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 23 21:55:25 2007
Return-Path: <java-user-return-27122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28860 invoked from network); 23 Mar 2007 21:55:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 23 Mar 2007 21:55:24 -0000
Received: (qmail 75098 invoked by uid 500); 23 Mar 2007 21:55:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74761 invoked by uid 500); 23 Mar 2007 21:55:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74750 invoked by uid 99); 23 Mar 2007 21:55:25 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 14:55:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.59] (HELO web50305.mail.re2.yahoo.com) (206.190.38.59)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Mar 2007 14:55:16 -0700
Received: (qmail 5031 invoked by uid 60001); 23 Mar 2007 21:54:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=qJKg1Ddka+P+VgKgy9pShnwoSgw6mH6/IalEtKwSvmx5kUGZMg8y0gFwUcVk6DKoehBsPFbcZPK2K3h2g4rqMCYz5lkDOe8SkeX23yot60QsIHfimqN1ODJvKneOUV6WDNfErHzXuralRHResSnI7lUKB64HHgTcgfM3HvO486I=;
X-YMail-OSG: 6Q1Q3VgVM1k2JKqzPdf8bDkOLps37iDsBZvPgy1qek.hRmJLRfnfm49kgI8zg55rcm9tyXa5Zes6rgmAzHApFeO914C5VerE2W36gX7p.gw0KGMSeQPibw--
Received: from [74.73.75.122] by web50305.mail.re2.yahoo.com via HTTP; Fri, 23 Mar 2007 14:54:55 PDT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Fri, 23 Mar 2007 14:54:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: index word files ( doc )
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <824820.4460.qm@web50305.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

I think the code from Lucene in Action has examples that us POI and the Textmining.org API.  Check manning.com/hatcher2 for the code.

Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: "e.j.w.vanbloem@student.utwente.nl" <e.j.w.vanbloem@student.utwente.nl>
To: java-user@lucene.apache.org
Sent: Friday, March 23, 2007 5:03:32 PM
Subject: RE: index word files ( doc )

Thank you,
 
Are there other sollutions?

________________________________

Van: jafarim [mailto:jafarim@gmail.com]
Verzonden: vr 23-3-2007 18:55
Aan: java-user@lucene.apache.org
Onderwerp: Re: index word files ( doc )



Hi
My experience is not much satisfactory. It breaks very easily on many files.

On 3/23/07, e.j.w.vanbloem@student.utwente.nl <
e.j.w.vanbloem@student.utwente.nl> wrote:
>
> Hello,
>
> I am planning to index Word 2003 files. I read I have to use Jakarta
> Apache POI, but I also read on the POI site that their work with doc's is in
> an early stage.
>
> Is POI advisable? Or are there better alternatives?
> Please give some advice.
>
> Regards,
>
> Erik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 24 00:05:12 2007
Return-Path: <java-user-return-27123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60159 invoked from network); 24 Mar 2007 00:05:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Mar 2007 00:05:11 -0000
Received: (qmail 23004 invoked by uid 500); 24 Mar 2007 00:05:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22744 invoked by uid 500); 24 Mar 2007 00:05:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22728 invoked by uid 99); 24 Mar 2007 00:05:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 17:05:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Mar 2007 17:05:02 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 76C7E5B770; Fri, 23 Mar 2007 17:04:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5ABDA7F403
	for <java-user@lucene.apache.org>; Fri, 23 Mar 2007 17:04:42 -0700 (PDT)
Date: Fri, 23 Mar 2007 17:04:42 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Search Design Question
In-Reply-To: <359a92830703231249w1492f286wc60a6fe851fb0c57@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703231703420.6721@hal.rescomp.berkeley.edu>
References: <46042CEA.80507@mac.com> <359a92830703231249w1492f286wc60a6fe851fb0c57@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: One final note, it may be much easier for you to throw all the
: fields into a single uber-field and search that rather than implement
: all four separate clauses, but it's a trade off between simplicity and
: size.....

this would be a very simple way to get the behavior you describe straight
from the lucene QueryParser ... i would certinaly recommend that approach.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 24 07:03:01 2007
Return-Path: <java-user-return-27124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25696 invoked from network); 24 Mar 2007 07:03:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Mar 2007 07:03:00 -0000
Received: (qmail 87192 invoked by uid 500); 24 Mar 2007 07:03:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87162 invoked by uid 500); 24 Mar 2007 07:03:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87146 invoked by uid 99); 24 Mar 2007 07:03:01 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 00:03:00 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 00:02:52 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2O72LnO032163
	for <java-user@lucene.apache.org>; Sat, 24 Mar 2007 09:02:21 +0200
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3o92l8a; 24 Mar 2007 09:02:00 +0200
Message-ID: <4604CCFD.9030803@teamware.com>
Date: Sat, 24 Mar 2007 18:02:21 +1100
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl> <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com> <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
In-Reply-To: <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Sat, 24 Mar 2007 09:02:21 +0200 (EET)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

www.textmining.org, but the site is no longer accessible.  Check Nutch which has 
a Word parser - it seems to be the original textmining.org Word6+POI parser.

Pre-word6 and "fast-saved" files will not work.  I've not found a solution for those
Antony


e.j.w.vanbloem@student.utwente.nl wrote:
> Thank you,
>  
> Are there other sollutions?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 24 07:23:07 2007
Return-Path: <java-user-return-27125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33390 invoked from network); 24 Mar 2007 07:23:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Mar 2007 07:23:05 -0000
Received: (qmail 99103 invoked by uid 500); 24 Mar 2007 07:23:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99062 invoked by uid 500); 24 Mar 2007 07:23:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99047 invoked by uid 99); 24 Mar 2007 07:23:07 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 00:23:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ssiren@gmail.com designates 209.85.134.186 as permitted sender)
Received: from [209.85.134.186] (HELO mu-out-0910.google.com) (209.85.134.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 00:22:58 -0700
Received: by mu-out-0910.google.com with SMTP id i10so2199354mue
        for <java-user@lucene.apache.org>; Sat, 24 Mar 2007 00:22:36 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:x-enigmail-version:content-type:content-transfer-encoding;
        b=obQgdoqzrujejx0Ogd2nHeRiUeY6HPxunpoi+TLCqxRfb93fT21cnpmc+h6DViE4C6W1r1gHqV95gi+WT/BGwbvoOBllJRWYrxCetU45ZeUCe8zfPnUmoJK7vLvfJyrPaLRD02QLKTL+AbOK2jpbmvusHEx6sIYGy35BfZjQvbY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:x-enigmail-version:content-type:content-transfer-encoding;
        b=sen+xt12uQydyLkRhG/tfdlRfGKbLWvGtq9f1DPodPiNF1fymtHmJpVw0EOEc+PxlZI34h2jdiLB4R/Ko37DvtcqPqizSpHSNxQ05ttDzwcehYto4C1uIoJuQDWI+BZ65IzGFJ8DJ1p2h+5sDvzGNRj2qOUrhxg+MKgAM26p1+g=
Received: by 10.82.153.5 with SMTP id a5mr8491296bue.1174720956300;
        Sat, 24 Mar 2007 00:22:36 -0700 (PDT)
Received: from ?84.231.94.188? ( [84.231.94.188])
        by mx.google.com with ESMTP id y2sm18666995mug.2007.03.24.00.22.35;
        Sat, 24 Mar 2007 00:22:35 -0700 (PDT)
Message-ID: <4604D1B9.6010509@gmail.com>
Date: Sat, 24 Mar 2007 09:22:33 +0200
From: Sami Siren <ssiren@gmail.com>
User-Agent: Thunderbird 1.5.0.9 (X11/20070102)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: index word files ( doc )
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl> <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com> <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl> <4604CCFD.9030803@teamware.com>
In-Reply-To: <4604CCFD.9030803@teamware.com>
X-Enigmail-Version: 0.94.1.2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Antony Bowesman wrote:

>> Are there other sollutions?

There's also antiword [1] which can convert your .doc to plain text or
PS, not sure how good it is.

--
 Sami Siren

[1] http://www.winfield.demon.nl/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 24 11:43:45 2007
Return-Path: <java-user-return-27126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7621 invoked from network); 24 Mar 2007 11:43:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Mar 2007 11:43:44 -0000
Received: (qmail 62091 invoked by uid 500); 24 Mar 2007 11:43:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62030 invoked by uid 500); 24 Mar 2007 11:43:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62019 invoked by uid 99); 24 Mar 2007 11:43:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 04:43:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.207] (HELO spunkymail-a2.g.dreamhost.com) (208.97.132.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 04:43:36 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a2.g.dreamhost.com (Postfix) with ESMTP id 122D687B5A
	for <java-user@lucene.apache.org>; Sat, 24 Mar 2007 04:43:13 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
References: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1335A0E5-2EDF-46FB-B410-7D006E2C16BF@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: MergeFactor and MaxBufferedDocs value should ...?
Date: Sat, 24 Mar 2007 07:43:14 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

I would also suggest that contrib/benchmark in the source has a nice  
framework for experimenting with different factors for mergeFactor  
and maxBufferedDocs.  It is quite easy to set it up for a new  
collection (i.e. yours) and run experiments that alter these two values.

Below is a sample "algorithm" file that I have been trying out.  To  
make it work on yours, you need only implement a DocMaker that works  
for your collection (you probably already have the stuff for making  
Documents, you just need to implement it in the DocMaker interface  
and plug it in)


merge.factor=merge:10:100:1000:5000:10:10:10:10:100:1000:100:100
max.buffered=max.buffered: 
10:10:10:10:100:1000:10000:21580:21580:21580:1000:10000
compound=true

analyzer=org.apache.lucene.analysis.standard.StandardAnalyzer
directory=FSDirectory
#directory=RamDirectory

doc.stored=true
doc.tokenized=true
doc.term.vector=false
doc.add.log.step=1000

docs.dir=reuters-out
#docs.dir=reuters-111

#doc.maker=org.apache.lucene.benchmark.byTask.feeds.SimpleDocMaker
doc.maker=org.apache.lucene.benchmark.byTask.feeds.ReutersDocMaker

#query.maker=org.apache.lucene.benchmark.byTask.feeds.SimpleQueryMaker
query.maker=org.apache.lucene.benchmark.byTask.feeds.ReutersQueryMaker

# task at this depth or less would print when they start
task.max.depth.log=2

log.queries=true
#  
------------------------------------------------------------------------ 
-------------

{ "Rounds"

     ResetSystemErase

     { "Populate-Opt"
         CreateIndex
         { "MAddDocs" AddDoc > : 22000
         Optimize
         CloseIndex
     }

     NewRound

} : 13

RepSumByName
RepSumByPrefRound MAddDocs
RepSumByPrefRound Populate-Opt


On Mar 23, 2007, at 2:51 AM, SK R wrote:

> Hi,
>    I've looked the uses of MergeFactor and MaxBufferedDocs.
>
>    If I set MergeFactor = 100 and MaxBufferedDocs=250 , then first 100
> segments will be merged in RAMDir when 100 docs arrived. At the end  
> of 350th
> doc added to writer , RAMDir have 2 merged segment files + 50 seperate
> segment files not merged together and these are flushed to FSDir.
>
>    If wrong, please correct me.
>
>    My doubt is whether we should set MergeFactor & MaxBufferedDocs in
> proportional ratio (i.e) MaxBufferedDocs = n*MergeFactor where n =  
> 1,2 ...
> to reduce indexing time and get greater performance or no need to  
> worry
> about it's relation?
>
>
> Thanks & Regards
> RSK

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 24 19:32:23 2007
Return-Path: <java-user-return-27127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10282 invoked from network); 24 Mar 2007 19:32:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Mar 2007 19:32:20 -0000
Received: (qmail 11044 invoked by uid 500); 24 Mar 2007 19:32:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11001 invoked by uid 500); 24 Mar 2007 19:32:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10990 invoked by uid 99); 24 Mar 2007 19:32:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 12:32:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ryanackley@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 12:32:12 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2257421nfe
        for <java-user@lucene.apache.org>; Sat, 24 Mar 2007 12:31:50 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YfyszC8YBsLzFNde6TmjkUwHdd+zJN1YhIjfx7AM4PvhNpfD5Y9+k9KWhqpmDHt8pmFo8cw0AepxKjg+bTbVdHJpZm4IGKQ9+XKEnG2ywodhtxpGaWVqcL4IMDJlCeYDtLtO4Cyu0z7HO1fVQCwjkwKs5vzCWI6vysv6SvGVB/Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=qZv3CfbkkaPy2k5mp43fMN3Y9sGXO8Dw3bPKSx+dpdIQoKHjOpagBilu5vxnwCeGGlzSPZR42PO1Fbrc42YaAvnaBfzUgxKNn59/S71yLxNf3C4ZqFfxIW55X+Z/f+xxlFNykKv0vLeqsBEW1M5R075r9nDAsaAX1dxSgHky2rI=
Received: by 10.115.106.7 with SMTP id i7mr1805849wam.1174764708861;
        Sat, 24 Mar 2007 12:31:48 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Sat, 24 Mar 2007 12:31:48 -0700 (PDT)
Message-ID: <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
Date: Sat, 24 Mar 2007 12:31:48 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <4604D1B9.6010509@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

The site is down but you can download the word extractor library direct here:

http://www.textmining.org/textmining.zip

Going to fix the site this weekend.

On 3/24/07, Sami Siren <ssiren@gmail.com> wrote:
> Antony Bowesman wrote:
>
> >> Are there other sollutions?
>
> There's also antiword [1] which can convert your .doc to plain text or
> PS, not sure how good it is.
>
> --
>  Sami Siren
>
> [1] http://www.winfield.demon.nl/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 24 19:55:40 2007
Return-Path: <java-user-return-27128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14972 invoked from network); 24 Mar 2007 19:55:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Mar 2007 19:55:40 -0000
Received: (qmail 44284 invoked by uid 500); 24 Mar 2007 19:55:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44252 invoked by uid 500); 24 Mar 2007 19:55:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44241 invoked by uid 99); 24 Mar 2007 19:55:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 12:55:41 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jafarim@gmail.com designates 66.249.82.237 as permitted sender)
Received: from [66.249.82.237] (HELO wx-out-0506.google.com) (66.249.82.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 12:55:32 -0700
Received: by wx-out-0506.google.com with SMTP id i29so1527689wxd
        for <java-user@lucene.apache.org>; Sat, 24 Mar 2007 12:55:11 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=t7fJrO3VfUeCwxBhNhpszESW+1RnY2USCY77sfwXnUrenyZnJ73l9FONcHMhNjt1xZB6er2FXWgG4T2A+sNQkUrxhRBUi3wEAfMWO9Tucn1HFF6XUmgid8KYG+28GGg6B+89/cU7B9ZYuP6AI1aP4CyFZd7YgjFFcBwRYDkvNnU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=g7OW2SBAX7oKCaRAARlwHq5KAH21HpMRiN5ngJmwNvNA3Hv7ox7h1Z9Dn84iR2iAyG8A0HkYTQcvuZcf8qtDyxeunw0mKy0OxXlhWtaPD6qlvStx0Ro+UfDYUiYMP3QEhHEcDRb9Lg/rTdPYi9QmmlwVHNWrmT6zlenLP+I6j60=
Received: by 10.70.130.19 with SMTP id c19mr8102693wxd.1174766111462;
        Sat, 24 Mar 2007 12:55:11 -0700 (PDT)
Received: by 10.70.29.10 with HTTP; Sat, 24 Mar 2007 12:55:11 -0700 (PDT)
Message-ID: <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
Date: Sat, 24 Mar 2007 23:25:11 +0330
From: jafarim <jafarim@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_70732_13031540.1174766111375"
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>
	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_70732_13031540.1174766111375
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Can anyone make a comparison between the two, namely POI API and the one
from textmining.org?

On 3/24/07, Ryan Ackley <ryanackley@gmail.com> wrote:
>
> The site is down but you can download the word extractor library direct
> here:
>
> http://www.textmining.org/textmining.zip
>
> Going to fix the site this weekend.
>
> On 3/24/07, Sami Siren <ssiren@gmail.com> wrote:
> > Antony Bowesman wrote:
> >
> > >> Are there other sollutions?
> >
> > There's also antiword [1] which can convert your .doc to plain text or
> > PS, not sure how good it is.
> >
> > --
> >  Sami Siren
> >
> > [1] http://www.winfield.demon.nl/
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_70732_13031540.1174766111375--

From java-user-return-27129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 24 21:59:13 2007
Return-Path: <java-user-return-27129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38584 invoked from network); 24 Mar 2007 21:59:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 24 Mar 2007 21:59:13 -0000
Received: (qmail 72025 invoked by uid 500); 24 Mar 2007 21:59:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71989 invoked by uid 500); 24 Mar 2007 21:59:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71974 invoked by uid 99); 24 Mar 2007 21:59:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 14:59:13 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ryanackley@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 14:59:05 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1437078ugc
        for <java-user@lucene.apache.org>; Sat, 24 Mar 2007 14:58:43 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=V4QNIAgax6CJMUasAkqoiDdkL8qbCJO9+FqwyUZ2gsWsIJEWx+vKxH5mOmaJQrkEWs5sEtMybN7cKwGpbW+qnnXxNZKEyQB/HCKMDULewSt/zMDcTs6eKmnjV2tfr0ZAkgTkvBJV/YU9DizSP7wPa4JN1O0MQYJpCzhkeuWg7Mo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=G5JJena2D2drLkFZKDkFI3iGw9G0Lxh/krwMbseNbv45J7x7hUowRyxMGEu9HAIr0D7k9CY6s850h83epR0prx/RkDxEWLtbqzpmpvx6hEUcsT/Jzl+QFM06+Z6sOUSR5PGABUx3pRGejNDDdB0HhbItzn953DfP06SN0AeVsHc=
Received: by 10.115.76.1 with SMTP id d1mr1857643wal.1174773522708;
        Sat, 24 Mar 2007 14:58:42 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Sat, 24 Mar 2007 14:58:42 -0700 (PDT)
Message-ID: <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
Date: Sat, 24 Mar 2007 14:58:42 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>
	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

As the author of both Word POI and textmining.org, I recommend using
textmining.org. POI is for general purpose manipulation of Word
documents. textmining's only purpose is extracting text.

Also, people recommend using POI for text extraction but the only
place I've seen an actual how-to on this is in the "Lucene in Action"
book.

On 3/24/07, jafarim <jafarim@gmail.com> wrote:
> Can anyone make a comparison between the two, namely POI API and the one
> from textmining.org?
>
> On 3/24/07, Ryan Ackley <ryanackley@gmail.com> wrote:
> >
> > The site is down but you can download the word extractor library direct
> > here:
> >
> > http://www.textmining.org/textmining.zip
> >
> > Going to fix the site this weekend.
> >
> > On 3/24/07, Sami Siren <ssiren@gmail.com> wrote:
> > > Antony Bowesman wrote:
> > >
> > > >> Are there other sollutions?
> > >
> > > There's also antiword [1] which can convert your .doc to plain text or
> > > PS, not sure how good it is.
> > >
> > > --
> > >  Sami Siren
> > >
> > > [1] http://www.winfield.demon.nl/
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 02:02:17 2007
Return-Path: <java-user-return-27130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87681 invoked from network); 25 Mar 2007 02:02:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 02:02:16 -0000
Received: (qmail 63347 invoked by uid 500); 25 Mar 2007 02:02:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62990 invoked by uid 500); 25 Mar 2007 02:02:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62979 invoked by uid 99); 25 Mar 2007 02:02:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 19:02:16 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 19:02:06 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HVI3G-0004qU-5N
	for java-user@lucene.apache.org; Sat, 24 Mar 2007 19:01:46 -0700
Message-ID: <9656534.post@talk.nabble.com>
Date: Sat, 24 Mar 2007 19:01:46 -0700 (PDT)
From: Yakn <boardm26@yahoo.com>
To: java-user@lucene.apache.org
Subject: Linking two different indexes
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: boardm26@yahoo.com
X-Virus-Checked: Checked by ClamAV on apache.org


I am trying to link the nutch index and the index generated from my database
using Lucene. So at the time of indexing my database, I want to pull the
indexes in from nutch and link the content from the url in the database and
the url that nutch hit. Can anyone tell me if they have done this and if so
how they did it. I would appreciate the help. If anyone knows of another
way, I would be interested in that as well. Thanks in advance.

Mike
-- 
View this message in context: http://www.nabble.com/Linking-two-different-indexes-tf3461011.html#a9656534
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 02:46:31 2007
Return-Path: <java-user-return-27131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92039 invoked from network); 25 Mar 2007 02:46:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 02:46:30 -0000
Received: (qmail 92734 invoked by uid 500); 25 Mar 2007 02:46:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92706 invoked by uid 500); 25 Mar 2007 02:46:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92688 invoked by uid 99); 25 Mar 2007 02:46:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 19:46:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.104.95.4] (HELO listing.marketingbrokers.com) (66.104.95.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 24 Mar 2007 19:46:19 -0700
Received: from ip66-104-95-21.z95-104-66.customer.algx.net ([66.104.95.21])
          by listing.marketingbrokers.com (JAMES SMTP Server 2.2.0) with SMTP ID 252
          for <java-user@lucene.apache.org>;
          Sat, 24 Mar 2007 18:45:39 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <loom.20070316T051152-189@post.gmane.org>
References: <loom.20070315T111328-903@post.gmane.org> <E049ABF7-6ED4-4675-9475-BD1F733B65FF@gmail.com> <loom.20070316T020809-969@post.gmane.org> <A35D3F8B-E739-4B1D-AAB4-65055E86D064@gmail.com> <47700126-4A68-4084-8624-E7C400F04627@marketingbrokers.com> <loom.20070316T051152-189@post.gmane.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A24F4659-C3AE-4FEA-BE5B-A8028BE6B073@marketingbrokers.com>
Content-Transfer-Encoding: 7bit
From: "Peter W." <peter@marketingbrokers.com>
Subject: Re: How to customize scoring using user feedback?
Date: Sat, 24 Mar 2007 19:45:37 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Xiong,

You have made an excellent point!

It's a choice determined by how you use Sort,
if you need most suitable results pass in:

SortField.FIELD_SCORE
first...

Otherwise, generate all your scores and convert them
to sortable Strings at index time on your  "votes" field.

Then, use this for searches:

Sort srt=new Sort(new SortField[]
{new SortField("votes",SortField.STRING,true),SortField.FIELD_SCORE});

Hits hits=searcher.search(query,srt);

Keep in mind that only presentation level sorting, not Lucene scoring
is changed so results still depend on and are unique for each query.

Utilizing "user feedback to improve search results"  with clickstream
data could be a sub-project in itself. It moves into future areas of
personalization and would be a cool add-on to Lucene.

Hope that helps,

Peter W.




Because scoring
The way it appears to

On Mar 15, 2007, at 9:19 PM, xiong wrote:

> Peter W. <peter <at> marketingbrokers.com> writes:
>
>>
>> Hello,
>>
>> This is not currently in Lucene.
>>
>> Sounds like you are looking for a voting
>> system to generate float scores that would be
>> inserted as a sortable field at index time.
>>
>> Regards,
>>
>> Peter W.
>
> Hi Peter,
>
> But the voting is query depedant, so just add a sortable vote field  
> may not be
> enough?
> For example, query 'Q1' and 'Q2' can reach result 'R1', and 'Q2'  
> can reach
> result 'R2', more votes for 'R1' from 'Q1' will make 'R1' on top of  
> 'R2', even
> if 'R2' is more suitable for 'Q2'.
>
> Regards,
> Xiong
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 02:56:58 2007
Return-Path: <java-user-return-27132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92897 invoked from network); 25 Mar 2007 02:56:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 02:56:58 -0000
Received: (qmail 950 invoked by uid 500); 25 Mar 2007 02:56:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 922 invoked by uid 500); 25 Mar 2007 02:56:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 911 invoked by uid 99); 25 Mar 2007 02:56:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 19:56:59 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.196.97.112] (HELO web57008.mail.re3.yahoo.com) (66.196.97.112)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 24 Mar 2007 19:56:50 -0700
Received: (qmail 87817 invoked by uid 60001); 25 Mar 2007 02:56:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=IiirhvgdfLv8/8sBAkfhAY/OH0QdTj+/2nvu4VpppGAg/DXmmuIxZSqrc66wEL+VmDFyIZokO1x9K7QWwpt5yOCSCi9D75WRMCg3pTR/tcUVOUM0gMkZffc05yeF/XV4X/NzR6zcwqOCd/nwfZ7VIASnhwfFqvSG4z83IW4Mh+k=;
X-YMail-OSG: L280OdgVM1kdEvcQgQUHDb0ncck3Y9u0CAqldX8HXN9WQhGlVLWXISXlULOlTVAYcHnVJGJTR.QUr1bEbpJG2YPRiCHUZQ97MXycg1NKTIR4uSHndYABVMKFKUyIBBGt9wS_dzyQ4.PVkwVFlxrVPNNp
Received: from [69.255.227.192] by web57008.mail.re3.yahoo.com via HTTP; Sat, 24 Mar 2007 19:56:28 PDT
Date: Sat, 24 Mar 2007 19:56:28 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Re: Search Design Question
To: java-user@lucene.apache.org
In-Reply-To: <46042CEA.80507@mac.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2104101505-1174791388=:87405"
Content-Transfer-Encoding: 8bit
Message-ID: <695956.87405.qm@web57008.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-2104101505-1174791388=:87405
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi Michael, 

if I understand your questions correctly - feels like I must have missed something - here is what can do to achieve what you want:

index these fields:

to
from
content
subject
all (includes text from all the above 4 fields)

and use "all" as your default search field. Then when you type "michael contract negotiation", you'll be searching "all" field, which is "all the fields". When you type "to:michael AND content:foo", you will be searching the specified fields only.

Thanks,
Xiaocheng



"Michael J. Prichard" <michael_prichard@mac.com> wrote: Hello All,

We allow our users to search through our index with a simple textfield.  
The search phrase has "content" as its default value.  This allows them 
to search quickly through content but then when they type "to:blah AND 
from:foo AND content:boogie" it will know to parse,etc.

What I want to do it expand it so when they type a phrase in the 
textfield it will search select all at once and still be smart enough to 
recognize a lucene query.

For example,  say we have these fields:

to
from
content
subject

When I type "michael contract negotiation" it will look through all 
these fields and return hits.

Then it should be able to recognize more advance searches like:

to:michael AND content:foo

and not go through all fields....

Am I making sense?  Is this a good way to provide search?  How would I 
do this?

Thanks,
Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
Bored stiff? Loosen up...
Download and play hundreds of games for free on Yahoo! Games.
--0-2104101505-1174791388=:87405--

From java-user-return-27133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 06:12:16 2007
Return-Path: <java-user-return-27133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19647 invoked from network); 25 Mar 2007 06:12:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 06:12:14 -0000
Received: (qmail 36768 invoked by uid 500); 25 Mar 2007 06:12:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36742 invoked by uid 500); 25 Mar 2007 06:12:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36728 invoked by uid 99); 25 Mar 2007 06:12:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 23:12:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Mar 2007 23:12:05 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HVLxB-0000x6-98
	for java-user@lucene.apache.org; Sat, 24 Mar 2007 23:11:45 -0700
Message-ID: <9657599.post@talk.nabble.com>
Date: Sat, 24 Mar 2007 23:11:45 -0700 (PDT)
From: Mohsen Saboorian <mohsens@gmail.com>
To: java-user@lucene.apache.org
Subject: Matched Query Part in Hit Object
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mohsens@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
Is there a way to find the matched part of query string in the Hit object?
Lucene's Hilghlighter module does part of the job, highlighting the matched
word in the result document, however it doesn't give the effective keyword
in query string.
For example, suppose I have a query: "lorem OR elit".

The first matched document is (hit 1): "lorem ipsum dolor sit amet". I want
to find that "lorem" is the matched part of the query.
The second matched document is (hit 2): "consectetur adipisicing elit". I
want to find that "elit" is the matched part of the query.

Thanks in advance.
-- 
View this message in context: http://www.nabble.com/Matched-Query-Part-in-Hit-Object-tf3461413.html#a9657599
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 07:34:39 2007
Return-Path: <java-user-return-27134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32545 invoked from network); 25 Mar 2007 07:34:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 07:34:38 -0000
Received: (qmail 84612 invoked by uid 500); 25 Mar 2007 07:34:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84581 invoked by uid 500); 25 Mar 2007 07:34:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84570 invoked by uid 99); 25 Mar 2007 07:34:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 00:34:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 25 Mar 2007 00:34:29 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032516340700031
 for <java-user@lucene.apache.org>; Sun, 25 Mar 2007 16:34:07 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Reverse search
Date: Sun, 25 Mar 2007 16:34:06 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E588419E@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <816422.61608.qm@web26004.mail.ukl.yahoo.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reverse search
Thread-Index: AcdtVkb9FJ1dX5FmQi66kGHioKVaHgBWOEYg
References: <816422.61608.qm@web26004.mail.ukl.yahoo.com>
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Mark,
If I follow you, I should list the key terms in my incoming document, =
then select the queries which contains these key terms, and then run =
those queries on my index ? If this is correct there is two things I =
don't understand:
-how do I know which term is a key term in my document ?
-how can I select the queries? Should I index them in a separate index?

Thanks,


M=E9lanie Langlois=20
 =20
-----Original Message-----
From: mark harwood [mailto:markharw00d@yahoo.co.uk]=20
Sent: Friday, March 23, 2007 11:19 PM
To: java-user@lucene.apache.org
Subject: Re: Reverse search

Bear in mind that the million queries you run on the MemoryIndex can be =
shortlisted if you place those queries in a RAMIndex and use the source =
document's terms to "query the queries". The list of unique terms for =
your document is readily available in the MemoryIndex's TermEnum.
You can take this list and find "likely related queries" to execute from =
your Query index.
Note that for phrase queries or other forms of query with multiple =
mandatory terms you should only index one of the terms (preferably the =
rarest) to ensure that your query is not needlessly executed. For =
example - using this approach I need only run the phrase query for "XYZ =
limited" whenever I encounter a document with the rare term "XYZ" in it, =
rather than the much more commonplace "limited".=20

Cheers
Mark

----- Original Message ----
From: karl wettin <karl.wettin@gmail.com>
To: java-user@lucene.apache.org
Sent: Friday, 23 March, 2007 12:54:36 PM
Subject: Re: Reverse search


23 mar 2007 kl. 09.57 skrev Melanie Langlois:

> Well, I though to use the PerFieldAnalyzerWrapper which contains as =20
> basic the snowballAnalyzer with English stopwords and use =20
> snowballAnalyzer with language specific keywords for the fields =20
> which will be in different languages. But I'm seeing that in your =20
> MemoryIndexTest you commented the use of SnowballAnalyzer, is it =20
> because it's too slow. In this case, I think I could use the =20
> StandardAnalyzer... what do you think?

I think that creating an index with a couple of documents takes a =20
fraction of the time it will take to place a million queries on that =20
index. There is no real need to optimize something that takes =20
milliseconds when you in the same process do something that takes =20
half a minute.

--=20
karl

>
> M=E9lanie
>
> -----Original Message-----
> From: karl wettin [mailto:karl.wettin@gmail.com]
> Sent: Friday, March 23, 2007 12:46 PM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
>
> 23 mar 2007 kl. 03.07 skrev Melanie Langlois:
>
>> Thanks Karl, the performances graph is really amazing!
>> I have to say that it would not have think this way around would be
>> faster, but sounds nice if I can use this, make everything easier
>> to manage. I'm just wondering what did you consider when you build
>> your graph, only the time to run the queries? Because, I should add
>> the time for creating the index anytime a new document comes in (or
>> a subset of documents if several comes in same time), and the
>> indexing of these documents. The documents should not be big,
>> around 2KB. Did you measure this part ?
>
> Adding a document to a MemoryIndex or InstantiatedIndex takes more or
> less the same time it would take to add it to an empty RAMDirectory.
> How many clock ticks is spent really depends on what analysers you =20
> use.
>
> --=20
> karl
>
>>
>> M=E9lanie
>>
>> -----Original Message-----
>> From: karl wettin [mailto:karl.wettin@gmail.com]
>> Sent: Friday, March 23, 2007 10:35 AM
>> To: java-user@lucene.apache.org
>> Subject: Re: Reverse search
>>
>>
>> 23 mar 2007 kl. 02.12 skrev Melanie Langlois:
>>
>>> I want to manage user subscriptions to specific documents. So I
>>> would like to store the subscription (query) into the lucene
>>> directory, and whenever I receive a new document, I will search all
>>> the matching subscriptions to send the documents to all subcribers.
>>> For instance if a user subscribes to all documents with text
>>> containing (WORD1 and WORD2) or WORD3, how can I match the incoming
>>> document based on stored subscriptions? I was thinking to have two
>>> subfields for each field of the subscription: the AND conditions
>>> and the OR conditions.
>>>
>>> -OR. I will tokenized the document field content and insert OR
>>> between each of them, and run the query against OR condition of
>>> subscription
>>>
>>> -It's for the AND that I will have an issue, because if the
>>> incoming text may contains more words than the sequence I want to
>>> search.
>>>
>>> For instance, if I subscribe for documents contents lucene and java
>>> for instance , if the incoming document contents is lucene is a
>>> great API which has been developed in java, once I removed
>>> stopwords my query would look like lucene and great and API and
>>> developed and java.
>>>
>>> As query is composed of more words than the stored subscription I
>>> will fail to retrieve the subscription. But if I put only or words,
>>> the results will not be accurate, as I can obtain subscription only
>>> for java for instance.
>>>
>>
>> I wrote such a thing way back, where I used the new document as the
>> query and the user subscriptions as the index. Similar to what you
>> describe, I had an AND, OR and NOT field. This really limited the
>> type of queries users could store. It does however work, particullary
>> well on systems with /huge/ amounts of subscriptions (many millions).
>>
>> Today I would have used something else. If you insert one document at
>> the time to your index, take a look at MemoryIndex in contrib. If you
>> insert documents in batches larger than one document at the time,
>> take a look at LUCENE-550 in the Jira. Add new documents to such an
>> index and place the subscribed queries on it. Depening on the
>> queries, the speed should be some 20-100 times faster than using a
>> RAMDirectory. One million queries should take some 20 seconds to
>> assemble and place on a 25 document index on my laptop. See <https://
>> issues.apache.org/jira/secure/attachment/
>> 12353601/12353601_HitCollectionBench.jpg> for performace of
>> LUCENE-550.
>>
>> --=20
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






	=09
___________________________________________________________=20
What kind of emailer are you? Find out today - get a free analysis of =
your email personality. Take the quiz at the Yahoo! Mail Championship.=20
http://uk.rd.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 12:09:08 2007
Return-Path: <java-user-return-27135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67184 invoked from network); 25 Mar 2007 12:09:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 12:09:06 -0000
Received: (qmail 80220 invoked by uid 500); 25 Mar 2007 12:09:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80179 invoked by uid 500); 25 Mar 2007 12:09:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80168 invoked by uid 99); 25 Mar 2007 12:09:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 05:09:08 -0700
X-ASF-Spam-Status: No, hits=1.7 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,MSGID_MULTIPLE_AT
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [194.125.145.37] (HELO mercury.propylon.com) (194.125.145.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 05:08:59 -0700
Received: from propylon-sdsl.sdsl.esat.net ([193.120.101.26] helo=damienmc)
	by mercury.propylon.com with esmtp (Exim 4.50)
	id 1HVRUe-0007zD-Dt
	for java-user@lucene.apache.org; Sun, 25 Mar 2007 13:06:45 +0100
From: "Damien McCarthy" <damien.mccarthy@propylon.com>
To: <java-user@lucene.apache.org>
References: <9656534.post@talk.nabble.com> 
In-Reply-To: 
Date: Sun, 25 Mar 2007 13:08:35 +0100
Message-ID: <000f01c76ed6$50712ec0$f1538c40$@mccarthy@propylon.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcdugVieOec6P2e3TvipYFgOyREtOQAVE9EwAAAnOgA=
Content-Language: en-ie
X-SA-Exim-Connect-IP: 193.120.101.26
X-SA-Exim-Mail-From: damien.mccarthy@propylon.com
Subject: RE: Linking two different indexes
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on 
	mercury.propylon.com
X-Spam-Level: 
X-SA-Exim-Version: 4.2 (built Thu, 03 Mar 2005 10:44:12 +0100)
X-SA-Exim-Scanned: Yes (on mercury.propylon.com)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=failed 
	version=3.0.3

Hi Mike,

IndexReader provides a method addIndex() which should do what you are
looking for, if I understand correctly.

Damien

-----Original Message-----
From: Yakn [mailto:boardm26@yahoo.com] 
Sent: 25 March 2007 03:02
To: java-user@lucene.apache.org
Subject: Linking two different indexes


I am trying to link the nutch index and the index generated from my database
using Lucene. So at the time of indexing my database, I want to pull the
indexes in from nutch and link the content from the url in the database and
the url that nutch hit. Can anyone tell me if they have done this and if so
how they did it. I would appreciate the help. If anyone knows of another
way, I would be interested in that as well. Thanks in advance.

Mike
-- 
View this message in context:
http://www.nabble.com/Linking-two-different-indexes-tf3461011.html#a9656534
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 15:08:04 2007
Return-Path: <java-user-return-27136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6424 invoked from network); 25 Mar 2007 15:08:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 15:08:03 -0000
Received: (qmail 75935 invoked by uid 500); 25 Mar 2007 15:08:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75903 invoked by uid 500); 25 Mar 2007 15:08:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75891 invoked by uid 99); 25 Mar 2007 15:08:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 08:08:03 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 08:07:55 -0700
Received: by an-out-0708.google.com with SMTP id c3so1620504ana
        for <java-user@lucene.apache.org>; Sun, 25 Mar 2007 08:07:34 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=UnxFgDiorprepgXo5ddLxkCoRqi/NjU+Kiie1wlyZuPQTOprhy9l1ASZNC3Va3685rgKzgxhhxlbG40gyp2SrdRDppqJ1vtf0wNTf1KluqPj39rDUza3YAiMcm0PllbWetRcULUkI3ZthuyXxTb4oYti3oqSZXFdSQt+S01HUC4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=ZE6MsNTvZCF5ZtNp9AtD0L1csA7nKNckvlJPXVDC9JByhJ18FBEh6CLtR9ydMEid+t7uqRk+C1h3APSjpapaN+jlwzCkEVlAohx+j533gkaV7WWvzAfOOkY8LnEm1kRPp73lvzjVguQGE11QJOxKrrjguF7wOV1wAJkejbQaHvs=
Received: by 10.114.137.2 with SMTP id k2mr2191779wad.1174835252838;
        Sun, 25 Mar 2007 08:07:32 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Sun, 25 Mar 2007 08:07:32 -0700 (PDT)
Message-ID: <359a92830703250807t25681983n845e27ba6e27ca84@mail.gmail.com>
Date: Sun, 25 Mar 2007 11:07:32 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: MergeFactor and MaxBufferedDocs value should ...?
In-Reply-To: <1174660100.1862.1181022999@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_246429_33411936.1174835252692"
References: <4628d2a90703222351j23880dccr6521586fb127e907@mail.gmail.com>
	 <1174644692.28699.1180984713@webmail.messagingengine.com>
	 <4628d2a90703230605l6ae89fe4secd81c88bd715c67@mail.gmail.com>
	 <359a92830703230704k6b4f4c49h88d22e4e01bdc91f@mail.gmail.com>
	 <1174660100.1862.1181022999@webmail.messagingengine.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_246429_33411936.1174835252692
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I should add that in my situation, the number of documents that
fit in ram is...er...problematical to determine. My current project
is composed of books that I chose to index as a single book at a
time.

Unfortunately, answering the question "how big is a book" doesn't
help much, they range from 2 pages to over 7,000 pages. So how
to set the various indexing parameters, especially maxBufferedDocs
is hard to balance between efficiency and memory. Will I happen
to get a string of 100 large books? If so, I need to set the limit
to a small number. Which will not be terribly efficient for the "usual"
case.

That said, I don't much care about efficiency in this case. I can't
generate the index quickly (20,000+ books) and the factors I've
chosen let me generate it between the time I leave work and the
time I get back in the morning, so I don't really need much more
tweaking.

But this illustrates why I referred to picking factors as a "guess".
With a heterogeneous index where the documents vary widely
in size, picking parameters isn't straight-forward. My current
parameters may not work if I index the documents in a different
order than I am currently. I just don't know.

They may even not work on the next set of data, since much of
the data is OCR and for many books it's pretty trashy and/or
incomplete (imagine the OCR output of a genealogy book that
consists entirely of a stylized tree with the names written
by hand along the branches in many orientations!).

We're promised much better OCR data in the next set of books
we index, which may blow my current indexer out of the watter.

Which is why I'm so glad that the ramSizeInBytes has been
added. It seems to me that I can now create a reasonably
generalized way to index heterogeneous documents with
"good enough" efficiency. I'm imagining keeping a few
simple statistics, like size of incoming document and
change in index size as a result of indexing that doc. This
should allow me to figure out a reasonable factor for
predicting how much the *next* addition will increase the index
and flushing ram based upon that prediction. With, probably,
quite a large safety margin.

I don't really care if I get every last efficiency in this case. What
I *do* care about is that the indexing run completes and this
new capability seems to allow me to insure that without
penalizing the bulk of my indexing because I have  a few edge
cases.

Anyway, thanks for adding this capability, which I'll probably
use in the pretty near future.

And thanks Michael for your explanation of what these factors
really do. It may have been documented before, but this time
it finally is sticking in my aging brain...

Erick


On 3/23/07, Michael McCandless <lucene@mikemccandless.com> wrote:
>
>
> "Erick Erickson" <erickerickson@gmail.com> wrote:
> > I haven't used it yet, but I've seen several references to
> > IndexWriter.ramSizeInBytes() and using it to control when the writer
> > flushes the RAM. This seems like a more deterministic way of
> > making things efficient than trying various combinations of
> > maxBufferedDocs , MergeFactor, etc, all of which are guesses
> > at best.
>
> I agree this is the most efficient way to flush.  The one caveat is
> this Jira issue:
>
>   http://issues.apache.org/jira/browse/LUCENE-845
>
> which can cause over-merging if you make maxBufferedDocs too large.
>
> I think the rule of thumb to avoid this issue is 1) set
> maxBufferedDocs to be no more than 10X the "typical" number of docs
> you will flush, and then 2) flush by RAM usage.
>
> So for example if when you flush by RAM you typically flush "around"
> 200-300 docs, then setting maxBufferedDocs to eg 1000 is good since
> it's far above 200-300 (so it won't trigger a flush when you didn't
> want it to) but it's also well below 10X your range of docs (so it
> won't tickle the above bug).
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_246429_33411936.1174835252692--

From java-user-return-27137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 15:24:31 2007
Return-Path: <java-user-return-27137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10671 invoked from network); 25 Mar 2007 15:24:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 15:24:29 -0000
Received: (qmail 99254 invoked by uid 500); 25 Mar 2007 15:24:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99215 invoked by uid 500); 25 Mar 2007 15:24:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99204 invoked by uid 99); 25 Mar 2007 15:24:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 08:24:30 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=FORGED_YAHOO_RCVD,MAILTO_TO_SPAM_ADDR,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 08:24:21 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HVUZc-0003u6-N9
	for java-user@lucene.apache.org; Sun, 25 Mar 2007 08:24:00 -0700
Message-ID: <9660891.post@talk.nabble.com>
Date: Sun, 25 Mar 2007 08:24:00 -0700 (PDT)
From: Yakn <boardm26@yahoo.com>
To: java-user@lucene.apache.org
Subject: RE: Linking two different indexes
In-Reply-To: <000f01c76ed6$50712ec0$f1538c40$@mccarthy@propylon.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: boardm26@yahoo.com
References: <9656534.post@talk.nabble.com> <000f01c76ed6$50712ec0$f1538c40$@mccarthy@propylon.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks Damien, I believe that addIndex(index) is only going to add the index
into the new indexes. But how do I actually link the document either at
search time or index time from the url in the database indexes and the Nutch
index? So to explain my problem a little better

Nutch Index                                 URL                                        
Content
A                                    www.something.com                        
A lot of junk that needs linked
B                                    www.somethingelse.com                   
Some more junk that needs linked

Lucene Index(from Database)         URL                          Other
Fields
D                                    www.something.com          
G                                    www.something.com 


I want D and G to be linked with A either at Indexing time or at searching
time. Can anyone elaborate on how to do this. Thanks in advance and thanks
again Damien.

Mike 



Damien McCarthy wrote:
> 
> Hi Mike,
> 
> IndexReader provides a method addIndex() which should do what you are
> looking for, if I understand correctly.
> 
> Damien
> 
> -----Original Message-----
> From: Yakn [mailto:boardm26@yahoo.com] 
> Sent: 25 March 2007 03:02
> To: java-user@lucene.apache.org
> Subject: Linking two different indexes
> 
> 
> I am trying to link the nutch index and the index generated from my
> database
> using Lucene. So at the time of indexing my database, I want to pull the
> indexes in from nutch and link the content from the url in the database
> and
> the url that nutch hit. Can anyone tell me if they have done this and if
> so
> how they did it. I would appreciate the help. If anyone knows of another
> way, I would be interested in that as well. Thanks in advance.
> 
> Mike
> -- 
> View this message in context:
> http://www.nabble.com/Linking-two-different-indexes-tf3461011.html#a9656534
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Linking-two-different-indexes-tf3461011.html#a9660891
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 15:36:30 2007
Return-Path: <java-user-return-27138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13603 invoked from network); 25 Mar 2007 15:36:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 15:36:29 -0000
Received: (qmail 15269 invoked by uid 500); 25 Mar 2007 15:36:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14677 invoked by uid 500); 25 Mar 2007 15:36:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14666 invoked by uid 99); 25 Mar 2007 15:36:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 08:36:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [217.12.11.96] (HELO smtp007.mail.ukl.yahoo.com) (217.12.11.96)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 25 Mar 2007 08:36:18 -0700
Received: (qmail 61045 invoked from network); 25 Mar 2007 15:35:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=wL8hpwCc1AHuccsa2RszMYs3VG/AS9TEabe0K0FaFCT2YuqGK51OtVUYw5gVqd8bDIV4EaS/WI3R5csSpNYe8K5yABeS3pgPPsqLKKttyft6p0RqNozRjpjqEYspJ9sfgyLhk6S7p+5NAItsuUhPnIJ3UFtUh/5aPOvPnDrHXEs=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp007.mail.ukl.yahoo.com with SMTP; 25 Mar 2007 15:35:55 -0000
X-YMail-OSG: JkQPhYYVM1lfipLnNQRbV7t4RZlWtLW7vcZyexb3yLg62q0VOgmCRNHsmuXU847VS_pOEwinW8oATKBZHUuAZEGIke5b.L57Flw30i3jBTFaZSfN5kNU.Toe_wsiaGO5noJsnrMSsV6nNZH0A9gd5aM-
Message-ID: <460696D7.9090709@yahoo.co.uk>
Date: Sun, 25 Mar 2007 16:35:51 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Reverse search
References: <816422.61608.qm@web26004.mail.ukl.yahoo.com> <847893AE8EE17A48A3725E82C10DE9E588419E@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E588419E@tkdwi001.dev.tradingscreen.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org


On app startup:
1) parse all Queries and place in an array.
2) Create a RAMIndex containing a doc for each query with content 
consisting of the query's terms (see Query.extractTerms). For optimal 
performance only index the most rare term for queries with multiple 
mandatory criteria e.g. PhraseQuerys. "Most rare" can be determined by 
looking at IndexReader.docFreq(t) using an existing index which is 
representative of  your type of content.
3) For any queries that can't be handled by 2) e.g. FuzzyQueries - add 
to list of "run always queries".

Whenever you receive a new document:
1) Put it in a MemoryIndex
2) Get a list of the document's terms by calling 
memoryIndex.getReader().terms();
3) For each term hit your query RAMIndex and get 
queryIndexReader.termDocs(term) - this will give you the ids of queries 
that need to be run - you can use the doc id to index straight into your 
parsed queries array.
4) Run all queries found in 3) and all those held in your "run always" 
list against the MemoryIndex containing your new document

Hope this helps,
Mark


Melanie Langlois wrote:
> Hi Mark,
> If I follow you, I should list the key terms in my incoming document, then select the queries which contains these key terms, and then run those queries on my index ? If this is correct there is two things I don't understand:
> -how do I know which term is a key term in my document ?
> -how can I select the queries? Should I index them in a separate index?
>
> Thanks,
>
>
> Mlanie Langlois 
>   
> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
> Sent: Friday, March 23, 2007 11:19 PM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
> Bear in mind that the million queries you run on the MemoryIndex can be shortlisted if you place those queries in a RAMIndex and use the source document's terms to "query the queries". The list of unique terms for your document is readily available in the MemoryIndex's TermEnum.
> You can take this list and find "likely related queries" to execute from your Query index.
> Note that for phrase queries or other forms of query with multiple mandatory terms you should only index one of the terms (preferably the rarest) to ensure that your query is not needlessly executed. For example - using this approach I need only run the phrase query for "XYZ limited" whenever I encounter a document with the rare term "XYZ" in it, rather than the much more commonplace "limited". 
>
> Cheers
> Mark
>
> ----- Original Message ----
> From: karl wettin <karl.wettin@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Friday, 23 March, 2007 12:54:36 PM
> Subject: Re: Reverse search
>
>
> 23 mar 2007 kl. 09.57 skrev Melanie Langlois:
>
>   
>> Well, I though to use the PerFieldAnalyzerWrapper which contains as  
>> basic the snowballAnalyzer with English stopwords and use  
>> snowballAnalyzer with language specific keywords for the fields  
>> which will be in different languages. But I'm seeing that in your  
>> MemoryIndexTest you commented the use of SnowballAnalyzer, is it  
>> because it's too slow. In this case, I think I could use the  
>> StandardAnalyzer... what do you think?
>>     
>
> I think that creating an index with a couple of documents takes a  
> fraction of the time it will take to place a million queries on that  
> index. There is no real need to optimize something that takes  
> milliseconds when you in the same process do something that takes  
> half a minute.
>
>   



	
	
		
___________________________________________________________ 
All new Yahoo! Mail "The new Interface is stunning in its simplicity and ease of use." - PC Magazine 
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 23:00:52 2007
Return-Path: <java-user-return-27139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33096 invoked from network); 25 Mar 2007 23:00:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 23:00:51 -0000
Received: (qmail 26827 invoked by uid 500); 25 Mar 2007 23:00:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25767 invoked by uid 500); 25 Mar 2007 23:00:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25756 invoked by uid 99); 25 Mar 2007 23:00:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:00:49 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:00:40 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2PN0BaU023357
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 02:00:11 +0300
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3q1nl7i; 26 Mar 2007 01:59:00 +0200
Message-ID: <4606FEEE.2070704@teamware.com>
Date: Mon, 26 Mar 2007 08:59:58 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com> <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
In-Reply-To: <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Mon, 26 Mar 2007 02:00:11 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

I've been using Ryan's textmining in prefence to the POI as internally TM uses 
POI and the Word6 extractor so handles a greater variety of files.

Ryan, thanks for fixing your site.  Do you have any plans/ideas on how to parse 
the 'fast-saved' files and any ideas on Word files older than the Word 6 format?

Regards
Antony


Ryan Ackley wrote:
> As the author of both Word POI and textmining.org, I recommend using
> textmining.org. POI is for general purpose manipulation of Word
> documents. textmining's only purpose is extracting text.
> 
> Also, people recommend using POI for text extraction but the only
> place I've seen an actual how-to on this is in the "Lucene in Action"
> book.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 23:37:20 2007
Return-Path: <java-user-return-27140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39306 invoked from network); 25 Mar 2007 23:36:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 23:36:45 -0000
Received: (qmail 71590 invoked by uid 500); 25 Mar 2007 23:36:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71557 invoked by uid 500); 25 Mar 2007 23:36:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71546 invoked by uid 99); 25 Mar 2007 23:36:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:36:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ryanackley@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:36:36 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1619193ugc
        for <java-user@lucene.apache.org>; Sun, 25 Mar 2007 16:36:15 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ZIGHSAhz94AJnkYd6l4XE7Gc8eg/w7kXmPTiNBOQ9k27lmsCx0tABKKdL/ZYW5V2q+GmRDjjqOsiHXLAtQrZHR2qogkJa6k74M0XebvLNzL8HGhGW2g4wTg72d1kJhKIifrgnkeZhq7pA8mQEUuJua/bIB56HRRXD6X6CvPlpIM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=kbDaBxrppDyfYj7N7wtMgtT+TgsyWs0Y6V2c82CNr4oCtrbBoHrSk9IBYU+OQ8Zng2zmqF10DgeJtVnGs7WbtDT/4KakLLC4JMT/HMbYvvkMcAYXAopHL60xyYu+bvDDEQKAJc9cQ6m/JV/1ETXy4GO60dherch8tQb/GF+fQXY=
Received: by 10.115.18.1 with SMTP id v1mr2383707wai.1174865774482;
        Sun, 25 Mar 2007 16:36:14 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Sun, 25 Mar 2007 16:36:14 -0700 (PDT)
Message-ID: <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
Date: Sun, 25 Mar 2007 16:36:14 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <4606FEEE.2070704@teamware.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>
	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
	 <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
	 <4606FEEE.2070704@teamware.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Yes I do have plans for adding fast save support and support for more
file formats. The time frame for this happening is the next couple of
months.

I'm playing with the idea of offering a commercial version. I want to
continue to support the open source community so I want to keep it
open source or free and add value that people would be willing to pay
for.

Any comments on this are appreciated. One thing I thought of would be
to continue to offer the text extraction as open source but add html
conversion with hit highlighting for a variety of file formats as a
commercial add on. Is this something anyone would pay for? What are
some other pain points of the Lucene community besides text
extraction?

On 3/25/07, Antony Bowesman <adb@teamware.com> wrote:
> I've been using Ryan's textmining in prefence to the POI as internally TM uses
> POI and the Word6 extractor so handles a greater variety of files.
>
> Ryan, thanks for fixing your site.  Do you have any plans/ideas on how to parse
> the 'fast-saved' files and any ideas on Word files older than the Word 6 format?
>
> Regards
> Antony
>
>
> Ryan Ackley wrote:
> > As the author of both Word POI and textmining.org, I recommend using
> > textmining.org. POI is for general purpose manipulation of Word
> > documents. textmining's only purpose is extracting text.
> >
> > Also, people recommend using POI for text extraction but the only
> > place I've seen an actual how-to on this is in the "Lucene in Action"
> > book.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 23:50:05 2007
Return-Path: <java-user-return-27141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43749 invoked from network); 25 Mar 2007 23:50:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 23:50:04 -0000
Received: (qmail 88397 invoked by uid 500); 25 Mar 2007 23:50:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88358 invoked by uid 500); 25 Mar 2007 23:50:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88344 invoked by uid 99); 25 Mar 2007 23:50:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:50:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:49:57 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 59D0E4A814F
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 09:51:46 +1000 (EST)
Message-ID: <46070A80.7030602@nuix.com>
Date: Mon, 26 Mar 2007 09:49:20 +1000
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070323)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: index word files ( doc )
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com> <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
In-Reply-To: <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Ryan Ackley wrote:
> As the author of both Word POI and textmining.org, I recommend using
> textmining.org. POI is for general purpose manipulation of Word
> documents. textmining's only purpose is extracting text.

I wish the two would collaborate though.  It's true that POI contains 
code for writing which isn't necessary for indexing.  But it's also true 
that POI contains code for extracting images, which for many projects 
*is* necessary.

> Also, people recommend using POI for text extraction but the only
> place I've seen an actual how-to on this is in the "Lucene in Action"
> book.

It's not too difficult though:

   doc.getTextTable().getTextPieces();

Downside of that approach is that some of the text you get back isn't 
"text" in the sense that you might expect.  (I consider it an upside 
myself, because sometimes it's good to find all this otherwise hidden text.)

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Mar 25 23:52:56 2007
Return-Path: <java-user-return-27142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44802 invoked from network); 25 Mar 2007 23:52:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 25 Mar 2007 23:52:56 -0000
Received: (qmail 91417 invoked by uid 500); 25 Mar 2007 23:52:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91391 invoked by uid 500); 25 Mar 2007 23:52:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91380 invoked by uid 99); 25 Mar 2007 23:52:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:52:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 16:52:47 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id ABE804A814F
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 09:54:37 +1000 (EST)
Message-ID: <46070B2B.3000004@nuix.com>
Date: Mon, 26 Mar 2007 09:52:11 +1000
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070323)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Linking two different indexes
References: <9656534.post@talk.nabble.com> <000f01c76ed6$50712ec0$f1538c40$@mccarthy@propylon.com> <9660891.post@talk.nabble.com>
In-Reply-To: <9660891.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Yakn wrote:
> Thanks Damien, I believe that addIndex(index) is only going to add the index
> into the new indexes. But how do I actually link the document either at
> search time or index time from the url in the database indexes and the Nutch
> index? So to explain my problem a little better
> 
> Nutch Index                                 URL                                        
> Content
> A                                    www.something.com                        
> A lot of junk that needs linked
> B                                    www.somethingelse.com                   
> Some more junk that needs linked
> 
> Lucene Index(from Database)         URL                          Other
> Fields
> D                                    www.something.com          
> G                                    www.something.com 
> 
> I want D and G to be linked with A either at Indexing time or at searching
> time. Can anyone elaborate on how to do this. Thanks in advance and thanks
> again Damien.

Unless you define what "linked with" actually means it's going to be 
hard to offer suggestions, but have you looked at ParallelReader?

If that won't do what you want then the better way to approach this is 
to explain what you're actually trying to *do*, rather than asking for 
advice on how to implement one possibility of doing it.

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 06:18:30 2007
Return-Path: <java-user-return-27143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30740 invoked from network); 26 Mar 2007 06:18:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 06:18:28 -0000
Received: (qmail 73146 invoked by uid 500); 26 Mar 2007 06:18:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73106 invoked by uid 500); 26 Mar 2007 06:18:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73095 invoked by uid 99); 26 Mar 2007 06:18:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 23:18:27 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 66.249.92.170 as permitted sender)
Received: from [66.249.92.170] (HELO ug-out-1314.google.com) (66.249.92.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Mar 2007 23:18:19 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1682801ugc
        for <java-user@lucene.apache.org>; Sun, 25 Mar 2007 23:17:58 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=QEsf8Ssi97cI3EHYWyl2cxM7jPKerYxXdb9gyr+NxobDf/JcRihBxldJyN0XwlATLOhQBmuz5WDTlYzVKeTCSKSHyEJE+D5OichxCOrJbhOP4gYV3lTaEJ9EdL4lccjBT07/S7FGlo4a3zk9xacH2VPbNdrgvHCyRrTj36lekqQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=CTY0itU38TRrMUSUBowxUl3xCl0PlhzBSGZ5yK6q6CI5YaVa/MugWCbYio0ChWiHsnuRXn1tA3QfxAU+xCmuwpdMkemMNiIbX936FoikYN1tI4Lo+ZgZmrKw2phyip0q64YAshNd3NkGBimOP9R3/eSal1wzowxTgbXxNUXfTMU=
Received: by 10.78.193.19 with SMTP id q19mr2765064huf.1174889878259;
        Sun, 25 Mar 2007 23:17:58 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Sun, 25 Mar 2007 23:17:58 -0700 (PDT)
Message-ID: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
Date: Mon, 26 Mar 2007 09:47:58 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: how to search over another search
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_151633_17465616.1174889878205"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_151633_17465616.1174889878205
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi
I have two separated index but there are some fields that are common between
them. now I want to search from one index and then apply the result to the
second one. what solution do you suggest?
what happens on fields? I mean the first document has some fields that are
not present in the second one so I need the final document has all the
fields of both indexes.

thanks


-- 
Regards,
Mohammad

------=_Part_151633_17465616.1174889878205--

From java-user-return-27144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 07:09:40 2007
Return-Path: <java-user-return-27144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40234 invoked from network); 26 Mar 2007 07:09:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 07:09:38 -0000
Received: (qmail 14796 invoked by uid 500); 26 Mar 2007 07:09:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14646 invoked by uid 500); 26 Mar 2007 07:09:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14624 invoked by uid 99); 26 Mar 2007 07:09:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 00:09:37 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 00:09:28 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2Q791V6012205
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 10:09:01 +0300
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3qa8bwh; 26 Mar 2007 10:08:00 +0300
Message-ID: <4607717C.3070706@teamware.com>
Date: Mon, 26 Mar 2007 17:08:44 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>	 <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>	 <4606FEEE.2070704@teamware.com> <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
In-Reply-To: <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Mon, 26 Mar 2007 10:09:01 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Ryan Ackley wrote:
> Yes I do have plans for adding fast save support and support for more
> file formats. The time frame for this happening is the next couple of
> months.

That would be good when it comes.  It would be nice if it could handle a 'brute 
force' mode where in the event of problems, it will just allow the text it can 
find to be extracted.  Currently if there is an Exception, I just run a raw 
strings parser on the file to fetch what I can.

One problem I found is that files not padded to 512 byte blocks cannot be 
parsed, but Words reads them happily.  They seem to be valid in other respects, 
i.e. they have the 1Table, Root Entry and other recognisable parts.  Padding the 
file to 512 byte boundary with nulls parses OK.

Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 08:40:18 2007
Return-Path: <java-user-return-27145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70573 invoked from network); 26 Mar 2007 08:40:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 08:40:08 -0000
Received: (qmail 20881 invoked by uid 500); 26 Mar 2007 08:40:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20799 invoked by uid 500); 26 Mar 2007 08:40:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20788 invoked by uid 99); 26 Mar 2007 08:40:02 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jafarim@gmail.com designates 66.249.82.230 as permitted sender)
Received: from [66.249.82.230] (HELO wx-out-0506.google.com) (66.249.82.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 01:40:01 -0700
Received: by wx-out-0506.google.com with SMTP id i29so1873982wxd
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 01:38:33 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oN3ALiWtQnE6FYk+AtxbNQjPLjCISxKo8tbDRRsiC7hhoYAJ7fDcDAH5ZUkjzCAkpaXwhEZMCArQMP/O7wOlMFhD76lPdizx0SuiPoEbkP64iY4VQlhzm8z2UnbC3yEW3sY6VK35SQ9nSOZ39BodaTimbzU7FwTHBLRqNIsjr5E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=J7LeY/2Al0rDTo8Uzx7duiSm/lrn+mmsmaVyiwKvkzXynesHQoN9R53H8kHZnDPxLJLO9Ri40qvWKXICi5psMLi8GSAaecvmcbvR97kTvp3mkPqQcALwezxiq6zheIVKzvt5b7fOsUxO1o/OOE9YrX/0KUy2om2QRkGG4GIewUc=
Received: by 10.70.57.8 with SMTP id f8mr10097332wxa.1174898312298;
        Mon, 26 Mar 2007 01:38:32 -0700 (PDT)
Received: by 10.70.29.10 with HTTP; Mon, 26 Mar 2007 01:38:32 -0700 (PDT)
Message-ID: <bddd3c950703260138s299a33ccp91804b1c86420e89@mail.gmail.com>
Date: Mon, 26 Mar 2007 12:08:32 +0330
From: jafarim <jafarim@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_77180_19476888.1174898312204"
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>
	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
	 <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
	 <4606FEEE.2070704@teamware.com>
	 <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_77180_19476888.1174898312204
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Good to know that your devised commercial feature is already offered by
Enhydra Snapper as an open-source feature.
Check here: http://www.enhydra.org/apps/snapper/index.html

On 3/26/07, Ryan Ackley <ryanackley@gmail.com> wrote:
>
> Yes I do have plans for adding fast save support and support for more
> file formats. The time frame for this happening is the next couple of
> months.
>
> I'm playing with the idea of offering a commercial version. I want to
> continue to support the open source community so I want to keep it
> open source or free and add value that people would be willing to pay
> for.
>
> Any comments on this are appreciated. One thing I thought of would be
> to continue to offer the text extraction as open source but add html
> conversion with hit highlighting for a variety of file formats as a
> commercial add on. Is this something anyone would pay for? What are
> some other pain points of the Lucene community besides text
> extraction?
>
> On 3/25/07, Antony Bowesman <adb@teamware.com> wrote:
> > I've been using Ryan's textmining in prefence to the POI as internally
> TM uses
> > POI and the Word6 extractor so handles a greater variety of files.
> >
> > Ryan, thanks for fixing your site.  Do you have any plans/ideas on how
> to parse
> > the 'fast-saved' files and any ideas on Word files older than the Word 6
> format?
> >
> > Regards
> > Antony
> >
> >
> > Ryan Ackley wrote:
> > > As the author of both Word POI and textmining.org, I recommend using
> > > textmining.org. POI is for general purpose manipulation of Word
> > > documents. textmining's only purpose is extracting text.
> > >
> > > Also, people recommend using POI for text extraction but the only
> > > place I've seen an actual how-to on this is in the "Lucene in Action"
> > > book.
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_77180_19476888.1174898312204--

From java-user-return-27146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 08:43:10 2007
Return-Path: <java-user-return-27146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71831 invoked from network); 26 Mar 2007 08:43:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 08:43:08 -0000
Received: (qmail 27136 invoked by uid 500); 26 Mar 2007 08:43:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27104 invoked by uid 500); 26 Mar 2007 08:43:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27093 invoked by uid 99); 26 Mar 2007 08:43:08 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jafarim@gmail.com designates 66.249.82.228 as permitted sender)
Received: from [66.249.82.228] (HELO wx-out-0506.google.com) (66.249.82.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 01:43:08 -0700
Received: by wx-out-0506.google.com with SMTP id i29so1874572wxd
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 01:41:40 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TPsGZO20N2LHevcZozG5wTNnaTJJPXG1+KxeCnaJle7FlOBN7ph43duY7Alj0Dp9N/iVwFSj61xO1BmI81WjL9thMdLL4929c6R5u+HEOpgYJUYLO4mV35YwgcRyFEMwGyPHrt9QX/rczun9b2hVSTf2QkIzJpqa8KskLGrdm6E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=jU4CsGko3R2b6uSOOgy2I4wNHYBlDOBnZmx57kKI+nIDh0KaBcJvPCxoAuja3FbarvjjwfCdDCHC83JzT9PTokraKvc5J/BBUgsQz+s+5aWiIyJJAk813kxHlJDzMQ1hr2WpoM2Z/NrmuNc0Ml4bh9WKv/bmOgmtMXPwtnReCNA=
Received: by 10.70.122.11 with SMTP id u11mr10231157wxc.1174898499840;
        Mon, 26 Mar 2007 01:41:39 -0700 (PDT)
Received: by 10.70.29.10 with HTTP; Mon, 26 Mar 2007 01:41:39 -0700 (PDT)
Message-ID: <bddd3c950703260141i401320a5v44b8415aae288b10@mail.gmail.com>
Date: Mon, 26 Mar 2007 12:11:39 +0330
From: jafarim <jafarim@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to search over another search
In-Reply-To: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_77192_1008859.1174898499797"
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_77192_1008859.1174898499797
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

what do you mean by "applying the result to the second one"?

On 3/26/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> hi
> I have two separated index but there are some fields that are common
> between
> them. now I want to search from one index and then apply the result to the
> second one. what solution do you suggest?
> what happens on fields? I mean the first document has some fields that are
> not present in the second one so I need the final document has all the
> fields of both indexes.
>
> thanks
>
>
> --
> Regards,
> Mohammad
>

------=_Part_77192_1008859.1174898499797--

From java-user-return-27147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 08:55:52 2007
Return-Path: <java-user-return-27147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75984 invoked from network); 26 Mar 2007 08:55:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 08:55:51 -0000
Received: (qmail 50158 invoked by uid 500); 26 Mar 2007 08:55:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50136 invoked by uid 500); 26 Mar 2007 08:55:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50123 invoked by uid 99); 26 Mar 2007 08:55:51 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Mar 2007 01:55:51 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032617513700048
 for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 17:51:37 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C76F83.F6A0D684"
Subject: search on multiple fields
Date: Mon, 26 Mar 2007 17:51:37 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E58841A0@tkdwi001.dev.tradingscreen.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: search on multiple fields
Thread-Index: Acdvg/ki6Zjp67nQTRSbrLEi2E05FA==
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C76F83.F6A0D684
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I'm wondering if lucene would understand such a query:

=20

content*:mysearch

It's just because I index several translations of my document contents =
in addition with common fields, and this separation is really usefull =
when an user specify the language in which he wants to search, but I =
want to be able to search among all languages if no option is specified. =
I could programmatically transform my content* into several sub queries =
content-en:mysearch content-fr:mysearch ... but I'm concerned about the =
number of conditions it will generate. So that would be cool if lucene =
automatically look into all concerned fields.

=20

Thanks,

=20

M=E9lanie =20

=20

=20


------_=_NextPart_001_01C76F83.F6A0D684--

From java-user-return-27148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 08:57:58 2007
Return-Path: <java-user-return-27148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76239 invoked from network); 26 Mar 2007 08:57:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 08:57:57 -0000
Received: (qmail 52550 invoked by uid 500); 26 Mar 2007 08:57:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52511 invoked by uid 500); 26 Mar 2007 08:57:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52500 invoked by uid 99); 26 Mar 2007 08:57:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Mar 2007 01:57:56 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032617534300050
 for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 17:53:43 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Reverse search
Date: Mon, 26 Mar 2007 17:53:43 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E58841A1@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <460696D7.9090709@yahoo.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reverse search
Thread-Index: Acdu83hOLHmoSTiARrWoxTct5XoPPwAkJycg
References: <816422.61608.qm@web26004.mail.ukl.yahoo.com> <847893AE8EE17A48A3725E82C10DE9E588419E@tkdwi001.dev.tradingscreen.com> <460696D7.9090709@yahoo.co.uk>
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Mark,

Thanks, it does help. I will try that.

M=E9lanie=20
-----Original Message-----
From: markharw00d [mailto:markharw00d@yahoo.co.uk]=20
Sent: Monday, March 26, 2007 12:36 AM
To: java-user@lucene.apache.org
Subject: Re: Reverse search


On app startup:
1) parse all Queries and place in an array.
2) Create a RAMIndex containing a doc for each query with content=20
consisting of the query's terms (see Query.extractTerms). For optimal=20
performance only index the most rare term for queries with multiple=20
mandatory criteria e.g. PhraseQuerys. "Most rare" can be determined by=20
looking at IndexReader.docFreq(t) using an existing index which is=20
representative of  your type of content.
3) For any queries that can't be handled by 2) e.g. FuzzyQueries - add=20
to list of "run always queries".

Whenever you receive a new document:
1) Put it in a MemoryIndex
2) Get a list of the document's terms by calling=20
memoryIndex.getReader().terms();
3) For each term hit your query RAMIndex and get=20
queryIndexReader.termDocs(term) - this will give you the ids of queries=20
that need to be run - you can use the doc id to index straight into your =

parsed queries array.
4) Run all queries found in 3) and all those held in your "run always"=20
list against the MemoryIndex containing your new document

Hope this helps,
Mark


Melanie Langlois wrote:
> Hi Mark,
> If I follow you, I should list the key terms in my incoming document, =
then select the queries which contains these key terms, and then run =
those queries on my index ? If this is correct there is two things I =
don't understand:
> -how do I know which term is a key term in my document ?
> -how can I select the queries? Should I index them in a separate =
index?
>
> Thanks,
>
>
> M=E9lanie Langlois=20
>  =20
> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk]=20
> Sent: Friday, March 23, 2007 11:19 PM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
> Bear in mind that the million queries you run on the MemoryIndex can =
be shortlisted if you place those queries in a RAMIndex and use the =
source document's terms to "query the queries". The list of unique terms =
for your document is readily available in the MemoryIndex's TermEnum.
> You can take this list and find "likely related queries" to execute =
from your Query index.
> Note that for phrase queries or other forms of query with multiple =
mandatory terms you should only index one of the terms (preferably the =
rarest) to ensure that your query is not needlessly executed. For =
example - using this approach I need only run the phrase query for "XYZ =
limited" whenever I encounter a document with the rare term "XYZ" in it, =
rather than the much more commonplace "limited".=20
>
> Cheers
> Mark
>
> ----- Original Message ----
> From: karl wettin <karl.wettin@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Friday, 23 March, 2007 12:54:36 PM
> Subject: Re: Reverse search
>
>
> 23 mar 2007 kl. 09.57 skrev Melanie Langlois:
>
>  =20
>> Well, I though to use the PerFieldAnalyzerWrapper which contains as =20
>> basic the snowballAnalyzer with English stopwords and use =20
>> snowballAnalyzer with language specific keywords for the fields =20
>> which will be in different languages. But I'm seeing that in your =20
>> MemoryIndexTest you commented the use of SnowballAnalyzer, is it =20
>> because it's too slow. In this case, I think I could use the =20
>> StandardAnalyzer... what do you think?
>>    =20
>
> I think that creating an index with a couple of documents takes a =20
> fraction of the time it will take to place a million queries on that =20
> index. There is no real need to optimize something that takes =20
> milliseconds when you in the same process do something that takes =20
> half a minute.
>
>  =20



=09
=09
	=09
___________________________________________________________=20
All new Yahoo! Mail "The new Interface is stunning in its simplicity and =
ease of use." - PC Magazine=20
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 09:16:29 2007
Return-Path: <java-user-return-27149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80881 invoked from network); 26 Mar 2007 09:16:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 09:16:28 -0000
Received: (qmail 74070 invoked by uid 500); 26 Mar 2007 09:16:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73037 invoked by uid 500); 26 Mar 2007 09:16:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73025 invoked by uid 99); 26 Mar 2007 09:16:26 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mnrz57@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 02:16:26 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1717316ugc
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 02:14:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=guKIO9BT9dQ1cJRr7X6p7HxstSeM6JbBAcyOFLk9OdTdp9lqqsLNEvyMePZvz/dGSH2l1qkeEWBpxMiVks1NXlDK4YbxMt4bTIEk6MSLHFG3Hk7ZDIYaohYx+iHh3WESPaTIleZR1Ac2thizeVMUYmajOBjmn0DsqsIjbvKMWp4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=tk7IHsgjRFU7lwPTBjbx+oDPkqpmvbuO4z17FGcPsItjmtegpWb/DczPXSA4y9RhTnjzfcts/x6zUfCySuLrq7Wrnd1worqomp7L3gFRXmQXQ0N8/8jo94FFi7sfzSQjJgn7lVKc0ljQNEsA01GbKdOeulAqH/r8aXFtRM3Ilp8=
Received: by 10.78.193.19 with SMTP id q19mr2851683huf.1174900497123;
        Mon, 26 Mar 2007 02:14:57 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Mon, 26 Mar 2007 02:14:57 -0700 (PDT)
Message-ID: <34b8543c0703260214k3c0ee521p776aa41ade010730@mail.gmail.com>
Date: Mon, 26 Mar 2007 12:44:57 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to search over another search
In-Reply-To: <bddd3c950703260141i401320a5v44b8415aae288b10@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_152999_22047649.1174900497083"
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
	 <bddd3c950703260141i401320a5v44b8415aae288b10@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_152999_22047649.1174900497083
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I mean when I get result from the first index, find the common records from
the second index depending on first result.
something like relation between two database tables, relation by primary key

index1:
id           name                 somefield1
1             jack                   value1
2            Michael              value2
3             Sara                  value3
4            Joseph                value4
...


index2:
id              field1              field2              field3
2               fval1-1            fval2-1             fval3-1
4               fval1-2            fval2-2             fval3-2
...

now a user puts query : name:Michael

I should return the result wrapped in following document:
document:
id           name       somefield1       field1      field2        field3
------------------------------------------------------------------------------------------
2            Michael    value2             fval1-1    fval2-1       fval3-1



On 3/26/07, jafarim <jafarim@gmail.com> wrote:
>
> what do you mean by "applying the result to the second one"?
>
> On 3/26/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> >
> > hi
> > I have two separated index but there are some fields that are common
> > between
> > them. now I want to search from one index and then apply the result to
> the
> > second one. what solution do you suggest?
> > what happens on fields? I mean the first document has some fields that
> are
> > not present in the second one so I need the final document has all the
> > fields of both indexes.
> >
> > thanks
> >
> >
> > --
> > Regards,
> > Mohammad
> >
>



-- 
Regards,
Mohammad

------=_Part_152999_22047649.1174900497083--

From java-user-return-27150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 09:42:55 2007
Return-Path: <java-user-return-27150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85368 invoked from network); 26 Mar 2007 09:42:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 09:42:51 -0000
Received: (qmail 6729 invoked by uid 500); 26 Mar 2007 09:42:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6693 invoked by uid 500); 26 Mar 2007 09:42:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6682 invoked by uid 99); 26 Mar 2007 09:42:50 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ryanackley@gmail.com designates 64.233.184.238 as permitted sender)
Received: from [64.233.184.238] (HELO wr-out-0506.google.com) (64.233.184.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 02:42:49 -0700
Received: by wr-out-0506.google.com with SMTP id 68so1478955wra
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 02:41:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=K/vj49FDFs9zSEjcdoQ598QrIOe8rUqRfxSFnw7R5BKiOrDuibWgEcgKw47JmHP+Qjuo7TqVRzyN3OYJyo8o7RmvUYg31g5z9GgG4ZXqZhx8sxsR9TNCuOwv8qrIflV4ZGk63moUHk+xBuBkufnajMxUUe9vNPhQX+3TGesouO8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DqFhN8yC58letIw08URhL1bsM8YmRhmr2YsFc08+ysvkXlHgFhL2UrO46wzcfnUmVPSW7B7aHjkkPOjDWT+T/qhQJCK+csx/DTMYV71G90hFBdm+zA5tEqTVdWEP4yXnOzTLGkgEBFzz7QiHaDHKVBZv963siDVNCWZ7f4IKiZ4=
Received: by 10.114.124.1 with SMTP id w1mr2564901wac.1174902080658;
        Mon, 26 Mar 2007 02:41:20 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Mon, 26 Mar 2007 02:41:20 -0700 (PDT)
Message-ID: <e15c52dc0703260241x7f7ea3cp9060e84a8b3f85d2@mail.gmail.com>
Date: Mon, 26 Mar 2007 02:41:20 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <bddd3c950703260138s299a33ccp91804b1c86420e89@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>
	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
	 <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
	 <4606FEEE.2070704@teamware.com>
	 <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
	 <bddd3c950703260138s299a33ccp91804b1c86420e89@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

That is good to know thank you. Looking at their documentation, their
preview seems to show the contents of the index for a particular file
and you can transform this using xml. I can see how this would be
useful. What I was proposing was a conversion from the binary format
to html and including the rich formatting.

On 3/26/07, jafarim <jafarim@gmail.com> wrote:
> Good to know that your devised commercial feature is already offered by
> Enhydra Snapper as an open-source feature.
> Check here: http://www.enhydra.org/apps/snapper/index.html
>
> On 3/26/07, Ryan Ackley <ryanackley@gmail.com> wrote:
> >
> > Yes I do have plans for adding fast save support and support for more
> > file formats. The time frame for this happening is the next couple of
> > months.
> >
> > I'm playing with the idea of offering a commercial version. I want to
> > continue to support the open source community so I want to keep it
> > open source or free and add value that people would be willing to pay
> > for.
> >
> > Any comments on this are appreciated. One thing I thought of would be
> > to continue to offer the text extraction as open source but add html
> > conversion with hit highlighting for a variety of file formats as a
> > commercial add on. Is this something anyone would pay for? What are
> > some other pain points of the Lucene community besides text
> > extraction?
> >
> > On 3/25/07, Antony Bowesman <adb@teamware.com> wrote:
> > > I've been using Ryan's textmining in prefence to the POI as internally
> > TM uses
> > > POI and the Word6 extractor so handles a greater variety of files.
> > >
> > > Ryan, thanks for fixing your site.  Do you have any plans/ideas on how
> > to parse
> > > the 'fast-saved' files and any ideas on Word files older than the Word 6
> > format?
> > >
> > > Regards
> > > Antony
> > >
> > >
> > > Ryan Ackley wrote:
> > > > As the author of both Word POI and textmining.org, I recommend using
> > > > textmining.org. POI is for general purpose manipulation of Word
> > > > documents. textmining's only purpose is extracting text.
> > > >
> > > > Also, people recommend using POI for text extraction but the only
> > > > place I've seen an actual how-to on this is in the "Lucene in Action"
> > > > book.
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 09:44:39 2007
Return-Path: <java-user-return-27151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86160 invoked from network); 26 Mar 2007 09:44:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 09:44:38 -0000
Received: (qmail 11950 invoked by uid 500); 26 Mar 2007 09:44:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11922 invoked by uid 500); 26 Mar 2007 09:44:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11911 invoked by uid 99); 26 Mar 2007 09:44:38 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ryanackley@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 02:44:36 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1723324ugc
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 02:43:08 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=HlKvEVPbwf5au6LB58SSlCW9PnelIS1FSPmXr6RZhyp/OWZDHNaC/3U1TcVQPYuJ+ei39yOnfEZ41hpNwu3npnMhRX3gtQj8K31iAQGe0n7KTxo7g1I+2JJONwyB0IqO3ynMre7TqK7u5W/5odlKHLgZdSx/4oAzQoA1WIx87rs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=T8zEWsk+hhMA7LQz56atjmypR+HD8F/tEbO3f1jRVaCSoJh3DwgmRCrlfHU7Tr87u0xTTjU1c2h1hXVbU7H9Hj4WRcKyfmAHTw3Z+7A4AcxQ7smgdwLJVDK5dN5X7gcBnEVRycWN8/2KaUircFHB+bPowSttj55+UAyvGEhHaM0=
Received: by 10.114.80.4 with SMTP id d4mr2567369wab.1174902186556;
        Mon, 26 Mar 2007 02:43:06 -0700 (PDT)
Received: by 10.115.93.15 with HTTP; Mon, 26 Mar 2007 02:43:06 -0700 (PDT)
Message-ID: <e15c52dc0703260243qeb84d6aqa0dc59e96908a21c@mail.gmail.com>
Date: Mon, 26 Mar 2007 02:43:06 -0700
From: "Ryan Ackley" <ryanackley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
In-Reply-To: <4607717C.3070706@teamware.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>
	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
	 <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
	 <4606FEEE.2070704@teamware.com>
	 <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
	 <4607717C.3070706@teamware.com>
X-Virus-Checked: Checked by ClamAV on apache.org

The 512 byte thing is a limitation of POIFS I think. I could be wrong
though. Have you tried opening the file with just POIFS?

On 3/26/07, Antony Bowesman <adb@teamware.com> wrote:
> Ryan Ackley wrote:
> > Yes I do have plans for adding fast save support and support for more
> > file formats. The time frame for this happening is the next couple of
> > months.
>
> That would be good when it comes.  It would be nice if it could handle a 'brute
> force' mode where in the event of problems, it will just allow the text it can
> find to be extracted.  Currently if there is an Exception, I just run a raw
> strings parser on the file to fetch what I can.
>
> One problem I found is that files not padded to 512 byte blocks cannot be
> parsed, but Words reads them happily.  They seem to be valid in other respects,
> i.e. they have the 1Table, Root Entry and other recognisable parts.  Padding the
> file to 512 byte boundary with nulls parses OK.
>
> Antony
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 10:24:34 2007
Return-Path: <java-user-return-27152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94029 invoked from network); 26 Mar 2007 10:24:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 10:24:33 -0000
Received: (qmail 52512 invoked by uid 500); 26 Mar 2007 10:24:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52472 invoked by uid 500); 26 Mar 2007 10:24:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52460 invoked by uid 99); 26 Mar 2007 10:24:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 03:24:32 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l2QAN1M1023643
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 11:23:01 +0100
Received: from [10.11.108.231] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.2.17)
    via ESMTP; Mon, 26 Mar 2007 11:23:00 +0100 (BST)
Date: Mon, 26 Mar 2007 11:23:00 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <46079F04.3030602@scalix.com>
In-Reply-To: <4604D1B9.6010509@gmail.com>
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
References: <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
References: <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
References: <4604CCFD.9030803@teamware.com>
References: <4604D1B9.6010509@gmail.com>
Subject: Re: index word files ( doc )
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

Sami Siren wrote:
> There's also antiword [1] which can convert your .doc to plain text or
> PS, not sure how good it is.
>   
antiword isn't very good.  I use wvWare (http://wvware.sourceforge.net/) 
directly, but you may find that using abiword is better for you (abiword 
is an editor, but it also does conversions and actually it's quite fast 
for that).  It also deals with fast-saved word docs.

We used to use POI, but it's a little fragile and people were getting 
all upset when a word document gummed up the works.  Using an external 
executable seems to be no slower and is certainly less problematic.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 10:41:12 2007
Return-Path: <java-user-return-27153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97617 invoked from network); 26 Mar 2007 10:41:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 10:41:08 -0000
Received: (qmail 62768 invoked by uid 500); 26 Mar 2007 10:41:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62732 invoked by uid 500); 26 Mar 2007 10:41:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62721 invoked by uid 99); 26 Mar 2007 10:41:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 03:41:04 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l2QAdYqP027985
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 11:39:34 +0100
Received: from [10.11.108.231] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.2.17)
    via ESMTP; Mon, 26 Mar 2007 11:39:33 +0100 (BST)
Date: Mon, 26 Mar 2007 11:39:33 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <4607A2E5.7060207@scalix.com>
In-Reply-To: <46079F04.3030602@scalix.com>
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
References: <46079F04.3030602@scalix.com>
Subject: Re: index word files ( doc )
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

John Haxby wrote:
> Sami Siren wrote:
>> There's also antiword [1] which can convert your .doc to plain text or
>> PS, not sure how good it is.
>>   
> antiword isn't very good.  I use wvWare 
> (http://wvware.sourceforge.net/) directly, but you may find that using 
> abiword is better for you (abiword is an editor, but it also does 
> conversions and actually it's quite fast for that).  It also deals 
> with fast-saved word docs.
>
Sigh.   Must remember to read messages before sending.   abiword uses 
wvWare -- both will deal with fast-saved word docs, not just abiword.
> We used to use POI, but it's a little fragile and people were getting 
> all upset when a word document gummed up the works.  Using an external 
> executable seems to be no slower and is certainly less problematic.
>
> jch
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 12:28:47 2007
Return-Path: <java-user-return-27154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26010 invoked from network); 26 Mar 2007 12:28:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 12:28:45 -0000
Received: (qmail 88698 invoked by uid 500); 26 Mar 2007 12:28:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88671 invoked by uid 500); 26 Mar 2007 12:28:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88659 invoked by uid 99); 26 Mar 2007 12:28:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 05:28:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 05:28:32 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2QCS5ha028685
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 15:28:05 +0300
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3qfs65r; 26 Mar 2007 15:28:00 +0300
Message-ID: <4607BC53.30404@teamware.com>
Date: Mon, 26 Mar 2007 22:28:03 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: index word files ( doc )
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>	 <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>	 <4606FEEE.2070704@teamware.com>	 <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>	 <4607717C.3070706@teamware.com> <e15c52dc0703260243qeb84d6aqa0dc59e96908a21c@mail.gmail.com>
In-Reply-To: <e15c52dc0703260243qeb84d6aqa0dc59e96908a21c@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Mon, 26 Mar 2007 15:28:06 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Ryan Ackley wrote:
> The 512 byte thing is a limitation of POIFS I think. I could be wrong
> though. Have you tried opening the file with just POIFS?

It was some time ago, but it looks like I used both

org.apache.poi.hwpf.extractor.WordExtractor
org.apache.poi.hdf.extractor.WordDocument

with the same problem.
Antony


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 13:30:57 2007
Return-Path: <java-user-return-27155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57072 invoked from network); 26 Mar 2007 13:30:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 13:30:57 -0000
Received: (qmail 13824 invoked by uid 500); 26 Mar 2007 13:30:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13790 invoked by uid 500); 26 Mar 2007 13:30:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13779 invoked by uid 99); 26 Mar 2007 13:30:56 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 06:30:56 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.235 as permitted sender)
Received: from [64.233.184.235] (HELO wr-out-0506.google.com) (64.233.184.235)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 06:30:46 -0700
Received: by wr-out-0506.google.com with SMTP id 68so1542025wra
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 06:30:25 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rCGi61s3dCL4jZher6yHJUogriZo6RZTGEuQw/fBtn3HeO0w0YD9ZeBMI60GuuGw7USP/0MQzRAv3YoM3ie9mRE6eFq3KT73T74z9vNstowrR6YOkBcJ1S5PTF1nsrLuE2al9GGJ+g5+BLIIouKga7zKJb+S5Iw6WcVJoqYaEVA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=aVXfiK5XkviNtebly6M2twcYnhj8fSrSzfz8++07Du5zm6h3OeZk8JaPo9Qo8lhwGq9bLAAnqiprGXMBkRcTlTQLUSnFYoZlk/cjbVWoP2w/lbiVYPVtuUftpii2/sekOsKzCo37fL09AWqoF3vg8Q458d8+Eia0LLIGKLCLtHI=
Received: by 10.114.125.2 with SMTP id x2mr2635808wac.1174915824968;
        Mon, 26 Mar 2007 06:30:24 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Mon, 26 Mar 2007 06:30:19 -0700 (PDT)
Message-ID: <359a92830703260630t5551ec3n7f4ee45d93250db9@mail.gmail.com>
Date: Mon, 26 Mar 2007 09:30:19 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: search on multiple fields
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E58841A0@tkdwi001.dev.tradingscreen.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_259870_5026873.1174915819913"
References: <847893AE8EE17A48A3725E82C10DE9E58841A0@tkdwi001.dev.tradingscreen.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_259870_5026873.1174915819913
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The fastest way to figure this out for yourself would be to fire up luke
and try it.

That said, I'm quite sure it won't work.

Erick

On 3/26/07, Melanie Langlois <Melanie.Langlois@tradingscreen.com> wrote:
>
> Hi,
>
>
>
> I'm wondering if lucene would understand such a query:
>
>
>
> content*:mysearch
>
> It's just because I index several translations of my document contents in
> addition with common fields, and this separation is really usefull when a=
n
> user specify the language in which he wants to search, but I want to be a=
ble
> to search among all languages if no option is specified. I could
> programmatically transform my content* into several sub queries
> content-en:mysearch content-fr:mysearch ... but I'm concerned about the
> number of conditions it will generate. So that would be cool if lucene
> automatically look into all concerned fields.
>
>
>
> Thanks,
>
>
>
> M=E9lanie
>
>
>
>
>
>

------=_Part_259870_5026873.1174915819913--

From java-user-return-27156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 13:38:43 2007
Return-Path: <java-user-return-27156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60755 invoked from network); 26 Mar 2007 13:38:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 13:38:41 -0000
Received: (qmail 26708 invoked by uid 500); 26 Mar 2007 13:38:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26670 invoked by uid 500); 26 Mar 2007 13:38:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26659 invoked by uid 99); 26 Mar 2007 13:38:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 06:38:41 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.225 as permitted sender)
Received: from [64.233.184.225] (HELO wr-out-0506.google.com) (64.233.184.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 06:38:32 -0700
Received: by wr-out-0506.google.com with SMTP id 68so1544716wra
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 06:38:12 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XZr2U7rcrlik6cjuGeVwUtQACMQ40brCnCXq+7fr/Dy8Dhs3mhZbzNMr5Rk9x+lk1SaBCIMAO+1KXiogaeLhjm7Sh3kkYzI0ae0Rq2dUFe8xrBU25gA9RLrQvh86f81uQOWr7O9v3sxnEy+j8zazwq9H9vMsqrdJJQ7DID7gZpE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qO3kB0Kh4rfjKtBHhppw1dscw8i375d7NTv1/Ivad8wfnmD5q27ksaZqpS4CV7TEDiVsDbEpu4tuWTa6eAVH0BXS8M4AAmtcJR8O5rB86PTSB0W+nv1cpY/YtENB4pSnZGwvc/PmEJNibmK/xdtwXEPazdrFpWm8ys8gW6xzMi8=
Received: by 10.115.14.1 with SMTP id r1mr2622861wai.1174916291511;
        Mon, 26 Mar 2007 06:38:11 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Mon, 26 Mar 2007 06:38:11 -0700 (PDT)
Message-ID: <359a92830703260638y4bd3e552hccb1a9de92dfff6@mail.gmail.com>
Date: Mon, 26 Mar 2007 09:38:11 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to search over another search
In-Reply-To: <34b8543c0703260214k3c0ee521p776aa41ade010730@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_260125_26945353.1174916291450"
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
	 <bddd3c950703260141i401320a5v44b8415aae288b10@mail.gmail.com>
	 <34b8543c0703260214k3c0ee521p776aa41ade010730@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_260125_26945353.1174916291450
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

The short form is no. Lucene is emphatically NOT a relational database.
Of course, you could take the results of the first search, collect the IDs
and query the second, but for large sets this may not be practical

Why not combine the indexes? That would be the "lucene way"...

There has been extensive discussion of embedding Lucene in a DB,
but I can't remember who. Search the archive for Oracle and you'll find
an extensive discussion....

Best
Erick


On 3/26/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> I mean when I get result from the first index, find the common records
> from
> the second index depending on first result.
> something like relation between two database tables, relation by primary
> key
>
> index1:
> id           name                 somefield1
> 1             jack                   value1
> 2            Michael              value2
> 3             Sara                  value3
> 4            Joseph                value4
> ...
>
>
> index2:
> id              field1              field2              field3
> 2               fval1-1            fval2-1             fval3-1
> 4               fval1-2            fval2-2             fval3-2
> ...
>
> now a user puts query : name:Michael
>
> I should return the result wrapped in following document:
> document:
> id           name       somefield1       field1      field2        field3
>
> ------------------------------------------------------------------------------------------
> 2            Michael    value2             fval1-1    fval2-1
> fval3-1
>
>
>
> On 3/26/07, jafarim <jafarim@gmail.com> wrote:
> >
> > what do you mean by "applying the result to the second one"?
> >
> > On 3/26/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> > >
> > > hi
> > > I have two separated index but there are some fields that are common
> > > between
> > > them. now I want to search from one index and then apply the result to
> > the
> > > second one. what solution do you suggest?
> > > what happens on fields? I mean the first document has some fields that
> > are
> > > not present in the second one so I need the final document has all the
> > > fields of both indexes.
> > >
> > > thanks
> > >
> > >
> > > --
> > > Regards,
> > > Mohammad
> > >
> >
>
>
>
> --
> Regards,
> Mohammad
>

------=_Part_260125_26945353.1174916291450--

From java-user-return-27157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 13:41:03 2007
Return-Path: <java-user-return-27157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62381 invoked from network); 26 Mar 2007 13:41:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 13:41:02 -0000
Received: (qmail 39504 invoked by uid 500); 26 Mar 2007 13:40:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39473 invoked by uid 500); 26 Mar 2007 13:40:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39461 invoked by uid 99); 26 Mar 2007 13:40:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 06:40:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.81] (HELO spunkymail-a12.g.dreamhost.com) (208.97.132.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 06:40:45 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a12.g.dreamhost.com (Postfix) with ESMTP id 998977FB6
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 06:40:25 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E58841A0@tkdwi001.dev.tradingscreen.com>
References: <847893AE8EE17A48A3725E82C10DE9E58841A0@tkdwi001.dev.tradingscreen.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <CF26F697-410B-4F5B-B51A-D129D0539CE9@apache.org>
Content-Transfer-Encoding: quoted-printable
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: search on multiple fields
Date: Mon, 26 Mar 2007 09:40:22 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Have a look at the MultifieldQueryParser.  It isn't exactly what you =20
are describing, but should be able to handle it.  If you are building =20=

your queries programmatically, you can ask the IndexReader for the =20
field names using  getFieldNames method.

On Mar 26, 2007, at 4:51 AM, Melanie Langlois wrote:

> Hi,
>
>
>
> I'm wondering if lucene would understand such a query:
>
>
>
> content*:mysearch
>
> It's just because I index several translations of my document =20
> contents in addition with common fields, and this separation is =20
> really usefull when an user specify the language in which he wants =20
> to search, but I want to be able to search among all languages if =20
> no option is specified. I could programmatically transform my =20
> content* into several sub queries content-en:mysearch content-=20
> fr:mysearch ... but I'm concerned about the number of conditions it =20=

> will generate. So that would be cool if lucene automatically look =20
> into all concerned fields.
>
>
>
> Thanks,
>
>
>
> M=E9lanie
>
>
>
>
>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/=20
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 14:27:55 2007
Return-Path: <java-user-return-27158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86412 invoked from network); 26 Mar 2007 14:27:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 14:27:52 -0000
Received: (qmail 36062 invoked by uid 500); 26 Mar 2007 14:27:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35947 invoked by uid 500); 26 Mar 2007 14:27:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35924 invoked by uid 99); 26 Mar 2007 14:27:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 07:27:49 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.147.74.245] (HELO web62107.mail.re1.yahoo.com) (69.147.74.245)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Mar 2007 07:27:37 -0700
Received: (qmail 27186 invoked by uid 60001); 26 Mar 2007 14:27:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=aSOkq4Gbl4JY8xC2CAtGylVZb8F4ddL8fw6LcYJLARvm4D+duNOZM3CuSfVMgqMURJD6KiG1PzXcKYxa8rCdU4n/KaD23lU7ayZ73jJM78jPCMEmk/rd/pF8M/YYBiRj9eDeaRKQ/R91vjg6Wx5Yk8V501osywCt/GAh10PVhyE=;
X-YMail-OSG: HIPQsJwVM1m7iqb2veol4XbuJ.Kvo0wLCzbXdrrfrYDMdsyX9xPawWlW9iGfCrXN9nXaeE3goBI82t9x0eWj1IjCWj5w8SRrUkCspjpOa4N9as6OCef2fQ.8nTLdOyNr
Received: from [71.33.164.178] by web62107.mail.re1.yahoo.com via HTTP; Mon, 26 Mar 2007 07:27:13 PDT
Date: Mon, 26 Mar 2007 07:27:13 -0700 (PDT)
From: Santa Clause <noclueu2@yahoo.com>
Subject: Running out of memory while doing a search
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1396374598-1174919233=:26340"
Content-Transfer-Encoding: 8bit
Message-ID: <695182.26340.qm@web62107.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1396374598-1174919233=:26340
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello All,
      I am having an issue with running out of memory  while doing certain searches. I cannot do the obvious an give my JVM  more memory, I have no more to give. Here is my situation.
  I have ~150 million documents in my index with around 5 indexed fields.  Each field is ~100 characters and when tokenized around a max of 10  tokens, usually less. I have 2 fields that are  either y or n.  These are the fields causing issues. Curently about 50% are (y, n) and  the other times they are (n, y). In the future we will be adding more  y,n fields and the will overlap in vlues. Example y,y or n,n.
  
  Now when I add a TermQuery to my boolean query (making the y,n value  required, I get a memory error.) Without that term query, all my  queries run fine.
  
  I thought that maybe it was because the rest of my query was optional  and so adding the additional y,n query was getting too many hits ~75  million. So I tried keeping my original BooleanQuery (without y,n  field) Adding it to another BooleanQuery making int required and then  adding the y,n query to that. Still no joy.
  
  My other thought was to have multiple indexes. Use one index when a  value was y another when it is n and both when they want all  informaton. The issue I came up with there is when a document has y,y  or n,n and there is overlapping. That is causing a bit of issue.
  
  Any thoughts or can someone explain why I run out of memory when I add  a required TermQuery that contains 1/2 of my documents. The first part  of my query should narrow the results down to a few hundred.
  
  Thanks,
  Richard K.
  
 
---------------------------------
Don't be flakey. Get Yahoo! Mail for Mobile and 
always stay connected to friends.
--0-1396374598-1174919233=:26340--

From java-user-return-27159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 14:36:14 2007
Return-Path: <java-user-return-27159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89267 invoked from network); 26 Mar 2007 14:36:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 14:36:14 -0000
Received: (qmail 52362 invoked by uid 500); 26 Mar 2007 14:36:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51347 invoked by uid 500); 26 Mar 2007 14:36:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51335 invoked by uid 99); 26 Mar 2007 14:36:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 07:36:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 07:36:01 -0700
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.160F5443@mailer.syr.edu>; Mon, 26 Mar 2007 10:35:40 -0400
Message-ID: <4607DA4E.7070807@syr.edu>
Date: Mon, 26 Mar 2007 10:35:58 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to search over another search
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
In-Reply-To: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Mohammad,

Have you looked at MultiSearcher?

<http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MultiSearcher.html>

Section 5.6 of Lucene in Action covers its use.

Steve

Mohammad Norouzi wrote:
> hi
> I have two separated index but there are some fields that are common
> between
> them. now I want to search from one index and then apply the result to the
> second one. what solution do you suggest?
> what happens on fields? I mean the first document has some fields that are
> not present in the second one so I need the final document has all the
> fields of both indexes.
> 
> thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 14:56:47 2007
Return-Path: <java-user-return-27160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98823 invoked from network); 26 Mar 2007 14:56:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 14:56:47 -0000
Received: (qmail 8387 invoked by uid 500); 26 Mar 2007 14:56:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8350 invoked by uid 500); 26 Mar 2007 14:56:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8330 invoked by uid 99); 26 Mar 2007 14:56:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 07:56:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 07:56:34 -0700
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.160F57F7@mailer.syr.edu>; Mon, 26 Mar 2007 10:56:13 -0400
Message-ID: <4607DF1F.6000701@syr.edu>
Date: Mon, 26 Mar 2007 10:56:31 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to search over another search
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com> <4607DA4E.7070807@syr.edu>
In-Reply-To: <4607DA4E.7070807@syr.edu>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Oops, sorry for the confusion, I was thinking of ParallelReader, first
available in Lucene-Java release 1.9:

<http://lucene.apache.org/java/docs/api/org/apache/lucene/index/ParallelReader.html>

-----
An IndexReader which reads multiple, parallel indexes. Each index added
must have the same number of documents, but typically each contains
different fields. Each document contains the union of the fields of all
documents with the same document number. When searching, matches for a
query term are from the first index added that has the field.

This is useful, e.g., with collections that have large fields which
change rarely and small fields that change more frequently. The smaller
fields may be re-indexed in a new index and both indexes may be searched
together.

Warning: It is up to you to make sure all indexes are created and
modified the same way. For example, if you add documents to one index,
you need to add the same documents in the same order to the other
indexes. Failure to do so will result in undefined behavior.
-----

Steve


Steven Rowe wrote:
> Hi Mohammad,
> 
> Have you looked at MultiSearcher?
> 
> <http://lucene.apache.org/java/docs/api/org/apache/lucene/search/MultiSearcher.html>
> 
> Section 5.6 of Lucene in Action covers its use.
> 
> Steve
> 
> Mohammad Norouzi wrote:
>> hi
>> I have two separated index but there are some fields that are common
>> between
>> them. now I want to search from one index and then apply the result to the
>> second one. what solution do you suggest?
>> what happens on fields? I mean the first document has some fields that are
>> not present in the second one so I need the final document has all the
>> fields of both indexes.
>>
>> thanks
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 15:37:41 2007
Return-Path: <java-user-return-27161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14719 invoked from network); 26 Mar 2007 15:37:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 15:37:40 -0000
Received: (qmail 87593 invoked by uid 500); 26 Mar 2007 15:37:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87567 invoked by uid 500); 26 Mar 2007 15:37:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87555 invoked by uid 99); 26 Mar 2007 15:37:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 08:37:40 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.147.74.251] (HELO web62113.mail.re1.yahoo.com) (69.147.74.251)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Mar 2007 08:37:29 -0700
Received: (qmail 77319 invoked by uid 60001); 26 Mar 2007 15:37:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=6CPNudTDoq6Z7OLfUi7mtTf/ZYB34ukA8wL9vdj6FFLoxkcLyB8wfomaDAfqnqdjrtaxIxBf/+GuIOhqhcE6bVHeaOVEp5whwScgcgr2Gr4dMEepXf6E6dh9hIxpzETVqRK7qxM3rE8ol8rhJllBjGGKb16BkFWjk2rodSP25CA=;
X-YMail-OSG: t5SAjGkVM1kCylfvaR1.0pMJqabSl7GSHztNsTtn
Received: from [71.33.164.178] by web62113.mail.re1.yahoo.com via HTTP; Mon, 26 Mar 2007 08:37:06 PDT
Date: Mon, 26 Mar 2007 08:37:06 -0700 (PDT)
From: Santa Clause <noclueu2@yahoo.com>
Subject: Re: Running out of memory while doing a search
To: java-user@lucene.apache.org
In-Reply-To: <695182.26340.qm@web62107.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-677822349-1174923426=:74969"
Content-Transfer-Encoding: 8bit
Message-ID: <428217.74969.qm@web62113.mail.re1.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-677822349-1174923426=:74969
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Here are the queries being run:
  
  +spanFirst(FIELD1:bfc, 2) spanNear([FIELD1:bfc,FIELD1:51], 2, true)
  This works with 603 matches
  
  +spanFirst(FIELD1:bfc, 2) spanNear([FIELD1:bfc,FIELD1:51], 2, true) +YNFIELD:y
  Runs out of memory (should have ~300 matches)
  
  
  +(+spanFirst(FIELD1:bfc, 2) spanNear([FIELD1:bfc,FIELD1:51], 2, true))
  This works
  
  
  +(+spanFirst(FIELD1:bfc, 2) spanNear([FIELD1:bfc,FIELD1:51], 2, true)) +(+YNFIELD:y)
  This runs out of memory
  
  
  

Santa Clause <noclueu2@yahoo.com> wrote:  Hello All,
  I am having an issue with running out of memory while doing certain  searches. I cannot do the obvious an give my JVM more memory, I have no  more to give. Here is my situation.
 I have ~150 million documents  in my index with around 5 indexed fields. Each field is ~100 characters  and when tokenized around a max of 10 tokens, usually less. I have 2  fields that are either y or n. These are the fields causing issues.  Curently about 50% are (y, n) and the other times they are (n, y). In  the future we will be adding more y,n fields and the will overlap in  vlues. Example y,y or n,n.
  
 Now when I add a TermQuery to my  boolean query (making the y,n value required, I get a memory error.)  Without that term query, all my queries run fine.
  
 I thought  that maybe it was because the rest of my query was optional and so  adding the additional y,n query was getting too many hits ~75 million.  So I tried keeping my original BooleanQuery (without y,n field) Adding  it to another BooleanQuery making int required and then adding the y,n  query to that. Still no joy.
  
 My other thought was to have  multiple indexes. Use one index when a value was y another when it is n  and both when they want all informaton. The issue I came up with there  is when a document has y,y or n,n and there is overlapping. That is  causing a bit of issue.
  
 Any thoughts or can someone explain  why I run out of memory when I add a required TermQuery that contains  1/2 of my documents. The first part of my query should narrow the  results down to a few hundred.
  
  Thanks,
  Richard K.
  
 
---------------------------------
Don't be flakey. Get Yahoo! Mail for Mobile and 
always stay connected to friends.

 
---------------------------------
Bored stiff? Loosen up...
Download and play hundreds of games for free on Yahoo! Games.
--0-677822349-1174923426=:74969--

From java-user-return-27162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 15:58:59 2007
Return-Path: <java-user-return-27162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25686 invoked from network); 26 Mar 2007 15:58:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 15:58:57 -0000
Received: (qmail 27267 invoked by uid 500); 26 Mar 2007 15:58:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27093 invoked by uid 500); 26 Mar 2007 15:58:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27056 invoked by uid 99); 26 Mar 2007 15:58:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 08:58:57 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 08:58:47 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2707470nfe
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 08:58:26 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=a9DzEA2oXIovMTaIcouroajge3v32dxpU36WBIs7lLorkSuPhEIS2RPhI31gfBK2v999ZbQTg5W/GQ09L1b4GCG9sVS3jgkKnRB0vWniJ0lxXmxhhgM72Rm2yhfvSpLus0D5i0pMQjGcPH75xh93cnjXpPq81qPZhooozXVdgnA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=ogCf0agIiZcfcgSlWVPufbcP62FjbcJtFRFmvPwMdLKRsWX1dOAc5WOEg7zmFQU8wMz5eoTOMJFzkAPgc34xZn6RFZQFBOdDjEw0qeIsKOLPT+QwzmgnjAEc2ZhyI6aH7684IQ6iD+L3TXhFuYNtOb5F5NeUx/GVhyQiYtJlZxw=
Received: by 10.82.167.5 with SMTP id p5mr14009601bue.1174924706068;
        Mon, 26 Mar 2007 08:58:26 -0700 (PDT)
Received: by 10.82.166.7 with HTTP; Mon, 26 Mar 2007 08:58:26 -0700 (PDT)
Message-ID: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
Date: Mon, 26 Mar 2007 08:58:26 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Virtually merge two indexes?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, Gurus,

One thing I want to do is: one index has fields like [primary-key,
not-so-frequently-updated-fields, large-content-fields,...], and
another index has [primary-key, frequently-updated-fields]. The
purpose is to make the indexing process faster by keeping large/stale
fields in one index and small/frequently updated fields in another,
linked via primary-key field.

If I do so, is it possible to keep the index search the same? Parallel
index reader may not cut it because it works only for different
Documents into different indexes. What I want is the same Document
spread on different indexes.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 16:03:25 2007
Return-Path: <java-user-return-27163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28241 invoked from network); 26 Mar 2007 16:03:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 16:03:24 -0000
Received: (qmail 36494 invoked by uid 500); 26 Mar 2007 16:03:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36359 invoked by uid 500); 26 Mar 2007 16:03:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36348 invoked by uid 99); 26 Mar 2007 16:03:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:03:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:03:15 -0700
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.160F7497@mailer.syr.edu>; Mon, 26 Mar 2007 12:02:54 -0400
Message-ID: <4607EEC0.1010206@syr.edu>
Date: Mon, 26 Mar 2007 12:03:12 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
In-Reply-To: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I think ParallelReader, first released in Lucene-Java 1.9, should meet
your needs:

<http://lucene.apache.org/java/docs/api/org/apache/lucene/index/ParallelReader.html>

-----
An IndexReader which reads multiple, parallel indexes. Each index added
must have the same number of documents, but typically each contains
different fields. Each document contains the union of the fields of all
documents with the same document number. When searching, matches for a
query term are from the first index added that has the field.

This is useful, e.g., with collections that have large fields which
change rarely and small fields that change more frequently. The smaller
fields may be re-indexed in a new index and both indexes may be searched
together.

Warning: It is up to you to make sure all indexes are created and
modified the same way. For example, if you add documents to one index,
you need to add the same documents in the same order to the other
indexes. Failure to do so will result in undefined behavior.
-----

Steve

Chris Lu wrote:
> Hi, Gurus,
> 
> One thing I want to do is: one index has fields like [primary-key,
> not-so-frequently-updated-fields, large-content-fields,...], and
> another index has [primary-key, frequently-updated-fields]. The
> purpose is to make the indexing process faster by keeping large/stale
> fields in one index and small/frequently updated fields in another,
> linked via primary-key field.
> 
> If I do so, is it possible to keep the index search the same? Parallel
> index reader may not cut it because it works only for different
> Documents into different indexes. What I want is the same Document
> spread on different indexes.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 16:13:36 2007
Return-Path: <java-user-return-27164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32492 invoked from network); 26 Mar 2007 16:13:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 16:13:35 -0000
Received: (qmail 54569 invoked by uid 500); 26 Mar 2007 16:13:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54523 invoked by uid 500); 26 Mar 2007 16:13:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54512 invoked by uid 99); 26 Mar 2007 16:13:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:13:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.191 as permitted sender)
Received: from [64.233.182.191] (HELO nf-out-0910.google.com) (64.233.182.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:13:26 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2711671nfe
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 09:13:05 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=QJ8sD3Vu9UpOBvH17QdjvhDrrtXbYqbHOOnkzrvhQVKnpXLkJwQAiUhOLEkczMb5pZlDI3lkOVbZvgExok4tjJzrmNpI+5Y9emk9fHO/uhskX8GpnSDTpLXlNp4YElK5F5Ul2zlfYtnpl+ejQArcgmdIs+SaXukyvHhMiHewhA0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=kDAYPwcipBz46IBdP6KiqtfoadyJgZtYfBtyXsvXKCDOdR9RtmnQpJpbuoQQfwTLCN8XJezRHT7tSPQGk+UQov82ajTuZwZAPMk5jXwdusrZPIprIaFeHSsvxMpiTw0CmxUh3Jmzn9m0nb+gKhSQ0S6LslX/qwEHOXEsIpqBqfI=
Received: by 10.82.177.3 with SMTP id z3mr13761493bue.1174925583230;
        Mon, 26 Mar 2007 09:13:03 -0700 (PDT)
Received: by 10.82.166.7 with HTTP; Mon, 26 Mar 2007 09:13:03 -0700 (PDT)
Message-ID: <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>
Date: Mon, 26 Mar 2007 09:13:03 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
In-Reply-To: <4607EEC0.1010206@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
	 <4607EEC0.1010206@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, Steven,

Thanks for the instant reply! But let's see the warning in the
ParallelReader javadoc:
 "It is up to you to make sure all indexes are created and modified
the same way. For example, if you add documents to one index, you need
to add the same documents in the same order to the other indexes.
Failure to do so will result in undefined behavior."

To follow the warning, I need to index the all content again. So
basically it defeats my original purpose to keep two indexes: to save
the indexing for the large/stale content.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes


On 3/26/07, Steven Rowe <sarowe@syr.edu> wrote:
> I think ParallelReader, first released in Lucene-Java 1.9, should meet
> your needs:
>
> <http://lucene.apache.org/java/docs/api/org/apache/lucene/index/ParallelReader.html>
>
> -----
> An IndexReader which reads multiple, parallel indexes. Each index added
> must have the same number of documents, but typically each contains
> different fields. Each document contains the union of the fields of all
> documents with the same document number. When searching, matches for a
> query term are from the first index added that has the field.
>
> This is useful, e.g., with collections that have large fields which
> change rarely and small fields that change more frequently. The smaller
> fields may be re-indexed in a new index and both indexes may be searched
> together.
>
> Warning: It is up to you to make sure all indexes are created and
> modified the same way. For example, if you add documents to one index,
> you need to add the same documents in the same order to the other
> indexes. Failure to do so will result in undefined behavior.
> -----
>
> Steve
>
> Chris Lu wrote:
> > Hi, Gurus,
> >
> > One thing I want to do is: one index has fields like [primary-key,
> > not-so-frequently-updated-fields, large-content-fields,...], and
> > another index has [primary-key, frequently-updated-fields]. The
> > purpose is to make the indexing process faster by keeping large/stale
> > fields in one index and small/frequently updated fields in another,
> > linked via primary-key field.
> >
> > If I do so, is it possible to keep the index search the same? Parallel
> > index reader may not cut it because it works only for different
> > Documents into different indexes. What I want is the same Document
> > spread on different indexes.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 16:22:09 2007
Return-Path: <java-user-return-27165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36172 invoked from network); 26 Mar 2007 16:22:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 16:22:08 -0000
Received: (qmail 73834 invoked by uid 500); 26 Mar 2007 16:22:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73092 invoked by uid 500); 26 Mar 2007 16:22:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73078 invoked by uid 99); 26 Mar 2007 16:22:08 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:22:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:21:59 -0700
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.160F7819@mailer.syr.edu>; Mon, 26 Mar 2007 12:21:38 -0400
Message-ID: <4607F325.3080208@syr.edu>
Date: Mon, 26 Mar 2007 12:21:57 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>	 <4607EEC0.1010206@syr.edu> <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>
In-Reply-To: <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Chris,

Chris Lu wrote:
> Hi, Steven,
> 
> Thanks for the instant reply! But let's see the warning in the
> ParallelReader javadoc:
> "It is up to you to make sure all indexes are created and modified
> the same way. For example, if you add documents to one index, you need
> to add the same documents in the same order to the other indexes.
> Failure to do so will result in undefined behavior."
> 
> To follow the warning, I need to index the all content again. So
> basically it defeats my original purpose to keep two indexes: to save
> the indexing for the large/stale content.

Although it's true that you would need to re-index your content for the
frequently updated fields, you would *not* need to re-index the
large/stale content index, as long as you keep constant the number of
documents and the order in which you index them.

Steve

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 16:32:50 2007
Return-Path: <java-user-return-27166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42496 invoked from network); 26 Mar 2007 16:32:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 16:32:49 -0000
Received: (qmail 95673 invoked by uid 500); 26 Mar 2007 16:32:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95637 invoked by uid 500); 26 Mar 2007 16:32:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95626 invoked by uid 99); 26 Mar 2007 16:32:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:32:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 09:32:39 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2717506nfe
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 09:32:18 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rHSzBZGgCE3pWtp74PRr0wMUfE5gGX0qwKYZEAU4UTamBPAQEyXWUS9gMa2C87k31O+j7AeXQVvr1TP/+p0BdEUDxMVSmdHSJ7j1GPzhi0PTmyxfJuHHmQzbX1sSghQZfsd6nu8qHUf2ATfIhWoaq0gZNiFT29o0suWnO7Fh+Jo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=p6C93tzKcTq+gRkwf2CK/R8A97Yj3S2GYPczbllj6IMiiQgzyWOsOqjWigNI3nJu1vUzcs+dcWTjcTW5dVo8+o1MAvVzQtSTXkhnpzHIILotBuszW8xz15Iky0u6rO/4rM7OLtKIxloGUaoGairnfXAxD/rpnUiGNf7SjtxW4+0=
Received: by 10.82.165.1 with SMTP id n1mr14068909bue.1174926737186;
        Mon, 26 Mar 2007 09:32:17 -0700 (PDT)
Received: by 10.82.166.7 with HTTP; Mon, 26 Mar 2007 09:32:17 -0700 (PDT)
Message-ID: <6e3ae6310703260932j3d04dbc1sddeb487b68ddb20@mail.gmail.com>
Date: Mon, 26 Mar 2007 09:32:17 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
In-Reply-To: <4607F325.3080208@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
	 <4607EEC0.1010206@syr.edu>
	 <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>
	 <4607F325.3080208@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, Steven,

> Although it's true that you would need to re-index your content for the
> frequently updated fields, you would *not* need to re-index the
> large/stale content index, as long as you keep constant the number of
> documents and the order in which you index them.
>

This seems good but too strict and not practical for me. And I doubt
it's useful for any real practice also...

I think the better question could be, given a large/stale index A, a
small/updated index B, and the B does not satisfy the requirement of
ParallelReader. How can I create an index C that "add the same
documents in the same order of index A"?

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes


On 3/26/07, Steven Rowe <sarowe@syr.edu> wrote:
> Hi Chris,
>
> Chris Lu wrote:
> > Hi, Steven,
> >
> > Thanks for the instant reply! But let's see the warning in the
> > ParallelReader javadoc:
> > "It is up to you to make sure all indexes are created and modified
> > the same way. For example, if you add documents to one index, you need
> > to add the same documents in the same order to the other indexes.
> > Failure to do so will result in undefined behavior."
> >
> > To follow the warning, I need to index the all content again. So
> > basically it defeats my original purpose to keep two indexes: to save
> > the indexing for the large/stale content.
>
> Although it's true that you would need to re-index your content for the
> frequently updated fields, you would *not* need to re-index the
> large/stale content index, as long as you keep constant the number of
> documents and the order in which you index them.
>
> Steve
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 17:31:43 2007
Return-Path: <java-user-return-27167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65158 invoked from network); 26 Mar 2007 17:31:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 17:31:42 -0000
Received: (qmail 19211 invoked by uid 500); 26 Mar 2007 17:31:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19171 invoked by uid 500); 26 Mar 2007 17:31:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19160 invoked by uid 99); 26 Mar 2007 17:31:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 10:31:42 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 10:31:34 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HVt2I-0005TT-AO
	for java-user@lucene.apache.org; Mon, 26 Mar 2007 10:31:14 -0700
Message-ID: <9677750.post@talk.nabble.com>
Date: Mon, 26 Mar 2007 10:31:14 -0700 (PDT)
From: Mohsen Saboorian <mohsens@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Matched Query Part in Hit Object
In-Reply-To: <9657599.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mohsens@gmail.com
References: <9657599.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Any hint?


Mohsen Saboorian wrote:
> 
> Hi,
> Is there a way to find the matched part of query string in the Hit object?
> Lucene's Hilghlighter module does part of the job, highlighting the
> matched word in the result document, however it doesn't give the effective
> keyword in query string.
> For example, suppose I have a query: "lorem OR elit".
> 
> The first matched document is (hit 1): "lorem ipsum dolor sit amet". I
> want to find that "lorem" is the matched part of the query.
> The second matched document is (hit 2): "consectetur adipisicing elit". I
> want to find that "elit" is the matched part of the query.
> 
> Thanks in advance.
> 

-- 
View this message in context: http://www.nabble.com/Matched-Query-Part-in-Hit-Object-tf3461413.html#a9677750
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 17:48:47 2007
Return-Path: <java-user-return-27168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72001 invoked from network); 26 Mar 2007 17:48:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 17:48:47 -0000
Received: (qmail 51057 invoked by uid 500); 26 Mar 2007 17:48:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51024 invoked by uid 500); 26 Mar 2007 17:48:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51011 invoked by uid 99); 26 Mar 2007 17:48:46 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 10:48:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.215] (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Mar 2007 10:48:37 -0700
Received: (qmail 82861 invoked by uid 60001); 26 Mar 2007 17:48:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=loKKTD7r+ES7AsvVO5ZjfDG1irVYr4yhC6QZ2LFs8zAflYUQ8ckeWAh36RnHVupeeVvXh6AnRFenrMIl3N2FmwbZNQJSNCJx0qYhPrX1912B+Qk11kW773THIvAt4QdcGQOvhfPjreSBkSckbMUJz77XgOGW/fVDJ0GrRAzgPzU=;
X-YMail-OSG: vc_zy4sVM1m9gd39A.Qu96c5OtameYjDdN682SCA5e9qboz3cExW6O6WZnmye2eUDtRYXUXZYxZKk9o9QdZeZMB4KRNgnUu7w_WSTLngplAByvxM0II-
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Mon, 26 Mar 2007 17:48:13 GMT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Mon, 26 Mar 2007 17:48:13 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Matched Query Part in Hit Object
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <356065.81243.qm@web26004.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Not sure I understand the problem fully to be honest.

>>however it doesn't give the effective keyword in query string.
Are you saying it doesn't add the highlight markup in the appropriate place? If so,can you provide a Junit example?

>>I  want to find that "lorem" is the matched part of the query.
Do you mean that you want to get programmatic access to the portions of the match rather than a highlighted string?
If so, you could provide a custom Formatter implementation to the Highlighter API which is presented with the matching tokens along with their score and position.

Cheers,
Mark



----- Original Message ----
From: Mohsen Saboorian <mohsens@gmail.com>
To: java-user@lucene.apache.org
Sent: Monday, 26 March, 2007 6:31:14 PM
Subject: Re: Matched Query Part in Hit Object


Any hint?


Mohsen Saboorian wrote:
> 
> Hi,
> Is there a way to find the matched part of query string in the Hit object?
> Lucene's Hilghlighter module does part of the job, highlighting the
> matched word in the result document, however it doesn't give the effective
> keyword in query string.
> For example, suppose I have a query: "lorem OR elit".
> 
> The first matched document is (hit 1): "lorem ipsum dolor sit amet". I
> want to find that "lorem" is the matched part of the query.
> The second matched document is (hit 2): "consectetur adipisicing elit". I
> want to find that "elit" is the matched part of the query.
> 
> Thanks in advance.
> 

-- 
View this message in context: http://www.nabble.com/Matched-Query-Part-in-Hit-Object-tf3461413.html#a9677750
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






		
___________________________________________________________ 
What kind of emailer are you? Find out today - get a free analysis of your email personality. Take the quiz at the Yahoo! Mail Championship. 
http://uk.rd.yahoo.com/evt=44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 18:48:58 2007
Return-Path: <java-user-return-27169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98492 invoked from network); 26 Mar 2007 18:48:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 18:48:57 -0000
Received: (qmail 65819 invoked by uid 500); 26 Mar 2007 18:48:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65791 invoked by uid 500); 26 Mar 2007 18:48:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65779 invoked by uid 99); 26 Mar 2007 18:48:57 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 11:48:57 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 11:48:49 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HVuF2-0006MM-Vx
	for java-user@lucene.apache.org; Mon, 26 Mar 2007 11:48:28 -0700
Message-ID: <9679097.post@talk.nabble.com>
Date: Mon, 26 Mar 2007 11:48:28 -0700 (PDT)
From: Yakn <boardm26@yahoo.com>
To: java-user@lucene.apache.org
Subject: Re: Linking two different indexes
In-Reply-To: <46070B2B.3000004@nuix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: boardm26@yahoo.com
References: <9656534.post@talk.nabble.com> <000f01c76ed6$50712ec0$f1538c40$@mccarthy@propylon.com> <9660891.post@talk.nabble.com> <46070B2B.3000004@nuix.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks for the ParrallelReader, but that is not going to work either. I can
see a use for it if I could add the document correctly with the content from
Nutch.  

Ok, so I will try and ellaborate as much as possible here. From the previous
post I made, I had:

Nutch Index                                 URL                                        
Content
A                                    www.something.com                        
A lot of junk that needs linked
B                                    www.somethingelse.com                  
Some more junk that needs linked

 Lucene Index(from Database)         URL                          Other 
Fields
D                                    www.something.com           
G                                    www.something.com 


I want to ultimately have this:


DocumentID                                URL                           
Other Fields                             Content
D                              www.something.com                                                   
A lot of junk that needs linked
G                              www.something.com                                                   
A lot of junk that needs linked 

This can happen during indexing meaning that those documents will grab the
indexes from Nutch and pull the content out when it matches the URL and add
it to the Lucene Index when indexing from the database or it can happen at
Search Time, meaning that the search goes and looks for matches in the
content field or other fields and then grabs the other index from Nutch or
Lucene (Depending on where the hit happened) and matches them up with the
URL being the link. This would mean that we are matching documents with the
content and url. Hopefully this is enough information. 

Thanks again for a reply,
Mike




Daniel Noll-3 wrote:
> 
> Yakn wrote:
>> Thanks Damien, I believe that addIndex(index) is only going to add the
>> index
>> into the new indexes. But how do I actually link the document either at
>> search time or index time from the url in the database indexes and the
>> Nutch
>> index? So to explain my problem a little better
>> 
>> Nutch Index                                 URL                                        
>> Content
>> A                                    www.something.com                        
>> A lot of junk that needs linked
>> B                                    www.somethingelse.com                   
>> Some more junk that needs linked
>> 
>> Lucene Index(from Database)         URL                          Other
>> Fields
>> D                                    www.something.com          
>> G                                    www.something.com 
>> 
>> I want D and G to be linked with A either at Indexing time or at
>> searching
>> time. Can anyone elaborate on how to do this. Thanks in advance and
>> thanks
>> again Damien.
> 
> Unless you define what "linked with" actually means it's going to be 
> hard to offer suggestions, but have you looked at ParallelReader?
> 
> If that won't do what you want then the better way to approach this is 
> to explain what you're actually trying to *do*, rather than asking for 
> advice on how to implement one possibility of doing it.
> 
> Daniel
> 
> 
> -- 
> Daniel Noll
> 
> Nuix Pty Ltd
> Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
> Web: http://nuix.com/                               Fax: +61 2 9212 6902
> 
> This message is intended only for the named recipient. If you are not
> the intended recipient you are notified that disclosing, copying,
> distributing or taking any action in reliance on the contents of this
> message or attachment is strictly prohibited.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Linking-two-different-indexes-tf3461011.html#a9679097
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 19:18:57 2007
Return-Path: <java-user-return-27170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12845 invoked from network); 26 Mar 2007 19:18:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 19:18:55 -0000
Received: (qmail 34306 invoked by uid 500); 26 Mar 2007 19:18:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34085 invoked by uid 500); 26 Mar 2007 19:18:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34074 invoked by uid 99); 26 Mar 2007 19:18:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 12:18:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 12:18:47 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0EF6C5B764; Mon, 26 Mar 2007 12:18:27 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 096397F403
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 12:18:27 -0700 (PDT)
Date: Mon, 26 Mar 2007 12:18:27 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
In-Reply-To: <6e3ae6310703260932j3d04dbc1sddeb487b68ddb20@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703261216020.2213@hal.rescomp.berkeley.edu>
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com> 
 <4607EEC0.1010206@syr.edu>  <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>
  <4607F325.3080208@syr.edu> <6e3ae6310703260932j3d04dbc1sddeb487b68ddb20@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I think the better question could be, given a large/stale index A, a
: small/updated index B, and the B does not satisfy the requirement of
: ParallelReader. How can I create an index C that "add the same
: documents in the same order of index A"?

1) optimize A so it has a single segment with no gaps in doc ids.
2) iterate over the docs in A, looking at their "unique key" field
   -- FieldCache should be handy for this.
   2.1) For each uniqueKey in A pull the corrisponding data out of B and
        add the doc to C

...the key here being that B need not be a lucene index, just something
that provides fast lookup by your unique Key (liek a database perhaps)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 20:29:11 2007
Return-Path: <java-user-return-27171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47640 invoked from network); 26 Mar 2007 20:29:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 20:29:10 -0000
Received: (qmail 62964 invoked by uid 500); 26 Mar 2007 20:29:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62941 invoked by uid 500); 26 Mar 2007 20:29:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62930 invoked by uid 99); 26 Mar 2007 20:29:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 13:29:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 209.85.134.189 as permitted sender)
Received: from [209.85.134.189] (HELO mu-out-0910.google.com) (209.85.134.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 13:29:02 -0700
Received: by mu-out-0910.google.com with SMTP id i10so3196723mue
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 13:28:40 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=t4uc8YVKkMa1jOCQYNc+zgj63olqvbBmqTYiAQBKFTWgAXFQnq9ETH/yxroZ3QIHDSxO53zphdQCRQiYP2MTYbY3BmhTA3jaxjElFbBAtuMaokk0hUtsZbZSKY2OSi6uCta1S/pHPMefXAI+yEC6XVEFhc7kpsrDb4whKaMtcVQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CEPpkjhpzhUEubaLXSlTXQPoQ+iPDL6uebLu+a7jn4iNmfDYbs+3whavNVd7LOb5pHZxbbuoc3hDidSJMHXE71l+yJWyTS9E3LNYe/XvkrQJ0f+MH16UvGf1xGQ9krCwE5sP/kupHXRtjkf0SvZ+AN3/fNBdo6EcRwPsA+bqUOc=
Received: by 10.82.154.2 with SMTP id b2mr14510453bue.1174940919878;
        Mon, 26 Mar 2007 13:28:39 -0700 (PDT)
Received: by 10.82.166.7 with HTTP; Mon, 26 Mar 2007 13:28:39 -0700 (PDT)
Message-ID: <6e3ae6310703261328j5c59024i9605543bed2658ae@mail.gmail.com>
Date: Mon, 26 Mar 2007 13:28:39 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
In-Reply-To: <Pine.LNX.4.58.0703261216020.2213@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
	 <4607EEC0.1010206@syr.edu>
	 <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>
	 <4607F325.3080208@syr.edu>
	 <6e3ae6310703260932j3d04dbc1sddeb487b68ddb20@mail.gmail.com>
	 <Pine.LNX.4.58.0703261216020.2213@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Chris Hostetter!

More questions:

1. When I use setBoost for document in index C, will that be counted in?

2. Does index A allow any deletion at all? If index A has some
deletions, I suppose index C should also delete those after
optimizing? But which deletion takes precedence?

3. If index A use compound file format, I suppose index C should also
be the same. When optimizing during creating the compound file, the
ordering will not be changed?

I am also interested to know any real production usage of ParallelReader.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 3/26/07, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
> : I think the better question could be, given a large/stale index A, a
> : small/updated index B, and the B does not satisfy the requirement of
> : ParallelReader. How can I create an index C that "add the same
> : documents in the same order of index A"?
>
> 1) optimize A so it has a single segment with no gaps in doc ids.
> 2) iterate over the docs in A, looking at their "unique key" field
>    -- FieldCache should be handy for this.
>    2.1) For each uniqueKey in A pull the corrisponding data out of B and
>         add the doc to C
>
> ...the key here being that B need not be a lucene index, just something
> that provides fast lookup by your unique Key (liek a database perhaps)
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 22:13:27 2007
Return-Path: <java-user-return-27172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83759 invoked from network); 26 Mar 2007 22:13:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 22:13:27 -0000
Received: (qmail 22332 invoked by uid 500); 26 Mar 2007 22:13:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22301 invoked by uid 500); 26 Mar 2007 22:13:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22286 invoked by uid 99); 26 Mar 2007 22:13:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 15:13:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 15:13:19 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HVxQx-0004g0-1l
	for java-user@lucene.apache.org; Mon, 26 Mar 2007 15:12:59 -0700
Message-ID: <9682794.post@talk.nabble.com>
Date: Mon, 26 Mar 2007 15:12:58 -0700 (PDT)
From: TimF <tim@timflanders.com>
To: java-user@lucene.apache.org
Subject: Custom Analyzer Help please
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: tim@timflanders.com
X-Virus-Checked: Checked by ClamAV on apache.org


I would like to be able to get terms from my data that are a combination of
two existing analyzers.
I would like this for both posting and searching of various fields.
An example of the data might be as follows:
   Hello XY&Z Corporation - abc@example.com
I would like the following terms to come out of the analyzer:
 [hello]  [xy&z]  [corporation] [abc@example] [com]  //this is the
StandardAnalyzer output
as well as
  [xy] [z]  [abc] [example]

Essentially, I want the StandardAnalyzer output, but then I want to run the
StopAnalyzer on the terms that come out of the StandardAnalyzer. Basically I
would like to be able to search against part of the "special" word or the
whole "special" word, where special word contains tokens for things like
email and part numbers, etc...

I know the answer is that I have to create a custom analyzer that combines
the standard and stop analyzers, and I have tried... but I just cannot
figure out how to do this.

I have read through the LIA book and looked through the samples for keyword
and perfield analyzers, but they just dont do it.

Anyone have any samples that do this kind of thing?
Thanks,
Tim
-- 
View this message in context: http://www.nabble.com/Custom-Analyzer-Help-please-tf3469904.html#a9682794
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Mar 26 23:34:45 2007
Return-Path: <java-user-return-27173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2232 invoked from network); 26 Mar 2007 23:34:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 26 Mar 2007 23:34:45 -0000
Received: (qmail 7777 invoked by uid 500); 26 Mar 2007 23:34:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7747 invoked by uid 500); 26 Mar 2007 23:34:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7736 invoked by uid 99); 26 Mar 2007 23:34:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 16:34:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 16:34:37 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CC5335B764; Mon, 26 Mar 2007 16:34:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C60357F403
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 16:34:16 -0700 (PDT)
Date: Mon, 26 Mar 2007 16:34:16 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
In-Reply-To: <6e3ae6310703261328j5c59024i9605543bed2658ae@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703261630330.12470@hal.rescomp.berkeley.edu>
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com> 
 <4607EEC0.1010206@syr.edu>  <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>
  <4607F325.3080208@syr.edu>  <6e3ae6310703260932j3d04dbc1sddeb487b68ddb20@mail.gmail.com>
  <Pine.LNX.4.58.0703261216020.2213@hal.rescomp.berkeley.edu>
 <6e3ae6310703261328j5c59024i9605543bed2658ae@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: 1. When I use setBoost for document in index C, will that be counted in?

i don't know what "counted in" means .. are you asking how documents
boosts affect ParallelReader? ... because i have no idea.

: 2. Does index A allow any deletion at all? If index A has some
: deletions, I suppose index C should also delete those after
: optimizing? But which deletion takes precedence?

you can do whatever you want in whatever order you want, as long as you
can garuntee the ParallelReader conditions -- if it were me, i would play
it safe and only add/delete from A  just before optimizing and rebuilding
C (during that widow, nothing about your queries will be very safe, so
you'll probably be doing it offline anyway)

: 3. If index A use compound file format, I suppose index C should also
: be the same. When optimizing during creating the compound file, the
: ordering will not be changed?

nothing ever hcanges the relative order of documents, but adding or
optimizing docs can change the specific docIds by collapsing to fill in
the gaps from deletion during a segment merge ... i have no idea about
using Compound files.

: I am also interested to know any real production usage of ParallelReader.

i can't help you there ... my knowledge on this topic is purely
theoretically based on based list discussions.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 00:08:52 2007
Return-Path: <java-user-return-27174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10250 invoked from network); 27 Mar 2007 00:08:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 00:08:51 -0000
Received: (qmail 51940 invoked by uid 500); 27 Mar 2007 00:08:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51910 invoked by uid 500); 27 Mar 2007 00:08:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51899 invoked by uid 99); 27 Mar 2007 00:08:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 17:08:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 17:08:43 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 523FC4A8176
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 10:10:32 +1000 (EST)
Message-ID: <46086069.8080004@nuix.com>
Date: Tue, 27 Mar 2007 10:08:09 +1000
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070326)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: index word files ( doc )
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>	 <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>	 <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>	 <4604CCFD.9030803@teamware.com> <4604D1B9.6010509@gmail.com>	 <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>	 <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>	 <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>	 <4606FEEE.2070704@teamware.com>	 <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com> <bddd3c950703260138s299a33ccp91804b1c86420e89@mail.gmail.com>
In-Reply-To: <bddd3c950703260138s299a33ccp91804b1c86420e89@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Ryan Ackley wrote:
 >> Any comments on this are appreciated. One thing I thought of would be
 >> to continue to offer the text extraction as open source but add html
 >> conversion with hit highlighting for a variety of file formats as a
 >> commercial add on. Is this something anyone would pay for? What are
 >> some other pain points of the Lucene community besides text
 >> extraction?

jafarim wrote:
> Good to know that your devised commercial feature is already offered by
> Enhydra Snapper as an open-source feature.
> Check here: http://www.enhydra.org/apps/snapper/index.html

Snapper can convert to HTML?  i.e. while maintaining formatting?

The only screenshots I can see look like plain text to me, and I'm 
currently working on something which needs to convert Word to HTML, 
which is why I ask.

Daniel

-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 00:11:40 2007
Return-Path: <java-user-return-27175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10785 invoked from network); 27 Mar 2007 00:11:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 00:11:39 -0000
Received: (qmail 55516 invoked by uid 500); 27 Mar 2007 00:11:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55260 invoked by uid 500); 27 Mar 2007 00:11:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55249 invoked by uid 99); 27 Mar 2007 00:11:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 17:11:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 17:11:31 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 52DE74A8176
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 10:13:21 +1000 (EST)
Message-ID: <46086112.5060803@nuix.com>
Date: Tue, 27 Mar 2007 10:10:58 +1000
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070326)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>  <4607EEC0.1010206@syr.edu>  <6e3ae6310703260913h3b642f98w20d44acda4223e70@mail.gmail.com>  <4607F325.3080208@syr.edu> <6e3ae6310703260932j3d04dbc1sddeb487b68ddb20@mail.gmail.com> <Pine.LNX.4.58.0703261216020.2213@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0703261216020.2213@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Hostetter wrote:
> : I think the better question could be, given a large/stale index A, a
> : small/updated index B, and the B does not satisfy the requirement of
> : ParallelReader. How can I create an index C that "add the same
> : documents in the same order of index A"?
> 
> 1) optimize A so it has a single segment with no gaps in doc ids.
> 2) iterate over the docs in A, looking at their "unique key" field
>    -- FieldCache should be handy for this.
>    2.1) For each uniqueKey in A pull the corrisponding data out of B and
>         add the doc to C
> 
> ...the key here being that B need not be a lucene index, just something
> that provides fast lookup by your unique Key (liek a database perhaps)

Now that you mention it...

Couldn't one make an IndexReader subclass which actually constructs fake 
TermDocs and TermPositions from the data in a database?  Then you could 
slot that implementation in anywhere which normally expects an 
IndexReader, and it would work as expected, plus you'd never have to 
worry about document IDs reordering themselves.

Daniel



-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 01:17:50 2007
Return-Path: <java-user-return-27176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31366 invoked from network); 27 Mar 2007 01:17:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 01:17:50 -0000
Received: (qmail 37242 invoked by uid 500); 27 Mar 2007 01:17:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37215 invoked by uid 500); 27 Mar 2007 01:17:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37204 invoked by uid 99); 27 Mar 2007 01:17:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 18:17:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 18:17:42 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A75C55B771; Mon, 26 Mar 2007 18:17:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9CD0F7F403
	for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 18:17:21 -0700 (PDT)
Date: Mon, 26 Mar 2007 18:17:21 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Matched Query Part in Hit Object
In-Reply-To: <9657599.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0703261815140.22558@hal.rescomp.berkeley.edu>
References: <9657599.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


Lucene Query objects do not generally "carry" this kind of incormation ...
for debugging purposes you can use the Explanation class, but it is not
particularly efficient.

you may also want to look at SpanQueries ... they are a specialized
subset of Queries which do keep track of this info, and you can call the
getSpans method on them to determine what/where each clause matches on
each document.

: Is there a way to find the matched part of query string in the Hit object?
: Lucene's Hilghlighter module does part of the job, highlighting the matched
: word in the result document, however it doesn't give the effective keyword
: in query string.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 02:30:40 2007
Return-Path: <java-user-return-27177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60934 invoked from network); 27 Mar 2007 02:30:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 02:30:39 -0000
Received: (qmail 30502 invoked by uid 500); 27 Mar 2007 02:30:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30475 invoked by uid 500); 27 Mar 2007 02:30:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30460 invoked by uid 99); 27 Mar 2007 02:30:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 19:30:39 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.196.97.108] (HELO web57004.mail.re3.yahoo.com) (66.196.97.108)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Mar 2007 19:30:30 -0700
Received: (qmail 49748 invoked by uid 60001); 27 Mar 2007 02:30:09 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=MjU+l+bnnJeXB1qc+i8MFDujnW9w1S0QEUUVFDX+PhBzxl3TtguV/N7xWibYSasnUv2DyKP3vwHZHl8ckZbsIM7wpOBQ462tKrlR0xyIZ88Jb1szYYETsmdZ9vTOrQXR/E7X+TEeNMZh/pxGotBZgfp/IJbNAjfuSqTk7jRb8Zc=;
X-YMail-OSG: pHHLTAcVM1nZDZT1Lb89lf1zTYuNYmxzJIYYoZKZCtILbU5sASP19k15St1Ghs2y.CstAbB0FKPymbQQJrirOR3.iwYxi_G28b8QwiYzcNxy.l2gzec8CyKe9vwXjA--
Received: from [69.255.227.192] by web57004.mail.re3.yahoo.com via HTTP; Mon, 26 Mar 2007 19:30:09 PDT
Date: Mon, 26 Mar 2007 19:30:09 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Re: Virtually merge two indexes?
To: java-user@lucene.apache.org
In-Reply-To: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1148727228-1174962609=:48436"
Content-Transfer-Encoding: 8bit
Message-ID: <794175.48436.qm@web57004.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1148727228-1174962609=:48436
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

How the indexes will be searched, do you need to search fields in both indexes? If the ParallelReader is not an attractive solution for you, finding a general solution may be difficult. Would  it be possible to explore solutions that may work for your specific case?

Just a thought.
Xiaocheng

Chris Lu <chris.lu@gmail.com> wrote: Hi, Gurus,

One thing I want to do is: one index has fields like [primary-key,
not-so-frequently-updated-fields, large-content-fields,...], and
another index has [primary-key, frequently-updated-fields]. The
purpose is to make the indexing process faster by keeping large/stale
fields in one index and small/frequently updated fields in another,
linked via primary-key field.

If I do so, is it possible to keep the index search the same? Parallel
index reader may not cut it because it works only for different
Documents into different indexes. What I want is the same Document
spread on different indexes.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



 
---------------------------------
TV dinner still cooling?
Check out "Tonight's Picks" on Yahoo! TV.
--0-1148727228-1174962609=:48436--

From java-user-return-27178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 03:08:06 2007
Return-Path: <java-user-return-27178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68510 invoked from network); 27 Mar 2007 03:08:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 03:08:03 -0000
Received: (qmail 76844 invoked by uid 500); 27 Mar 2007 03:08:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76812 invoked by uid 500); 27 Mar 2007 03:08:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76794 invoked by uid 99); 27 Mar 2007 03:08:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 20:08:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 20:07:56 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2868104nfe
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 20:07:35 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Fgx7Prfsx/NLCCCHjozdXuNoDXYZK+b/Ou/DIdNETRrmKqnDzk3SUsEgYBfTWhyJma95k8B6TiPQ0ERVK3W9BRUQuamIVs4b8ckbBVz4b0cZxa/CBdeIew3NCjlGZb05nWLRgcgg6JinxY+zzJhNzuUaA/lM95BdP09kwi68mcU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=EE0H0PMa5kHNZDkoga5My5wRB7SLlnZrl95s7NeDV+xDO3LqObj8lnIuyeUoEj/X745hs/aJcDiw+UWNuqoedbvRDXhk+WqzXV5g43jakZaLgZrPM/qR4Ixh0+EEvBs5ukuhfUX907JOrPeAfpve8PQf9E5yeZwWjMN8gWXSiIU=
Received: by 10.82.152.16 with SMTP id z16mr15258254bud.1174964854206;
        Mon, 26 Mar 2007 20:07:34 -0700 (PDT)
Received: by 10.82.166.7 with HTTP; Mon, 26 Mar 2007 20:07:34 -0700 (PDT)
Message-ID: <6e3ae6310703262007s6facddd4o4d3bc58013236578@mail.gmail.com>
Date: Mon, 26 Mar 2007 20:07:34 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Virtually merge two indexes?
In-Reply-To: <794175.48436.qm@web57004.mail.re3.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <6e3ae6310703260858y43014848w95b9d65f6ea80ce2@mail.gmail.com>
	 <794175.48436.qm@web57004.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks!

I need to use fields both indexes to calculate a final ranking.

For example, one index is for the major content, the other index has
the frequently-updated vote/score/popularity information.

Like you said, the ParallelIndex seems too much hassle to maintain. It
could be simple if I store those extra information somewhere else and
use them to calculate the ranking directly.

-- 
Chris Lu
-------------------------
Instant Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 3/26/07, Xiaocheng Luan <jenaluan@yahoo.com> wrote:
> How the indexes will be searched, do you need to search fields in both indexes? If the ParallelReader is not an attractive solution for you, finding a general solution may be difficult. Would  it be possible to explore solutions that may work for your specific case?
>
> Just a thought.
> Xiaocheng
>
> Chris Lu <chris.lu@gmail.com> wrote: Hi, Gurus,
>
> One thing I want to do is: one index has fields like [primary-key,
> not-so-frequently-updated-fields, large-content-fields,...], and
> another index has [primary-key, frequently-updated-fields]. The
> purpose is to make the indexing process faster by keeping large/stale
> fields in one index and small/frequently updated fields in another,
> linked via primary-key field.
>
> If I do so, is it possible to keep the index search the same? Parallel
> index reader may not cut it because it works only for different
> Documents into different indexes. What I want is the same Document
> spread on different indexes.
>
> --
> Chris Lu
> -------------------------
> Instant Full-Text Search On Any Database/Application
> site: http://www.dbsight.net
> demo: http://search.dbsight.com
> Lucene Database Search in 3 minutes:
> http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------
> TV dinner still cooling?
> Check out "Tonight's Picks" on Yahoo! TV.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 06:04:47 2007
Return-Path: <java-user-return-27179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2827 invoked from network); 27 Mar 2007 06:04:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 06:04:46 -0000
Received: (qmail 53034 invoked by uid 500); 27 Mar 2007 06:04:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53004 invoked by uid 500); 27 Mar 2007 06:04:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52993 invoked by uid 99); 27 Mar 2007 06:04:46 -0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mnrz57@gmail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 23:04:46 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2011831ugc
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 23:03:17 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=bfsou4n6GYrOLCe47N7RjiGRlNwf/VbW/n/rjScuzckJ2njOx2/q3e+XGK4trSd+E7CvBloxNUWmPa/rtOSiGKCERuQPT2mQnMaROMaoZzIYe41UM+xWu2WF+oeYqUUR08zsTjwYypRZacWZoculJRrQtbwdkg6G1Xpm7a3x6KI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=MvKKMTSbfvBjzi4kDv9dGQ4HFEtHq0ueX0NaW9aKFZy2gjM1WPAfYeCuPAu/RgfvXKKp3ApWJF89J4mwK/5Oa2P5ILw6w8P7ga531MlhP6Fmp0E3etNZppRjzR3YRjv+wneb9pRLIIEns/BbCF03AMK8b/ACtZ2VWr0ZtCqwgYM=
Received: by 10.78.164.9 with SMTP id m9mr3299635hue.1174975397213;
        Mon, 26 Mar 2007 23:03:17 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Mon, 26 Mar 2007 23:03:17 -0700 (PDT)
Message-ID: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
Date: Tue, 27 Mar 2007 09:33:17 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: why Apache doesnt create a nice forum like the others???
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1135_21274999.1174975397183"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1135_21274999.1174975397183
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I am using some JBoss products and they have a very nice and great forum,

I am wondering why Apache still uses this old-fashioned mailing list??


-- 
Regards,
Mohammad

------=_Part_1135_21274999.1174975397183--

From java-user-return-27180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 06:25:35 2007
Return-Path: <java-user-return-27180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7506 invoked from network); 27 Mar 2007 06:25:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 06:25:35 -0000
Received: (qmail 75841 invoked by uid 500); 27 Mar 2007 06:25:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75682 invoked by uid 500); 27 Mar 2007 06:25:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75666 invoked by uid 99); 27 Mar 2007 06:25:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 23:25:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 23:25:24 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id ADF3D630002
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 16:24:42 +1000 (EST)
Message-ID: <4608B81C.5050407@nuix.com>
Date: Tue, 27 Mar 2007 16:22:20 +1000
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070326)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
In-Reply-To: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mohammad Norouzi wrote:
> I am using some JBoss products and they have a very nice and great forum,
> 
> I am wondering why Apache still uses this old-fashioned mailing list??

Probably because you can simulate a forum using a mailing list, but you 
can't easily simulate a mailing list using a forum.  Doing it this way 
gives people the choice. :-)

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 06:25:46 2007
Return-Path: <java-user-return-27181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7603 invoked from network); 27 Mar 2007 06:25:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 06:25:45 -0000
Received: (qmail 77252 invoked by uid 500); 27 Mar 2007 06:25:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77225 invoked by uid 500); 27 Mar 2007 06:25:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77214 invoked by uid 99); 27 Mar 2007 06:25:44 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of karl.wettin@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 23:25:43 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2014021ugc
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 23:24:14 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=q6WrDoSnU7DYM7jnPZacBAtIl9DOHQQqthatyz0rD89AIoVrvaRMUCa7HZofMlqFgH96ZA43Hj1TvfHxICuMyylH1ZUR73TMBWlhK3j5rkhkZ0VDP208fuMDL3qhJDDbAEL2DTJ2H/gXeNnIgvBEtoQ3P01b+tLpPCkie3NxKRY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Y34HCtsEKCREbzDQQ/YbI5KJGRUYe227dx0uJffkW8OF0Czkb27OQ6soDKlP9WlA+FoHwm5KvOYUdvWhFbiQjH5G15/T0LHCn+LzeI/HVFwBQAb3d2FdiFyYS5jWxxQGRjA7Ge5WAcqAS/0CInYMfm7GUScVjHCGQ8HpXOXJBYY=
Received: by 10.66.239.18 with SMTP id m18mr434776ugh.1174976654311;
        Mon, 26 Mar 2007 23:24:14 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id i5sm31101506mue.2007.03.26.23.24.12;
        Mon, 26 Mar 2007 23:24:13 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: why Apache doesnt create a nice forum like the others???
Date: Tue, 27 Mar 2007 08:24:09 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


27 mar 2007 kl. 08.03 skrev Mohammad Norouzi:

> I am using some JBoss products and they have a very nice and great  
> forum,
>
> I am wondering why Apache still uses this old-fashioned mailing list??

Are you sure it is not just your email client that is old fashioned?  
You can also try services such as Nabble.

The way I see it (and probably many other) mailing lists are suprior  
in many ways, especially when following multiple forums.



-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 06:30:11 2007
Return-Path: <java-user-return-27182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8312 invoked from network); 27 Mar 2007 06:30:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 06:30:10 -0000
Received: (qmail 82661 invoked by uid 500); 27 Mar 2007 06:30:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82432 invoked by uid 500); 27 Mar 2007 06:30:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82412 invoked by uid 99); 27 Mar 2007 06:30:10 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mnrz57@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 23:30:08 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2901281nfe
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 23:28:39 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oGisD6fU9nYl0BdWwrYM1MTBy1ahlZxkJ53V8Ru70B19cMkUahf8F6BA/y8hTUVcfvrvNJijrTcDruhAPYWJDw8jU6LlFoDlf2P2fH6BWFbM0oOYnd95k4n+1RkEoTSFkNlwaRJmuNujdACA9vjPJcNjKwK6gesXNOlDMzIpjO0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=KuHXHKWh4cc2+GsOkuXDyGJGKZBY6CeQKgJilZ1SwAGnWklRYUDoH0ctQwnxmxyr3v3GnNcusp5xL/gcrRDngSJm/g+EFYzK9uXfgdguD2oPlWteI3gK7Wv8th2yvOmwkgdp8cnqaZBS0dSoA6cun5TodiXECbgUvOXRLhzI6uQ=
Received: by 10.78.180.18 with SMTP id c18mr3322087huf.1174976919353;
        Mon, 26 Mar 2007 23:28:39 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Mon, 26 Mar 2007 23:28:39 -0700 (PDT)
Message-ID: <34b8543c0703262328j360499ecoca6f6ed5e9e4a6bb@mail.gmail.com>
Date: Tue, 27 Mar 2007 09:58:39 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
In-Reply-To: <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1255_996662.1174976919277"
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
	 <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1255_996662.1174976919277
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Karl,
Maybe I am out of date!
do you mean with Nabble I can access this mailing list?

On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 27 mar 2007 kl. 08.03 skrev Mohammad Norouzi:
>
> > I am using some JBoss products and they have a very nice and great
> > forum,
> >
> > I am wondering why Apache still uses this old-fashioned mailing list??
>
> Are you sure it is not just your email client that is old fashioned?
> You can also try services such as Nabble.
>
> The way I see it (and probably many other) mailing lists are suprior
> in many ways, especially when following multiple forums.
>
>
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
Mohammad

------=_Part_1255_996662.1174976919277--

From java-user-return-27183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 06:39:48 2007
Return-Path: <java-user-return-27183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10351 invoked from network); 27 Mar 2007 06:39:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 06:39:47 -0000
Received: (qmail 94661 invoked by uid 500); 27 Mar 2007 06:39:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93985 invoked by uid 500); 27 Mar 2007 06:39:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93974 invoked by uid 99); 27 Mar 2007 06:39:45 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 23:39:45 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2902820nfe
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 23:38:16 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=gIDDQVVqzSI1PIxwJmS6/alIXillZYnLhrQPJlqN6L+xV72ZotosLmrAJAlU9RWo3TIxKWIR+kz+eXDyNVPmEcm1L6pKs5lL6JJRAX8bai7kdzenzysuBykKB3gIcqb4KlnlmQZw8CG7ZkgrLx8kR3j5nyXJm2RxrwWt6Uhzpq8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=SHnLD2h+rfQrj/0RHB8vttQXZ7TX5m6NLg6Vu+L+IJ4DV/4cZeqvo5h9nbLb/NPKH0FdiVlO7kfPYPSADLX8jQJzJAJap0hAWFlDK2VSvhsq7OXlkwSeRy4xY1/cwcCuu7nzz255w3a/NVd12JZyQdzIHwzOwuHeBUHrFvbA254=
Received: by 10.82.111.8 with SMTP id j8mr15546702buc.1174977496574;
        Mon, 26 Mar 2007 23:38:16 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id g8sm23171058muf.2007.03.26.23.38.14;
        Mon, 26 Mar 2007 23:38:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <34b8543c0703262328j360499ecoca6f6ed5e9e4a6bb@mail.gmail.com>
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com> <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com> <34b8543c0703262328j360499ecoca6f6ed5e9e4a6bb@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <315AC4D1-45A2-4ACA-99D3-544F53230A2B@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: why Apache doesnt create a nice forum like the others???
Date: Tue, 27 Mar 2007 08:38:11 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


27 mar 2007 kl. 08.28 skrev Mohammad Norouzi:

> Karl,
> Maybe I am out of date!
> do you mean with Nabble I can access this mailing list?

Yes.


--  
karl

>
> On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 27 mar 2007 kl. 08.03 skrev Mohammad Norouzi:
>>
>> > I am using some JBoss products and they have a very nice and great
>> > forum,
>> >
>> > I am wondering why Apache still uses this old-fashioned mailing  
>> list??
>>
>> Are you sure it is not just your email client that is old fashioned?
>> You can also try services such as Nabble.
>>
>> The way I see it (and probably many other) mailing lists are suprior
>> in many ways, especially when following multiple forums.
>>
>>
>>
>> --
>> karl
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> -- 
> Regards,
> Mohammad


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 06:50:58 2007
Return-Path: <java-user-return-27184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13526 invoked from network); 27 Mar 2007 06:50:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 06:50:57 -0000
Received: (qmail 13401 invoked by uid 500); 27 Mar 2007 06:50:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13359 invoked by uid 500); 27 Mar 2007 06:50:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13344 invoked by uid 99); 27 Mar 2007 06:50:56 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Mar 2007 23:50:56 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2017425ugc
        for <java-user@lucene.apache.org>; Mon, 26 Mar 2007 23:49:27 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=ch2iwBAQCnn96JSo451uEkMwtBupwl1xb6AvNti97Ku94pJfL4StU7lrdukfYwZGg2Ra9Di4phA1A+ThD48qyJSXzzEOd3CfC1uNhapud7DHG8WL+mBIzIBComHMBfEKDxLHceHzEN/c5bOUy6UvhiLNL/Ipv2MSTjjxffIpadU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=kOLjyJ/KQQu3XY9ezxxyQM4L1lCMBcC5GqWzRwKTb4Q5MGQplSzQQ6dCxshLiCy7VMhzXLmYUEOSPidJ2U5656bbWxKMBaLWnrESMuyHkr4JDfsq3UNFuUYiEMdjRPyDYh623fTD6XRaf9S0tP0rt7MeAoYtlw1763Sh2A7GwW0=
Received: by 10.66.225.1 with SMTP id x1mr485974ugg.1174978167890;
        Mon, 26 Mar 2007 23:49:27 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Mon, 26 Mar 2007 23:49:27 -0700 (PDT)
Message-ID: <4628d2a90703262349r454ed440i72ac3428d7472085@mail.gmail.com>
Date: Tue, 27 Mar 2007 12:19:27 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: what's the use of proximity data?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_46934_14918805.1174978167849"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_46934_14918805.1174978167849
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
    Please clarify my doubts.
    What's the use of storing proximity data internally while indexing? Is
it only for score calculation or any other additional purpose?
    How lucene  handles phrase query? Whether it's depend on proximity data
of phrase terms or any other?

Thanks & Regards
RSK

------=_Part_46934_14918805.1174978167849--

From java-user-return-27185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 07:23:45 2007
Return-Path: <java-user-return-27185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34888 invoked from network); 27 Mar 2007 07:23:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 07:23:44 -0000
Received: (qmail 69888 invoked by uid 500); 27 Mar 2007 07:23:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69864 invoked by uid 500); 27 Mar 2007 07:23:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69853 invoked by uid 99); 27 Mar 2007 07:23:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 00:23:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 00:23:36 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2910537nfe
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 00:23:14 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=aRjT6+dAH6WDRXZvslOYhOhcCOGOvR0v6fJPAluKyqBM82x1KkK93OPA9Sm2aUp/Cl7cvc6Vlpm1WVoy739Lz6LEtH1bp2BSKpP3nUSzmzk8WbOtYBmd27Y8H4wg9jtdzKimNIifHzSOfMkZJP5GlPPJnipyBEdfWuisaMjTQRI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=F43ypLpAJjF74bn/XeJQs+B68ckEOXd+HqN9uSKWEll4+zkA/7zOER4qbI4I/4yYYNpk2IKCOqfrkMZd1KBeGqo6u1cSkd44GiI5nh9aOYT4hIdHIiNCg3r7tUie5ShW1UiwqgM1GVUHwzY+fapWW1FvXKHQr5bsQIni8SWQJtk=
Received: by 10.82.113.6 with SMTP id l6mr15647304buc.1174980194506;
        Tue, 27 Mar 2007 00:23:14 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e9sm24655821muf.2007.03.27.00.23.12;
        Tue, 27 Mar 2007 00:23:13 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <4628d2a90703262349r454ed440i72ac3428d7472085@mail.gmail.com>
References: <4628d2a90703262349r454ed440i72ac3428d7472085@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A747297E-8D99-4DDD-A3B5-F3A3BD181AD7@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: what's the use of proximity data?
Date: Tue, 27 Mar 2007 09:23:10 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


27 mar 2007 kl. 08.49 skrev SK R:

> Hi,
>    Please clarify my doubts.
>    What's the use of storing proximity data internally while  
> indexing? Is
> it only for score calculation or any other additional purpose?
>    How lucene  handles phrase query? Whether it's depend on  
> proximity data
> of phrase terms or any other?

Do you speak of term offsets or term positions?

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 07:35:17 2007
Return-Path: <java-user-return-27186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40847 invoked from network); 27 Mar 2007 07:35:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 07:35:15 -0000
Received: (qmail 85521 invoked by uid 500); 27 Mar 2007 07:35:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85488 invoked by uid 500); 27 Mar 2007 07:35:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85477 invoked by uid 99); 27 Mar 2007 07:35:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 00:35:13 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of rsk.sen@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 00:35:05 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2025325ugc
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 00:33:50 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rTl+nX2mFVDtzPqIOdbHT5aPlj0Rs8o7xUtIHkPJH7tAvJooog4TdSE0jGfV5A6bC29ShEQPloz4zlhhkHUaRckG8g3mEBCQCVJQ0xmT2Cst/di+RE7p3w+7zwqFVpwyQMBN/pMF808oTEjQieZLQugQF9TTCcefJRLEfqnO7xs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JNT56KEhBG4AC9ceozrL0sS1MaUeZTYGdAbFPdob6yDDIuLhIIZer1PakWxwdnUzV9694VPKp3u3V+ido5XqKep4EXAmj0PHIqkVc2bXrwbO/6SI6HWH1P5qqdAMLDrdIX5u+S8/jsFwOpzkECJl8xycoWySYsIblM4Vtt9wOKE=
Received: by 10.66.249.16 with SMTP id w16mr524709ugh.1174980830314;
        Tue, 27 Mar 2007 00:33:50 -0700 (PDT)
Received: by 10.66.249.10 with HTTP; Tue, 27 Mar 2007 00:33:50 -0700 (PDT)
Message-ID: <4628d2a90703270033i1a204becq3848c84a58294f1a@mail.gmail.com>
Date: Tue, 27 Mar 2007 13:03:50 +0530
From: "SK R" <rsk.sen@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: what's the use of proximity data?
In-Reply-To: <A747297E-8D99-4DDD-A3B5-F3A3BD181AD7@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_47362_14486354.1174980830263"
References: <4628d2a90703262349r454ed440i72ac3428d7472085@mail.gmail.com>
	 <A747297E-8D99-4DDD-A3B5-F3A3BD181AD7@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_47362_14486354.1174980830263
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
      I'm speaking about term positions.
      In Lucene File Format, the .prx file contains the lists of positions
that each term occurs at within documents.
     I asked what's the purpose of this .prx file?
     Also how phrasequery handled?

Thanks & Regards
RSK

On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 27 mar 2007 kl. 08.49 skrev SK R:
>
> > Hi,
> >    Please clarify my doubts.
> >    What's the use of storing proximity data internally while
> > indexing? Is
> > it only for score calculation or any other additional purpose?
> >    How lucene  handles phrase query? Whether it's depend on
> > proximity data
> > of phrase terms or any other?
>
> Do you speak of term offsets or term positions?
>
> --
> karl
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_47362_14486354.1174980830263--

From java-user-return-27187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 07:46:53 2007
Return-Path: <java-user-return-27187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44490 invoked from network); 27 Mar 2007 07:46:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 07:46:52 -0000
Received: (qmail 99831 invoked by uid 500); 27 Mar 2007 07:46:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99795 invoked by uid 500); 27 Mar 2007 07:46:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99780 invoked by uid 99); 27 Mar 2007 07:46:52 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of karl.wettin@gmail.com designates 209.85.134.185 as permitted sender)
Received: from [209.85.134.185] (HELO mu-out-0910.google.com) (209.85.134.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 00:46:52 -0700
Received: by mu-out-0910.google.com with SMTP id i10so3348289mue
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 00:46:22 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=nbBlr8NXJaQBwPh6vvAJ20zmCJLQwGryuBI0LnebNb0OM0TnPYl1hX3oSd3Y59pxqoBD2/GgXzJjFIAjeaMM8T/9UNGo5QwFbwSFX9C5fR0Lw57QH+yLjG68q3clNSDI2lC0XNQVCF2Z+2fk7508yyLz/dO4VzM8VTApsZInIrI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=dB+G2s4WR+6HEHzhywbsn46LTGJEWDXJ5S6yW7Q9xybvkLHOQPuKpEstZBhxLY43QQO6atZahe6aSNW56/KgBDlgFfQ5g7xgQ5Fbi7BSxh39gyEdO0Z5U/mYcNNUHLjnHw3PVJlK3lVyB1+Wgp+fI5om5gxUrQdyeBq2HPWG8+U=
Received: by 10.82.120.14 with SMTP id s14mr15678346buc.1174981581829;
        Tue, 27 Mar 2007 00:46:21 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e8sm31425648muf.2007.03.27.00.46.17;
        Tue, 27 Mar 2007 00:46:18 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <4628d2a90703270033i1a204becq3848c84a58294f1a@mail.gmail.com>
References: <4628d2a90703262349r454ed440i72ac3428d7472085@mail.gmail.com> <A747297E-8D99-4DDD-A3B5-F3A3BD181AD7@gmail.com> <4628d2a90703270033i1a204becq3848c84a58294f1a@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <15B5D9DC-4FC7-431F-BB21-ECE88A22D942@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: what's the use of proximity data?
Date: Tue, 27 Mar 2007 09:46:13 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


27 mar 2007 kl. 09.33 skrev SK R:

> Hi,
>      I'm speaking about term positions.
>      In Lucene File Format, the .prx file contains the lists of  
> positions
> that each term occurs at within documents.
>     I asked what's the purpose of this .prx file?

It is generally used for phrase/span queries.

>     Also how phrasequery handled?

If the matching terms are within slop distance, the query is a match.  
Or what do you ask here?

Slop and distance can affect the score. For exact meachanism see  
PhraseScorerer.java, SloppyPhraseScorer.java or await a better answer  
from someone else :)

-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 09:11:38 2007
Return-Path: <java-user-return-27188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75772 invoked from network); 27 Mar 2007 09:11:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 09:11:36 -0000
Received: (qmail 20910 invoked by uid 500); 27 Mar 2007 09:11:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20838 invoked by uid 500); 27 Mar 2007 09:11:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20815 invoked by uid 99); 27 Mar 2007 09:11:34 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mnrz57@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 02:11:34 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2043067ugc
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 02:10:05 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pUt+9pu0RxSBJX6q74PSabwvP1e5auhs9kzIb+ScqlktnatfVN7/vEAno+ikr3b1WNC82M0tzOT5u79dnL4cn6QMX5RlRxtnsjgEVuSwDO23V4HudKeLGAdMEn/TQhvKn0oqnWHMe/35OQMMIfnCuUprP4U/kI6g2DsL9fABBMw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Xj9JqjOz5HTYIJ8Gnw7682giqN/1mmmresg9FTtdsxhj8mSLGi7sN2YTLqAyCZPhiWry28hUFHrPYClYamf/mmyxOXeaaPgCLSXzoh9wcDoLGu0zikTVKZGEj3d8aiE68zMfcMIXwQ4oPypGB4326Yx0hAGA+K80MKUqcyBgMhw=
Received: by 10.78.140.17 with SMTP id n17mr3385305hud.1174986604979;
        Tue, 27 Mar 2007 02:10:04 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Tue, 27 Mar 2007 02:10:04 -0700 (PDT)
Message-ID: <34b8543c0703270210q158bd852w3f179c1b8e4c3133@mail.gmail.com>
Date: Tue, 27 Mar 2007 12:40:04 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to search over another search
In-Reply-To: <4607DF1F.6000701@syr.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1893_412837.1174986604939"
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
	 <4607DA4E.7070807@syr.edu> <4607DF1F.6000701@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_1893_412837.1174986604939
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Steven,
what this means:
"Each index added must have the same number of documents, but typically each
contains different fields. Each document contains the union of the fields of
all documents with the same document number. When searching, matches for a
query term are from the first index added that has the field."

if I have say, 100 documents (records) in index, I should have exactly 100
documents in index2. Am I right?

Erick,
is following title, the discussion you mentioned about embedding Lucene in a
DB?
"Lucene vs. in-DB-full-text-searching"


-- 
Regards,
Mohammad

------=_Part_1893_412837.1174986604939--

From java-user-return-27189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 10:00:05 2007
Return-Path: <java-user-return-27189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92109 invoked from network); 27 Mar 2007 10:00:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 10:00:04 -0000
Received: (qmail 94077 invoked by uid 500); 27 Mar 2007 10:00:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94044 invoked by uid 500); 27 Mar 2007 10:00:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94033 invoked by uid 99); 27 Mar 2007 10:00:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 03:00:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 02:59:53 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id l2R9xQ5b043938
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 11:59:26 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200703270959.l2R9xQ5b043938@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: How can I use SortComparator in my case?
Date: Tue, 27 Mar 2007 11:59:21 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <OF85C3D49A.6BF44787-ON88257295.007396BC-88257295.007556E0@il.ibm.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acdfbf1ahNK0lmc8TiW/485EvtAZ3wQ5xA3A
X-Scanned-By: MIMEDefang 2.57 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for all your help.
Here I am coming with the best solution I can see and I am planning to
implement this.

Suppose 20 unique customers && 90,000 results found && to be returned offset
results 0-20

I can think of only following solution.. 
//Hope pseudo code is self understandable..

Public MyCollector extends TopFieldDocCollector{
 private Hashtable<String, FieldSortedHitQueue> hitQueues = new
Hashtable<String, FieldSortedHitQueue>();

 public void collect(int docId, float score) {
            super.collect(doc, score);
            String c = cachedCustomerKeywordTerms.getGroupTerm("customer",
docId); //like FielCache etc.
            FieldSortedHitQueue hitQueue = hitQueues.get(c);
            if(hitQueue == null){
                hitQueue = new FieldSortedHitQueue(reader, sort, numHits);
                hitQueues.put(c, hitQueue);
            }
            hitQueue.insert(new FieldDoc(docId, score));

    }

/** 
    Topdocs implementation overridden.
    Probably needs some improvements in sorting customers by score..
*/

 public TopDocs topDocs() {
       //just preparing Vector to be able to sort easily    
        Vector<FieldSortedHitQueue> actualHitQueues = new
Vector<FieldSortedHitQueue>();
        Enumeration<FieldSortedHitQueue> e = hitQueues.elements();
        while(e.hasMoreElements()){
            FieldSortedHitQueue fq = e.nextElement();
            actualHitQueues.addElement(fq);
        }

        //sort Vector by maxScore.. 
        Collections.sort(actualHitQueues, new
Comparator<FieldSortedHitQueue>() {
                    public int compare(FieldSortedHitQueue o1,
FieldSortedHitQueue o2) {
                        return Float.compare(o1.getMaxScore(),
o2.getMaxScore());
                    }
                });
        
        TopDocs topDocs = super.topDocs();
        
        int i=0;
        while(i < topDocs.scoreDocs.length){
            for(int j = 0; j < actualHitQueues.size(); j++){
                FieldSortedHitQueue fq = actualHitQueues.get(j);
                FieldDoc fd = (FieldDoc) fq.pop();
                if(fd != null){
                    topDocs.scoreDocs[i] = fd;
                    i =i+1;
                    if(i==topDocs.scoreDocs.length) break;
                }
            }
        }

        return topDocs;
    }
}


I would really appreciate your suggestions or improvements .

Thx in advance,
Jelda


> -----Original Message-----
> From: Doron Cohen [mailto:DORONC@il.ibm.com] 
> Sent: Monday, March 05, 2007 10:22 PM
> To: java-user@lucene.apache.org
> Subject: Re: How can I use SortComparator in my case?
> 
> I too cannot think of an indexing configuration that would help this.
> 
> However it seems that all the required information exists at 
> search time, more precisely at hits collection time:
> - the doc-id and doc-score are known, and used when hits are 
> collected.
> - The value of that certain field of interested can be 
> computed - similar to how it is computed for sorting by a 
> field - but its use is different - sorting should not be by 
> the value of the field, but rather by how many docs with the 
> same value for this field were "collected" so far.
> 
> This seems to call for a tailored hit collector. The search 
> API allows for providing a customized hit collector, where 
> this counting logic could be added. (The challenge is in 
> avoiding calling
> reader.document(id,fieldSelector) in collect() because this 
> would be quite bad for performance in a large collection - 
> see javadocs for
> HitCollector.collect() - but it must be a large collection, 
> otherwise, for a small collection, the post process approach 
> proposed here would do.)
> 
> Doron
> 
> "Erick Erickson" <erickerickson@gmail.com> wrote on 
> 05/03/2007 04:48:10:
> 
> > There's a discussion recently where someone pointed me to 
> > FieldSortedHitQueue, you might trysearchinng for that. Also, try 
> > "buckets" which was the header of that discussion.
> >
> > You can also think about clever indexing schemes with fields that 
> > allow you to sort however you really need to, although I confess 
> > nothing jumps out at me given your example.
> >
> > Best
> > Erick
> >
> >
> > On 3/5/07, Ramana Jelda <ramana.jelda@ciao-group.com> wrote:
> > >
> > > This will then be a big hastle. The results are in 100s and 
> > > sometimes
> in
> > > 1000s.
> > > Hum.. No other better way?
> > >
> > > Jelda
> > >
> > > > -----Original Message-----
> > > > From: Mordo, Aviran (EXP N-NANNATEK) 
> > > > [mailto:aviran.mordo@lmco.com]
> > > > Sent: Friday, March 02, 2007 8:02 PM
> > > > To: java-user@lucene.apache.org
> > > > Subject: RE: How can I use SortComparator in my case?
> > > >
> > > > You'll need to do it manually and not with Lucene.
> > > >
> > > > Just grab all the results from Lucene and process them yourself.
> > > >
> > > > Aviran
> > > > http://aviransplace.com
> > > >
> > > > -----Original Message-----
> > > > From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]
> > > > Sent: Friday, March 02, 2007 5:45 AM
> > > > To: java-user@lucene.apache.org
> > > > Subject: How can I use SortComparator in my case?
> > > >
> > > > Hi,
> > > > I have a requirement to sort search results in a round robin.
> > > > Ex:sorting results by field "customer"
> > > > suppose following customers are found (number of results in
> > > > brackets) and results are sorted by customer.
> > > >
> > > > Amazon(10)
> > > > Dell(2)
> > > > EBay(4)
> > > > Yahoo(20)
> > > >
> > > > but I want to sort them in the following way,
> > > > Amazon(1)
> > > > Dell(1)
> > > > EBay(1)
> > > > Yahoo(1)
> > > >
> > > > Amazon(1)
> > > > Dell(1)
> > > > EBay(1)
> > > > Yahoo(1)
> > > >
> > > > Amazon(1)
> > > > EBay(1)
> > > > Yahoo(1)
> > > >
> > > > Amazon(1)
> > > > EBay(1)
> > > > Yahoo(1)
> > > >
> > > > etc.. etc..
> > > >
> > > >
> > > > You think I can use somehow SortComparator here?
> > > > any suggestions?
> > > >
> > > > Thx,
> > > > Jelda
> > > >
> > > >
> > > > 
> ------------------------------------------------------------------
> > > > --- To unsubscribe, e-mail: 
> > > > java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: 
> java-user-help@lucene.apache.org
> > > >
> > >
> > >
> > > 
> --------------------------------------------------------------------
> > > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 10:29:36 2007
Return-Path: <java-user-return-27190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2043 invoked from network); 27 Mar 2007 10:29:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 10:29:34 -0000
Received: (qmail 44936 invoked by uid 500); 27 Mar 2007 10:29:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44505 invoked by uid 500); 27 Mar 2007 10:29:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44494 invoked by uid 99); 27 Mar 2007 10:29:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 03:29:34 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sandeep.chawla@accenture.com designates 170.252.248.72 as permitted sender)
Received: from [170.252.248.72] (HELO amrmr1003.accenture.com) (170.252.248.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 03:29:26 -0700
Received: from AMRXV1002.dir.svc.accenture.com (amrxv1002.dir.svc.accenture.com [10.10.160.62])
	by amrmr1003.accenture.com (8.13.8/8.13.8) with ESMTP id l2RAT2hF025821
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 05:29:05 -0500 (CDT)
Received: from APAXR2003.dir.svc.accenture.com ([10.189.16.49]) by AMRXV1002.dir.svc.accenture.com with Microsoft SMTPSVC(6.0.3790.1830); Tue, 27 Mar 2007 05:29:02 -0500
Received: from APAXM2106.dir.svc.accenture.com ([10.189.16.42]) by APAXR2003.dir.svc.accenture.com with Microsoft SMTPSVC(6.0.3790.1830); Tue, 27 Mar 2007 15:58:59 +0530
Content-Transfer-Encoding: 7bit
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2826
Content-class: urn:content-classes:message
Importance: normal
Priority: normal
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C7705A.B5F7B1A8"
Subject: PorterStemFilter 
Date: Tue, 27 Mar 2007 15:57:18 +0530
Message-ID: <53C3C5D0A014414CB608A149F6E0BCD501020C6B@APAXM2106.dir.svc.accenture.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: PorterStemFilter 
thread-index: AcdwWn8O0XcP/P62SXaoQ6OHy+Me3w==
From: <sandeep.chawla@accenture.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 27 Mar 2007 10:28:59.0466 (UTC) FILETIME=[BB4642A0:01C7705A]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C7705A.B5F7B1A8
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

Lucene provides a PorterStemFilter which uses PorterStemmer.

=20

Is there any way I can use a PorterStemFilter ( by extending it or
something) which uses porter2 stemming algorithm not the original porter
algorithm.

=20

I know , this is possible using snowball filter but for some reason I
don't want to use it.

=20

Thanks

Sandeep



This message is for the designated recipient only and may contain =
privileged, proprietary, or otherwise private information.  If you have =
received it in error, please notify the sender immediately and delete =
the original.  Any other use of the email by you is prohibited.

------_=_NextPart_001_01C7705A.B5F7B1A8--

From java-user-return-27191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 10:56:34 2007
Return-Path: <java-user-return-27191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8211 invoked from network); 27 Mar 2007 10:56:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 10:56:33 -0000
Received: (qmail 72968 invoked by uid 500); 27 Mar 2007 10:56:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72939 invoked by uid 500); 27 Mar 2007 10:56:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72928 invoked by uid 99); 27 Mar 2007 10:56:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 03:56:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [160.85.104.50] (HELO mx1.zhwin.ch) (160.85.104.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 03:56:24 -0700
Received: from orwell.zhwin.ch ([160.85.104.31])
	by mx1.zhwin.ch with esmtp (Exim 4.54)
	id 1HW9LO-0006A8-T2
	for java-user@lucene.apache.org; Tue, 27 Mar 2007 12:56:02 +0200
Received: from [160.85.232.238] (Not Verified[160.85.232.238]) by orwell.zhwin.ch with NetIQ MailMarshal 6.0 Service Pack 1a (v6,0,3,33)
	id <B4608f8030000>; Tue, 27 Mar 2007 12:54:59 +0200
Message-ID: <4608F839.9020704@zhwin.ch>
Date: Tue, 27 Mar 2007 12:55:53 +0200
From: thomas arni <art@zhwin.ch>
User-Agent: Thunderbird 1.5.0.10 (X11/20070306)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: PorterStemFilter
References: <53C3C5D0A014414CB608A149F6E0BCD501020C6B@APAXM2106.dir.svc.accenture.com>
In-Reply-To: <53C3C5D0A014414CB608A149F6E0BCD501020C6B@APAXM2106.dir.svc.accenture.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Write your own analyzer, which calls the appropriate Filter in the 
method "tokenStream".
In the method "tokenStream" you can define, how the input should be 
analyzed and parsed.

Your analyzer must extend the abstract class Analyzer. The easiest way 
is to create a new class (Analyzer), which is a simple copy of the 
StandardAnalyzer, and expand it with the appropriate Filter in the 
method "tokenStream".

Hope this helps...

Thomas




sandeep.chawla@accenture.com wrote:
> Hi,
>
>  
>
> Lucene provides a PorterStemFilter which uses PorterStemmer.
>
>  
>
> Is there any way I can use a PorterStemFilter ( by extending it or
> something) which uses porter2 stemming algorithm not the original porter
> algorithm.
>
>  
>
> I know , this is possible using snowball filter but for some reason I
> don't want to use it.
>
>  
>
> Thanks
>
> Sandeep
>
>
>
> This message is for the designated recipient only and may contain privileged, proprietary, or otherwise private information.  If you have received it in error, please notify the sender immediately and delete the original.  Any other use of the email by you is prohibited.
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 12:17:04 2007
Return-Path: <java-user-return-27192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31690 invoked from network); 27 Mar 2007 12:17:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 12:17:04 -0000
Received: (qmail 91301 invoked by uid 500); 27 Mar 2007 12:17:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91272 invoked by uid 500); 27 Mar 2007 12:17:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91261 invoked by uid 99); 27 Mar 2007 12:17:04 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 05:17:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sand.chawla@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 05:16:56 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2086094ugc
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 05:16:35 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=oS4DO1bQUaUvH1SR/+72tGfoDjThFgQAAqxRQnCRKvEPIBXYaQp/q6KMoyiC09JBA/cW3D4NvPKkZCC6pzHbWSJEtiFFpDtQJ6wC87BZC+1KUCBpFq9YPB9JApWlWr9z3SHJAUijyjnT0tBvNqF6oKRF2rLiI6BAXXMYhpK9O+E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Y8up39cjKJ84rLjB1+YVniKIejMeHyK35Odk8556ycI2+2u85p/zID6PBiufnKyVQ6bXvTPQWdaOSBrRCg0lW6NdEPEW478ligZjq055WPsUvLH1r3cCYItdqoMBXuu1HSi/4ulReCQrRcgiZfXXmJbcZddM5fE1gTqCnqQire8=
Received: by 10.115.33.1 with SMTP id l1mr3116140waj.1174997794356;
        Tue, 27 Mar 2007 05:16:34 -0700 (PDT)
Received: by 10.114.127.3 with HTTP; Tue, 27 Mar 2007 05:16:34 -0700 (PDT)
Message-ID: <a70e4c2b0703270516w325b8a78k2eef24717756fcb9@mail.gmail.com>
Date: Tue, 27 Mar 2007 17:46:34 +0530
From: "sandeep chawla" <sand.chawla@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: PorterStemFilter
In-Reply-To: <4608F839.9020704@zhwin.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <53C3C5D0A014414CB608A149F6E0BCD501020C6B@APAXM2106.dir.svc.accenture.com>
	 <4608F839.9020704@zhwin.ch>
X-Virus-Checked: Checked by ClamAV on apache.org

Well in any case..

is there a implemention of Porter2 Stemming algorithim in java..

I dont want to make a snowballfilter based on snowball  English Stemmer.

On 27/03/07, thomas arni <art@zhwin.ch> wrote:
>
> Write your own analyzer, which calls the appropriate Filter in the
> method "tokenStream".
> In the method "tokenStream" you can define, how the input should be
> analyzed and parsed.
>
> Your analyzer must extend the abstract class Analyzer. The easiest way
> is to create a new class (Analyzer), which is a simple copy of the
> StandardAnalyzer, and expand it with the appropriate Filter in the
> method "tokenStream".
>
> Hope this helps...
>
> Thomas
>
>
>
>
> sandeep.chawla@accenture.com wrote:
> > Hi,
> >
> >
> >
> > Lucene provides a PorterStemFilter which uses PorterStemmer.
> >
> >
> >
> > Is there any way I can use a PorterStemFilter ( by extending it or
> > something) which uses porter2 stemming algorithm not the original porter
> > algorithm.
> >
> >
> >
> > I know , this is possible using snowball filter but for some reason I
> > don't want to use it.
> >
> >
> >
> > Thanks
> >
> > Sandeep
> >
> >
> >
> > This message is for the designated recipient only and may contain privileged, proprietary, or otherwise private information.  If you have received it in error, please notify the sender immediately and delete the original.  Any other use of the email by you is prohibited.
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
SANDEEP CHAWLA
House no. 71
2nd main road
Koramangala 1st Block
Bangalore
Mobile - 91-9986150603

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 13:07:21 2007
Return-Path: <java-user-return-27193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48361 invoked from network); 27 Mar 2007 13:07:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 13:07:21 -0000
Received: (qmail 84728 invoked by uid 500); 27 Mar 2007 13:07:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84696 invoked by uid 500); 27 Mar 2007 13:07:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84685 invoked by uid 99); 27 Mar 2007 13:07:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:07:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:07:09 -0700
Received: from [128.230.84.100] (ist-h335-d03.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.161037BD@mailer.syr.edu>; Tue, 27 Mar 2007 9:06:48 -0400
Message-ID: <460916FC.3020108@syr.edu>
Date: Tue, 27 Mar 2007 09:07:08 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mail/News 1.5.0.4-GroupWise-IMAP-fix (Windows/20060619)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: how to search over another search
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>	 <4607DA4E.7070807@syr.edu> <4607DF1F.6000701@syr.edu> <34b8543c0703270210q158bd852w3f179c1b8e4c3133@mail.gmail.com>
In-Reply-To: <34b8543c0703270210q158bd852w3f179c1b8e4c3133@mail.gmail.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mohammad Norouzi wrote:
> Steven,
> what this means:
> "Each index added must have the same number of documents, but
> typically each contains different fields. Each document contains the
> union of the fields of all documents with the same document number.
> When searching, matches for a query term are from the first index
> added that has the field."
> 
> if I have say, 100 documents (records) in index, I should have exactly 100
> documents in index2. Am I right?

Yes.  The other requirement is that the documents must be added in
exactly the same order to both indexes.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 13:10:24 2007
Return-Path: <java-user-return-27194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49416 invoked from network); 27 Mar 2007 13:10:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 13:10:23 -0000
Received: (qmail 91674 invoked by uid 500); 27 Mar 2007 13:10:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91630 invoked by uid 500); 27 Mar 2007 13:10:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91611 invoked by uid 99); 27 Mar 2007 13:10:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:10:22 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:10:13 -0700
Received: by nf-out-0910.google.com with SMTP id g2so2986992nfe
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 06:09:52 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=aBZAOOw1fKTu3AV3Jxu5q0bqUP8eg6CpDJIzV9hj+V/9oecmxRu8AsVDyP18e6Jn2XltD/YdUf0Me0yetcV99eQfb7ssnuRKs8NNzTjMJOUNi0sQFu0Cx9SPIRkKv4oC4D3NI36JIHd6cWewK8swseyxtEcbB4cMm/RmYqK5tZE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NA/0vWihbmWgU0rYNC3+aP6lS79mBz2g+8+6eW0sghdlaTtnsqodYG/w8HxwhD3+AId6b/qWblUysu/Xn97ddhDZ3prj2K52WU74OY4O/pv9daRU7oK3jweZRmAnubuEXwCwOHCxa7f7Zer6hUGApElPctFzDZVM5LpcXJ8wZ/4=
Received: by 10.78.122.11 with SMTP id u11mr3528763huc.1175000992487;
        Tue, 27 Mar 2007 06:09:52 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Tue, 27 Mar 2007 06:09:52 -0700 (PDT)
Message-ID: <34b8543c0703270609h609cff95p9685f5cb0d577ad9@mail.gmail.com>
Date: Tue, 27 Mar 2007 16:39:52 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to search over another search
In-Reply-To: <460916FC.3020108@syr.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3180_23765638.1175000992420"
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
	 <4607DA4E.7070807@syr.edu> <4607DF1F.6000701@syr.edu>
	 <34b8543c0703270210q158bd852w3f179c1b8e4c3133@mail.gmail.com>
	 <460916FC.3020108@syr.edu>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_3180_23765638.1175000992420
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

sorry I cant comprehend, so why we should use two separate index? we can
merge it in one index file?

On 3/27/07, Steven Rowe <sarowe@syr.edu> wrote:
>
> Mohammad Norouzi wrote:
> > Steven,
> > what this means:
> > "Each index added must have the same number of documents, but
> > typically each contains different fields. Each document contains the
> > union of the fields of all documents with the same document number.
> > When searching, matches for a query term are from the first index
> > added that has the field."
> >
> > if I have say, 100 documents (records) in index, I should have exactly
> 100
> > documents in index2. Am I right?
>
> Yes.  The other requirement is that the documents must be added in
> exactly the same order to both indexes.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
Mohammad

------=_Part_3180_23765638.1175000992420--

From java-user-return-27195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 13:19:50 2007
Return-Path: <java-user-return-27195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53996 invoked from network); 27 Mar 2007 13:19:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 13:19:47 -0000
Received: (qmail 16089 invoked by uid 500); 27 Mar 2007 13:19:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16044 invoked by uid 500); 27 Mar 2007 13:19:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16008 invoked by uid 99); 27 Mar 2007 13:19:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:19:43 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_HOTMAIL_RCVD2,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:19:33 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HWBZx-0002Xs-0D
	for java-user@lucene.apache.org; Tue, 27 Mar 2007 06:19:13 -0700
Message-ID: <9692225.post@talk.nabble.com>
Date: Tue, 27 Mar 2007 06:19:12 -0700 (PDT)
From: daveburns <dave_m_burns@hotmail.com>
To: java-user@lucene.apache.org
Subject: Synonyms and Aliases query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: dave_m_burns@hotmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi, 
afriad I'm a noobie at Luncene but read Otis/Eriks book and was hoping
someone can answer a quick question on the AliasAnalyzer (Chap 4). I want to
build a search for names (Companies/surname, firstname etc) but need to
match thing s like 
Robert= bob, bobby, rob etc (or margaret=peggy etc). 

1) The problem is my search returns all Robert or Bob hit's if I search on
bob but if I search on Robert only Robert hits come back. I though the index
would automatically provide my required 2-way matching?

2) The second problem is to do with Company names. Can I create the above
alias analyzer to match I.B.M=IBM=International Business Machines? i.e.
multiple words to a single word.

Thanks,

Dave.
-- 
View this message in context: http://www.nabble.com/Synonyms-and-Aliases-query-tf3473040.html#a9692225
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 13:49:21 2007
Return-Path: <java-user-return-27196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73350 invoked from network); 27 Mar 2007 13:49:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 13:49:19 -0000
Received: (qmail 87708 invoked by uid 500); 27 Mar 2007 13:49:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87501 invoked by uid 500); 27 Mar 2007 13:49:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87486 invoked by uid 99); 27 Mar 2007 13:49:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:49:18 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:49:10 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2113908ugc
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 06:48:49 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mjIULoBc/p6V48eA3PAh2PZb/J3JNOIt3NIwj5CdzcVFKgDF9ALV1Xx2p6pP/ZWm1cxx1E+1skQ77DP4JD19cDUMpEPK/7myKt/HqH+8/PS8OeNtP6gQyccugQFoXZChQVzNEjwf+E2Wo208lroU+ossMVZlpMwccLeRPdtu7LM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mJ4uWBTG9BXYtC5qWEph7+bl7eX6+XedgZ/fo+10E/rsmO3oVTeb4M5d/5qwYvhIbKlXXjhx1qZUAfoBmmA1ziqNKDjp8sIo6qfMd/zQTFdQ3/XH37rxmgBlwv0g3Y0g36WT5eFemHjqftpNfHHAyJq02CR4XkM0WtdLCWBtY9I=
Received: by 10.114.174.2 with SMTP id w2mr3158487wae.1175003327786;
        Tue, 27 Mar 2007 06:48:47 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 27 Mar 2007 06:48:47 -0700 (PDT)
Message-ID: <359a92830703270648v61609d3dp51eaa1c5858b3795@mail.gmail.com>
Date: Tue, 27 Mar 2007 09:48:47 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
In-Reply-To: <315AC4D1-45A2-4ACA-99D3-544F53230A2B@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9805_10696470.1175003327517"
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
	 <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
	 <34b8543c0703262328j360499ecoca6f6ed5e9e4a6bb@mail.gmail.com>
	 <315AC4D1-45A2-4ACA-99D3-544F53230A2B@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_9805_10696470.1175003327517
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Gmail has been good to me for this list...

Erick

On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 27 mar 2007 kl. 08.28 skrev Mohammad Norouzi:
>
> > Karl,
> > Maybe I am out of date!
> > do you mean with Nabble I can access this mailing list?
>
> Yes.
>
>
> --
> karl
>
> >
> > On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
> >>
> >>
> >> 27 mar 2007 kl. 08.03 skrev Mohammad Norouzi:
> >>
> >> > I am using some JBoss products and they have a very nice and great
> >> > forum,
> >> >
> >> > I am wondering why Apache still uses this old-fashioned mailing
> >> list??
> >>
> >> Are you sure it is not just your email client that is old fashioned?
> >> You can also try services such as Nabble.
> >>
> >> The way I see it (and probably many other) mailing lists are suprior
> >> in many ways, especially when following multiple forums.
> >>
> >>
> >>
> >> --
> >> karl
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> >
> > --
> > Regards,
> > Mohammad
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_9805_10696470.1175003327517--

From java-user-return-27197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 13:54:49 2007
Return-Path: <java-user-return-27197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77568 invoked from network); 27 Mar 2007 13:54:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 13:54:38 -0000
Received: (qmail 97529 invoked by uid 500); 27 Mar 2007 13:54:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97357 invoked by uid 500); 27 Mar 2007 13:54:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97346 invoked by uid 99); 27 Mar 2007 13:54:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:54:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sand.chawla@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 06:54:26 -0700
Received: by ug-out-1314.google.com with SMTP id k40so2115682ugc
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 06:54:05 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=shAmUbkoFYE0i1rDYR3Cm538v5o6C26ItiLI4Z5tolzcUCsbyhZnrVWpKJ8EAt9L64rxZMZTb8JF0FVE7LejvVW6xx0D1lrBJEL8OTPSIs0W5U78qJvZ+l05CK59j8BX9438iWik2RQS3dhkpz9U0fw4SOv4IgZhOeiiLZ2L9ow=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ir65SeibZED/SmOO9ucVM245ANC4SjDclzu/4GJ7TfLQV6EWfgck/AvukU1YkXd/gZEh+1dbbYguh1gNmOWeTPV0amfjs4yYaGRmNsi2/qIfSc12eVPArGApY06qoT4kdR4KKmE3oXm+7c3NSJ9QXs5fO8/yFXUfYeDMcJBvOnw=
Received: by 10.114.205.1 with SMTP id c1mr3170691wag.1175003644095;
        Tue, 27 Mar 2007 06:54:04 -0700 (PDT)
Received: by 10.114.127.3 with HTTP; Tue, 27 Mar 2007 06:54:03 -0700 (PDT)
Message-ID: <a70e4c2b0703270654m2d1aa122y6a85de4ae93655c5@mail.gmail.com>
Date: Tue, 27 Mar 2007 19:24:03 +0530
From: "sandeep chawla" <sand.chawla@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Synonyms and Aliases query
In-Reply-To: <9692225.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <9692225.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

in a synonym Engine...

suppose  synonyms of word x is syn(x)...

then if  y = syn(x) then  x = syn(y)  doesn't hold true always  .....(
you might not get any synonyms of y..it depends on the data of synonym
engine)

so your synonym engine might be providing alias of bob as  robert,
rob, bobby... so when you search for bob, you are getting results
which contain robert,rob,bobby etc ( I am assuming that you are using
the synonymanalyzer for parsing the queries not for building the index
because if u r using synonymanalyzer for building the index, it
reduces the performance by a great degree)


When u r searching for robert and your synonym engine doesn't provide
any synonyms for roberts as bob, bobby ...you will not get the desired
result  so you need to rewrite your engine so that it satisfies the
above condition



On 27/03/07, daveburns <dave_m_burns@hotmail.com> wrote:
>
> Hi,
> afriad I'm a noobie at Luncene but read Otis/Eriks book and was hoping
> someone can answer a quick question on the AliasAnalyzer (Chap 4). I want to
> build a search for names (Companies/surname, firstname etc) but need to
> match thing s like
> Robert= bob, bobby, rob etc (or margaret=peggy etc).
>
> 1) The problem is my search returns all Robert or Bob hit's if I search on
> bob but if I search on Robert only Robert hits come back. I though the index
> would automatically provide my required 2-way matching?
>
> 2) The second problem is to do with Company names. Can I create the above
> alias analyzer to match I.B.M=IBM=International Business Machines? i.e.
> multiple words to a single word.
>
> Thanks,
>
> Dave.
> --
> View this message in context: http://www.nabble.com/Synonyms-and-Aliases-query-tf3473040.html#a9692225
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
SANDEEP CHAWLA
House no. 71
2nd main road
Koramangala 1st Block
Bangalore
Mobile - 91-9986150603

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 14:02:00 2007
Return-Path: <java-user-return-27198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85273 invoked from network); 27 Mar 2007 14:01:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 14:01:58 -0000
Received: (qmail 14584 invoked by uid 500); 27 Mar 2007 14:01:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14554 invoked by uid 500); 27 Mar 2007 14:01:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14536 invoked by uid 99); 27 Mar 2007 14:01:50 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 07:01:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 07:01:41 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id l2RE0Tfb062408
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 16:00:33 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200703271400.l2RE0Tfb062408@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: How can I use SortComparator in my case?
Date: Tue, 27 Mar 2007 16:00:12 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <200703270959.l2R9xQ5b043938@pigeon.ciao.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acdfbf1ahNK0lmc8TiW/485EvtAZ3wQ5xA3AAAiYviA=
X-Scanned-By: MIMEDefang 2.57 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org

Actually I don't like well my proposed way of implementation. 
I wanna play with score to implement the similar logic as I mentioned in my
solution.
But how?

Any suggestions, I would really appreciate. :)

Jelda
> -----Original Message-----
> From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com] 
> Sent: Tuesday, March 27, 2007 11:59 AM
> To: java-user@lucene.apache.org
> Subject: RE: How can I use SortComparator in my case?
> 
> Thanks for all your help.
> Here I am coming with the best solution I can see and I am 
> planning to implement this.
> 
> Suppose 20 unique customers && 90,000 results found && to be 
> returned offset results 0-20
> 
> I can think of only following solution.. 
> //Hope pseudo code is self understandable..
> 
> Public MyCollector extends TopFieldDocCollector{  private 
> Hashtable<String, FieldSortedHitQueue> hitQueues = new 
> Hashtable<String, FieldSortedHitQueue>();
> 
>  public void collect(int docId, float score) {
>             super.collect(doc, score);
>             String c = 
> cachedCustomerKeywordTerms.getGroupTerm("customer",
> docId); //like FielCache etc.
>             FieldSortedHitQueue hitQueue = hitQueues.get(c);
>             if(hitQueue == null){
>                 hitQueue = new FieldSortedHitQueue(reader, 
> sort, numHits);
>                 hitQueues.put(c, hitQueue);
>             }
>             hitQueue.insert(new FieldDoc(docId, score));
> 
>     }
> 
> /** 
>     Topdocs implementation overridden.
>     Probably needs some improvements in sorting customers by score..
> */
> 
>  public TopDocs topDocs() {
>        //just preparing Vector to be able to sort easily    
>         Vector<FieldSortedHitQueue> actualHitQueues = new 
> Vector<FieldSortedHitQueue>();
>         Enumeration<FieldSortedHitQueue> e = hitQueues.elements();
>         while(e.hasMoreElements()){
>             FieldSortedHitQueue fq = e.nextElement();
>             actualHitQueues.addElement(fq);
>         }
> 
>         //sort Vector by maxScore.. 
>         Collections.sort(actualHitQueues, new
> Comparator<FieldSortedHitQueue>() {
>                     public int compare(FieldSortedHitQueue 
> o1, FieldSortedHitQueue o2) {
>                         return 
> Float.compare(o1.getMaxScore(), o2.getMaxScore());
>                     }
>                 });
>         
>         TopDocs topDocs = super.topDocs();
>         
>         int i=0;
>         while(i < topDocs.scoreDocs.length){
>             for(int j = 0; j < actualHitQueues.size(); j++){
>                 FieldSortedHitQueue fq = actualHitQueues.get(j);
>                 FieldDoc fd = (FieldDoc) fq.pop();
>                 if(fd != null){
>                     topDocs.scoreDocs[i] = fd;
>                     i =i+1;
>                     if(i==topDocs.scoreDocs.length) break;
>                 }
>             }
>         }
> 
>         return topDocs;
>     }
> }
> 
> 
> I would really appreciate your suggestions or improvements .
> 
> Thx in advance,
> Jelda
> 
> 
> > -----Original Message-----
> > From: Doron Cohen [mailto:DORONC@il.ibm.com]
> > Sent: Monday, March 05, 2007 10:22 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: How can I use SortComparator in my case?
> > 
> > I too cannot think of an indexing configuration that would 
> help this.
> > 
> > However it seems that all the required information exists at search 
> > time, more precisely at hits collection time:
> > - the doc-id and doc-score are known, and used when hits are 
> > collected.
> > - The value of that certain field of interested can be computed - 
> > similar to how it is computed for sorting by a field - but 
> its use is 
> > different - sorting should not be by the value of the field, but 
> > rather by how many docs with the same value for this field were 
> > "collected" so far.
> > 
> > This seems to call for a tailored hit collector. The search 
> API allows 
> > for providing a customized hit collector, where this counting logic 
> > could be added. (The challenge is in avoiding calling
> > reader.document(id,fieldSelector) in collect() because this 
> would be 
> > quite bad for performance in a large collection - see javadocs for
> > HitCollector.collect() - but it must be a large collection, 
> otherwise, 
> > for a small collection, the post process approach proposed 
> here would 
> > do.)
> > 
> > Doron
> > 
> > "Erick Erickson" <erickerickson@gmail.com> wrote on
> > 05/03/2007 04:48:10:
> > 
> > > There's a discussion recently where someone pointed me to 
> > > FieldSortedHitQueue, you might trysearchinng for that. Also, try 
> > > "buckets" which was the header of that discussion.
> > >
> > > You can also think about clever indexing schemes with fields that 
> > > allow you to sort however you really need to, although I confess 
> > > nothing jumps out at me given your example.
> > >
> > > Best
> > > Erick
> > >
> > >
> > > On 3/5/07, Ramana Jelda <ramana.jelda@ciao-group.com> wrote:
> > > >
> > > > This will then be a big hastle. The results are in 100s and 
> > > > sometimes
> > in
> > > > 1000s.
> > > > Hum.. No other better way?
> > > >
> > > > Jelda
> > > >
> > > > > -----Original Message-----
> > > > > From: Mordo, Aviran (EXP N-NANNATEK) 
> > > > > [mailto:aviran.mordo@lmco.com]
> > > > > Sent: Friday, March 02, 2007 8:02 PM
> > > > > To: java-user@lucene.apache.org
> > > > > Subject: RE: How can I use SortComparator in my case?
> > > > >
> > > > > You'll need to do it manually and not with Lucene.
> > > > >
> > > > > Just grab all the results from Lucene and process 
> them yourself.
> > > > >
> > > > > Aviran
> > > > > http://aviransplace.com
> > > > >
> > > > > -----Original Message-----
> > > > > From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com]
> > > > > Sent: Friday, March 02, 2007 5:45 AM
> > > > > To: java-user@lucene.apache.org
> > > > > Subject: How can I use SortComparator in my case?
> > > > >
> > > > > Hi,
> > > > > I have a requirement to sort search results in a round robin.
> > > > > Ex:sorting results by field "customer"
> > > > > suppose following customers are found (number of results in
> > > > > brackets) and results are sorted by customer.
> > > > >
> > > > > Amazon(10)
> > > > > Dell(2)
> > > > > EBay(4)
> > > > > Yahoo(20)
> > > > >
> > > > > but I want to sort them in the following way,
> > > > > Amazon(1)
> > > > > Dell(1)
> > > > > EBay(1)
> > > > > Yahoo(1)
> > > > >
> > > > > Amazon(1)
> > > > > Dell(1)
> > > > > EBay(1)
> > > > > Yahoo(1)
> > > > >
> > > > > Amazon(1)
> > > > > EBay(1)
> > > > > Yahoo(1)
> > > > >
> > > > > Amazon(1)
> > > > > EBay(1)
> > > > > Yahoo(1)
> > > > >
> > > > > etc.. etc..
> > > > >
> > > > >
> > > > > You think I can use somehow SortComparator here?
> > > > > any suggestions?
> > > > >
> > > > > Thx,
> > > > > Jelda
> > > > >
> > > > >
> > > > > 
> > ------------------------------------------------------------------
> > > > > --- To unsubscribe, e-mail: 
> > > > > java-user-unsubscribe@lucene.apache.org
> > > > > For additional commands, e-mail: 
> > java-user-help@lucene.apache.org
> > > > >
> > > >
> > > >
> > > > 
> > --------------------------------------------------------------------
> > > > - To unsubscribe, e-mail: 
> java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: 
> java-user-help@lucene.apache.org
> > > >
> > > >
> > 
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 14:15:46 2007
Return-Path: <java-user-return-27199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91901 invoked from network); 27 Mar 2007 14:15:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 14:15:44 -0000
Received: (qmail 43466 invoked by uid 500); 27 Mar 2007 14:15:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43440 invoked by uid 500); 27 Mar 2007 14:15:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43424 invoked by uid 99); 27 Mar 2007 14:15:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 07:15:37 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FORGED_HOTMAIL_RCVD2,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 07:15:28 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HWCS3-0003AV-Sb
	for java-user@lucene.apache.org; Tue, 27 Mar 2007 07:15:07 -0700
Message-ID: <9693265.post@talk.nabble.com>
Date: Tue, 27 Mar 2007 07:15:07 -0700 (PDT)
From: daveburns <dave_m_burns@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Synonyms and Aliases query
In-Reply-To: <a70e4c2b0703270654m2d1aa122y6a85de4ae93655c5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: dave_m_burns@hotmail.com
References: <9692225.post@talk.nabble.com> <a70e4c2b0703270654m2d1aa122y6a85de4ae93655c5@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks for the quick reply

I'm using the synonym engine from LIA for both parsing queries and building
the index. Do you have the code for a synonym engine that would work for all
matches. 

I'm using ver 2.1 of lucene core.

Thanks again

Dave 
-- 
View this message in context: http://www.nabble.com/Synonyms-and-Aliases-query-tf3473040.html#a9693265
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 14:36:43 2007
Return-Path: <java-user-return-27200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3754 invoked from network); 27 Mar 2007 14:36:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 14:36:43 -0000
Received: (qmail 96112 invoked by uid 500); 27 Mar 2007 14:36:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96061 invoked by uid 500); 27 Mar 2007 14:36:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95953 invoked by uid 99); 27 Mar 2007 14:36:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 07:36:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of yseeley@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 07:36:27 -0700
Received: by nf-out-0910.google.com with SMTP id g2so3015274nfe
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 07:36:05 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=D0VsHfKWRAk1nDnEMcO/znDKSufw/bBSwaOsVouMTOYExUQvmkJdxT0N2CMI9YswK/TC6RuyE7IBDm0ZhaVCoBcG75lg1YzsyY1+MutUgsgQirzD1n3V5x68FZLuN0P8+P9QPea+NYI8DmOBUCNraRu0HnFdqLx5uzWhg/5Pk/4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=LsaHtXzsog48jsTfmd+wFPvx8bdtOIY5GixPARdFwpZyQbOrQxq/VhspAJTla8bmawnJrLgta9P27sAZ9wJZ/MZuGVqbgCS3LLl9Yna4DGL6qPDPXBqgsFIG6ePOkxitnw5KpcvP+J3uJdxu0HyFoW7GV7M0JTmfziNYgfrpSqo=
Received: by 10.82.153.5 with SMTP id a5mr16420001bue.1175006165597;
        Tue, 27 Mar 2007 07:36:05 -0700 (PDT)
Received: by 10.82.126.8 with HTTP; Tue, 27 Mar 2007 07:36:05 -0700 (PDT)
Message-ID: <c68e39170703270736p5f17a86bqe0ccb658028ba20e@mail.gmail.com>
Date: Tue, 27 Mar 2007 10:36:05 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: PorterStemFilter
In-Reply-To: <a70e4c2b0703270516w325b8a78k2eef24717756fcb9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <53C3C5D0A014414CB608A149F6E0BCD501020C6B@APAXM2106.dir.svc.accenture.com>
	 <4608F839.9020704@zhwin.ch>
	 <a70e4c2b0703270516w325b8a78k2eef24717756fcb9@mail.gmail.com>
X-Google-Sender-Auth: 8b4c539312077ea5
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/27/07, sandeep chawla <sand.chawla@gmail.com> wrote:
> Well in any case..
>
> is there a implemention of Porter2 Stemming algorithim in java..
>
> I dont want to make a snowballfilter based on snowball  English Stemmer.

You mean you don't want to use the snowball lucene-contrib package ?  Why not?

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 15:32:19 2007
Return-Path: <java-user-return-27201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29397 invoked from network); 27 Mar 2007 15:32:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 15:32:18 -0000
Received: (qmail 6744 invoked by uid 500); 27 Mar 2007 15:32:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6719 invoked by uid 500); 27 Mar 2007 15:32:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6707 invoked by uid 99); 27 Mar 2007 15:32:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 08:32:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.81] (HELO spunkymail-a18.g.dreamhost.com) (208.97.132.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 08:32:09 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a18.g.dreamhost.com (Postfix) with ESMTP id 1DAEF5B535
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 08:31:46 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <9682794.post@talk.nabble.com>
References: <9682794.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <816F1424-27E2-456C-8BBF-EE378A79A774@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: Custom Analyzer Help please
Date: Tue, 27 Mar 2007 11:31:45 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Tim,

 From the StandardAnalyzer code, the TokenStream looks like:

/** Constructs a {@link StandardTokenizer} filtered by a {@link
   StandardFilter}, a {@link LowerCaseFilter} and a {@link  
StopFilter}. */
   public TokenStream tokenStream(String fieldName, Reader reader) {
     TokenStream result = new StandardTokenizer(reader);
     result = new StandardFilter(result);
     result = new LowerCaseFilter(result);
     result = new StopFilter(result, stopSet);
     return result;
   }

Whereas StopAnalyzer looks like:
/** Filters LowerCaseTokenizer with StopFilter. */
   public TokenStream tokenStream(String fieldName, Reader reader) {
     return new StopFilter(new LowerCaseTokenizer(reader), stopWords);
   }

So, I think the answer is that StandardAnalyzer already has what you  
state you want.  Is it, perhaps, that certain stopwords that you are  
interested in are not currently being stopped?
Also, there is a whole section of examples on how to write Analyzers  
in the contrib/analyzers section of the source code.

-Grant

On Mar 26, 2007, at 6:12 PM, TimF wrote:

>
> I would like to be able to get terms from my data that are a  
> combination of
> two existing analyzers.
> I would like this for both posting and searching of various fields.
> An example of the data might be as follows:
>    Hello XY&Z Corporation - abc@example.com
> I would like the following terms to come out of the analyzer:
>  [hello]  [xy&z]  [corporation] [abc@example] [com]  //this is the
> StandardAnalyzer output
> as well as
>   [xy] [z]  [abc] [example]
>
> Essentially, I want the StandardAnalyzer output, but then I want to  
> run the
> StopAnalyzer on the terms that come out of the StandardAnalyzer.  
> Basically I
> would like to be able to search against part of the "special" word  
> or the
> whole "special" word, where special word contains tokens for things  
> like
> email and part numbers, etc...
>
> I know the answer is that I have to create a custom analyzer that  
> combines
> the standard and stop analyzers, and I have tried... but I just cannot
> figure out how to do this.
>
> I have read through the LIA book and looked through the samples for  
> keyword
> and perfield analyzers, but they just dont do it.
>
> Anyone have any samples that do this kind of thing?
> Thanks,
> Tim
> -- 
> View this message in context: http://www.nabble.com/Custom-Analyzer- 
> Help-please-tf3469904.html#a9682794
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 16:46:51 2007
Return-Path: <java-user-return-27202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55733 invoked from network); 27 Mar 2007 16:46:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 16:46:51 -0000
Received: (qmail 53106 invoked by uid 500); 27 Mar 2007 16:46:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53066 invoked by uid 500); 27 Mar 2007 16:46:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53055 invoked by uid 99); 27 Mar 2007 16:46:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 09:46:48 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.225 as permitted sender)
Received: from [64.233.184.225] (HELO wr-out-0506.google.com) (64.233.184.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 09:46:40 -0700
Received: by wr-out-0506.google.com with SMTP id 68so1985817wra
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 09:46:20 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=FfMF/IeCvHdfGGIdx4Rs/h3dogw+H7KnfuiI/HatLNuXAuOHvuNiB6Z5zUd+Whe9QucT9i7e85kWc3EAAjjNaPsGGBJcav+mx3wUQOLfEB6fBlLYOpKkoBH+3gyrD5QnfrgAAG07iKgvPbs1s/ZHVp1HJ6+H76ecN9kkGstFNyU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=izf9RhEv4TXVtjPiGi+HzDA5pYlUsWGZ0kNnKOQ+bVDQsHeUuHLlA/IOtfwvIZ6N/aMPF/1KgWX1Q92kckGeEe1OaEt12DbgsvsAvJPI7cfLCkiHVYqBvDzy/yMGMViDazW3L8YhQ9EmYz85kkHsW7nhk4yVlEG9WKCeCtPZUG8=
Received: by 10.115.77.1 with SMTP id e1mr3220435wal.1175013978845;
        Tue, 27 Mar 2007 09:46:18 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 27 Mar 2007 09:46:18 -0700 (PDT)
Message-ID: <359a92830703270946s6bbc35b6ge0e3a4d1c4efce7c@mail.gmail.com>
Date: Tue, 27 Mar 2007 12:46:18 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Synonyms and Aliases query
In-Reply-To: <9692225.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14262_14225304.1175013978769"
References: <9692225.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_14262_14225304.1175013978769
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

See below...

On 3/27/07, daveburns <dave_m_burns@hotmail.com> wrote:
>
>
> Hi,
> afriad I'm a noobie at Luncene but read Otis/Eriks book and was hoping
> someone can answer a quick question on the AliasAnalyzer (Chap 4). I want
> to
> build a search for names (Companies/surname, firstname etc) but need to
> match thing s like
> Robert= bob, bobby, rob etc (or margaret=peggy etc).
>
> 1) The problem is my search returns all Robert or Bob hit's if I search on
> bob but if I search on Robert only Robert hits come back. I though the
> index
> would automatically provide my required 2-way matching?



Lucene only gives you back what you put into the index. In this case,
did you index "robert" when the token was "bob"? In other words,
did you index all the variants of 'robert' every time you found any variant?

Let's say the three variants are 'bob' 'rob' and 'robert'. Whenever you
encounter any of those three variants, you need to add the *other*
two to your index as well as the original variant.


2) The second problem is to do with Company names. Can I create the above
> alias analyzer to match I.B.M=IBM=International Business Machines? i.e.
> multiple words to a single word.


Well, if you make your own query analyzer (subclassing the relevant one),
you
can always substitute the one-word version for the three word version. Be
careful about doing it the other way unless you make very sure it's a
phrase.
That is, tokenizing "International Business Machines" would give you
three token and you'd be searching on the OR of them (assuming default
queryparser behavior). So you'd be better off having your analyzer turn
"international business machines" into IBM. You might be able to get
away with enclosing multiple-word entries in quotes...


Best
Erick


Thanks,
>
> Dave.
> --
> View this message in context:
> http://www.nabble.com/Synonyms-and-Aliases-query-tf3473040.html#a9692225
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_14262_14225304.1175013978769--

From java-user-return-27203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 19:37:14 2007
Return-Path: <java-user-return-27203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75442 invoked from network); 27 Mar 2007 19:37:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 19:37:13 -0000
Received: (qmail 54039 invoked by uid 500); 27 Mar 2007 19:37:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54010 invoked by uid 500); 27 Mar 2007 19:37:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53999 invoked by uid 99); 27 Mar 2007 19:37:12 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 12:37:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.104.95.4] (HELO listing.marketingbrokers.com) (66.104.95.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 27 Mar 2007 12:37:01 -0700
Received: from ip66-104-95-21.z95-104-66.customer.algx.net ([66.104.95.21])
          by listing.marketingbrokers.com (JAMES SMTP Server 2.2.0) with SMTP ID 494
          for <java-user@lucene.apache.org>;
          Tue, 27 Mar 2007 11:36:20 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
Content-Transfer-Encoding: 7bit
Message-Id: <0795F30F-ECCD-4E46-A1B7-8E406A485F3D@marketingbrokers.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: java-user@lucene.apache.org
From: "Peter W." <peter@marketingbrokers.com>
Subject: Contextual text-link ads
Date: Tue, 27 Mar 2007 12:36:19 -0700
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Howdy,

Does anyone have any design considerations for implementing
a contextual text-link advertising system using Lucene?

The emphasis would be strictly on monetizing search results with
light, non-intrusive  behavior (query terms match sponsored results).

Thanks,

Peter W.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 19:51:19 2007
Return-Path: <java-user-return-27204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81710 invoked from network); 27 Mar 2007 19:51:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 19:51:19 -0000
Received: (qmail 84299 invoked by uid 500); 27 Mar 2007 19:51:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83913 invoked by uid 500); 27 Mar 2007 19:51:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83901 invoked by uid 99); 27 Mar 2007 19:51:19 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 12:51:19 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.155 as permitted sender)
Received: from [195.212.29.155] (HELO mtagate6.de.ibm.com) (195.212.29.155)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 12:51:07 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate6.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2RJojJp228012
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 19:50:45 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2RJojLe1949774
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 21:50:45 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2RJojYO023966
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 21:50:45 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2RJoj2M023957
	for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 21:50:45 +0200
In-Reply-To: <0795F30F-ECCD-4E46-A1B7-8E406A485F3D@marketingbrokers.com>
Subject: Re: Contextual text-link ads
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF9A639D52.5B20C70A-ON882572AB.006BB84E-882572AB.006C8737@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 27 Mar 2007 11:45:25 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 27/03/2007 21:50:44
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Assuming you don't mean UI design - how about a small auxiliary sponsor
index containing sponsor data - doc per sponsor, sponsor text and sponsor
url as stored fields, sponsor doc statically boosted by sponsor's
$importance$, and highlighting of user query words in the excerpt from
suggested sponsor doc near the suggested link..

"Peter W." <peter@marketingbrokers.com> wrote on 27/03/2007 12:36:19:

> Howdy,
>
> Does anyone have any design considerations for implementing
> a contextual text-link advertising system using Lucene?
>
> The emphasis would be strictly on monetizing search results with
> light, non-intrusive  behavior (query terms match sponsored results).
>
> Thanks,
>
> Peter W.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Mar 27 21:56:42 2007
Return-Path: <java-user-return-27205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16876 invoked from network); 27 Mar 2007 21:56:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 27 Mar 2007 21:56:41 -0000
Received: (qmail 83342 invoked by uid 500); 27 Mar 2007 21:56:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83195 invoked by uid 500); 27 Mar 2007 21:56:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83177 invoked by uid 99); 27 Mar 2007 21:56:39 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 14:56:39 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lukas.vlcek@gmail.com designates 66.249.92.172 as permitted sender)
Received: from [66.249.92.172] (HELO ug-out-1314.google.com) (66.249.92.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 14:56:31 -0700
Received: by ug-out-1314.google.com with SMTP id k40so33219ugc
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 14:56:10 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Z4Hg9RRmpH2YurcgTKpRtlXGuuWHzAuL1vQX2lzD2ASiY+ZXXD63Rj41nrTkyu5r9tV029GurYVoOUvEypj4ALJt+37pDqZBM1O1vO/nnyCSpj7vfS+pR/e0GyKhbNrUorsSl9+3lukm73lXNYfMm99cleG7EJg5mWXhbplypSE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=lpYM+6e9MsXHxwdSpmMTWktyUAAsg5X+wRa37h0Gi2QFxtYXIAyy1VDAuElq8xbiBpqPlSRHU0+SGB6HOgixy0KaN2MfRd6TCsG0M4aHbKsndio/h3JZU3IX6zhOUSjAI690u4a8auarjjn4uU0QIX1bdWtitSux6JWPZysNSmk=
Received: by 10.114.124.1 with SMTP id w1mr3359731wac.1175032569286;
        Tue, 27 Mar 2007 14:56:09 -0700 (PDT)
Received: by 10.114.134.12 with HTTP; Tue, 27 Mar 2007 14:56:09 -0700 (PDT)
Message-ID: <52c3ddca0703271456j2bc1ed2er1c5b5f2b9e602834@mail.gmail.com>
Date: Tue, 27 Mar 2007 23:56:09 +0200
From: "Lukas Vlcek" <lukas.vlcek@gmail.com>
Reply-To: java-user@lucene.apache.org
To: java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
In-Reply-To: <359a92830703270648v61609d3dp51eaa1c5858b3795@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_22719_25644416.1175032569241"
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
	 <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
	 <34b8543c0703262328j360499ecoca6f6ed5e9e4a6bb@mail.gmail.com>
	 <315AC4D1-45A2-4ACA-99D3-544F53230A2B@gmail.com>
	 <359a92830703270648v61609d3dp51eaa1c5858b3795@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_22719_25644416.1175032569241
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Eric,

How do you manage Reply-to: field in your gmail? I always have to change
Reply-to field in Setting (which requires more then three clicks!) and since
this is a manual (and tedious) process it can introduce mistakes
(mis-addressed addresses). The problem is that I am signed up to more
mail-lists.

Regards,
Lukas

On 3/27/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> Gmail has been good to me for this list...
>
> Erick
>
> On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
> >
> >
> > 27 mar 2007 kl. 08.28 skrev Mohammad Norouzi:
> >
> > > Karl,
> > > Maybe I am out of date!
> > > do you mean with Nabble I can access this mailing list?
> >
> > Yes.
> >
> >
> > --
> > karl
> >
> > >
> > > On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
> > >>
> > >>
> > >> 27 mar 2007 kl. 08.03 skrev Mohammad Norouzi:
> > >>
> > >> > I am using some JBoss products and they have a very nice and great
> > >> > forum,
> > >> >
> > >> > I am wondering why Apache still uses this old-fashioned mailing
> > >> list??
> > >>
> > >> Are you sure it is not just your email client that is old fashioned?
> > >> You can also try services such as Nabble.
> > >>
> > >> The way I see it (and probably many other) mailing lists are suprior
> > >> in many ways, especially when following multiple forums.
> > >>
> > >>
> > >>
> > >> --
> > >> karl
> > >>
> > >> ---------------------------------------------------------------------
> > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > >>
> > >>
> > >
> > >
> > > --
> > > Regards,
> > > Mohammad
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

------=_Part_22719_25644416.1175032569241--

From java-user-return-27206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 01:07:20 2007
Return-Path: <java-user-return-27206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67462 invoked from network); 28 Mar 2007 01:07:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 01:07:11 -0000
Received: (qmail 27097 invoked by uid 500); 28 Mar 2007 01:07:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27061 invoked by uid 500); 28 Mar 2007 01:07:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27050 invoked by uid 99); 28 Mar 2007 01:07:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 18:07:10 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 66.249.82.236 as permitted sender)
Received: from [66.249.82.236] (HELO wx-out-0506.google.com) (66.249.82.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 18:07:02 -0700
Received: by wx-out-0506.google.com with SMTP id i29so2458602wxd
        for <java-user@lucene.apache.org>; Tue, 27 Mar 2007 18:06:41 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=eEU00s0xgQ1cJvVp7lIEaempQDzAEFZE2dSDgiCrHUDwR2tJwxRK+a32TWDRJR/G87/78mtvmejCQWNNjWnzfYk8zeeCb/XBdHQvr8DTGqu6o+uzx4V7uqXX5jW5JL5qOS5+60UDt/iUnzaYU0OZqqAqg2zuA1cCpgVzevdwaSg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=th+FyrcNTrJUKdTMLLLMFWxoKJXfghIrOV8PrkWYbOqKAC825nn8Mq5ia5jj8XVqBfBoRIHj9VfotdrKvDXccS5BHw/T42Q4BUL4iil3QjQ8+42dcna1D1GktdxmxyfoI4CLlwUEk6aY3qlkKKu+xRWjUHidjCz2SPDvNp6NU+8=
Received: by 10.114.125.2 with SMTP id x2mr3430642wac.1175044000691;
        Tue, 27 Mar 2007 18:06:40 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Tue, 27 Mar 2007 18:06:40 -0700 (PDT)
Message-ID: <359a92830703271806kc87b13sfbcad8b9fc976186@mail.gmail.com>
Date: Tue, 27 Mar 2007 21:06:40 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
In-Reply-To: <52c3ddca0703271456j2bc1ed2er1c5b5f2b9e602834@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23949_19688261.1175044000549"
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
	 <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
	 <34b8543c0703262328j360499ecoca6f6ed5e9e4a6bb@mail.gmail.com>
	 <315AC4D1-45A2-4ACA-99D3-544F53230A2B@gmail.com>
	 <359a92830703270648v61609d3dp51eaa1c5858b3795@mail.gmail.com>
	 <52c3ddca0703271456j2bc1ed2er1c5b5f2b9e602834@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_23949_19688261.1175044000549
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I haven't had to do anything. All the replies I do just magically get to the
correct list.... Not helpful I know, but I'm lazy <G>..

Erick

On 3/27/07, Lukas Vlcek <lukas.vlcek@gmail.com> wrote:
>
> Eric,
>
> How do you manage Reply-to: field in your gmail? I always have to change
> Reply-to field in Setting (which requires more then three clicks!) and
> since
> this is a manual (and tedious) process it can introduce mistakes
> (mis-addressed addresses). The problem is that I am signed up to more
> mail-lists.
>
> Regards,
> Lukas
>
> On 3/27/07, Erick Erickson <erickerickson@gmail.com> wrote:
> >
> > Gmail has been good to me for this list...
> >
> > Erick
> >
> > On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
> > >
> > >
> > > 27 mar 2007 kl. 08.28 skrev Mohammad Norouzi:
> > >
> > > > Karl,
> > > > Maybe I am out of date!
> > > > do you mean with Nabble I can access this mailing list?
> > >
> > > Yes.
> > >
> > >
> > > --
> > > karl
> > >
> > > >
> > > > On 3/27/07, karl wettin <karl.wettin@gmail.com> wrote:
> > > >>
> > > >>
> > > >> 27 mar 2007 kl. 08.03 skrev Mohammad Norouzi:
> > > >>
> > > >> > I am using some JBoss products and they have a very nice and
> great
> > > >> > forum,
> > > >> >
> > > >> > I am wondering why Apache still uses this old-fashioned mailing
> > > >> list??
> > > >>
> > > >> Are you sure it is not just your email client that is old
> fashioned?
> > > >> You can also try services such as Nabble.
> > > >>
> > > >> The way I see it (and probably many other) mailing lists are
> suprior
> > > >> in many ways, especially when following multiple forums.
> > > >>
> > > >>
> > > >>
> > > >> --
> > > >> karl
> > > >>
> > > >>
> ---------------------------------------------------------------------
> > > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >>
> > > >>
> > > >
> > > >
> > > > --
> > > > Regards,
> > > > Mohammad
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>

------=_Part_23949_19688261.1175044000549--

From java-user-return-27207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 03:00:42 2007
Return-Path: <java-user-return-27207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2560 invoked from network); 28 Mar 2007 03:00:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 03:00:41 -0000
Received: (qmail 35125 invoked by uid 500); 28 Mar 2007 03:00:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35098 invoked by uid 500); 28 Mar 2007 03:00:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35087 invoked by uid 99); 28 Mar 2007 03:00:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 20:00:41 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 20:00:32 -0700
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1HWOOH-00043k-TN
	for java-user@lucene.apache.org; Wed, 28 Mar 2007 05:00:02 +0200
Received: from c210-49-99-152.kelvn1.qld.optusnet.com.au ([210.49.99.152])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:00:01 +0200
Received: from roger.keays by c210-49-99-152.kelvn1.qld.optusnet.com.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:00:01 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Roger Keays <roger.keays@ninthavenue.com.au>
Subject:  IndexWriter.deleteDocuments(term) deletes everything
Date:  Wed, 28 Mar 2007 12:58:26 +1000
Lines: 30
Message-ID: <euclk4$i33$1@sea.gmane.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c210-49-99-152.kelvn1.qld.optusnet.com.au
User-Agent: Thunderbird 1.5.0.8 (X11/20061115)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi there,

I'm trying to delete a single document by using its uuid field:

     uuid = new Term("uuid", item.getUuid().toString());
     writer.deleteDocuments(uuid);
     writer.close();

However, it appears that this operation is deleting *every* document, 
whether the uuid matches or not. The uuid field is created with

     doc.add(new Field("uuid", item.getUuid().toString(),
             Field.Store.YES, Field.Index.UN_TOKENIZED));

and I can make queries like uuid:76 which return the correct document. 
Is there something wrong with the way I am using deleteDocuments()? I'm 
using lucene-2.1.0.

Thanks in advance,

Roger

-- 
----------------------------------------
Ninth Avenue Software
p: +61 7 3137 1351 (UTC +10)
f: +61 7 3102 9141
w: http://www.ninthavenue.com.au
e: info@ninthavenue.com.au
----------------------------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 03:26:29 2007
Return-Path: <java-user-return-27208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8176 invoked from network); 28 Mar 2007 03:26:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 03:26:28 -0000
Received: (qmail 66479 invoked by uid 500); 28 Mar 2007 03:26:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66339 invoked by uid 500); 28 Mar 2007 03:26:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66328 invoked by uid 99); 28 Mar 2007 03:26:28 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 20:26:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of DORONC@il.ibm.com designates 195.212.29.154 as permitted sender)
Received: from [195.212.29.154] (HELO mtagate5.de.ibm.com) (195.212.29.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 20:26:20 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate5.de.ibm.com (8.13.8/8.13.8) with ESMTP id l2S3Pva9243708
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 03:25:57 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2S3PvOL2081022
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:25:57 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2S3PvGP014479
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:25:57 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av02.megacenter.de.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2S3Pved014472
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:25:57 +0200
In-Reply-To: <euclk4$i33$1@sea.gmane.org>
Subject: Re: IndexWriter.deleteDocuments(term) deletes everything
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
Message-ID: <OF242F41ED.449EBCCE-ON882572AC.0010B222-882572AC.00128434@il.ibm.com>
From: Doron Cohen <DORONC@il.ibm.com>
Date: Tue, 27 Mar 2007 19:22:14 -0800
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.2HF71 | November 3, 2006) at
 28/03/2007 05:25:56
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Roger,

The method usage seems correct to me. Are you saying that search with
TermQuery(Term("uuid","76")) returns only one of many existing documents,
but deleteDocuments(Term("uuid","76")) deletes all docs? (also docs not
returned by the search for this term?) Could you send here a small program
that shows this?

Regards,
Doron

news <news@sea.gmane.org> wrote on 27/03/2007 19:58:26:

> Hi there,
>
> I'm trying to delete a single document by using its uuid field:
>
>      uuid = new Term("uuid", item.getUuid().toString());
>      writer.deleteDocuments(uuid);
>      writer.close();
>
> However, it appears that this operation is deleting *every* document,
> whether the uuid matches or not. The uuid field is created with
>
>      doc.add(new Field("uuid", item.getUuid().toString(),
>              Field.Store.YES, Field.Index.UN_TOKENIZED));
>
> and I can make queries like uuid:76 which return the correct document.
> Is there something wrong with the way I am using deleteDocuments()? I'm
> using lucene-2.1.0.
>
> Thanks in advance,
>
> Roger


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 03:33:22 2007
Return-Path: <java-user-return-27209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10685 invoked from network); 28 Mar 2007 03:33:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 03:33:21 -0000
Received: (qmail 77113 invoked by uid 500); 28 Mar 2007 03:33:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77084 invoked by uid 500); 28 Mar 2007 03:33:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77072 invoked by uid 99); 28 Mar 2007 03:33:21 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 20:33:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Mar 2007 20:33:13 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1HWOtr-0001Mv-Lh
	for java-user@lucene.apache.org; Wed, 28 Mar 2007 05:32:40 +0200
Received: from c210-49-99-152.kelvn1.qld.optusnet.com.au ([210.49.99.152])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:32:39 +0200
Received: from roger.keays by c210-49-99-152.kelvn1.qld.optusnet.com.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:32:39 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Roger Keays <roger.keays@ninthavenue.com.au>
Subject:  Re: IndexWriter.deleteDocuments(term) deletes everything
Date:  Wed, 28 Mar 2007 13:32:39 +1000
Lines: 37
Message-ID: <eucnk5$qo4$1@sea.gmane.org>
References:  <euclk4$i33$1@sea.gmane.org>
Mime-Version:  1.0
Content-Type:  text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: c210-49-99-152.kelvn1.qld.optusnet.com.au
User-Agent: Thunderbird 1.5.0.8 (X11/20061115)
In-Reply-To: <euclk4$i33$1@sea.gmane.org>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Roger Keays wrote:
> Hi there,
> 
> I'm trying to delete a single document by using its uuid field:
> 
>     uuid = new Term("uuid", item.getUuid().toString());
>     writer.deleteDocuments(uuid);
>     writer.close();
> 
> However, it appears that this operation is deleting *every* document, 
> whether the uuid matches or not. The uuid field is created with
> 
>     doc.add(new Field("uuid", item.getUuid().toString(),
>             Field.Store.YES, Field.Index.UN_TOKENIZED));
> 
> and I can make queries like uuid:76 which return the correct document. 
> Is there something wrong with the way I am using deleteDocuments()? I'm 
> using lucene-2.1.0.

never mind... I had create=true on my IndexWriter, misunderstanding that 
that meant 'always recreate the index'.

> 
> Thanks in advance,
> 
> Roger
> 


-- 
----------------------------------------
Ninth Avenue Software
p: +61 7 3137 1351 (UTC +10)
f: +61 7 3102 9141
w: http://www.ninthavenue.com.au
e: info@ninthavenue.com.au
----------------------------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 07:01:30 2007
Return-Path: <java-user-return-27210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58022 invoked from network); 28 Mar 2007 07:01:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 07:01:29 -0000
Received: (qmail 13003 invoked by uid 500); 28 Mar 2007 07:01:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12903 invoked by uid 500); 28 Mar 2007 07:01:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12819 invoked by uid 99); 28 Mar 2007 07:01:16 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 00:01:14 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=HTML_BACKHAIR_8,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 28 Mar 2007 00:01:03 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032815575400086
 for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 15:57:54 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C77106.68C26496"
Subject: RE: Reverse search
Date: Wed, 28 Mar 2007 15:57:54 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E58841AB@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <460696D7.9090709@yahoo.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reverse search
Thread-Index: Acdu83hOLHmoSTiARrWoxTct5XoPPwCDIBtg
References: <847893AE8EE17A48A3725E82C10DE9E588419E@tkdwi001.dev.tradingscreen.com> <460696D7.9090709@yahoo.co.uk>
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01C77106.68C26496
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Mark,
When, I extract the terms from my query, I can not use add them =
directly? I have to do something like:
Set<Term> terms=3Dnew HashSet<Term>();
query.extractTerms(terms);
Document doc=3Dnew Document();
for(Term term:terms){
doc.add(new =
Field(term.field(),term.text(),Field.Store.NO,Field.Index.TOKENIZED);
}

I just want to make sure there is no API either create the document from =
term or to index the term directly.

Thanks
M=E9lanie=20

-----Original Message-----
From: markharw00d [mailto:markharw00d@yahoo.co.uk]=20
Sent: Monday, March 26, 2007 12:36 AM
To: java-user@lucene.apache.org
Subject: Re: Reverse search


On app startup:
1) parse all Queries and place in an array.
2) Create a RAMIndex containing a doc for each query with content=20
consisting of the query's terms (see Query.extractTerms). For optimal=20
performance only index the most rare term for queries with multiple=20
mandatory criteria e.g. PhraseQuerys. "Most rare" can be determined by=20
looking at IndexReader.docFreq(t) using an existing index which is=20
representative of  your type of content.
3) For any queries that can't be handled by 2) e.g. FuzzyQueries - add=20
to list of "run always queries".

Whenever you receive a new document:
1) Put it in a MemoryIndex
2) Get a list of the document's terms by calling=20
memoryIndex.getReader().terms();
3) For each term hit your query RAMIndex and get=20
queryIndexReader.termDocs(term) - this will give you the ids of queries=20
that need to be run - you can use the doc id to index straight into your =

parsed queries array.
4) Run all queries found in 3) and all those held in your "run always"=20
list against the MemoryIndex containing your new document

Hope this helps,
Mark


Melanie Langlois wrote:
> Hi Mark,
> If I follow you, I should list the key terms in my incoming document, =
then select the queries which contains these key terms, and then run =
those queries on my index ? If this is correct there is two things I =
don't understand:
> -how do I know which term is a key term in my document ?
> -how can I select the queries? Should I index them in a separate =
index?
>
> Thanks,
>
>
> M=E9lanie Langlois=20
>  =20
> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk]=20
> Sent: Friday, March 23, 2007 11:19 PM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
> Bear in mind that the million queries you run on the MemoryIndex can =
be shortlisted if you place those queries in a RAMIndex and use the =
source document's terms to "query the queries". The list of unique terms =
for your document is readily available in the MemoryIndex's TermEnum.
> You can take this list and find "likely related queries" to execute =
from your Query index.
> Note that for phrase queries or other forms of query with multiple =
mandatory terms you should only index one of the terms (preferably the =
rarest) to ensure that your query is not needlessly executed. For =
example - using this approach I need only run the phrase query for "XYZ =
limited" whenever I encounter a document with the rare term "XYZ" in it, =
rather than the much more commonplace "limited".=20
>
> Cheers
> Mark
>
> ----- Original Message ----
> From: karl wettin <karl.wettin@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Friday, 23 March, 2007 12:54:36 PM
> Subject: Re: Reverse search
>
>
> 23 mar 2007 kl. 09.57 skrev Melanie Langlois:
>
>  =20
>> Well, I though to use the PerFieldAnalyzerWrapper which contains as =20
>> basic the snowballAnalyzer with English stopwords and use =20
>> snowballAnalyzer with language specific keywords for the fields =20
>> which will be in different languages. But I'm seeing that in your =20
>> MemoryIndexTest you commented the use of SnowballAnalyzer, is it =20
>> because it's too slow. In this case, I think I could use the =20
>> StandardAnalyzer... what do you think?
>>    =20
>
> I think that creating an index with a couple of documents takes a =20
> fraction of the time it will take to place a million queries on that =20
> index. There is no real need to optimize something that takes =20
> milliseconds when you in the same process do something that takes =20
> half a minute.
>
>  =20



=09
=09
	=09
___________________________________________________________=20
All new Yahoo! Mail "The new Interface is stunning in its simplicity and =
ease of use." - PC Magazine=20
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


------_=_NextPart_001_01C77106.68C26496--

From java-user-return-27211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 07:34:42 2007
Return-Path: <java-user-return-27211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73802 invoked from network); 28 Mar 2007 07:34:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 07:34:40 -0000
Received: (qmail 76714 invoked by uid 500); 28 Mar 2007 07:34:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76441 invoked by uid 500); 28 Mar 2007 07:34:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76424 invoked by uid 99); 28 Mar 2007 07:34:40 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 00:34:40 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [217.12.11.36] (HELO smtp005.mail.ukl.yahoo.com) (217.12.11.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 28 Mar 2007 00:34:31 -0700
Received: (qmail 23616 invoked from network); 28 Mar 2007 07:34:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:X-YMail-OSG:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type;
  b=s3N68llKo9QmNLjhqi182i8im8XjhouG5TF3iDUUMYv5cQOvSnqpyWvizUCGoz/5Ee4aMlNiohSqZjXlU32Z+/P7IsRI0VomNcvWGl6xd2/2mf93X2Syu5RNQe58a01IqyCzKgRT/EbIQyGtFof1W4nES1uMrKTaIwMAArkRQOU=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp005.mail.ukl.yahoo.com with SMTP; 28 Mar 2007 07:34:07 -0000
X-YMail-OSG: PIFU4hQVM1kN6FjBveLA_YRhNilLMl4ZZyw0ROmzXEfEZw38p3F19BS8bvWy5M3IKHP4UEwsgI.l3xFYRSDTVkhklRDyqV9urOA1_G16JfMI8.dJjxcbOEP7NG0-
Message-ID: <460A1A68.3090102@yahoo.co.uk>
Date: Wed, 28 Mar 2007 08:34:00 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Reverse search
References: <847893AE8EE17A48A3725E82C10DE9E588419E@tkdwi001.dev.tradingscreen.com> <460696D7.9090709@yahoo.co.uk> <847893AE8EE17A48A3725E82C10DE9E58841AB@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E58841AB@tkdwi001.dev.tradingscreen.com>
Content-Type: multipart/alternative;
 boundary="------------070701050002060000080401"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------070701050002060000080401
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit

 >>I just want to make sure there is no API either

No, but your code looks like it should do the job. That code can be 
improved by something like [psuedo code]:

query.extractTerms(terms);

if(query instanceof PhraseQuery)
{      
        //find and index rarest term only using an existing index 
(corpusReader)
          int rarestDf=Integer.MAX;
          Term rarestTerm=null;
         for(Term term:terms){

		int df= corpusReader.docFreq(term);
		if(df<rarestDf)
		{
			rarestDf=df;
			rarestTerm=term;
		}
	}
    	//add just the rarest term
	doc.add(new Field(rarestTerm.field(),rarestTerm.text(),
		Field.Store.NO,Field.Index.TOKENIZED);

}
else
{
    //add all terms
}

Melanie Langlois wrote:
> Mark,
> When, I extract the terms from my query, I can not use add them directly? I have to do something like:
> Set<Term> terms=new HashSet<Term>();
> query.extractTerms(terms);
> Document doc=new Document();
> for(Term term:terms){
> doc.add(new Field(term.field(),term.text(),Field.Store.NO,Field.Index.TOKENIZED);
> }
>
> I just want to make sure there is no API either create the document from term or to index the term directly.
>
> Thanks
> Mlanie 
>
> -----Original Message-----
> From: markharw00d [mailto:markharw00d@yahoo.co.uk] 
> Sent: Monday, March 26, 2007 12:36 AM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
>
> On app startup:
> 1) parse all Queries and place in an array.
> 2) Create a RAMIndex containing a doc for each query with content 
> consisting of the query's terms (see Query.extractTerms). For optimal 
> performance only index the most rare term for queries with multiple 
> mandatory criteria e.g. PhraseQuerys. "Most rare" can be determined by 
> looking at IndexReader.docFreq(t) using an existing index which is 
> representative of  your type of content.
> 3) For any queries that can't be handled by 2) e.g. FuzzyQueries - add 
> to list of "run always queries".
>
> Whenever you receive a new document:
> 1) Put it in a MemoryIndex
> 2) Get a list of the document's terms by calling 
> memoryIndex.getReader().terms();
> 3) For each term hit your query RAMIndex and get 
> queryIndexReader.termDocs(term) - this will give you the ids of queries 
> that need to be run - you can use the doc id to index straight into your 
> parsed queries array.
> 4) Run all queries found in 3) and all those held in your "run always" 
> list against the MemoryIndex containing your new document
>
> Hope this helps,
> Mark
>
>
> Melanie Langlois wrote:
>   
>> Hi Mark,
>> If I follow you, I should list the key terms in my incoming document, then select the queries which contains these key terms, and then run those queries on my index ? If this is correct there is two things I don't understand:
>> -how do I know which term is a key term in my document ?
>> -how can I select the queries? Should I index them in a separate index?
>>
>> Thanks,
>>
>>
>> Mlanie Langlois 
>>   
>> -----Original Message-----
>> From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
>> Sent: Friday, March 23, 2007 11:19 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: Reverse search
>>
>> Bear in mind that the million queries you run on the MemoryIndex can be shortlisted if you place those queries in a RAMIndex and use the source document's terms to "query the queries". The list of unique terms for your document is readily available in the MemoryIndex's TermEnum.
>> You can take this list and find "likely related queries" to execute from your Query index.
>> Note that for phrase queries or other forms of query with multiple mandatory terms you should only index one of the terms (preferably the rarest) to ensure that your query is not needlessly executed. For example - using this approach I need only run the phrase query for "XYZ limited" whenever I encounter a document with the rare term "XYZ" in it, rather than the much more commonplace "limited". 
>>
>> Cheers
>> Mark
>>
>> ----- Original Message ----
>> From: karl wettin <karl.wettin@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Friday, 23 March, 2007 12:54:36 PM
>> Subject: Re: Reverse search
>>
>>
>> 23 mar 2007 kl. 09.57 skrev Melanie Langlois:
>>
>>   
>>     
>>> Well, I though to use the PerFieldAnalyzerWrapper which contains as  
>>> basic the snowballAnalyzer with English stopwords and use  
>>> snowballAnalyzer with language specific keywords for the fields  
>>> which will be in different languages. But I'm seeing that in your  
>>> MemoryIndexTest you commented the use of SnowballAnalyzer, is it  
>>> because it's too slow. In this case, I think I could use the  
>>> StandardAnalyzer... what do you think?
>>>     
>>>       
>> I think that creating an index with a couple of documents takes a  
>> fraction of the time it will take to place a million queries on that  
>> index. There is no real need to optimize something that takes  
>> milliseconds when you in the same process do something that takes  
>> half a minute.
>>
>>   
>>     
>
>
>
> 	
> 	
> 		
> ___________________________________________________________ 
> All new Yahoo! Mail "The new Interface is stunning in its simplicity and ease of use." - PC Magazine 
> http://uk.docs.yahoo.com/nowyoucan.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   


--------------070701050002060000080401--


	
	
		
___________________________________________________________ 
All new Yahoo! Mail "The new Interface is stunning in its simplicity and ease of use." - PC Magazine 
http://uk.docs.yahoo.com/nowyoucan.html

From java-user-return-27212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 07:38:54 2007
Return-Path: <java-user-return-27212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74703 invoked from network); 28 Mar 2007 07:38:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 07:38:53 -0000
Received: (qmail 82194 invoked by uid 500); 28 Mar 2007 07:38:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82113 invoked by uid 500); 28 Mar 2007 07:38:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82102 invoked by uid 99); 28 Mar 2007 07:38:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 00:38:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.222.48.13] (HELO tkpsp701-int0.prod.tradingscreen.com) (203.222.48.13)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 28 Mar 2007 00:38:45 -0700
Received: from tkdwi001.dev.tradingscreen.com ([172.21.16.56])
 by tkpsp701-int0.prod.tradingscreen.com (SMSSMTP 4.1.5.31) with SMTP id M2007032816382400047
 for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 16:38:24 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Reverse search
Date: Wed, 28 Mar 2007 16:38:24 +0900
Message-ID: <847893AE8EE17A48A3725E82C10DE9E58841AC@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <460A1A68.3090102@yahoo.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reverse search
Thread-Index: AcdxC4k6d7ZUo3nLRxKFatF/SVNllAAAB+mg
References: <847893AE8EE17A48A3725E82C10DE9E588419E@tkdwi001.dev.tradingscreen.com> <460696D7.9090709@yahoo.co.uk> <847893AE8EE17A48A3725E82C10DE9E58841AB@tkdwi001.dev.tradingscreen.com> <460A1A68.3090102@yahoo.co.uk>
From: "Melanie Langlois" <Melanie.Langlois@tradingscreen.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks, make sense. Just another question about the memoryIndex. In your =
example you said I can do memoryIndex. getReader().terms(); but in fact =
there is no public access to the reader from memory index...
If this is not possible, I will list the docs terms while I'm indexing.

M=E9lanie=20
 =20
-----Original Message-----
From: markharw00d [mailto:markharw00d@yahoo.co.uk]=20
Sent: Wednesday, March 28, 2007 4:34 PM
To: java-user@lucene.apache.org
Subject: Re: Reverse search

 >>I just want to make sure there is no API either

No, but your code looks like it should do the job. That code can be=20
improved by something like [psuedo code]:

query.extractTerms(terms);

if(query instanceof PhraseQuery)
{     =20
        //find and index rarest term only using an existing index=20
(corpusReader)
          int rarestDf=3DInteger.MAX;
          Term rarestTerm=3Dnull;
         for(Term term:terms){

		int df=3D corpusReader.docFreq(term);
		if(df<rarestDf)
		{
			rarestDf=3Ddf;
			rarestTerm=3Dterm;
		}
	}
    	//add just the rarest term
	doc.add(new Field(rarestTerm.field(),rarestTerm.text(),
		Field.Store.NO,Field.Index.TOKENIZED);

}
else
{
    //add all terms
}

Melanie Langlois wrote:
> Mark,
> When, I extract the terms from my query, I can not use add them =
directly? I have to do something like:
> Set<Term> terms=3Dnew HashSet<Term>();
> query.extractTerms(terms);
> Document doc=3Dnew Document();
> for(Term term:terms){
> doc.add(new =
Field(term.field(),term.text(),Field.Store.NO,Field.Index.TOKENIZED);
> }
>
> I just want to make sure there is no API either create the document =
from term or to index the term directly.
>
> Thanks
> M=E9lanie=20
>
> -----Original Message-----
> From: markharw00d [mailto:markharw00d@yahoo.co.uk]=20
> Sent: Monday, March 26, 2007 12:36 AM
> To: java-user@lucene.apache.org
> Subject: Re: Reverse search
>
>
> On app startup:
> 1) parse all Queries and place in an array.
> 2) Create a RAMIndex containing a doc for each query with content=20
> consisting of the query's terms (see Query.extractTerms). For optimal=20
> performance only index the most rare term for queries with multiple=20
> mandatory criteria e.g. PhraseQuerys. "Most rare" can be determined by =

> looking at IndexReader.docFreq(t) using an existing index which is=20
> representative of  your type of content.
> 3) For any queries that can't be handled by 2) e.g. FuzzyQueries - add =

> to list of "run always queries".
>
> Whenever you receive a new document:
> 1) Put it in a MemoryIndex
> 2) Get a list of the document's terms by calling=20
> memoryIndex.getReader().terms();
> 3) For each term hit your query RAMIndex and get=20
> queryIndexReader.termDocs(term) - this will give you the ids of =
queries=20
> that need to be run - you can use the doc id to index straight into =
your=20
> parsed queries array.
> 4) Run all queries found in 3) and all those held in your "run always" =

> list against the MemoryIndex containing your new document
>
> Hope this helps,
> Mark
>
>
> Melanie Langlois wrote:
>  =20
>> Hi Mark,
>> If I follow you, I should list the key terms in my incoming document, =
then select the queries which contains these key terms, and then run =
those queries on my index ? If this is correct there is two things I =
don't understand:
>> -how do I know which term is a key term in my document ?
>> -how can I select the queries? Should I index them in a separate =
index?
>>
>> Thanks,
>>
>>
>> M=E9lanie Langlois=20
>>  =20
>> -----Original Message-----
>> From: mark harwood [mailto:markharw00d@yahoo.co.uk]=20
>> Sent: Friday, March 23, 2007 11:19 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: Reverse search
>>
>> Bear in mind that the million queries you run on the MemoryIndex can =
be shortlisted if you place those queries in a RAMIndex and use the =
source document's terms to "query the queries". The list of unique terms =
for your document is readily available in the MemoryIndex's TermEnum.
>> You can take this list and find "likely related queries" to execute =
from your Query index.
>> Note that for phrase queries or other forms of query with multiple =
mandatory terms you should only index one of the terms (preferably the =
rarest) to ensure that your query is not needlessly executed. For =
example - using this approach I need only run the phrase query for "XYZ =
limited" whenever I encounter a document with the rare term "XYZ" in it, =
rather than the much more commonplace "limited".=20
>>
>> Cheers
>> Mark
>>
>> ----- Original Message ----
>> From: karl wettin <karl.wettin@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Friday, 23 March, 2007 12:54:36 PM
>> Subject: Re: Reverse search
>>
>>
>> 23 mar 2007 kl. 09.57 skrev Melanie Langlois:
>>
>>  =20
>>    =20
>>> Well, I though to use the PerFieldAnalyzerWrapper which contains as  =

>>> basic the snowballAnalyzer with English stopwords and use =20
>>> snowballAnalyzer with language specific keywords for the fields =20
>>> which will be in different languages. But I'm seeing that in your =20
>>> MemoryIndexTest you commented the use of SnowballAnalyzer, is it =20
>>> because it's too slow. In this case, I think I could use the =20
>>> StandardAnalyzer... what do you think?
>>>    =20
>>>      =20
>> I think that creating an index with a couple of documents takes a =20
>> fraction of the time it will take to place a million queries on that  =

>> index. There is no real need to optimize something that takes =20
>> milliseconds when you in the same process do something that takes =20
>> half a minute.
>>
>>  =20
>>    =20
>
>
>
> =09
> =09
> 	=09
> ___________________________________________________________=20
> All new Yahoo! Mail "The new Interface is stunning in its simplicity =
and ease of use." - PC Magazine=20
> http://uk.docs.yahoo.com/nowyoucan.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  =20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 07:52:10 2007
Return-Path: <java-user-return-27213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80477 invoked from network); 28 Mar 2007 07:52:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 07:52:10 -0000
Received: (qmail 2823 invoked by uid 500); 28 Mar 2007 07:52:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2630 invoked by uid 500); 28 Mar 2007 07:52:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2619 invoked by uid 99); 28 Mar 2007 07:52:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 00:52:09 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 00:52:01 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2S7pYLf020929
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 10:51:34 +0300
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3safvfh; 28 Mar 2007 10:51:00 +0300
Message-ID: <460A1E85.40701@teamware.com>
Date: Wed, 28 Mar 2007 17:51:33 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Start/end offsets in analyzers
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Wed, 28 Mar 2007 10:51:34 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

I'm fiddling with custom anaylyzers to analyze email addresses to store the full 
email address and the component parts.  It's based on Solr's analyzer framework, 
so I have a StandardTokenizerFactory followed by a EmailFilterFactory.  It produces

Analyzing "<humphrey.bogart@casablanca.com>"

1: [humphrey.bogart@casablanca.com:1->31:<EMAIL>]
2: [humphrey:1->9:<EMAIL>]
3: [bogart:10->16:<EMAIL>]
4: [casablanca:17->27:<EMAIL>]
5: [com:28->31:<EMAIL>]

I set the start/end offset to be the length of the component, but in the LIA 
book listing 4.6 shows the start/end offsets for the synonyms as the same as the 
original token, whereas I set my start/end as the correct start/end for the 
length and offset of the part.

LIA says these are not used in Lucene - is that still the case for 2.1 and does 
this matter?

Thanks
Antony




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 08:38:37 2007
Return-Path: <java-user-return-27214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96389 invoked from network); 28 Mar 2007 08:38:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 08:38:36 -0000
Received: (qmail 89429 invoked by uid 500); 28 Mar 2007 08:38:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89324 invoked by uid 500); 28 Mar 2007 08:38:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89309 invoked by uid 99); 28 Mar 2007 08:38:23 -0000
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of sengly.heng@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 01:38:23 -0700
Received: by nf-out-0910.google.com with SMTP id g2so3264782nfe
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 01:36:54 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=V7t0ZkWM8vyTNuWBPvjpQsul4ORXpMx3ciDw3NaAySFt4UsZp6MuEYz/3YHG23n6dkM4kWJTXEdZhGkGe9CK5hZkqBwGhvrPbXvpcY//lAMDz4HQtnspcwufccLOIvtUw9m8tXNB+mLDrK1/MfEoPzGOhVgeXmZcMZj368r/UGk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=dVRUfBlYDFIyLAY651cWXq49JtT/XgesrSvLPvxWSPJYTmJwJRQm1YlI5VmdaMT9Q/HMwkI/Eqa9rlVNbPisSXPN4RLBiWe+DiJnVygfMnUNNad93wFXS9CibE43xhFz2gxduvEIgjonwCNkKvFcu9oTfdxPiLBoVCwDGgpf6aQ=
Received: by 10.82.153.5 with SMTP id a5mr18392773bue.1175071014358;
        Wed, 28 Mar 2007 01:36:54 -0700 (PDT)
Received: by 10.82.146.12 with HTTP; Wed, 28 Mar 2007 01:36:54 -0700 (PDT)
Message-ID: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
Date: Wed, 28 Mar 2007 17:36:54 +0900
From: "Sengly Heng" <sengly.heng@gmail.com>
To: java-user@lucene.apache.org
Subject: TF-IDF API
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18180_19815279.1175071014325"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_18180_19815279.1175071014325
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello Luceners,

I have a collections of vector of terms (token) that I extracted from files.
I am looking for ways to calculate TF/IDF of each term.

I wanted to use Lucene to do this but Lucene is made for collections of
files and in my case I have already extracted those files into vector of
terms. I know it is not very difficult to implement this measurement but I
guess there should be such API available. Does anyone of you know any Java
API that directly handle this problem? or I have to implement from scratch.

Any idea would be highly appreciated.

Thank you in advance.

Best regards,

Sengly

------=_Part_18180_19815279.1175071014325--

From java-user-return-27215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 09:20:00 2007
Return-Path: <java-user-return-27215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10837 invoked from network); 28 Mar 2007 09:19:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 09:19:59 -0000
Received: (qmail 69118 invoked by uid 500); 28 Mar 2007 09:19:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69088 invoked by uid 500); 28 Mar 2007 09:19:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69077 invoked by uid 99); 28 Mar 2007 09:19:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 02:19:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [160.85.104.50] (HELO mx1.zhwin.ch) (160.85.104.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 02:19:50 -0700
Received: from orwell.zhwin.ch ([160.85.104.31])
	by mx1.zhwin.ch with esmtp (Exim 4.54)
	id 1HWUIZ-0000Hl-9a
	for java-user@lucene.apache.org; Wed, 28 Mar 2007 11:18:31 +0200
Received: from [160.85.232.45] (Not Verified[160.85.232.45]) by orwell.zhwin.ch with NetIQ MailMarshal 6.0 Service Pack 1a (v6,0,3,33)
	id <B460a32a80000>; Wed, 28 Mar 2007 11:17:28 +0200
Message-ID: <460A32DF.4000603@zhwin.ch>
Date: Wed, 28 Mar 2007 11:18:23 +0200
From: thomas arni <art@zhwin.ch>
User-Agent: Thunderbird 1.5.0.10 (X11/20070306)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: TF-IDF API
References: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
In-Reply-To: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hava a look at the "TermDocs" Interface in the API.

You can get term frequency  with a open IndexReader

TermDocs termDocs = reader.termDocs(term);

where "term" represents the current Term.

now you can call:

termDocs.freq()

to get the frequency of the term within the current document.

For the calculation of the idf, you can use the provided formula from 
the "DefaultSimilarity".
To get the document frequency, which is necessary to calculate the idf, 
you can call:

reader.docFreq(term)

Hope this helps...

Thomas


Sengly Heng wrote:
> Hello Luceners,
>
> I have a collections of vector of terms (token) that I extracted from 
> files.
> I am looking for ways to calculate TF/IDF of each term.
>
> I wanted to use Lucene to do this but Lucene is made for collections of
> files and in my case I have already extracted those files into vector of
> terms. I know it is not very difficult to implement this measurement 
> but I
> guess there should be such API available. Does anyone of you know any 
> Java
> API that directly handle this problem? or I have to implement from 
> scratch.
>
> Any idea would be highly appreciated.
>
> Thank you in advance.
>
> Best regards,
>
> Sengly
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 10:00:07 2007
Return-Path: <java-user-return-27216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21975 invoked from network); 28 Mar 2007 10:00:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 10:00:06 -0000
Received: (qmail 26564 invoked by uid 500); 28 Mar 2007 10:00:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26538 invoked by uid 500); 28 Mar 2007 10:00:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26527 invoked by uid 99); 28 Mar 2007 10:00:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 03:00:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 02:59:58 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l2S9vnTf004055
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 10:57:49 +0100
Received: from [10.11.108.231] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.3.10703)
    via ESMTP; Wed, 28 Mar 2007 10:57:48 +0100 (BST)
Date: Wed, 28 Mar 2007 10:57:48 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <460A3C1C.4010807@scalix.com>
In-Reply-To: <46086069.8080004@nuix.com>
References: <3F5099632A78C7488A80D6535C4F4E8026631D@EX01.service.utwente.nl>
References: <bddd3c950703231055h4cad4201l4979187fd9ed86de@mail.gmail.com>
References: <3F5099632A78C7488A80D6535C4F4E8026631E@EX01.service.utwente.nl>
References: <4604CCFD.9030803@teamware.com>
References: <4604D1B9.6010509@gmail.com>
References: <e15c52dc0703241231y36b8aeb8wec9df0d7a531ba09@mail.gmail.com>
References: <bddd3c950703241255o74b72c2cv393b7cf630fbc62f@mail.gmail.com>
References: <e15c52dc0703241458g5ac18c9dhc39fc6b954c60bf6@mail.gmail.com>
References: <4606FEEE.2070704@teamware.com>
References: <e15c52dc0703251636u4e94cbb6h5e6df4ea96ea7421@mail.gmail.com>
References: <bddd3c950703260138s299a33ccp91804b1c86420e89@mail.gmail.com>
References: <46086069.8080004@nuix.com>
Subject: Re: index word files ( doc )
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

Daniel Noll wrote:
> The only screenshots I can see look like plain text to me, and I'm 
> currently working on something which needs to convert Word to HTML, 
> which is why I ask.
wvWare, which I mentioned earlier, can convert word to HTML and does a 
pretty good job of maintaining formatting.  abiword is better though 
(because it goe through a different internal representation).

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 10:04:57 2007
Return-Path: <java-user-return-27217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23075 invoked from network); 28 Mar 2007 10:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 10:04:56 -0000
Received: (qmail 34292 invoked by uid 500); 28 Mar 2007 10:04:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34258 invoked by uid 500); 28 Mar 2007 10:04:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34247 invoked by uid 99); 28 Mar 2007 10:04:55 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 03:04:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 03:04:47 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l2SA3i9l004492
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 11:03:45 +0100
Received: from [10.11.108.231] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.3.10703)
    via ESMTP; Wed, 28 Mar 2007 11:02:32 +0100 (BST)
Date: Wed, 28 Mar 2007 11:02:31 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <460A3D37.7070308@scalix.com>
In-Reply-To: <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
References: <10721D8D-A4E7-47E2-A0BF-C7579F99F0CC@gmail.com>
Subject: Re: why Apache doesnt create a nice forum like the others???
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

karl wettin wrote:
> The way I see it (and probably many other) mailing lists are suprior 
> in many ways, especially when following multiple forums.
>
It's true.   Any forum that I need to subscribe to I find an RSS feed 
for so that I can get mail messages.   Forums are a pain in the neck 
once you're subscribing to more than a handful -- I can manage all the 
lists I subscribe to through a single, central, fast interface.

jch


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 10:30:29 2007
Return-Path: <java-user-return-27218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31007 invoked from network); 28 Mar 2007 10:30:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 10:30:28 -0000
Received: (qmail 97592 invoked by uid 500); 28 Mar 2007 10:30:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97409 invoked by uid 500); 28 Mar 2007 10:30:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97394 invoked by uid 99); 28 Mar 2007 10:30:26 -0000
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mohamedhajjj@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 03:30:25 -0700
Received: by an-out-0708.google.com with SMTP id c3so2415973ana
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 03:29:56 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=MMI0ysKLZZ33r9banj8nHXJCVIKo30P9nG34ew78sID3AGItkzogEUblqI3gvOVysRFIR0jWWkvXk7H6VOWXas4lB7fLGXxWM+eXhGrR7RCIHC6LfwL1T5+hBGBc1nPO4HnEm2wKwwwwY1HgZev667M73FmR6H++ATB9YALcskU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=oVxSQLlvOdGubTsoRI6btcdon3TFLOAv+BnCjfZel4TIyGa1UHidjHkGX70obAhMnf2Hvy4PFUe7bDDM5bbeUidRG9cqLmEVLaDjUlpE0JFXo9wZ48jLm3+pi/jIKux6Hm2suveZMUiLDc1gCan29d2AhNZuL+Yp5k3p+6kC3bg=
Received: by 10.100.124.5 with SMTP id w5mr88179anc.1175077796241;
        Wed, 28 Mar 2007 03:29:56 -0700 (PDT)
Received: by 10.100.6.13 with HTTP; Wed, 28 Mar 2007 03:29:56 -0700 (PDT)
Message-ID: <ce91fe510703280329q36114fd8m4a523b8bd4b7ab74@mail.gmail.com>
Date: Wed, 28 Mar 2007 12:29:56 +0200
From: "mohamed hadj taieb" <mohamedhajjj@gmail.com>
To: java-user@lucene.apache.org
Subject: failure while indexing files
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8635_20478360.1175077796220"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_8635_20478360.1175077796220
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
i have downloaded the lucene-2.1.0.zip file
and i tried to integrate into my application web
i have added the 2 jar files to the classpath into the Environment variables
like this
classpath:
.;C:\Program Files\Apache Software Foundation\Tomcat
5.5\webapps\luceneweb\WEB-INF\lib\lucene-demos-2.1.0.jar;C:\Program
Files\Apache Software Foundation\Tomcat
5.5\webapps\luceneweb\WEB-INF\lib\lucene-core-2.1.0.jar

After that i tried to index
C:\Documents and Settings\mohamed.PIVASOFT-1BDE2C>java
org.apache.lucene.demo.IndexFiles C:\Program Files\Apache Software
Foundation\Tomcat 5.5\webapps\luceneweb
Exception in thread "main" java.lang.NoClassDefFoundError:
org/apache/lucene/demo/IndexFiles

if u have an idea about the problem thank for help

------=_Part_8635_20478360.1175077796220--

From java-user-return-27219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 10:38:40 2007
Return-Path: <java-user-return-27219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37513 invoked from network); 28 Mar 2007 10:38:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 10:38:38 -0000
Received: (qmail 16003 invoked by uid 500); 28 Mar 2007 10:38:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15804 invoked by uid 500); 28 Mar 2007 10:38:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15793 invoked by uid 99); 28 Mar 2007 10:38:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 03:38:38 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of arun.ma80@gmail.com designates 64.233.184.239 as permitted sender)
Received: from [64.233.184.239] (HELO wr-out-0506.google.com) (64.233.184.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 03:38:30 -0700
Received: by wr-out-0506.google.com with SMTP id 68so2250032wra
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 03:37:51 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QG71/SjEDmuhgAWK+znELDicelmGUxpBBDnW1O92NhY7dOJ6cC2/YAK8K10yIStbdf6k77+48YXWLflkN9yL3+sfAWi4EuNK0oH5BGXb9UFPbeV6AmMElNSYyqEfZBDiXgq58YZ8i5+cMmolH2Zy0JmkK6qm6Pts2IowW09fcyU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qkay5UD2NznHScaJ/LFvesqKnt9765mE7M00n3iU2ICXORvgOZMUPnqO4hplhf1TdKuTMUmt6HNjJL6Nb0cgmP8JQ/oBUbzI8c0z7PmoUf+mhYeBgiYGFYb88UOc/96bZt/6LKneRj3UUe/ceME2L/6LHmsz0h+52tKmVGdiYWM=
Received: by 10.114.52.1 with SMTP id z1mr3639049waz.1175078270939;
        Wed, 28 Mar 2007 03:37:50 -0700 (PDT)
Received: by 10.114.72.5 with HTTP; Wed, 28 Mar 2007 03:37:50 -0700 (PDT)
Message-ID: <444b4e610703280337h45fe58e3y19ebb5f9cc6fd97c@mail.gmail.com>
Date: Wed, 28 Mar 2007 16:07:50 +0530
From: "Arun M.A." <arun.ma80@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: failure while indexing files
In-Reply-To: <ce91fe510703280329q36114fd8m4a523b8bd4b7ab74@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_37876_25106748.1175078270892"
References: <ce91fe510703280329q36114fd8m4a523b8bd4b7ab74@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_37876_25106748.1175078270892
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I used to have this classpath issue when i set classpath for Java. Try using
DOS based directory path instead of the windows name.

eg. instead of Documents and Settings use DOCUME~1

use dir/x to know your DOS name for the directory


On 3/28/07, mohamed hadj taieb <mohamedhajjj@gmail.com> wrote:
>
> Hi
> i have downloaded the lucene-2.1.0.zip file
> and i tried to integrate into my application web
> i have added the 2 jar files to the classpath into the Environment
> variables
> like this
> classpath:
> .;C:\Program Files\Apache Software Foundation\Tomcat
> 5.5\webapps\luceneweb\WEB-INF\lib\lucene-demos-2.1.0.jar;C:\Program
> Files\Apache Software Foundation\Tomcat
> 5.5\webapps\luceneweb\WEB-INF\lib\lucene-core-2.1.0.jar
>
> After that i tried to index
> C:\Documents and Settings\mohamed.PIVASOFT-1BDE2C>java
> org.apache.lucene.demo.IndexFiles C:\Program Files\Apache Software
> Foundation\Tomcat 5.5\webapps\luceneweb
> Exception in thread "main" java.lang.NoClassDefFoundError:
> org/apache/lucene/demo/IndexFiles
>
> if u have an idea about the problem thank for help
>



-- 
Arun
www.arunma.com

------=_Part_37876_25106748.1175078270892--

From java-user-return-27220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 11:23:31 2007
Return-Path: <java-user-return-27220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56370 invoked from network); 28 Mar 2007 11:23:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 11:23:30 -0000
Received: (qmail 93211 invoked by uid 500); 28 Mar 2007 11:23:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93177 invoked by uid 500); 28 Mar 2007 11:23:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93166 invoked by uid 99); 28 Mar 2007 11:23:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 04:23:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.215] (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 28 Mar 2007 04:23:20 -0700
Received: (qmail 58544 invoked by uid 60001); 28 Mar 2007 11:22:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=V7++wSNqMkH2pIqlnmq/mreWMTTAN4TI3Vz0J+J7i3/UcUSdh9pPbD2HDgPjEYam3vYEX9pSYaCX/WpwVqNLh5+hlVxES9JiOzpCHoO1lKqyJ5UcahDq7zGOSCmzFWNxrlRgQrTB8KAb/gDCUrYhg4ig9qXmWDLZG1o5R8iahDU=;
X-YMail-OSG: 4YVPEwQVM1kGX1FYvJB61odBULdRnQfNToqqwCeKFBcsG20Po36RXi49zufpu0pHSP7IQgw_SQ5ZmCPiU.vQVkw-
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Wed, 28 Mar 2007 11:22:58 GMT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Wed, 28 Mar 2007 11:22:58 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Reverse search
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Message-ID: <576451.57937.qm@web26004.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Odd. I'm sure it used to have a getReader method somewhere.=0A=0AStill, you=
 can use MemoryIndex.createSearcher().getIndexReader()=0A=0A----- Original =
Message ----=0AFrom: Melanie Langlois <Melanie.Langlois@tradingscreen.com>=
=0ATo: java-user@lucene.apache.org=0ASent: Wednesday, 28 March, 2007 8:38:2=
4 AM=0ASubject: RE: Reverse search=0A=0AThanks, make sense. Just another qu=
estion about the memoryIndex. In your example you said I can do memoryIndex=
. getReader().terms(); but in fact there is no public access to the reader =
from memory index...=0AIf this is not possible, I will list the docs terms =
while I'm indexing.=0A=0AM=E9lanie =0A  =0A-----Original Message-----=0AFro=
m: markharw00d [mailto:markharw00d@yahoo.co.uk] =0ASent: Wednesday, March 2=
8, 2007 4:34 PM=0ATo: java-user@lucene.apache.org=0ASubject: Re: Reverse se=
arch=0A=0A >>I just want to make sure there is no API either=0A=0ANo, but y=
our code looks like it should do the job. That code can be =0Aimproved by s=
omething like [psuedo code]:=0A=0Aquery.extractTerms(terms);=0A=0Aif(query =
instanceof PhraseQuery)=0A{      =0A        //find and index rarest term on=
ly using an existing index =0A(corpusReader)=0A          int rarestDf=3DInt=
eger.MAX;=0A          Term rarestTerm=3Dnull;=0A         for(Term term:term=
s){=0A=0A        int df=3D corpusReader.docFreq(term);=0A        if(df<rare=
stDf)=0A        {=0A            rarestDf=3Ddf;=0A            rarestTerm=3Dt=
erm;=0A        }=0A    }=0A        //add just the rarest term=0A    doc.add=
(new Field(rarestTerm.field(),rarestTerm.text(),=0A        Field.Store.NO,F=
ield.Index.TOKENIZED);=0A=0A}=0Aelse=0A{=0A    //add all terms=0A}=0A=0AMel=
anie Langlois wrote:=0A> Mark,=0A> When, I extract the terms from my query,=
 I can not use add them directly? I have to do something like:=0A> Set<Term=
> terms=3Dnew HashSet<Term>();=0A> query.extractTerms(terms);=0A> Document =
doc=3Dnew Document();=0A> for(Term term:terms){=0A> doc.add(new Field(term.=
field(),term.text(),Field.Store.NO,Field.Index.TOKENIZED);=0A> }=0A>=0A> I =
just want to make sure there is no API either create the document from term=
 or to index the term directly.=0A>=0A> Thanks=0A> M=E9lanie =0A>=0A> -----=
Original Message-----=0A> From: markharw00d [mailto:markharw00d@yahoo.co.uk=
] =0A> Sent: Monday, March 26, 2007 12:36 AM=0A> To: java-user@lucene.apach=
e.org=0A> Subject: Re: Reverse search=0A>=0A>=0A> On app startup:=0A> 1) pa=
rse all Queries and place in an array.=0A> 2) Create a RAMIndex containing =
a doc for each query with content =0A> consisting of the query's terms (see=
 Query.extractTerms). For optimal =0A> performance only index the most rare=
 term for queries with multiple =0A> mandatory criteria e.g. PhraseQuerys. =
"Most rare" can be determined by =0A> looking at IndexReader.docFreq(t) usi=
ng an existing index which is =0A> representative of  your type of content.=
=0A> 3) For any queries that can't be handled by 2) e.g. FuzzyQueries - add=
 =0A> to list of "run always queries".=0A>=0A> Whenever you receive a new d=
ocument:=0A> 1) Put it in a MemoryIndex=0A> 2) Get a list of the document's=
 terms by calling =0A> memoryIndex.getReader().terms();=0A> 3) For each ter=
m hit your query RAMIndex and get =0A> queryIndexReader.termDocs(term) - th=
is will give you the ids of queries =0A> that need to be run - you can use =
the doc id to index straight into your =0A> parsed queries array.=0A> 4) Ru=
n all queries found in 3) and all those held in your "run always" =0A> list=
 against the MemoryIndex containing your new document=0A>=0A> Hope this hel=
ps,=0A> Mark=0A>=0A>=0A> Melanie Langlois wrote:=0A>   =0A>> Hi Mark,=0A>> =
If I follow you, I should list the key terms in my incoming document, then =
select the queries which contains these key terms, and then run those queri=
es on my index ? If this is correct there is two things I don't understand:=
=0A>> -how do I know which term is a key term in my document ?=0A>> -how ca=
n I select the queries? Should I index them in a separate index?=0A>>=0A>> =
Thanks,=0A>>=0A>>=0A>> M=E9lanie Langlois =0A>>   =0A>> -----Original Messa=
ge-----=0A>> From: mark harwood [mailto:markharw00d@yahoo.co.uk] =0A>> Sent=
: Friday, March 23, 2007 11:19 PM=0A>> To: java-user@lucene.apache.org=0A>>=
 Subject: Re: Reverse search=0A>>=0A>> Bear in mind that the million querie=
s you run on the MemoryIndex can be shortlisted if you place those queries =
in a RAMIndex and use the source document's terms to "query the queries". T=
he list of unique terms for your document is readily available in the Memor=
yIndex's TermEnum.=0A>> You can take this list and find "likely related que=
ries" to execute from your Query index.=0A>> Note that for phrase queries o=
r other forms of query with multiple mandatory terms you should only index =
one of the terms (preferably the rarest) to ensure that your query is not n=
eedlessly executed. For example - using this approach I need only run the p=
hrase query for "XYZ limited" whenever I encounter a document with the rare=
 term "XYZ" in it, rather than the much more commonplace "limited". =0A>>=
=0A>> Cheers=0A>> Mark=0A>>=0A>> ----- Original Message ----=0A>> From: kar=
l wettin <karl.wettin@gmail.com>=0A>> To: java-user@lucene.apache.org=0A>> =
Sent: Friday, 23 March, 2007 12:54:36 PM=0A>> Subject: Re: Reverse search=
=0A>>=0A>>=0A>> 23 mar 2007 kl. 09.57 skrev Melanie Langlois:=0A>>=0A>>   =
=0A>>     =0A>>> Well, I though to use the PerFieldAnalyzerWrapper which co=
ntains as  =0A>>> basic the snowballAnalyzer with English stopwords and use=
  =0A>>> snowballAnalyzer with language specific keywords for the fields  =
=0A>>> which will be in different languages. But I'm seeing that in your  =
=0A>>> MemoryIndexTest you commented the use of SnowballAnalyzer, is it  =
=0A>>> because it's too slow. In this case, I think I could use the  =0A>>>=
 StandardAnalyzer... what do you think?=0A>>>     =0A>>>       =0A>> I thin=
k that creating an index with a couple of documents takes a  =0A>> fraction=
 of the time it will take to place a million queries on that  =0A>> index. =
There is no real need to optimize something that takes  =0A>> milliseconds =
when you in the same process do something that takes  =0A>> half a minute.=
=0A>>=0A>>   =0A>>     =0A>=0A>=0A>=0A>     =0A>     =0A>         =0A> ____=
_______________________________________________________ =0A> All new Yahoo!=
 Mail "The new Interface is stunning in its simplicity and ease of use." - =
PC Magazine =0A> http://uk.docs.yahoo.com/nowyoucan.html=0A>=0A> ----------=
-----------------------------------------------------------=0A> To unsubscr=
ibe, e-mail: java-user-unsubscribe@lucene.apache.org=0A> For additional com=
mands, e-mail: java-user-help@lucene.apache.org=0A>=0A>=0A>   =0A=0A=0A----=
-----------------------------------------------------------------=0ATo unsu=
bscribe, e-mail: java-user-unsubscribe@lucene.apache.org=0AFor additional c=
ommands, e-mail: java-user-help@lucene.apache.org=0A=0A=0A=0A=0A=0A=0A=09=
=0A=09=0A=09=09=0A_________________________________________________________=
__ =0ANew Yahoo! Mail is the ultimate force in competitive emailing. Find o=
ut more at the Yahoo! Mail Championships. Plus: play games and win prizes. =
=0Ahttp://uk.rd.yahoo.com/evt=3D44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 12:20:37 2007
Return-Path: <java-user-return-27221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82266 invoked from network); 28 Mar 2007 12:20:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 12:20:36 -0000
Received: (qmail 91516 invoked by uid 500); 28 Mar 2007 12:20:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91483 invoked by uid 500); 28 Mar 2007 12:20:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91472 invoked by uid 99); 28 Mar 2007 12:20:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:20:36 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sengly.heng@gmail.com designates 209.85.134.188 as permitted sender)
Received: from [209.85.134.188] (HELO mu-out-0910.google.com) (209.85.134.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:20:28 -0700
Received: by mu-out-0910.google.com with SMTP id i10so3780125mue
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:20:06 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=TDTeP5EJiUZMLZxZdaiZSaLqI1iv036zeVxQmqUA8fu/ZrLYmr3n3pCJ5pRRef6ZZqgL/fAHjnkYAvyIQARvXUaA/L2PWeShpXZRosIBF/LDemNbXLGVVI7QwMgsh3w4D+8MJBHxq1HmKW8OEUg02GgaZNL+jTFoVm5FXpkZ9u4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=s+Su2Ih948ImLO/lZFKPgOu64JbkOFVnTypeO+X430milu4Q9PtqwTdN24E087Ap1lPQhhTYTOrNc643+38rdWCdlZQmzteE1WTs18JlP90jMFaPtVtiLTxHB8g+IeYHoeCzlg2vZhKuQF3ftT1nvm24TM2OBNpbmWPWfdH20Uw=
Received: by 10.82.134.12 with SMTP id h12mr18794552bud.1175084406565;
        Wed, 28 Mar 2007 05:20:06 -0700 (PDT)
Received: by 10.82.146.12 with HTTP; Wed, 28 Mar 2007 05:20:06 -0700 (PDT)
Message-ID: <17db983d0703280520y633a6983wb76f399c544b398a@mail.gmail.com>
Date: Wed, 28 Mar 2007 21:20:06 +0900
From: "Sengly Heng" <sengly.heng@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TF-IDF API
In-Reply-To: <460A32DF.4000603@zhwin.ch>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20137_9536359.1175084406512"
References: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
	 <460A32DF.4000603@zhwin.ch>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_20137_9536359.1175084406512
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks but in my case I do not have the files. What I have is just a
collection of vectors of terms.

Does lucene provide any mean to index each vector of terms as a file? Or
there is a better way to do?

Thank everyone once again.

Regards,

Sengly


On 3/28/07, thomas arni <art@zhwin.ch> wrote:
>
> Hava a look at the "TermDocs" Interface in the API.
>
> You can get term frequency  with a open IndexReader
>
> TermDocs termDocs = reader.termDocs(term);
>
> where "term" represents the current Term.
>
> now you can call:
>
> termDocs.freq()
>
> to get the frequency of the term within the current document.
>
> For the calculation of the idf, you can use the provided formula from
> the "DefaultSimilarity".
> To get the document frequency, which is necessary to calculate the idf,
> you can call:
>
> reader.docFreq(term)
>
> Hope this helps...
>
> Thomas
>
>
> Sengly Heng wrote:
> > Hello Luceners,
> >
> > I have a collections of vector of terms (token) that I extracted from
> > files.
> > I am looking for ways to calculate TF/IDF of each term.
> >
> > I wanted to use Lucene to do this but Lucene is made for collections of
> > files and in my case I have already extracted those files into vector of
> > terms. I know it is not very difficult to implement this measurement
> > but I
> > guess there should be such API available. Does anyone of you know any
> > Java
> > API that directly handle this problem? or I have to implement from
> > scratch.
> >
> > Any idea would be highly appreciated.
> >
> > Thank you in advance.
> >
> > Best regards,
> >
> > Sengly
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20137_9536359.1175084406512--

From java-user-return-27222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 12:20:59 2007
Return-Path: <java-user-return-27222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82432 invoked from network); 28 Mar 2007 12:20:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 12:20:59 -0000
Received: (qmail 93404 invoked by uid 500); 28 Mar 2007 12:20:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93378 invoked by uid 500); 28 Mar 2007 12:20:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 37679 invoked by uid 99); 28 Mar 2007 11:54:13 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of ted.husted@gmail.com designates 64.233.182.191 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=iNsnwfULJUXWOAxBh/K8vfaBCjY6lypGIbLSSBRya22tC23Aq1H4zL4qRgGoiE8X76VWDs3fev5r0z+BIgW5fGYD7vvswuQxGR0rUyPDhR4wt03ViO5CA2PsP+KPSSkm9zjVUV7YlFrQtGciu31xvcB1jcIGbav/g7P7+MAwOsk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=XHDjRKdT/VFMjIjLDK/suFkw9PXY2BCSXmdvC1W0nUtpEBE8nJ06+nd1VYj96g2mfld1fqYwN5aZ6QMetIWrUKdlKVJpDH1Q4+zfq7HdP8F1+hbhswdf1X+gBuaqTO7JxY8PD1ASxV+aXT6QM8xNzoykrwxMqNBQQS0z+cwRBCc=
Message-ID: <8b3ce3790703280453y349a5f96k3e4916b50ea2a5af@mail.gmail.com>
Date: Wed, 28 Mar 2007 06:53:40 -0500
From: "Ted Husted" <husted@apache.org>
Sender: ted.husted@gmail.com
To: java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
In-Reply-To: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
X-Google-Sender-Auth: 31489a1044fa4c35
X-Virus-Checked: Checked by ClamAV on apache.org

Since there are so many ASF projects, launching new infrastructure
initiatives can be difficult. Infrastructure wants everything to
scale, so that everyone can use it. We also want to be sure that there
are volunteers with the interest and ability to keep the product up
and running.

To get products like JIRA and Confluence, projects had to "vote with
their feet" and host the resources elsewhere first. Once there was a
working proof of utility and interest, someone with enough karma was
able to setup the project on an ASF machine.

It would be great to have some Jive forums setup, like the one Open
Symphony has for Struts.

* http://forums.opensymphony.com/forum.jspa?forumID=34

But, we'd probably have more luck getting Contegix to set it up for
other ASF projects than our own infrastructure team. (Which is part of
the problem, infrastructure a fuzzy "team" and not an actual ASF
project.)

Jive does have an open source licensing plan.

* http://www.jivesoftware.com/products/forums/resources/opensource.jsp

It's just a matter of finding a place to set it up until we can
convince infrastructure that it's a Good Thing.

HTH, Ted.
<http://www.husted.com/ted/blog/>

On 3/27/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> I am using some JBoss products and they have a very nice and great forum,
>
> I am wondering why Apache still uses this old-fashioned mailing list??
>
>
> --
> Regards,
> Mohammad
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 12:28:45 2007
Return-Path: <java-user-return-27223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86108 invoked from network); 28 Mar 2007 12:28:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 12:28:44 -0000
Received: (qmail 11317 invoked by uid 500); 28 Mar 2007 12:28:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11286 invoked by uid 500); 28 Mar 2007 12:28:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11272 invoked by uid 99); 28 Mar 2007 12:28:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:28:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.66] (HELO spunkymail-a7.g.dreamhost.com) (208.97.132.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:28:32 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a7.g.dreamhost.com (Postfix) with ESMTP id 4373E5B560
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:28:11 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <17db983d0703280520y633a6983wb76f399c544b398a@mail.gmail.com>
References: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com> <460A32DF.4000603@zhwin.ch> <17db983d0703280520y633a6983wb76f399c544b398a@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <94892113-1D62-4433-9092-D97699EA386A@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: TF-IDF API
Date: Wed, 28 Mar 2007 08:28:10 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

You can pass in a String or a Reader to Field when indexing.  There  
is nothing file specific about Lucene when it comes to indexing.   
Take a look at the Field class for the various constructors.

On Mar 28, 2007, at 8:20 AM, Sengly Heng wrote:

> Thanks but in my case I do not have the files. What I have is just a
> collection of vectors of terms.
>
> Does lucene provide any mean to index each vector of terms as a  
> file? Or
> there is a better way to do?
>
> Thank everyone once again.
>
> Regards,
>
> Sengly
>
>
> On 3/28/07, thomas arni <art@zhwin.ch> wrote:
>>
>> Hava a look at the "TermDocs" Interface in the API.
>>
>> You can get term frequency  with a open IndexReader
>>
>> TermDocs termDocs = reader.termDocs(term);
>>
>> where "term" represents the current Term.
>>
>> now you can call:
>>
>> termDocs.freq()
>>
>> to get the frequency of the term within the current document.
>>
>> For the calculation of the idf, you can use the provided formula from
>> the "DefaultSimilarity".
>> To get the document frequency, which is necessary to calculate the  
>> idf,
>> you can call:
>>
>> reader.docFreq(term)
>>
>> Hope this helps...
>>
>> Thomas
>>
>>
>> Sengly Heng wrote:
>> > Hello Luceners,
>> >
>> > I have a collections of vector of terms (token) that I extracted  
>> from
>> > files.
>> > I am looking for ways to calculate TF/IDF of each term.
>> >
>> > I wanted to use Lucene to do this but Lucene is made for  
>> collections of
>> > files and in my case I have already extracted those files into  
>> vector of
>> > terms. I know it is not very difficult to implement this  
>> measurement
>> > but I
>> > guess there should be such API available. Does anyone of you  
>> know any
>> > Java
>> > API that directly handle this problem? or I have to implement from
>> > scratch.
>> >
>> > Any idea would be highly appreciated.
>> >
>> > Thank you in advance.
>> >
>> > Best regards,
>> >
>> > Sengly
>> >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 12:36:31 2007
Return-Path: <java-user-return-27224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88707 invoked from network); 28 Mar 2007 12:36:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 12:36:30 -0000
Received: (qmail 28225 invoked by uid 500); 28 Mar 2007 12:36:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28192 invoked by uid 500); 28 Mar 2007 12:36:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28181 invoked by uid 99); 28 Mar 2007 12:36:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:36:30 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [208.97.132.177] (HELO spunkymail-a11.g.dreamhost.com) (208.97.132.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:36:21 -0700
Received: from [192.168.0.2] (adsl-074-229-189-244.sip.rmo.bellsouth.net [74.229.189.244])
	by spunkymail-a11.g.dreamhost.com (Postfix) with ESMTP id C976CB6C99
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 05:36:01 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <8b3ce3790703280453y349a5f96k3e4916b50ea2a5af@mail.gmail.com>
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com> <8b3ce3790703280453y349a5f96k3e4916b50ea2a5af@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C376D3C1-FAA2-420A-BE93-9FAB28C65BB1@apache.org>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <gsingers@apache.org>
Subject: Re: why Apache doesnt create a nice forum like the others???
Date: Wed, 28 Mar 2007 08:36:00 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

I like the mailing list approach much better.  With a good set of  
rules and folders in place (which takes about 15 minutes to setup),  
one can easily manage large volumes of mail w/o batting an eye,  
whereas forums require large amounts of navigation, IMO.


On Mar 28, 2007, at 7:53 AM, Ted Husted wrote:

> Since there are so many ASF projects, launching new infrastructure
> initiatives can be difficult. Infrastructure wants everything to
> scale, so that everyone can use it. We also want to be sure that there
> are volunteers with the interest and ability to keep the product up
> and running.
>
> To get products like JIRA and Confluence, projects had to "vote with
> their feet" and host the resources elsewhere first. Once there was a
> working proof of utility and interest, someone with enough karma was
> able to setup the project on an ASF machine.
>
> It would be great to have some Jive forums setup, like the one Open
> Symphony has for Struts.
>
> * http://forums.opensymphony.com/forum.jspa?forumID=34
>
> But, we'd probably have more luck getting Contegix to set it up for
> other ASF projects than our own infrastructure team. (Which is part of
> the problem, infrastructure a fuzzy "team" and not an actual ASF
> project.)
>
> Jive does have an open source licensing plan.
>
> * http://www.jivesoftware.com/products/forums/resources/opensource.jsp
>
> It's just a matter of finding a place to set it up until we can
> convince infrastructure that it's a Good Thing.
>
> HTH, Ted.
> <http://www.husted.com/ted/blog/>
>
> On 3/27/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>> I am using some JBoss products and they have a very nice and great  
>> forum,
>>
>> I am wondering why Apache still uses this old-fashioned mailing  
>> list??
>>
>>
>> --
>> Regards,
>> Mohammad
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

--------------------------
Grant Ingersoll
Center for Natural Language Processing
http://www.cnlp.org

Read the Lucene Java FAQ at http://wiki.apache.org/jakarta-lucene/ 
LuceneFAQ



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 12:41:10 2007
Return-Path: <java-user-return-27225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92224 invoked from network); 28 Mar 2007 12:41:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 12:41:09 -0000
Received: (qmail 37516 invoked by uid 500); 28 Mar 2007 12:41:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37374 invoked by uid 500); 28 Mar 2007 12:41:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37363 invoked by uid 99); 28 Mar 2007 12:41:09 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:41:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 05:41:01 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id EB0F830EFC18; Wed, 28 Mar 2007 06:40:37 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 8AA3430EFC18
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 06:40:36 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <460A1E85.40701@teamware.com>
References: <460A1E85.40701@teamware.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C2C923EB-7D56-44AE-8571-B6DBCB19246F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Start/end offsets in analyzers
Date: Wed, 28 Mar 2007 08:40:32 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1


On Mar 28, 2007, at 3:51 AM, Antony Bowesman wrote:

> I'm fiddling with custom anaylyzers to analyze email addresses to  
> store the full email address and the component parts.  It's based  
> on Solr's analyzer framework, so I have a StandardTokenizerFactory  
> followed by a EmailFilterFactory.  It produces
>
> Analyzing "<humphrey.bogart@casablanca.com>"
>
> 1: [humphrey.bogart@casablanca.com:1->31:<EMAIL>]
> 2: [humphrey:1->9:<EMAIL>]
> 3: [bogart:10->16:<EMAIL>]
> 4: [casablanca:17->27:<EMAIL>]
> 5: [com:28->31:<EMAIL>]
>
> I set the start/end offset to be the length of the component, but  
> in the LIA book listing 4.6 shows the start/end offsets for the  
> synonyms as the same as the original token, whereas I set my start/ 
> end as the correct start/end for the length and offset of the part.
>
> LIA says these are not used in Lucene - is that still the case for  
> 2.1 and does this matter?

They aren't used implicitly by anything in Lucene, but can be very  
handy for efficient highlighting.  Where you set the offsets really  
all depends on how you plan on using the offset values.  In the  
synonym example you mention, if the original word is "dog" and the  
user searched for "canine", to properly highlight the word "dog" in  
the original text the offsets for "canine" need to be where "dog" is.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 13:04:25 2007
Return-Path: <java-user-return-27226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8552 invoked from network); 28 Mar 2007 13:04:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 13:04:24 -0000
Received: (qmail 91190 invoked by uid 500); 28 Mar 2007 13:04:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91161 invoked by uid 500); 28 Mar 2007 13:04:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91138 invoked by uid 99); 28 Mar 2007 13:04:22 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:04:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:04:13 -0700
Received: by nf-out-0910.google.com with SMTP id g2so3325906nfe
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 06:03:52 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Gun1DzRXRj3GwCcsVIl6xzgLegGwkakAMHCJvnhxS+kQ7kcaGMvZjSYOwPxoMlLU5B+sAzLwYKO9bAH0x++4lxR6gM013YEjECow3g2zVkqMcQjke6JDHBMpENIfzS8tlV/ZxbLySPE/oMGbLI3yU1TbGX5hU6j3irzUqriwNDQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=gRwA7QR5AyAfeEpY55XpYbS+0FbD/PgMwQWLkMGkyCA8xu65GodVfjGQOsItL/3Y1nhKT+WVJpMji6M0N573f1YD8/brUMIIBwpJPS7DmmQbMY1AiZqSux9QvLLsB0vsmLxbggnjpX2U6IOzbIoXNlWk+g1q06P3azjT4b6cN/g=
Received: by 10.78.203.13 with SMTP id a13mr4244763hug.1175087031703;
        Wed, 28 Mar 2007 06:03:51 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id e8sm37255574muf.2007.03.28.06.03.50;
        Wed, 28 Mar 2007 06:03:51 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
References: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F36C4F55-62ED-416E-AC1C-D6D492C66003@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: TF-IDF API
Date: Wed, 28 Mar 2007 15:03:48 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


28 mar 2007 kl. 10.36 skrev Sengly Heng:

> Does anyone of you know any Java API that directly handle this  
> problem?
> or I have to implement from scratch.

You can also try  
weka.filters.unsupervised.attribute.StringToWordVector, it has many  
neat features you might be interested in. And if applicable to what  
you attempt to do, the feature selection algorithms of the same  
project (Weka) does a great job reducing the data set.

http://www.cs.waikato.ac.nz/ml/weka/

It is GPL.

-- 
karl


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 13:25:19 2007
Return-Path: <java-user-return-27227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28307 invoked from network); 28 Mar 2007 13:25:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 13:25:19 -0000
Received: (qmail 37253 invoked by uid 500); 28 Mar 2007 13:25:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37222 invoked by uid 500); 28 Mar 2007 13:25:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37198 invoked by uid 99); 28 Mar 2007 13:25:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:25:14 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sengly.heng@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:25:05 -0700
Received: by nf-out-0910.google.com with SMTP id g2so3332277nfe
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 06:24:44 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=CtxTRLHtbWinIuBDtMyDAgZ5knTuho4Se3X/TeBVXbg1SP2CRIqF23sHafiYx593Q51PG16wcoGBk2Z4d6uhOyb/C+Iloqkm/NalNtkZN+Ar/KKy9+Py0TfRoj0N++Z2jS9DS0+kBcmlZPNbh8hUggNqA/yq6pWkm8qo36XmCQ8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=FVTdiukboWdzIFjBW3UgMioYD40c6ZhPZCaV1QAdSwkEvwAZUV8gALGHTSIn0gM+41Vc55Uw50N1QMJ03XXCZvIbJ1zFONG9eEIAt4FjC8d4oI7sDE2Z47rkk3yN6+4V1qIMo9aW54Tk8jbtx65BtdO59GXAgUq1hN37DdTBDJE=
Received: by 10.82.107.15 with SMTP id f15mr18903245buc.1175088283783;
        Wed, 28 Mar 2007 06:24:43 -0700 (PDT)
Received: by 10.82.146.12 with HTTP; Wed, 28 Mar 2007 06:24:43 -0700 (PDT)
Message-ID: <17db983d0703280624l7194e4do386f3535669b4716@mail.gmail.com>
Date: Wed, 28 Mar 2007 22:24:43 +0900
From: "Sengly Heng" <sengly.heng@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TF-IDF API
In-Reply-To: <F36C4F55-62ED-416E-AC1C-D6D492C66003@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20904_6350916.1175088283415"
References: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
	 <F36C4F55-62ED-416E-AC1C-D6D492C66003@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_20904_6350916.1175088283415
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thank you but I still have have no clue of how to do that by using Weka
after taking a look at its API. Let me reformulate my problem :

I have a collection of vector of terms (actually each vector of terms
represents the list of tokens extracted from a file) and I do not have the
original files. I would like to calculate TF as well as TFIDF of each term
and sorted them by these value respectively. As suggested by Grant
Ingersoll, I could index those vectors of terms again using Lucene and then
use its API to measure TF and TFIDF. However I guess there should be a
simpler way or API just fit-in this case.

Thanks once again everyone.

Best regards,

Sengly


On 3/28/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 28 mar 2007 kl. 10.36 skrev Sengly Heng:
>
> > Does anyone of you know any Java API that directly handle this
> > problem?
> > or I have to implement from scratch.
>
> You can also try
> weka.filters.unsupervised.attribute.StringToWordVector, it has many
> neat features you might be interested in. And if applicable to what
> you attempt to do, the feature selection algorithms of the same
> project (Weka) does a great job reducing the data set.
>
> http://www.cs.waikato.ac.nz/ml/weka/
>
> It is GPL.
>
> --
> karl
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_20904_6350916.1175088283415--

From java-user-return-27228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 13:26:19 2007
Return-Path: <java-user-return-27228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29080 invoked from network); 28 Mar 2007 13:26:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 13:26:17 -0000
Received: (qmail 41085 invoked by uid 500); 28 Mar 2007 13:26:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41057 invoked by uid 500); 28 Mar 2007 13:26:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41042 invoked by uid 99); 28 Mar 2007 13:26:17 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:26:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:26:09 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l2SDPjsV005239
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 14:25:46 +0100
Received: from [10.11.108.231] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.3.10719)
    via ESMTP; Wed, 28 Mar 2007 14:25:43 +0100 (BST)
Date: Wed, 28 Mar 2007 14:25:43 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <460A6CD7.4020408@scalix.com>
In-Reply-To: <C376D3C1-FAA2-420A-BE93-9FAB28C65BB1@apache.org>
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com>
References: <8b3ce3790703280453y349a5f96k3e4916b50ea2a5af@mail.gmail.com>
References: <C376D3C1-FAA2-420A-BE93-9FAB28C65BB1@apache.org>
Subject: Re: why Apache doesnt create a nice forum like the others???
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

Grant Ingersoll wrote:
> I like the mailing list approach much better.  With a good set of 
> rules and folders in place (which takes about 15 minutes to setup), 
> one can easily manage large volumes of mail w/o batting an eye, 
> whereas forums require large amounts of navigation, IMO.
>
Glad I'm not the only one that thinks that -- I was wondering if there 
was something about managing forums (I still want to say "fora") that I 
was missing.

jch


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 13:27:13 2007
Return-Path: <java-user-return-27229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29593 invoked from network); 28 Mar 2007 13:27:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 13:27:11 -0000
Received: (qmail 46759 invoked by uid 500); 28 Mar 2007 13:27:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46737 invoked by uid 500); 28 Mar 2007 13:27:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46710 invoked by uid 99); 28 Mar 2007 13:27:15 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:27:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 06:27:07 -0700
Received: by nf-out-0910.google.com with SMTP id g2so3332864nfe
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 06:26:45 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Ws4QVnLZa0/9On8shoJI+mKpUzTO376QYJ/P0amRjADD/KE9FlXUR31N4YGXTYyrUjS7hi381cX9mgRDO0IbyCV6ECa267+Yfo36xSih0JNVAaGpQhg7Cy27BE7NYpFzoHW62F4qUF5jISbLhOl4/mR0T2COesDCfoEGqa4TeZ8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=ZWXN7+18ZpM+NXlNvqR2v61Yq6DEf4tbhTVQMkUQWUJ68oLvPz/MAy+HywCORsh+MFCfuccitHQ5AQxzm6klXd+vXpwPeIBNDvPVU8X8CIs76hlxSUQZc4X5/8qxXYAb+2PWGi8qOBzQlu9CNz4iekRCRV1lCpmczU7Aru0BW+s=
Received: by 10.78.183.15 with SMTP id g15mr4240119huf.1175088404459;
        Wed, 28 Mar 2007 06:26:44 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id j9sm37380479mue.2007.03.28.06.26.43;
        Wed, 28 Mar 2007 06:26:43 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <576451.57937.qm@web26004.mail.ukl.yahoo.com>
References: <576451.57937.qm@web26004.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <13957F56-8A01-425D-B3F3-9874E1EAC498@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Unison index handling (was: Reverse search)
Date: Wed, 28 Mar 2007 15:26:40 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


28 mar 2007 kl. 13.22 skrev mark harwood:

> Odd. I'm sure it used to have a getReader method somewhere.
>
> Still, you can use MemoryIndex.createSearcher().getIndexReader()

I've wrapped MemoryIndex in the unison index facade of LUCENE-550,  
just as I did with all the other index implemementations I could find  
(RAMDirectory, FSDirectory, MemoryIndex and InstantiatedIndex). It's  
very simple: an interface containing factory methods for creating  
IndexReader and IndexWriter so that there is no change to how one  
communicate with the index, no matter what implementation.

Of course it is completly backwards compatible. I think it would make  
a lot of sense to push it down to the trunk. It needs to be reviewed  
though. I could cut that out and place it in a new patch if that  
would help.

And it makes it really easy to decorate it with layers upon layers  
with bonus features. I did that too. They are in the same patch.  
Notifications, auto freshed readers and searchers, search cache, yada  
yada.

If you ask me, the static methods used when creating readers, opening  
an index, et c. is pretty darn bad design that makes life really hard  
unless you implement a formula 1-A solution. "But that's just like  
your opinion, man."


-- 
karl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 14:30:52 2007
Return-Path: <java-user-return-27230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71877 invoked from network); 28 Mar 2007 14:30:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 14:30:51 -0000
Received: (qmail 9271 invoked by uid 500); 28 Mar 2007 14:30:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9237 invoked by uid 500); 28 Mar 2007 14:30:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9226 invoked by uid 99); 28 Mar 2007 14:30:49 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 07:30:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of karl.wettin@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 07:30:41 -0700
Received: by nf-out-0910.google.com with SMTP id g2so3353448nfe
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 07:30:20 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=NRJyaV/JK/fn2h4zLTqwwdl32F+Rjw1mlCOPe6xjpVrMU4F28QEsNExQZhEdk7Za8sG4egbZxFwwcCBoraF1mbBWju6tfAa1cETQmYZdU8WDKecc69AkMJZqD0MNatnn/iiawDPbssslD/J+zJlg2Ors1uquAWw2UpyfNVTlYyU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=FfS0NzxhEEbVhaSwz+49tyz1KLPyFkQqry7AAqwSOrI/Eo42P0VocIUH4B2vT+jYxKHAr7XSrHCyP91Xe+wg67N79bZI30hz7RJ9QVseelFuCYIszJmZILPKEpIS8TvAfLbYLLnTob22HOUnLXsmJhblGgCp+yJAUrZ/VIWL+i8=
Received: by 10.78.189.5 with SMTP id m5mr4269183huf.1175092220364;
        Wed, 28 Mar 2007 07:30:20 -0700 (PDT)
Received: from ?192.168.1.254? ( [83.249.110.196])
        by mx.google.com with ESMTP id g1sm37650703muf.2007.03.28.07.30.19;
        Wed, 28 Mar 2007 07:30:19 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <17db983d0703280624l7194e4do386f3535669b4716@mail.gmail.com>
References: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com> <F36C4F55-62ED-416E-AC1C-D6D492C66003@gmail.com> <17db983d0703280624l7194e4do386f3535669b4716@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <53B384E0-C37A-4C39-B10A-765A45F21A7B@gmail.com>
Content-Transfer-Encoding: 7bit
From: karl wettin <karl.wettin@gmail.com>
Subject: Re: TF-IDF API
Date: Wed, 28 Mar 2007 16:30:16 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org


28 mar 2007 kl. 15.24 skrev Sengly Heng:

> Thank you but I still have have no clue of how to do that by using  
> Weka
> after taking a look at its API. Let me reformulate my problem :
>
> I have a collection of vector of terms (actually each vector of terms
> represents the list of tokens extracted from a file) and I do not  
> have the
> original files. I would like to calculate TF as well as TFIDF of  
> each term
> and sorted them by these value respectively. As suggested by Grant
> Ingersoll, I could index those vectors of terms again using Lucene  
> and then
> use its API to measure TF and TFIDF. However I guess there should be a
> simpler way or API just fit-in this case.

To my knowledge there is no thing in Lucene that makes it simpler for  
you than what Grant suggests. And according to me, Weka really must  
be the simplest way around. However, perhaps you should supply us  
with an example of what these vectors look like. That might change  
everything. Perhaps we are talking of completely different things here.

Let me reformulate my suggestion:

1. rebuild your vector to a string.
2. put the data in a file called myvectors.arff:

@relation termvectors
@attribute the_vector string
@data
"first term vector as a string"
"second term vector as a string"

3. open the file in the weka explorer application.
4. select filter/unsupervised/attribute/string to word vector
5. set your preferences of normalization, et c.
6. apply the filter.
7. save the output.

All this can be done progamatically too, with only a few lines of code.

>
> Thanks once again everyone.
>
> Best regards,
>
> Sengly
>
>
> On 3/28/07, karl wettin <karl.wettin@gmail.com> wrote:
>>
>>
>> 28 mar 2007 kl. 10.36 skrev Sengly Heng:
>>
>> > Does anyone of you know any Java API that directly handle this
>> > problem?
>> > or I have to implement from scratch.
>>
>> You can also try
>> weka.filters.unsupervised.attribute.StringToWordVector, it has many
>> neat features you might be interested in. And if applicable to what
>> you attempt to do, the feature selection algorithms of the same
>> project (Weka) does a great job reducing the data set.
>>
>> http://www.cs.waikato.ac.nz/ml/weka/
>>
>> It is GPL.
>>
>> --
>> karl
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 15:19:35 2007
Return-Path: <java-user-return-27231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96694 invoked from network); 28 Mar 2007 15:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 15:19:34 -0000
Received: (qmail 51612 invoked by uid 500); 28 Mar 2007 15:19:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51537 invoked by uid 500); 28 Mar 2007 15:19:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51293 invoked by uid 99); 28 Mar 2007 15:19:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 08:19:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 08:19:17 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HWZvN-0000Y0-4u
	for java-user@lucene.apache.org; Wed, 28 Mar 2007 08:18:57 -0700
Message-ID: <9716016.post@talk.nabble.com>
Date: Wed, 28 Mar 2007 08:18:57 -0700 (PDT)
From: TimF <tim@timflanders.com>
To: java-user@lucene.apache.org
Subject: Re: Custom Analyzer Help please
In-Reply-To: <816F1424-27E2-456C-8BBF-EE378A79A774@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: tim@timflanders.com
References: <9682794.post@talk.nabble.com> <816F1424-27E2-456C-8BBF-EE378A79A774@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org


Grant,
Thanks for your reply and the pointer to the custom code sample. I will be
checking into that today. I did delve into the src for the OOTB analyzers
and was aware of what they did. Still, the StandardAnalyzer does not do what
I want. The real difference between my needs and the results of the
StandardAnalyzer is that what I want is the union of the StandardAnalyzer
and the StopAnalyzer. If you refer back to my original example...

An example of the data might be as follows:
   Hello XY&Z Corporation - abc@example.com 
I would like the following terms to come out of the analyzer:
 [hello]  [xy&z]  [corporation] [abc@example] [com]  //this is the
StandardAnalyzer output
as well as
  [xy] [z]  [abc] [example] 

I figured that creating a custom analyzer is the only way to do that, but
unfortunately I am not that familiar with how the analyzers "really" work
internally( I am more of a mathematician than a lexicon). 

If you have any other thoughts or ideas I would love to hear.
Thanks,
Tim

Grant Ingersoll-6 wrote:
> 
> So, I think the answer is that StandardAnalyzer already has what you  
> state you want.  Is it, perhaps, that certain stopwords that you are  
> interested in are not currently being stopped?
> 

-- 
View this message in context: http://www.nabble.com/Custom-Analyzer-Help-please-tf3469904.html#a9716016
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 16:24:00 2007
Return-Path: <java-user-return-27232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26390 invoked from network); 28 Mar 2007 16:23:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 16:23:59 -0000
Received: (qmail 2718 invoked by uid 500); 28 Mar 2007 16:23:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2688 invoked by uid 500); 28 Mar 2007 16:23:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2677 invoked by uid 99); 28 Mar 2007 16:23:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 09:23:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of grant.ingersoll@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 09:23:51 -0700
Received: by py-out-1112.google.com with SMTP id a25so1727942pyi
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 09:23:29 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=avPdg0Lj09+sDw6qnN0gU8+vHLZZvGuVfK2wRnjVVRHmCqiHf5DXeCQdMMYiWN4vrNjmfEQ7kI+5VdLA4eJm1Vh3NJwxG2gmQz/IaT/j5BsVdT1or2divZzW2K2pXNnWOOSvc0Hzzk1bYSyn9JVVYEwwTYlaTcUzCCubf0gKFeM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=RDhPR5dkytNRTVBXRTherp1IuOPUXUpluqLxH0ouQ2LvuCsRXdIQX1TvQcPhXyt1c2IIX+R3xUnmi+pW3hGRhK9M5RefML/HBywjXag5lcaSmniCEiM35g1ICQE86Fsc7yJ8mYNPh5gb9sjoLG0mNXSA3VGd4nIyDThTwbLRfXw=
Received: by 10.35.69.11 with SMTP id w11mr16498942pyk.1175099009003;
        Wed, 28 Mar 2007 09:23:29 -0700 (PDT)
Received: from ?192.168.0.2? ( [74.229.189.244])
        by mx.google.com with ESMTP id 36sm15355902nzk.2007.03.28.09.23.24;
        Wed, 28 Mar 2007 09:23:28 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <9716016.post@talk.nabble.com>
References: <9682794.post@talk.nabble.com> <816F1424-27E2-456C-8BBF-EE378A79A774@apache.org> <9716016.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <05F0523E-3A15-4B66-8A01-8B3A3C179DE5@gmail.com>
Content-Transfer-Encoding: 7bit
From: Grant Ingersoll <grant.ingersoll@gmail.com>
Subject: Re: Custom Analyzer Help please
Date: Wed, 28 Mar 2007 12:23:20 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

OK, gotcha.   I now see what you mean.  StandardAnalyzer uses the  
StandardTokenizer, whereas StopAnalyzer uses the LowerCaseTokenizer,  
which divides text at non-letters.  What you most likely will need to  
do is create a Tokenizer that outputs the original token, and outputs  
the parts of it based on the LowerCaseTokenizer.  Have a look at the  
TokenStream API.  Essentially, you need to implement the next()  
method for your new Tokenizer.  You probably could just have your  
tokenizer wrap the other two, by using StandardTokenizer to get your  
first level tokens, then, given a Token, run it through the  
LowerCaseTokenizer to see if it has any values for next(), which can  
be added to the stream.

Once you have your Tokenizer working you can wrap them into your new  
Analyzer to use the other filters as you see fit.

If you have "Lucene In Action", have a look at Chapter 4 for more  
details on how Tokenizers and TokenFilters work.

HTH,
Grant


On Mar 28, 2007, at 11:18 AM, TimF wrote:

>
> Grant,
> Thanks for your reply and the pointer to the custom code sample. I  
> will be
> checking into that today. I did delve into the src for the OOTB  
> analyzers
> and was aware of what they did. Still, the StandardAnalyzer does  
> not do what
> I want. The real difference between my needs and the results of the
> StandardAnalyzer is that what I want is the union of the  
> StandardAnalyzer
> and the StopAnalyzer. If you refer back to my original example...
>
> An example of the data might be as follows:
>    Hello XY&Z Corporation - abc@example.com
> I would like the following terms to come out of the analyzer:
>  [hello]  [xy&z]  [corporation] [abc@example] [com]  //this is the
> StandardAnalyzer output
> as well as
>   [xy] [z]  [abc] [example]
>
> I figured that creating a custom analyzer is the only way to do  
> that, but
> unfortunately I am not that familiar with how the analyzers  
> "really" work
> internally( I am more of a mathematician than a lexicon).
>
> If you have any other thoughts or ideas I would love to hear.
> Thanks,
> Tim
>
> Grant Ingersoll-6 wrote:
>>
>> So, I think the answer is that StandardAnalyzer already has what you
>> state you want.  Is it, perhaps, that certain stopwords that you are
>> interested in are not currently being stopped?
>>
>
> -- 
> View this message in context: http://www.nabble.com/Custom-Analyzer- 
> Help-please-tf3469904.html#a9716016
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

------------------------------------------------------
Grant Ingersoll
http://www.grantingersoll.com/
http://lucene.grantingersoll.com
http://www.paperoftheweek.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 16:27:31 2007
Return-Path: <java-user-return-27233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27867 invoked from network); 28 Mar 2007 16:27:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 16:27:30 -0000
Received: (qmail 14055 invoked by uid 500); 28 Mar 2007 16:27:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14011 invoked by uid 500); 28 Mar 2007 16:27:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13979 invoked by uid 99); 28 Mar 2007 16:27:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 09:27:31 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mohamedhajjj@gmail.com designates 64.233.184.227 as permitted sender)
Received: from [64.233.184.227] (HELO wr-out-0506.google.com) (64.233.184.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 09:27:23 -0700
Received: by wr-out-0506.google.com with SMTP id 68so2372334wra
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 09:27:02 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=EjENcHu9ZCTBx6NLiOmVQ0UYVvq4Zf3HQzLqh6XXuyfW+LEmBpbVrVeHxKgaxt4AZCxA4pR7a0NZ5AAg8Q/BtM77Hh4xiNnEIqEcH1d2Jc0aKBIjtVDdzlGdHrOJRBN+fVpfsmkr6mmJd3kKE0qBqKNlbVjaRhCZSVgKPUQRrBI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=GuC6LkDmQFavCm3C7s1pkX3xNYyP6PrZBjGQrPoa+3yaoJ87nXZFD8wwHfLCKuEjKOO3cLlyQm6ewg3EcjKR6bwR3F8gMgVGK6mNG2/NXW1tgkgBVvZoc9ChSGySJShKIbsVk7AcUNjlF2IvIMrK2HJVFOTFGruAO+arbrxViLo=
Received: by 10.100.31.2 with SMTP id e2mr415950ane.1175099222302;
        Wed, 28 Mar 2007 09:27:02 -0700 (PDT)
Received: by 10.100.6.13 with HTTP; Wed, 28 Mar 2007 09:27:02 -0700 (PDT)
Message-ID: <ce91fe510703280927k62a49f17w9113b473df44fd22@mail.gmail.com>
Date: Wed, 28 Mar 2007 18:27:02 +0200
From: "mohamed hadj taieb" <mohamedhajjj@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: failure while indexing files
In-Reply-To: <444b4e610703280337h45fe58e3y19ebb5f9cc6fd97c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13902_5395063.1175099222263"
References: <ce91fe510703280329q36114fd8m4a523b8bd4b7ab74@mail.gmail.com>
	 <444b4e610703280337h45fe58e3y19ebb5f9cc6fd97c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_13902_5395063.1175099222263
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

thx a

2007/3/28, Arun M.A. <arun.ma80@gmail.com>:
>
> I used to have this classpath issue when i set classpath for Java. Try
> using
> DOS based directory path instead of the windows name.
>
> eg. instead of Documents and Settings use DOCUME~1
>
> use dir/x to know your DOS name for the directory
>
>
> On 3/28/07, mohamed hadj taieb <mohamedhajjj@gmail.com> wrote:
> >
> > Hi
> > i have downloaded the lucene-2.1.0.zip file
> > and i tried to integrate into my application web
> > i have added the 2 jar files to the classpath into the Environment
> > variables
> > like this
> > classpath:
> > .;C:\Program Files\Apache Software Foundation\Tomcat
> > 5.5\webapps\luceneweb\WEB-INF\lib\lucene-demos-2.1.0.jar;C:\Program
> > Files\Apache Software Foundation\Tomcat
> > 5.5\webapps\luceneweb\WEB-INF\lib\lucene-core-2.1.0.jar
> >
> > After that i tried to index
> > C:\Documents and Settings\mohamed.PIVASOFT-1BDE2C>java
> > org.apache.lucene.demo.IndexFiles C:\Program Files\Apache Software
> > Foundation\Tomcat 5.5\webapps\luceneweb
> > Exception in thread "main" java.lang.NoClassDefFoundError:
> > org/apache/lucene/demo/IndexFiles
> >
> > if u have an idea about the problem thank for help
> >
>
>
>
> --
> Arun
> www.arunma.com
>

------=_Part_13902_5395063.1175099222263--

From java-user-return-27234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 16:29:13 2007
Return-Path: <java-user-return-27234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28504 invoked from network); 28 Mar 2007 16:29:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 16:29:12 -0000
Received: (qmail 21116 invoked by uid 500); 28 Mar 2007 16:29:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21076 invoked by uid 500); 28 Mar 2007 16:29:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21065 invoked by uid 99); 28 Mar 2007 16:29:13 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 09:29:13 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mohamedhajjj@gmail.com designates 209.85.132.245 as permitted sender)
Received: from [209.85.132.245] (HELO an-out-0708.google.com) (209.85.132.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 09:29:04 -0700
Received: by an-out-0708.google.com with SMTP id c3so2510529ana
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 09:28:43 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=TY8aNnkX56Eb1pOOwaYN9pwLbfOsSebsunJOQuC3xP7ApwAgTKlC5u7xUFCjssQSnPm0pEbvuMaVD+VNG1d7/N2zYpW9SGnz9vwklLrXKQbFGnJfth0I58IES4sjW3mXq7yJLviw1tTeZc45ThR8ZPnWJNF7CmG0JPPTNivRaKA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=YMBWBaDtH/w35dBRtBUlRuUdPcpFCHB81c66WqDYItQGOlKFEFka+BGF5osMW9CJLv33JIrnle567h3PBRFgUQGWRXowe6cIulLyhaW8+qWton0GBI94jSjqpKQYuwSQpioNjoK0Mvn267X+RSiEX4W1em4yx42urjz98GWeAlY=
Received: by 10.100.174.16 with SMTP id w16mr416493ane.1175099323568;
        Wed, 28 Mar 2007 09:28:43 -0700 (PDT)
Received: by 10.100.6.13 with HTTP; Wed, 28 Mar 2007 09:28:43 -0700 (PDT)
Message-ID: <ce91fe510703280928w6df79923jdf9db6792e91e90b@mail.gmail.com>
Date: Wed, 28 Mar 2007 18:28:43 +0200
From: "mohamed hadj taieb" <mohamedhajjj@gmail.com>
To: java-user@lucene.apache.org
Subject: integration of lucene into opencms
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13954_3078228.1175099323459"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_13954_3078228.1175099323459
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I have integrated lucene to search into files i tried that in the
jsp-examples like that

1st step
Indexation des fichiers de JSP-examples

C:\Program Files\Apache Software Foundation\Tomcat
5.5\webapps\luceneweb\WEB-INF
\lib>java org.apache.lucene.demo.IndexFiles "C:\Program Files\Apache
Software Foundation\Tomcat 5.5\webapps\jsp-examples"

2nd step
Research in files

C:\Program Files\Apache Software Foundation\Tomcat
5.5\webapps\luceneweb\WEB-INF
\lib>java org.apache.lucene.demo.SearchFiles
Query: Hello World Tag
Searching for: hello world tag
80 total matching documents

all right

but when i tried to use the same principle to integrate lucene in opencms
the 1st step does n't work because the web site i want to index does nt
exist physically so the path should be like this "
http://localhost/opencms/opencms/site_directory/index.html"
an error message show "path inreadble"

if someone have an idea about integrating lucene into opencms and a
specially into a specific folder i have created from the workspace!!!

can i give to the lucene a web path as a origin of searsh

------=_Part_13954_3078228.1175099323459--

From java-user-return-27235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 18:06:01 2007
Return-Path: <java-user-return-27235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79599 invoked from network); 28 Mar 2007 18:06:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 18:06:00 -0000
Received: (qmail 71849 invoked by uid 500); 28 Mar 2007 18:06:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71163 invoked by uid 500); 28 Mar 2007 18:05:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 54503 invoked by uid 99); 28 Mar 2007 17:57:18 -0000
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of soshima@gmail.com designates 209.85.132.242 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=snna2+2THA+5Yx2aWMeB34jVbxxV+ltixc/bpBMy4l6ncuTtsRHBTeei0YvWoNFYSENZ1nrTq7lEFS9EB+bihIQ2DeyuBi6p8kLCUYEy4kGtWsIRfurkIs6ZtudQEgCl7Nmt1PeoOzWtzbBqlfi7HOOVgQ6+JKrboD4/erGqic8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=qD3WqAXQCqOWfotCsKWPnqpBOj9mb5vqFCHbM3ABnVqPdY4ApFQ0Y1CN6SpSNgl6dKaNI8+UpmctejXTgT0Ti68YozPcWzz4vh9SQMI4R5AgEIdSMsU8sWlUjgtZ178qlJSDu2TladCTlI/L0M2f8mtdYWNESB3WVTvJ7In9oyc=
Message-ID: <68780f5d0703281056m1eb89919j4692a13b9a60753d@mail.gmail.com>
Date: Wed, 28 Mar 2007 10:56:48 -0700
From: "Scott Oshima" <soshima@gmail.com>
To: java-user@lucene.apache.org
Subject: index file size threshold affecting search performance?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13343_11640414.1175104608494"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_13343_11640414.1175104608494
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

So I assumed a linear decay of performance as an index got bigger.

For some reason when going from an index size of 1.89 to 1.95 gigs
dramatically increased cpu across all of our servers.

I was thinking of splitting the 1.95 index into 2 separate indexes  and
using a multisearcher on those parts?

thanks.

-scott

------=_Part_13343_11640414.1175104608494--

From java-user-return-27236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 19:11:38 2007
Return-Path: <java-user-return-27236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13758 invoked from network); 28 Mar 2007 19:11:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 19:11:37 -0000
Received: (qmail 11623 invoked by uid 500); 28 Mar 2007 19:11:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11204 invoked by uid 500); 28 Mar 2007 19:11:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11193 invoked by uid 99); 28 Mar 2007 19:11:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 12:11:36 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.162.227 as permitted sender)
Received: from [64.233.162.227] (HELO nz-out-0506.google.com) (64.233.162.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 12:11:28 -0700
Received: by nz-out-0506.google.com with SMTP id i1so2173179nzh
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 12:11:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=DhSbDXQG4km8x61x4gTkgqePe0bPHOdQhPdevx8zhTh4t9fzuDZcIAu4uV1jK4Q/KWWgCTIM49wzlnR0cLTkDTF0j8/GJ7weRjtAfMoZux4P9kPWp5gfMutw3piNTh1Ss2267E/f0sXt5VuW9yGZA6eosFgH7D6B0XGz8NwLpcw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=A4g1URkQpQPy+6Y+QtXSt4dV0KN3p1Y2K15S8pgtJPjAe9tEZXz0yRisXiv1+bdVGvSKjZmyafelSx9uPzyJxCVCLefyC+dg2NNIdPm2jW6FzP1WwikFh7W7/B7xQJ4nSQ13CurUDWdYOmWumPIWZBjcsLa5hJw1Wvlr5xzfL/s=
Received: by 10.114.127.1 with SMTP id z1mr3893180wac.1175109066498;
        Wed, 28 Mar 2007 12:11:06 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Wed, 28 Mar 2007 12:11:06 -0700 (PDT)
Message-ID: <359a92830703281211y4f18a30do8b7194f95337e09d@mail.gmail.com>
Date: Wed, 28 Mar 2007 15:11:06 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index file size threshold affecting search performance?
In-Reply-To: <68780f5d0703281056m1eb89919j4692a13b9a60753d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_39786_10893727.1175109066443"
References: <68780f5d0703281056m1eb89919j4692a13b9a60753d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_39786_10893727.1175109066443
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

This surprises me, I'm currently working with a 4G index, and the
improvement from when it was an 8G index was only 10% or so.
And it's plenty speedy.

Are you hitting hardware limitations and perhaps swapping like
crazy? In which case, unless you split things across several
machines, I doubt it would help to make two smaller indexes.

In sum, I really suspect that you're NOT hitting a Lucene limitation,
but it's something else about your system....

Best
Erick

On 3/28/07, Scott Oshima <soshima@gmail.com> wrote:
>
> So I assumed a linear decay of performance as an index got bigger.
>
> For some reason when going from an index size of 1.89 to 1.95 gigs
> dramatically increased cpu across all of our servers.
>
> I was thinking of splitting the 1.95 index into 2 separate indexes  and
> using a multisearcher on those parts?
>
> thanks.
>
> -scott
>

------=_Part_39786_10893727.1175109066443--

From java-user-return-27237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 19:34:26 2007
Return-Path: <java-user-return-27237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33256 invoked from network); 28 Mar 2007 19:34:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 19:34:25 -0000
Received: (qmail 65849 invoked by uid 500); 28 Mar 2007 19:34:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65822 invoked by uid 500); 28 Mar 2007 19:34:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 15740 invoked by uid 99); 28 Mar 2007 19:13:53 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=mXzWvo5RCLGY2ejF/PEU5rWTXAwveenFVBgnUSEMtuJR3bexDqr03SfaImjdA8h7RfvHiJT4BJ6HGIpHF6md+gmQ/LZRI167Di3BeJ4BfIJ5MZAnKqhsu//nHtH3S0JsSKMkWsBsb6kM2MnDjesjpVsYSASjGkdEzgoXT8j0q9U=;
X-YMail-OSG: Gq6JlW4VM1k97dLAURySUxNjZGfWGM2C0aPNWbz04VaSNkqOkn__0PVn.ngJOQFqnlJvPeLrIJryOwkNfEH6U8CYfl.Fv4kCrt2d
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Wed, 28 Mar 2007 12:13:24 -0700 (PDT)
From: Mark Stiner <faikeeyes@yahoo.com>
Subject: Using Lucene to apply LSI
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-590739390-1175109204=:72684"
Message-ID: <918670.72684.qm@web39604.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-590739390-1175109204=:72684
Content-Type: text/plain; charset=ascii


                    Hi,

I have a research project where I want to implement LSI technique. The scenario is something as follows.

Search
the news sites for the locally event based news. Cluster the similar
news items together. For example hurricane in New York city.

We want to apply basic LSI as follows

   -Key word extraction
   -Filter using stop list
   -Stemming
   -Option: Synonym detection
   - Frequency Matrix
   - SVD Decomposition

  -Cluster related News items

The input data will be from the web based news sites such as Yahoo, google etc.

How can we use Lucene to achieve this. Please provide me the steps.

Thanks.

Faikeeyes
                    



 
____________________________________________________________________________________
Now that's room service!  Choose from over 150,000 hotels
in 45,000 destinations on Yahoo! Travel to find your fit.
http://farechase.yahoo.com/promo-generic-14795097
--0-590739390-1175109204=:72684--

From java-user-return-27238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 19:47:03 2007
Return-Path: <java-user-return-27238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41359 invoked from network); 28 Mar 2007 19:47:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 19:47:02 -0000
Received: (qmail 6487 invoked by uid 500); 28 Mar 2007 19:47:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6454 invoked by uid 500); 28 Mar 2007 19:47:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6443 invoked by uid 99); 28 Mar 2007 19:47:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 12:47:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 12:46:54 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 08FFF30EFC43; Wed, 28 Mar 2007 13:46:34 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.27.73.244] (unknown [128.143.255.102])
	by ehatchersolutions.com (Postfix) with ESMTP id B07DD30EFC18
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 13:46:24 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <359a92830703281211y4f18a30do8b7194f95337e09d@mail.gmail.com>
References: <68780f5d0703281056m1eb89919j4692a13b9a60753d@mail.gmail.com> <359a92830703281211y4f18a30do8b7194f95337e09d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F4C53DA7-0C30-498A-BAEC-9DC8736364F1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: index file size threshold affecting search performance?
Date: Wed, 28 Mar 2007 15:46:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1

I've just built a 9.3G index (admittedly tons of stored data in  
there, 3.3M documents) and performance is amazing (through Solr).

	Erik



On Mar 28, 2007, at 3:11 PM, Erick Erickson wrote:

> This surprises me, I'm currently working with a 4G index, and the
> improvement from when it was an 8G index was only 10% or so.
> And it's plenty speedy.
>
> Are you hitting hardware limitations and perhaps swapping like
> crazy? In which case, unless you split things across several
> machines, I doubt it would help to make two smaller indexes.
>
> In sum, I really suspect that you're NOT hitting a Lucene limitation,
> but it's something else about your system....
>
> Best
> Erick
>
> On 3/28/07, Scott Oshima <soshima@gmail.com> wrote:
>>
>> So I assumed a linear decay of performance as an index got bigger.
>>
>> For some reason when going from an index size of 1.89 to 1.95 gigs
>> dramatically increased cpu across all of our servers.
>>
>> I was thinking of splitting the 1.95 index into 2 separate  
>> indexes  and
>> using a multisearcher on those parts?
>>
>> thanks.
>>
>> -scott
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 19:47:23 2007
Return-Path: <java-user-return-27239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41660 invoked from network); 28 Mar 2007 19:47:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 19:47:22 -0000
Received: (qmail 9016 invoked by uid 500); 28 Mar 2007 19:47:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8990 invoked by uid 500); 28 Mar 2007 19:47:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 1786 invoked by uid 99); 28 Mar 2007 19:44:30 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of jose.aguera@gmail.com designates 66.249.92.173 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mlIF6jilHHu/orNmA3U6YnEmCy+p7feE6KFq2TXeZfWcjVPL1djcIfN+7EpisbXoklHQXsztPEgLIQ2vZ7XZMse1wGGwlkReITetWrSPCRLesRt8LxziPzecSbNAXpkx6cLpyrZgfQaQop3Jl1gAHXtUjrjJIGYicXPvAzjz8Lc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=mnGDmC3IS8gehKvXbtFsPqg9oHUxWc7Wdbr3KihrT4RmOaAr3BvuKCKN00jCyw1M9fXNsrdCK7C6BFw4icQUwEWRvs6N2vAjfNyJWIeshWma/o5KwEwBD05IBXtOKIfk/aI6syI+PfUUVLawJHFBPC+cY7Af7J3i0UdZRhTeBdg=
Message-ID: <9ab5344d0703281243v4e6b8d07nc51f2b0db7331876@mail.gmail.com>
Date: Wed, 28 Mar 2007 21:43:56 +0200
From: "=?ISO-8859-1?Q?Jos=E9_Ram=F3n_P=E9rez_Ag=FCera?=" <jose.aguera@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Using Lucene to apply LSI
In-Reply-To: <918670.72684.qm@web39604.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_42446_6835210.1175111036769"
References: <918670.72684.qm@web39604.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_42446_6835210.1175111036769
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

you need to use JAMA combined with Lucene, using the vectors that are
builded by lucene to compute SVD with JAMA

http://math.nist.gov/javanumerics/jama/

Best

jose

On 3/28/07, Mark Stiner <faikeeyes@yahoo.com> wrote:
>
>
>                     Hi,
>
> I have a research project where I want to implement LSI technique. The
> scenario is something as follows.
>
> Search
> the news sites for the locally event based news. Cluster the similar
> news items together. For example hurricane in New York city.
>
> We want to apply basic LSI as follows
>
>    -Key word extraction
>    -Filter using stop list
>    -Stemming
>    -Option: Synonym detection
>    - Frequency Matrix
>    - SVD Decomposition
>
>   -Cluster related News items
>
> The input data will be from the web based news sites such as Yahoo, googl=
e
> etc.
>
> How can we use Lucene to achieve this. Please provide me the steps.
>
> Thanks.
>
> Faikeeyes
>
>
>
>
>
>
> _________________________________________________________________________=
___________
> Now that's room service!  Choose from over 150,000 hotels
> in 45,000 destinations on Yahoo! Travel to find your fit.
> http://farechase.yahoo.com/promo-generic-14795097




--=20
Jos=E9 Ram=F3n P=E9rez Ag=FCera

Dept. de Ingenier=EDa del Software e Inteligencia Artificial
Despacho 411 tlf. 913947599
Facultad de Inform=E1tica
Universidad Complutense de Madrid

------=_Part_42446_6835210.1175111036769--

From java-user-return-27240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 21:49:37 2007
Return-Path: <java-user-return-27240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78241 invoked from network); 28 Mar 2007 21:49:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 21:49:35 -0000
Received: (qmail 43154 invoked by uid 500); 28 Mar 2007 21:49:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43121 invoked by uid 500); 28 Mar 2007 21:49:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43110 invoked by uid 99); 28 Mar 2007 21:49:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 14:49:36 -0700
X-ASF-Spam-Status: No, hits=3.2 required=10.0
	tests=HTML_MESSAGE,HTML_OBFUSCATE_05_10,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [147.96.1.101] (HELO brett.sim.ucm.es) (147.96.1.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 14:49:27 -0700
Received: from brett.sim.ucm.es (brett.sim.ucm.es [127.0.0.1])
	by localhost.ucm.es (Postfix) with ESMTP id 3B3DC39E423
	for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 23:48:02 +0200 (CEST)
Received: from ULISES.sim.ucm.es (unknown [10.150.1.31])by brett.sim.ucm.es 
	(Postfix) with ESMTP id 0283239E38Efor <java-user@lucene.apache.org>; Wed, 
	28 Mar 2007 23:48:02 +0200 (CEST)
Received: from ucm.es ([10.147.128.157])by ULISES.sim.ucm.es (Sun Java 
	System Messaging Server 6.2-6.01 (built Apr  32006)) with ESMTP id 
	<0JFM00BPKV9QOVD0@ULISES.sim.ucm.es> forjava-user@lucene.apache.org; Wed, 
	28 Mar 2007 23:49:02 +0200 (CEST)
Received: from [10.150.1.31] (Forwarded-For: [10.150.1.31])by 
	menelao.adm.ucm.es (mshttpd); Wed, 28 Mar 2007 23:49:02 +0200
Date: Wed, 28 Mar 2007 23:49:02 +0200
From: =?iso-8859-1?B?Ikpvc+kgUmFt824gUOlyZXogQWf8ZXJhIg==?=<jose.aguera@fdi.ucm.es>
Subject: RE: Using Lucene to apply LSI
To: java-user@lucene.apache.org
Message-id: <fa05c3d360a2.460afeee@ucm.es>
MIME-version: 1.0
X-Mailer: Sun Java(tm) System Messenger Express 6.2-6.01 (built Apr  3 2006)
Content-type: multipart/alternative;
	boundary=--5ac8dd58211e22aa524d
Content-language: es
X-Accept-Language: es
Priority: normal
X-imss-version: 2.046
X-imss-result: Passed
X-imss-scanInfo: M:B L:E SM:2
X-imss-tmaseResult: TT:1 TS:-1.2406 TC:1F TRN:18 TV:3.6.1039(15082.003)
X-imss-scores: Clean:100.00000 C:0 M:0 S:0 R:0
X-imss-settings: Baseline:1 C:1 M:1 S:1 R:1 (0.0000 0.0000)
X-Virus-Checked: Checked by ClamAV on apache.org

----5ac8dd58211e22aa524d
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

you need to use JAMA combined with Lucene=2C using the vectors that are =
builded by lucene to compute SVD with JAMA

http=3A//math=2Enist=2Egov/javanumerics/jama/

Best


jose

Jos=E9 Ram=F3n P=E9rez Ag=FCera

Dept=2E de Ingenier=EDa del Software e Inteligencia Artificial
Despacho 411 tlf=2E 913947599
Facultad de Inform=E1tica
Universidad Complutense de Madrid

----5ac8dd58211e22aa524d--

From java-user-return-27241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 22:18:08 2007
Return-Path: <java-user-return-27241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86531 invoked from network); 28 Mar 2007 22:18:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 22:18:06 -0000
Received: (qmail 87050 invoked by uid 500); 28 Mar 2007 22:18:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87003 invoked by uid 500); 28 Mar 2007 22:18:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86990 invoked by uid 99); 28 Mar 2007 22:18:05 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 15:18:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [216.52.219.147] (HELO mx01.business.com) (216.52.219.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 15:17:56 -0700
Received: from unknown (HELO exchg04.corp.business.com) ([10.1.0.24])
  by mx01.business.com with ESMTP; 28 Mar 2007 15:17:36 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: index file size threshold affecting search performance?
Date: Wed, 28 Mar 2007 15:17:35 -0700
Message-ID: <DEC11051901DCC43BD47EC508118AD8601C8BCBF@exchg04.corp.business.com>
In-Reply-To: <F4C53DA7-0C30-498A-BAEC-9DC8736364F1@ehatchersolutions.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: index file size threshold affecting search performance?
thread-index: AcdxcdijDS9mE+fzQN+PcIhXsrXXswAFNyYQ
From: "Oshima, Scott" <soshima@business.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Yeah it might be an hardware issue, with a slightly smaller index with
less stored data, the performance is what we want it to be.  Just adding
5% more stored data(unidexed of course) pushes us over some sort of
threshold causing performance to tank. =20

=20

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Wednesday, March 28, 2007 12:46 PM
To: java-user@lucene.apache.org
Subject: Re: index file size threshold affecting search performance?

I've just built a 9.3G index (admittedly tons of stored data in there,
3.3M documents) and performance is amazing (through Solr).

	Erik



On Mar 28, 2007, at 3:11 PM, Erick Erickson wrote:

> This surprises me, I'm currently working with a 4G index, and the=20
> improvement from when it was an 8G index was only 10% or so.
> And it's plenty speedy.
>
> Are you hitting hardware limitations and perhaps swapping like crazy?=20
> In which case, unless you split things across several machines, I=20
> doubt it would help to make two smaller indexes.
>
> In sum, I really suspect that you're NOT hitting a Lucene limitation,=20
> but it's something else about your system....
>
> Best
> Erick
>
> On 3/28/07, Scott Oshima <soshima@gmail.com> wrote:
>>
>> So I assumed a linear decay of performance as an index got bigger.
>>
>> For some reason when going from an index size of 1.89 to 1.95 gigs=20
>> dramatically increased cpu across all of our servers.
>>
>> I was thinking of splitting the 1.95 index into 2 separate indexes =20
>> and using a multisearcher on those parts?
>>
>> thanks.
>>
>> -scott
>>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 22:26:43 2007
Return-Path: <java-user-return-27242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88127 invoked from network); 28 Mar 2007 22:26:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 22:26:42 -0000
Received: (qmail 1236 invoked by uid 500); 28 Mar 2007 22:26:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1201 invoked by uid 500); 28 Mar 2007 22:26:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1190 invoked by uid 99); 28 Mar 2007 22:26:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 15:26:43 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 15:26:35 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2SMQ8ei000887
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 01:26:08 +0300
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3t1q5eu; 29 Mar 2007 01:26:00 +0300
Message-ID: <460AEB81.7010007@teamware.com>
Date: Thu, 29 Mar 2007 08:26:09 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Start/end offsets in analyzers
References: <460A1E85.40701@teamware.com> <C2C923EB-7D56-44AE-8571-B6DBCB19246F@ehatchersolutions.com>
In-Reply-To: <C2C923EB-7D56-44AE-8571-B6DBCB19246F@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Thu, 29 Mar 2007 01:26:09 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=-0.185,
	required 5, autolearn=not spam, BAYES_40 -0.18)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Erik.  For our purposes it seems more generally useful to use the 
original start/end offsets.
Antony


Erik Hatcher wrote:
> 
> They aren't used implicitly by anything in Lucene, but can be very handy 
> for efficient highlighting.  Where you set the offsets really all 
> depends on how you plan on using the offset values.  In the synonym 
> example you mention, if the original word is "dog" and the user searched 
> for "canine", to properly highlight the word "dog" in the original text 
> the offsets for "canine" need to be where "dog" is.
> 
>     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Mar 28 23:02:44 2007
Return-Path: <java-user-return-27243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96671 invoked from network); 28 Mar 2007 23:02:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 28 Mar 2007 23:02:43 -0000
Received: (qmail 64666 invoked by uid 500); 28 Mar 2007 23:02:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64201 invoked by uid 500); 28 Mar 2007 23:02:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64190 invoked by uid 99); 28 Mar 2007 23:02:42 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 16:02:42 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.239 as permitted sender)
Received: from [64.233.184.239] (HELO wr-out-0506.google.com) (64.233.184.239)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 16:02:34 -0700
Received: by wr-out-0506.google.com with SMTP id 68so6000wra
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 16:02:13 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=okyf1AO44ixpiCbWgouP44Ih8OZ6trdIq7BavlMzKEiljiMKukiLp9Ls7FvJxFjzT1VUwaSLwNr89mJG66KQKMVIOHSPS3TmVistU3Afp6qzhkKo6g/a6DbauW0IflulasHJtJ20YB4mlyx5RRS5u78gRcx8li3UZXkIF4ft5IU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YWoqLNFOs91vPzdDOes6a1ACcjWR3gvApYzZhaEeHyNXvXcNTrP/iG7bS9IKELezjWbuWKRcOLZxvSQp6khKXOoo/beuwCiBf8qHjMvvxvVx4q/k+AHse9G0McUDKUeAgXT8TDSlGiLzuvXl0fN0PcGiDlo1Y3ksFfjavCybTLE=
Received: by 10.114.137.2 with SMTP id k2mr3518wad.1175122932139;
        Wed, 28 Mar 2007 16:02:12 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Wed, 28 Mar 2007 16:02:12 -0700 (PDT)
Message-ID: <359a92830703281602pda36fcfiff3a6f182025a77e@mail.gmail.com>
Date: Wed, 28 Mar 2007 19:02:12 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index file size threshold affecting search performance?
In-Reply-To: <DEC11051901DCC43BD47EC508118AD8601C8BCBF@exchg04.corp.business.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_44196_32446141.1175122932082"
References: <F4C53DA7-0C30-498A-BAEC-9DC8736364F1@ehatchersolutions.com>
	 <DEC11051901DCC43BD47EC508118AD8601C8BCBF@exchg04.corp.business.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_44196_32446141.1175122932082
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, if you're adding data, you must be doing something with
it later. Are you sure the problem is in the index growing and not
how you use the data afterwards?

The reason I ask is that I found almost a 10-fold increase in
my apps performance when I used FieldSelector (Lucene 2.1)
to only load the important fields in my documents. See the
thread labeled

Lucene 2.1, using FieldSelector speeds up my app by a factor of 10+,
numbers attached

A quick test you could do is to time the actual search as
opposed to the overall response time. That is, just time
the call to Searcher.search, and collect the time you spend,
say, assembling whatever you do to respond separately to
see whether the search is killing you or your manipulation
after the search.

The take-away is that we're all surprised by the difference you're
seeing and I'm betting that it's something other than merely
adding 5% to your index size. What is left as an exercise for the
reader <G>.

Best
Erick


On 3/28/07, Oshima, Scott <soshima@business.com> wrote:
>
> Yeah it might be an hardware issue, with a slightly smaller index with
> less stored data, the performance is what we want it to be.  Just adding
> 5% more stored data(unidexed of course) pushes us over some sort of
> threshold causing performance to tank.
>
>
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, March 28, 2007 12:46 PM
> To: java-user@lucene.apache.org
> Subject: Re: index file size threshold affecting search performance?
>
> I've just built a 9.3G index (admittedly tons of stored data in there,
> 3.3M documents) and performance is amazing (through Solr).
>
>         Erik
>
>
>
> On Mar 28, 2007, at 3:11 PM, Erick Erickson wrote:
>
> > This surprises me, I'm currently working with a 4G index, and the
> > improvement from when it was an 8G index was only 10% or so.
> > And it's plenty speedy.
> >
> > Are you hitting hardware limitations and perhaps swapping like crazy?
> > In which case, unless you split things across several machines, I
> > doubt it would help to make two smaller indexes.
> >
> > In sum, I really suspect that you're NOT hitting a Lucene limitation,
> > but it's something else about your system....
> >
> > Best
> > Erick
> >
> > On 3/28/07, Scott Oshima <soshima@gmail.com> wrote:
> >>
> >> So I assumed a linear decay of performance as an index got bigger.
> >>
> >> For some reason when going from an index size of 1.89 to 1.95 gigs
> >> dramatically increased cpu across all of our servers.
> >>
> >> I was thinking of splitting the 1.95 index into 2 separate indexes
> >> and using a multisearcher on those parts?
> >>
> >> thanks.
> >>
> >> -scott
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_44196_32446141.1175122932082--

From java-user-return-27244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 01:51:28 2007
Return-Path: <java-user-return-27244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60807 invoked from network); 29 Mar 2007 01:51:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 01:51:28 -0000
Received: (qmail 36321 invoked by uid 500); 29 Mar 2007 01:51:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36286 invoked by uid 500); 29 Mar 2007 01:51:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36275 invoked by uid 99); 29 Mar 2007 01:51:26 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 18:51:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mike.klaas@gmail.com designates 72.14.204.237 as permitted sender)
Received: from [72.14.204.237] (HELO qb-out-0506.google.com) (72.14.204.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 18:51:18 -0700
Received: by qb-out-0506.google.com with SMTP id q11so11387337qbq
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 18:50:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rFSE7Wk3qE4NwJeaJHnhIzrVaXxEeUePLgEQAZBEo+UdcBM5CgxD6j0QpXHfgP82lUcHI0D41qiTMRrXjQKUIOvB3hE50ERhGA0UvRR97zikzv0tgDMAXlt8+c6fULvYtGxcbrLMZ18MlouWKwnz1RAiR0KxIRaop19V0QvXaWU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PU4B4/db9HpOOB4uhYypPIziTFMcXR6VMMdzUaD2JCE+UOK3Bl9RFUh4HF1ybvfpHjewHrG/Ga6yNbEWutEIgATH3eLbeW9+NGV0vIkUkFxMf41rPE6IIw7bmklO37syTUbJXCUtsjD7H4XTqyseYG7+tiNfOExHI+Ki7gFLypM=
Received: by 10.114.80.4 with SMTP id d4mr48183wab.1175133056328;
        Wed, 28 Mar 2007 18:50:56 -0700 (PDT)
Received: by 10.114.196.6 with HTTP; Wed, 28 Mar 2007 18:50:56 -0700 (PDT)
Message-ID: <3d2ce8cb0703281850v3f58fbeeo1870ab1608a0cf4f@mail.gmail.com>
Date: Wed, 28 Mar 2007 18:50:56 -0700
From: "Mike Klaas" <mike.klaas@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: index file size threshold affecting search performance?
In-Reply-To: <68780f5d0703281056m1eb89919j4692a13b9a60753d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <68780f5d0703281056m1eb89919j4692a13b9a60753d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/28/07, Scott Oshima <soshima@gmail.com> wrote:
> So I assumed a linear decay of performance as an index got bigger.
>
> For some reason when going from an index size of 1.89 to 1.95 gigs
> dramatically increased cpu across all of our servers.
>
> I was thinking of splitting the 1.95 index into 2 separate indexes  and
> using a multisearcher on those parts?

PS, you might find this helpful:
http://www.catb.org/~esr/faqs/smart-questions.html

You should tell us what you have done and what was the unexpected
consequences (and possibly your hypothesis as to why).  Instead,
you've only told us your hypothesis, but not:

 - whether the increase is due to more documents or more data per document
 - whether the increase is in the indexed content or store field content
 - what format of additional data is being stored and what you are doing with it
 - where the performance degradation is occurring (query or document retrieval)
 - if the former, what type of queries are being used
 - if the latter, how many documents are being retrieved

I could see raw index size having an effect if the active set _just_
fits in the OS buffer cache, and you've pushed it over the edge.  But
in that case, I would expect the performance degradation to manifest
as increased io.

One guess is that you added a compressed field, which can be cpu intensive.

Guessing is painful for us and for you.  Provide more details! :)

-Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 03:40:38 2007
Return-Path: <java-user-return-27245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82114 invoked from network); 29 Mar 2007 03:40:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 03:40:37 -0000
Received: (qmail 40069 invoked by uid 500); 29 Mar 2007 03:40:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39051 invoked by uid 500); 29 Mar 2007 03:40:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39036 invoked by uid 99); 29 Mar 2007 03:40:37 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 20:40:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of sengly.heng@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 20:40:28 -0700
Received: by nf-out-0910.google.com with SMTP id g2so55776nfe
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 20:40:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=e9fuKFWvyeg73sbZL0Xp9m99F3cTIOf2aFbO4exZvWtVeT3qS7TvZmHtdbC+mBKrd6lU4IGS/Pe+G4AZD3g5lTQ9lpWFPakFAtbH7V1G16LqTUWdc6mFkj7h73I5vDvmhoEilPd5VY7+Dh1PKzcmoMIkIVI1/pEnXu+mCgfG6uA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=frntjIc0WLXW9qrWR3/HzturlSdzlW5E3KpdF9ajSokFBVaACN5fMpLVuJDi2WIQU33bXbwc9I8xMiMseOS4Mg0oxsLHNGACEz3l/JL7ZVpp9esrA0HcDnDp6p12Or5ZpGHGHkef+8JIUVu5rmKdIJJb1I7at8HFaUtxprNLzks=
Received: by 10.82.107.15 with SMTP id f15mr469555buc.1175139607110;
        Wed, 28 Mar 2007 20:40:07 -0700 (PDT)
Received: by 10.82.146.12 with HTTP; Wed, 28 Mar 2007 20:40:07 -0700 (PDT)
Message-ID: <17db983d0703282040o457de672te2c9b25192f6d888@mail.gmail.com>
Date: Thu, 29 Mar 2007 12:40:07 +0900
From: "Sengly Heng" <sengly.heng@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: TF-IDF API
In-Reply-To: <53B384E0-C37A-4C39-B10A-765A45F21A7B@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30232_30959125.1175139607055"
References: <17db983d0703280136s2d4600aap5fc9a37c963020bc@mail.gmail.com>
	 <F36C4F55-62ED-416E-AC1C-D6D492C66003@gmail.com>
	 <17db983d0703280624l7194e4do386f3535669b4716@mail.gmail.com>
	 <53B384E0-C37A-4C39-B10A-765A45F21A7B@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_30232_30959125.1175139607055
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thank you very much for your time. Here is a sample of a vector of terms :

v1 = {"sad", "john", "intelligent", "news", "USA", "disneyland", "MIT",
"cambridge", "marry", ...}

I'll try out your method.

Best regards,

Sengly



On 3/28/07, karl wettin <karl.wettin@gmail.com> wrote:
>
>
> 28 mar 2007 kl. 15.24 skrev Sengly Heng:
>
> > Thank you but I still have have no clue of how to do that by using
> > Weka
> > after taking a look at its API. Let me reformulate my problem :
> >
> > I have a collection of vector of terms (actually each vector of terms
> > represents the list of tokens extracted from a file) and I do not
> > have the
> > original files. I would like to calculate TF as well as TFIDF of
> > each term
> > and sorted them by these value respectively. As suggested by Grant
> > Ingersoll, I could index those vectors of terms again using Lucene
> > and then
> > use its API to measure TF and TFIDF. However I guess there should be a
> > simpler way or API just fit-in this case.
>
> To my knowledge there is no thing in Lucene that makes it simpler for
> you than what Grant suggests. And according to me, Weka really must
> be the simplest way around. However, perhaps you should supply us
> with an example of what these vectors look like. That might change
> everything. Perhaps we are talking of completely different things here.
>
> Let me reformulate my suggestion:
>
> 1. rebuild your vector to a string.
> 2. put the data in a file called myvectors.arff:
>
> @relation termvectors
> @attribute the_vector string
> @data
> "first term vector as a string"
> "second term vector as a string"
>
> 3. open the file in the weka explorer application.
> 4. select filter/unsupervised/attribute/string to word vector
> 5. set your preferences of normalization, et c.
> 6. apply the filter.
> 7. save the output.
>
> All this can be done progamatically too, with only a few lines of code.
>
> >
> > Thanks once again everyone.
> >
> > Best regards,
> >
> > Sengly
> >
> >
> > On 3/28/07, karl wettin <karl.wettin@gmail.com> wrote:
> >>
> >>
> >> 28 mar 2007 kl. 10.36 skrev Sengly Heng:
> >>
> >> > Does anyone of you know any Java API that directly handle this
> >> > problem?
> >> > or I have to implement from scratch.
> >>
> >> You can also try
> >> weka.filters.unsupervised.attribute.StringToWordVector, it has many
> >> neat features you might be interested in. And if applicable to what
> >> you attempt to do, the feature selection algorithms of the same
> >> project (Weka) does a great job reducing the data set.
> >>
> >> http://www.cs.waikato.ac.nz/ml/weka/
> >>
> >> It is GPL.
> >>
> >> --
> >> karl
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_30232_30959125.1175139607055--

From java-user-return-27246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 06:05:29 2007
Return-Path: <java-user-return-27246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9938 invoked from network); 29 Mar 2007 06:05:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 06:05:27 -0000
Received: (qmail 85044 invoked by uid 500); 29 Mar 2007 06:05:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84780 invoked by uid 500); 29 Mar 2007 06:05:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84769 invoked by uid 99); 29 Mar 2007 06:05:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 23:05:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 23:05:19 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HWnko-0004lP-S1
	for java-user@lucene.apache.org; Wed, 28 Mar 2007 23:04:58 -0700
Message-ID: <9727557.post@talk.nabble.com>
Date: Wed, 28 Mar 2007 23:04:58 -0700 (PDT)
From: is_maximum <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: question about HitCollector
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mnrz57@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hello

The collect(int doc, int score) method. in this method, which id the
argument doc refers to? the original id in the index or the id of search
result (the position of document in the search result)

I ask this, because I implement a HitCollector and collect the IDs in a
BitSet and it was very strange when I move between documents I saw that it
shows all the document regardless of given query!!!

thanks regards
-- 
View this message in context: http://www.nabble.com/question-about-HitCollector-tf3484569.html#a9727557
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 06:14:38 2007
Return-Path: <java-user-return-27247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11304 invoked from network); 29 Mar 2007 06:14:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 06:14:37 -0000
Received: (qmail 96821 invoked by uid 500); 29 Mar 2007 06:14:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96687 invoked by uid 500); 29 Mar 2007 06:14:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96675 invoked by uid 99); 29 Mar 2007 06:14:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 23:14:36 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Mar 2007 23:14:28 -0700
Received: by nf-out-0910.google.com with SMTP id g2so80358nfe
        for <java-user@lucene.apache.org>; Wed, 28 Mar 2007 23:14:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=COSbP0it16kFQlV4QAoVh0q1eO4IGWwuSdsvnnW2Fqyd7tJCJ9jEYNm0xZNsh10CJQwn7FqXQn+1qCWme7s7UDghGTakgzkB11ojN5VHsVmOe14xAKwvHBiW6a5ZESs9FpkDGBs0WjdF6k/tKEHaGQkBEcyhtSF8FDzSPmuAr3M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=PUYoMjP5N4DWOVmghg7fVN/5wTCoh8hz1ALrlcpryQAr7daH4QGOkl4CBt3EmARUzCk1TmRJ3OX4SbYSlX2bkKn46JQtkyOi2qhzA54dpeZeaFshjbKG4dqZj6xZeCAGiQVgetgFv0BamljywMf8pPdhHSuxKfqh8aGdK3Dfqk8=
Received: by 10.78.204.7 with SMTP id b7mr94339hug.1175148847232;
        Wed, 28 Mar 2007 23:14:07 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Wed, 28 Mar 2007 23:14:07 -0700 (PDT)
Message-ID: <34b8543c0703282314t1bd9418q38b53a2a743e3985@mail.gmail.com>
Date: Thu, 29 Mar 2007 09:44:07 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
In-Reply-To: <460A6CD7.4020408@scalix.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_22383_32807321.1175148847192"
References: <C376D3C1-FAA2-420A-BE93-9FAB28C65BB1@apache.org>
	 <460A6CD7.4020408@scalix.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_22383_32807321.1175148847192
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I registered in Nabble, but to post message you should subscribe to lucene
mailing list and if you subscribe to mailing list your inbox will become
full of messages. this is very bad!!!

On 3/28/07, John Haxby <jch@scalix.com> wrote:
>
> Grant Ingersoll wrote:
> > I like the mailing list approach much better.  With a good set of
> > rules and folders in place (which takes about 15 minutes to setup),
> > one can easily manage large volumes of mail w/o batting an eye,
> > whereas forums require large amounts of navigation, IMO.
> >
> Glad I'm not the only one that thinks that -- I was wondering if there
> was something about managing forums (I still want to say "fora") that I
> was missing.
>
> jch
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
Mohammad

------=_Part_22383_32807321.1175148847192--

From java-user-return-27248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 07:38:31 2007
Return-Path: <java-user-return-27248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42164 invoked from network); 29 Mar 2007 07:38:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 07:38:30 -0000
Received: (qmail 19232 invoked by uid 500); 29 Mar 2007 07:38:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18798 invoked by uid 500); 29 Mar 2007 07:38:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18787 invoked by uid 99); 29 Mar 2007 07:38:31 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 00:38:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 00:38:23 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HWpCq-0008Us-8F
	for java-user@lucene.apache.org; Thu, 29 Mar 2007 00:38:00 -0700
Message-ID: <9728397.post@talk.nabble.com>
Date: Thu, 29 Mar 2007 00:38:00 -0700 (PDT)
From: is_maximum <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: How to get the intersection of two Hits?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mnrz57@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi

suppose we have two Hits, now we need the documents which exists in both of
them and ignore the others.

is there any workaround?

thanks

Regards
Mohammad
-- 
View this message in context: http://www.nabble.com/How-to-get-the-intersection-of-two-Hits--tf3484844.html#a9728397
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 08:51:29 2007
Return-Path: <java-user-return-27249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62126 invoked from network); 29 Mar 2007 08:51:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 08:51:27 -0000
Received: (qmail 47762 invoked by uid 500); 29 Mar 2007 08:51:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47732 invoked by uid 500); 29 Mar 2007 08:51:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47717 invoked by uid 99); 29 Mar 2007 08:51:26 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 01:51:26 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 01:51:18 -0700
Received: by ug-out-1314.google.com with SMTP id k40so506149ugc
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 01:50:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XUJ1F2bCp9IDRjVwcQMhm4+be4X99Dk7irOTTWRV5aDxx4bfsD+UbQzt2TYYBjGxOvRjdkHlPJZjnN09REB2rzkYr+ehcthxvKuhGdPbjXYV7/TEZj941j8VwpmqbNePFacVsai8Hsr/KyEv6CH9jnMFrE50r2NIeBGfwK6/qaw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=FHVPRyKEG+QXfKIpVWD5mcxr4g5jPf/Rae8SuqvtV/mHXHgOnKfG4N56nDtEENJEAiNlyGKgdLJF4C9bRsnLGI29om9PfD7xo9gGTnYujLlHEZ3NZ7B5XvuHCO8qgOJ7Bgn4QQNmU48XkbEjAbv5LHcyBgQiNjLXAHeDjoFkvLM=
Received: by 10.78.181.13 with SMTP id d13mr173568huf.1175158257334;
        Thu, 29 Mar 2007 01:50:57 -0700 (PDT)
Received: by 10.78.136.8 with HTTP; Thu, 29 Mar 2007 01:50:57 -0700 (PDT)
Message-ID: <34b8543c0703290150w3665bc6dv9f945ef73e6052f7@mail.gmail.com>
Date: Thu, 29 Mar 2007 12:20:57 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How to get the intersection of two Hits?
In-Reply-To: <9728397.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23783_19897519.1175158257298"
References: <9728397.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_23783_19897519.1175158257298
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I just want to say, the common documents base on a field and not document id

On 3/29/07, is_maximum <mnrz57@gmail.com> wrote:
>
>
> Hi
>
> suppose we have two Hits, now we need the documents which exists in both
> of
> them and ignore the others.
>
> is there any workaround?
>
> thanks
>
> Regards
> Mohammad
> --
> View this message in context:
> http://www.nabble.com/How-to-get-the-intersection-of-two-Hits--tf3484844.html#a9728397
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Regards,
Mohammad

------=_Part_23783_19897519.1175158257298--

From java-user-return-27250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 09:48:10 2007
Return-Path: <java-user-return-27250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78925 invoked from network); 29 Mar 2007 09:48:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 09:48:10 -0000
Received: (qmail 47983 invoked by uid 500); 29 Mar 2007 09:48:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47950 invoked by uid 500); 29 Mar 2007 09:48:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47939 invoked by uid 99); 29 Mar 2007 09:48:10 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 02:48:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 02:48:02 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id l2T9lb9W008590
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 10:47:37 +0100
Received: from [10.11.108.22] (snorlax.uk.scalix.com [10.11.108.216])
    by snorlax.uk.scalix.com (Scalix SMTP Relay 11.0.3.10719)
    via ESMTP; Thu, 29 Mar 2007 10:47:35 +0100 (BST)
Date: Thu, 29 Mar 2007 10:47:34 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <460B8B36.5010405@scalix.com>
In-Reply-To: <34b8543c0703282314t1bd9418q38b53a2a743e3985@mail.gmail.com>
References: <C376D3C1-FAA2-420A-BE93-9FAB28C65BB1@apache.org>
References: <460A6CD7.4020408@scalix.com>
References: <34b8543c0703282314t1bd9418q38b53a2a743e3985@mail.gmail.com>
Subject: Re: why Apache doesnt create a nice forum like the others???
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.10 (X11/20070302)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII";
	format="flowed"
Content-Disposition: inline
X-Spam-Checker-Version: SpamAssassin 3.1.8 (2007-02-13) on
	snorlax.uk.scalix.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham
	version=3.1.8

Mohammad Norouzi wrote:
> I registered in Nabble, but to post message you should subscribe to 
> lucene
> mailing list and if you subscribe to mailing list your inbox will become
> full of messages. this is very bad!!!
>
You're using gmail aren't you?  Why don't you set up a filter to handle 
mail from the list?  If you really don't want to full up Google's disks 
you can delete it immediately.   For those not using gmail, any client 
worth its salt will allow you to automatically process messages in some way.

jch


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 10:10:40 2007
Return-Path: <java-user-return-27251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85074 invoked from network); 29 Mar 2007 10:10:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 10:10:39 -0000
Received: (qmail 78886 invoked by uid 500); 29 Mar 2007 10:10:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78663 invoked by uid 500); 29 Mar 2007 10:10:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78651 invoked by uid 99); 29 Mar 2007 10:10:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 03:10:35 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 03:10:27 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2TA9vwT001375
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 13:09:57 +0300
Received: from [10.142.3.11] ([10.142.3.11]) by nimitz with ESMTP
	 id m3td93bb; 29 Mar 2007 13:09:00 +0300
Message-ID: <460B9067.8080801@teamware.com>
Date: Thu, 29 Mar 2007 20:09:43 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Scores from HitCollector
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Thu, 29 Mar 2007 13:09:57 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Hits will normalise scores >0<=1, but I'm using HitCollector and haven't worked 
out how to normalise those scores.

 From what I can see, the scores are just multiplied by a factor to bring the 
top score down to 1.  Is this right or is there something more to it.

Do I need to normalise scores anyway - what's the reason it's done?
Antony




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 10:40:48 2007
Return-Path: <java-user-return-27252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92571 invoked from network); 29 Mar 2007 10:40:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 10:40:48 -0000
Received: (qmail 16978 invoked by uid 500); 29 Mar 2007 10:40:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16937 invoked by uid 500); 29 Mar 2007 10:40:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16921 invoked by uid 99); 29 Mar 2007 10:40:48 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 03:40:48 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 03:40:40 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HWs3F-0002R1-MW
	for java-user@lucene.apache.org; Thu, 29 Mar 2007 03:40:17 -0700
Message-ID: <9730754.post@talk.nabble.com>
Date: Thu, 29 Mar 2007 03:40:17 -0700 (PDT)
From: tomi <tomi@gountchev.net>
To: java-user@lucene.apache.org
Subject: Re: why Apache doesnt create a nice forum like the others???
In-Reply-To: <34b8543c0703282314t1bd9418q38b53a2a743e3985@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: tomi@gountchev.net
References: <34b8543c0703262303l1675248dk4b46190af475b871@mail.gmail.com> <8b3ce3790703280453y349a5f96k3e4916b50ea2a5af@mail.gmail.com> <C376D3C1-FAA2-420A-BE93-9FAB28C65BB1@apache.org> <460A6CD7.4020408@scalix.com> <34b8543c0703282314t1bd9418q38b53a2a743e3985@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org



is_maximum wrote:
> 
> I registered in Nabble, but to post message you should subscribe to lucene
> mailing list and if you subscribe to mailing list your inbox will become
> full of messages. this is very bad!!!
> 
Let me clear this misunderstanding, the advantage of using Nabble is that
you don't have to receive all list messages. For listservers that support
turning off email delivery, such as ezmlm which the Apache lists use, if you
use the Nabble subscription interface here:
http://www.nabble.com/mailing_list/MailingListOptions.jtp?forum=45
you will be subscribed to the -allow version of the list, so you will be
allowed to post but will not receive list email. If you are already
subscribed to the regular version of the list, you can first unsubscribe,
and then use Nabble to subscribe to the -allow list.
(Some other listservers, like mailman, allow you to enable or disable email
without having to unsubscribe and resubscribe, for those Nabble provides a
"turn off email delivery" option.)

This was one of the goals in creating Nabble, to provide a seamless
integration of forums with mailing lists, so that the community doesn't have
to split between forum users and mailing list users, and those who prefer
forums can use it to participate in the mailing lists without cluttering
their mailboxes. Several Apache projects already point to Nabble for their
discussion forums:
http://activemq.apache.org/discussion-forums.html
http://geronimo.apache.org/discussion-forums.html

If you have any suggestions how to improve Nabble and make it more useable
as a forum, please let us know. Finally, I should mention that Nabble
actually uses Lucene for its search engine, so if you like our search it is
thanks to Lucene.

Tomislav Gountchev
Nabble.com

-- 
View this message in context: http://www.nabble.com/why-Apache-doesnt-create-a-nice-forum-like-the-others----tf3471223.html#a9730754
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 10:57:46 2007
Return-Path: <java-user-return-27253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98675 invoked from network); 29 Mar 2007 10:57:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 10:57:44 -0000
Received: (qmail 40617 invoked by uid 500); 29 Mar 2007 10:57:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40576 invoked by uid 500); 29 Mar 2007 10:57:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40549 invoked by uid 99); 29 Mar 2007 10:57:44 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 03:57:44 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mohamedhajjj@gmail.com designates 209.85.132.240 as permitted sender)
Received: from [209.85.132.240] (HELO an-out-0708.google.com) (209.85.132.240)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 03:57:35 -0700
Received: by an-out-0708.google.com with SMTP id c3so122394ana
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 03:57:15 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=RnZaN1VqRza77z4gzygGLEnHVOZbQT7lRBySDjrKFd+ulVUTVIMiXx0fnmikiCrdAoxMkDhFSi7dSEiDpri/9yR/c+qI0KeXitN1+uz2nNYpJO34Ziq8rQ6Y0bst40qZl5SU7XWBpgbIS1M9OrFw0PPT+J/wmdpXU3DOExBX9X4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=GqbiTamw3zq+9niIzrnyF4dXPU5/gbBNXFj/g3bn3TBdnS6RLxplWJioshVEC3/yOkPi/ijWeKtFqBeAzly+Vg/LkjomV37HnTDNyC0wTrmKHAUgPbLDfkGVHoojHz9GW3Xd/T8ejgOJpkcMUXO2eXThSMH61PcwPC/iTXL4z6U=
Received: by 10.100.58.4 with SMTP id g4mr253896ana.1175165834928;
        Thu, 29 Mar 2007 03:57:14 -0700 (PDT)
Received: by 10.100.6.13 with HTTP; Thu, 29 Mar 2007 03:57:14 -0700 (PDT)
Message-ID: <ce91fe510703290357j2bd3826fuce4dcdcdc1951722@mail.gmail.com>
Date: Thu, 29 Mar 2007 12:57:14 +0200
From: "mohamed hadj taieb" <mohamedhajjj@gmail.com>
To: java-user@lucene.apache.org
Subject: searching beginning from a web page not from a directory
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24811_20842802.1175165834879"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_24811_20842802.1175165834879
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi
i want to integrate the lucene in my web application

my web application consist on several pages integrated into opencms

the problem with lucene that it return the result like this :
java org.apache.lucene.demo.SearchFiles
Query: connect
Searching for: connect
0 total matching documents
Query: connecter
Searching for: connecter
1 total matching documents
1. C:\Program Files\Apache Software Foundation\Tomcat
5.5\webapps\jsp-examples\jsp2\tagfiles\conn\connection.js

In other word it gives me the path of the page
but what i m looking for is that i give him a page as index like this :
http://localhost/opencms/opencms/portail_directory/acceuil.html
and when i make a search he gives me the result relative to that page and
the pages linked to!!!

1)is that possible with lucene ?
2)is there smthing near from what is asked that lucene is able to do?
3)should i find another lucene package which contain more fuctionnality?

i have used this lucene pakage

lucene-2.1.0-src.zip
<http://apache.oc1.mirrors.redwire.net/lucene/java/lucene-2.1.0-src.zip>

i have downloaded it from this address :
http://apache.oc1.mirrors.redwire.net/lucene/java/


Thanks for help
i m here for more detail :)

------=_Part_24811_20842802.1175165834879--

From java-user-return-27254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 13:39:55 2007
Return-Path: <java-user-return-27254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61516 invoked from network); 29 Mar 2007 13:39:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 13:39:54 -0000
Received: (qmail 95183 invoked by uid 500); 29 Mar 2007 13:39:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95106 invoked by uid 500); 29 Mar 2007 13:39:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95078 invoked by uid 99); 29 Mar 2007 13:39:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 06:39:43 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.228 as permitted sender)
Received: from [64.233.162.228] (HELO nz-out-0506.google.com) (64.233.162.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 06:39:34 -0700
Received: by nz-out-0506.google.com with SMTP id i1so136013nzh
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 06:39:13 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=Wb2q5pvSDXc5B4A3/359XMJ66GyVczYcXOf/qmAqpwJKvAJ+25LxSGrBgnPAae92OSSBFCUZdnuU2AZ/OBiCsvUyxbPgtfF+KukGfxYkw0cPHnHDj9Dp7zaBDscEGGRheJrf9HwHeD88togfFB52CY+v6i2qyzbHx+Janyj1zSY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=IqqR9YOAJIp4Wqa6ED5sRkYziDtprD2QUEZRUda+UgjA7GZGTiNriZmpkRyM+nKsg34qotPkLRj6ioVLyDn12hPfm0Zah9+Pwn3AQnBL7kYY47pmEaB/jfD81k+1M6HB3Svgvrix9WyEa7gu3Ctuy0EyU99C0QwsGNObwGvSab0=
Received: by 10.65.230.9 with SMTP id h9mr1466057qbr.1175175553507;
        Thu, 29 Mar 2007 06:39:13 -0700 (PDT)
Received: by 10.65.150.17 with HTTP; Thu, 29 Mar 2007 06:39:13 -0700 (PDT)
Message-ID: <e994873a0703290639v758bf736u85edf06bc3234af4@mail.gmail.com>
Date: Thu, 29 Mar 2007 09:39:13 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: FieldSortedHitQueue enhancement
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_42072_8982145.1175175553155"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_42072_8982145.1175175553155
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

This is request for an enhancement to FieldSortedHitQueue/PriorityQueue that
would prevent duplicate documents from being inserted, or alternatively,
allow the application to prevent this (reason explained below). I can do
this today by making the 'lessThan' method public and checking the queue
before inserting like this:

if (hq.size() < maxSize) {
   // doc will be inserted into queue - check for duplicate before inserting
} else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
(ScoreDoc)hq.top()) {
  // doc will be inserted into queue - check for duplicate before inserting
} else {
  // doc will not be inserted - no check needed
}

However, this is just replicating existing code in PriorityQueue->insert().
An alternative would be to have a method like:

public boolean wouldBeInserted(ScoreDoc doc)
// returns true if doc would be inserted, without inserting

The reason for this is that I have some queries that get expanded into
multiple searches and the resulting hits are OR'd together. The queries
contain 'terms' that are not seen by Lucene but are handled by a
HitCollector that uses external data for each document to evaluate hits. The
results from the priority queue should contain no duplicate documents (first
or last doc wins).

Do any of these suggestions seem reasonable?. So far, I've been able to use
Lucene without any modifications, and hope to continue this way.

Peter

------=_Part_42072_8982145.1175175553155--

From java-user-return-27255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 13:59:43 2007
Return-Path: <java-user-return-27255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71675 invoked from network); 29 Mar 2007 13:59:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 13:59:42 -0000
Received: (qmail 41935 invoked by uid 500); 29 Mar 2007 13:59:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41638 invoked by uid 500); 29 Mar 2007 13:59:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41627 invoked by uid 99); 29 Mar 2007 13:59:41 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 06:59:41 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.184.238 as permitted sender)
Received: from [64.233.184.238] (HELO wr-out-0506.google.com) (64.233.184.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 06:59:33 -0700
Received: by wr-out-0506.google.com with SMTP id 68so193904wra
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 06:59:12 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=VG+i0Ptn/oiasvUVTJxNEzilCN/Rg0uLuJP5clLao0jCLP+5NyPw1fSy3PuMwW1+JvFWThhjuT9li6tkzPOVmmys8tdC/OpI2VikflwZnX1AGJOAIzdfPaWhQ/OTayOKf9svHHFMFJ39BzndCsxJ0/6AjmxXsDo13i15LflNSRQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=B7ESgihv67nAkIqevMkaTO9SRfb+W7HAsOPQYwMW3UNNyLLtITi2J5S1bss+hsmPSX6eXscT2p8PHErgPhyPlW/b5968Wo7Db6pcn/xdx/3ab4OZD8SjZUBKxQbNWWX9hJUGxqEHdCrETDbCKWnNk7uwU3t7jO86DcKKXFKJc9M=
Received: by 10.114.75.1 with SMTP id x1mr284622waa.1175176752300;
        Thu, 29 Mar 2007 06:59:12 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Thu, 29 Mar 2007 06:59:12 -0700 (PDT)
Message-ID: <359a92830703290659m1ecb113byeccdc0785d868cf7@mail.gmail.com>
Date: Thu, 29 Mar 2007 09:59:12 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Scores from HitCollector
In-Reply-To: <460B9067.8080801@teamware.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_54207_8823932.1175176752269"
References: <460B9067.8080801@teamware.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_54207_8823932.1175176752269
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I wound up using a TopDocs instead, which has a getMaxScore that
I was able to use to normalize scores to between 0 and 1. In my case
I was collapsing the results into quintiles, so I threw them all
back into a FieldSortedHitQueue to get them sorted by secondary
criteria once the scores were all one of 5 discrete values....

Erick

On 3/29/07, Antony Bowesman <adb@teamware.com> wrote:
>
> Hits will normalise scores >0<=1, but I'm using HitCollector and haven't
> worked
> out how to normalise those scores.
>
> From what I can see, the scores are just multiplied by a factor to bring
> the
> top score down to 1.  Is this right or is there something more to it.
>
> Do I need to normalise scores anyway - what's the reason it's done?
> Antony
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_54207_8823932.1175176752269--

From java-user-return-27256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 14:49:05 2007
Return-Path: <java-user-return-27256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95598 invoked from network); 29 Mar 2007 14:49:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 14:49:04 -0000
Received: (qmail 3682 invoked by uid 500); 29 Mar 2007 14:48:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3586 invoked by uid 500); 29 Mar 2007 14:48:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3553 invoked by uid 99); 29 Mar 2007 14:48:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 07:48:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.39.214] (HELO web50312.mail.re2.yahoo.com) (206.190.39.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 29 Mar 2007 07:48:45 -0700
Received: (qmail 4898 invoked by uid 60001); 29 Mar 2007 14:48:00 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=HDCoZ1EHLrTRRX+mQakra1mLj7Mzk8vMuoQTgOShEsJhc9bpSv4AUK8Y/jESEHbSWF1tQL4eGO6lHTWEA+wVcKzRZgPu2E625Pc8ZjyW+jhAGllpcVCYZRe5RK0QUtzdAZvWcGhN/UEqJYYbdzQiaPQZLf3jHIPg7ifF/P886m0=  ;
Message-ID: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>
X-YMail-OSG: FPhXGowVM1lkUW7gWJf4nP.fAXVI_lvR0IPTjZuTFAlzYfPTfwxBqeMOiYCl3qbHf0sw.66QeX.kBrxxCOdRPNbQDw--
Received: from [74.73.75.122] by web50312.mail.re2.yahoo.com via HTTP; Thu, 29 Mar 2007 07:48:00 PDT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Thu, 29 Mar 2007 07:48:00 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FieldSortedHitQueue enhancement
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
X-Virus-Checked: Checked by ClamAV on apache.org

Hm, removing duplicates (as determined by a value of a specified document field) from the results would be nice.
How would your addition affect performance, considering it has to check the PQ for a previous value for every candidate hit?

Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 29, 2007 9:39:13 AM
Subject: FieldSortedHitQueue enhancement

This is request for an enhancement to FieldSortedHitQueue/PriorityQueue that
would prevent duplicate documents from being inserted, or alternatively,
allow the application to prevent this (reason explained below). I can do
this today by making the 'lessThan' method public and checking the queue
before inserting like this:

if (hq.size() < maxSize) {
   // doc will be inserted into queue - check for duplicate before inserting
} else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
(ScoreDoc)hq.top()) {
  // doc will be inserted into queue - check for duplicate before inserting
} else {
  // doc will not be inserted - no check needed
}

However, this is just replicating existing code in PriorityQueue->insert().
An alternative would be to have a method like:

public boolean wouldBeInserted(ScoreDoc doc)
// returns true if doc would be inserted, without inserting

The reason for this is that I have some queries that get expanded into
multiple searches and the resulting hits are OR'd together. The queries
contain 'terms' that are not seen by Lucene but are handled by a
HitCollector that uses external data for each document to evaluate hits. The
results from the priority queue should contain no duplicate documents (first
or last doc wins).

Do any of these suggestions seem reasonable?. So far, I've been able to use
Lucene without any modifications, and hope to continue this way.

Peter




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 15:00:55 2007
Return-Path: <java-user-return-27257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1066 invoked from network); 29 Mar 2007 15:00:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 15:00:54 -0000
Received: (qmail 50563 invoked by uid 500); 29 Mar 2007 15:00:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50531 invoked by uid 500); 29 Mar 2007 15:00:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50520 invoked by uid 99); 29 Mar 2007 15:00:54 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 08:00:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.231 as permitted sender)
Received: from [64.233.162.231] (HELO nz-out-0506.google.com) (64.233.162.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 08:00:46 -0700
Received: by nz-out-0506.google.com with SMTP id i1so154923nzh
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 08:00:25 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=PX8ZrD+95uMsiNhjLpT4ZUGKf+boA6LqYOoL2muhCMsvC5WS1408jTwfZLw/1nmBFKyWFW6AJk5HMJ0m7LW4Uta8Q+oVBEtW07Yf3HSSj/PKXf+nqfs4bCa6zfrUIDj5Z0Us6mglHjfiErNFNnLhtak2SvbiowlE8azLvqWWkn0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=eKsLf1hULA+YZtusPifYGyUqaa8TyLF8E6HHB9TaBi4Oc2aPM4blj9foZjzmioDPKaNiGAueuu/+CAIjN+Tsbi0F6bN+qwcEAVG2m70xF7dmeG0/I3yKU2d4xG6eMV2udw17TfV5iWBWAtHkQLmFfrS7CfpJjYcaxfTEuK1bYfc=
Received: by 10.65.222.11 with SMTP id z11mr10805834qbq.1175180425065;
        Thu, 29 Mar 2007 08:00:25 -0700 (PDT)
Received: by 10.65.150.17 with HTTP; Thu, 29 Mar 2007 08:00:24 -0700 (PDT)
Message-ID: <e994873a0703290800o7fb39256l3325d2e8f605404f@mail.gmail.com>
Date: Thu, 29 Mar 2007 11:00:24 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
In-Reply-To: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_43185_26635173.1175180424962"
References: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_43185_26635173.1175180424962
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

The duplicate check would just be on the doc ID. I'm using TreeSet to detect
duplicates with no noticeable affect on performance. The PQ only has to be
checked for a previous value IFF the element about to be inserted is
actually inserted and not dropped because it's less than the least value
already in there. So, the TreeSet is never bigger than the size of the PQ
(typically 25 to a few hundred items), not the size of all hits.

Peter

On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Hm, removing duplicates (as determined by a value of a specified document
> field) from the results would be nice.
> How would your addition affect performance, considering it has to check
> the PQ for a previous value for every candidate hit?
>
> Otis
> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>
> ----- Original Message ----
> From: Peter Keegan <peterlkeegan@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Thursday, March 29, 2007 9:39:13 AM
> Subject: FieldSortedHitQueue enhancement
>
> This is request for an enhancement to FieldSortedHitQueue/PriorityQueue
> that
> would prevent duplicate documents from being inserted, or alternatively,
> allow the application to prevent this (reason explained below). I can do
> this today by making the 'lessThan' method public and checking the queue
> before inserting like this:
>
> if (hq.size() < maxSize) {
>    // doc will be inserted into queue - check for duplicate before
> inserting
> } else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
> (ScoreDoc)hq.top()) {
>   // doc will be inserted into queue - check for duplicate before
> inserting
> } else {
>   // doc will not be inserted - no check needed
> }
>
> However, this is just replicating existing code in
> PriorityQueue->insert().
> An alternative would be to have a method like:
>
> public boolean wouldBeInserted(ScoreDoc doc)
> // returns true if doc would be inserted, without inserting
>
> The reason for this is that I have some queries that get expanded into
> multiple searches and the resulting hits are OR'd together. The queries
> contain 'terms' that are not seen by Lucene but are handled by a
> HitCollector that uses external data for each document to evaluate hits.
> The
> results from the priority queue should contain no duplicate documents
> (first
> or last doc wins).
>
> Do any of these suggestions seem reasonable?. So far, I've been able to
> use
> Lucene without any modifications, and hope to continue this way.
>
> Peter
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_43185_26635173.1175180424962--

From java-user-return-27258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 15:04:02 2007
Return-Path: <java-user-return-27258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2279 invoked from network); 29 Mar 2007 15:04:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 15:04:01 -0000
Received: (qmail 65594 invoked by uid 500); 29 Mar 2007 15:04:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65564 invoked by uid 500); 29 Mar 2007 15:03:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65553 invoked by uid 99); 29 Mar 2007 15:03:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 08:03:59 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gresh@us.ibm.com designates 32.97.182.141 as permitted sender)
Received: from [32.97.182.141] (HELO e1.ny.us.ibm.com) (32.97.182.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 08:03:51 -0700
Received: from d01relay04.pok.ibm.com (d01relay04.pok.ibm.com [9.56.227.236])
	by e1.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l2TF3SJ5031069
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 11:03:28 -0400
Received: from d01av02.pok.ibm.com (d01av02.pok.ibm.com [9.56.224.216])
	by d01relay04.pok.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2TF3SGE244312
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 11:03:28 -0400
Received: from d01av02.pok.ibm.com (loopback [127.0.0.1])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2TF3SsX028338
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 11:03:28 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av02.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2TF3S9q028323
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 11:03:28 -0400
In-Reply-To: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: normalized scores
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF2DF4F027.4A9A6DCD-ON852572AD.0051D652-852572AD.0052B692@us.ibm.com>
Date: Thu, 29 Mar 2007 11:03:27 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Build V80_M4_03042007|March 04, 2007) at
 03/29/2007 11:03:28,
	Serialize complete at 03/29/2007 11:03:28
Content-Type: multipart/alternative; boundary="=_alternative 0052B5A8852572AD_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 0052B5A8852572AD_=
Content-Type: text/plain; charset="US-ASCII"

Recent questions about whether/how scores are normalized got me wondering 
how
my application (happily) seems to be doing what I want. I have two 
indexes, one
which contains text fields which I want to use as queries into text fields 
in a second index.

I create a Boolean query based on all the terms in a document in my first
index, with all terms added with a SHOULD condition. I then apply this 
query to  my 
second index. I get the hits, and starting from the best hits  I look at 
the score and (arbitrarily) only
report those with a score greater than 0.3. Otherwise I move on to the 
next document
in my first index.

For a given query (for a single input document), the highest score is 
*not* always 1 (which is just how 
I want it). Is this because I am using a Boolean query? Here is my code 
snippet.


                           For the ith document in my input index......
                        TermFreqVector tfv = 
indexReaderOS.getTermFreqVector(i,"required skills");
                        String inputtid = 
indexReaderOS.document(i).getField("inputid").stringValue();
                        if (tfv !=null) {
                                BooleanQuery bq = new BooleanQuery();
                                String[] terms = tfv.getTerms();
                                for (int j=0; j<terms.length; j++) {
                                        String term = terms[j];
                                        Query query = parser.parse(term);
                                        bq.add(query, 
BooleanClause.Occur.SHOULD);
                                }
                                Hits hitsR = isearcherR.search(bq);
 
                                for (int ii=0; ii< hitsR.length(); ii++) {
                                        Document hitRDoc = hitsR.doc(ii);
                                        String hitid = 
hitRDoc.get("empid");
                                        float scoreR = hitsR.score(ii);
 
                                        if (scoreR<0.30) break;
 outfile.println(inputtid+","+empid+","+scoreR);
 
                                }

 

Donna Gresh


--=_alternative 0052B5A8852572AD_=--

From java-user-return-27259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 16:09:34 2007
Return-Path: <java-user-return-27259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27415 invoked from network); 29 Mar 2007 16:09:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 16:09:34 -0000
Received: (qmail 42447 invoked by uid 500); 29 Mar 2007 16:09:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42423 invoked by uid 500); 29 Mar 2007 16:09:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42412 invoked by uid 99); 29 Mar 2007 16:09:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 09:09:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [206.190.38.61] (HELO web50307.mail.re2.yahoo.com) (206.190.38.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 29 Mar 2007 09:09:25 -0700
Received: (qmail 51373 invoked by uid 60001); 29 Mar 2007 16:09:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
  b=p+aAQMT700CQc8H1SwBlfdrz2jwDIMYLchO6wMMlftS0Gzj9GotoveW8oRTohG83miMqoJE9QK9IGpsbzOSOdsnZFNnplRhefA+JDCBlZ9+sPoKqDEwikXKVv7EpEup6WtKPIv2EnZ9Gi8CzVtH8fRyGTujKmE47tQEC/PcqdNQ=;
X-YMail-OSG: .Wsgu_oVM1kprLghKvxIey9..CNKA1PFMAZUX0Sr7TDyz265QQ1AeozYfutufl5YYpmmcU8IJK514zNtKgrBiYf6Fw--
Received: from [74.73.75.122] by web50307.mail.re2.yahoo.com via HTTP; Thu, 29 Mar 2007 09:09:03 PDT
X-Mailer: YahooMailRC/476 YahooMailWebService/0.7.41.8
Date: Thu, 29 Mar 2007 09:09:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: FieldSortedHitQueue enhancement
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=ascii
Message-ID: <903039.7332.qm@web50307.mail.re2.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Ah, I see.  This is less attractive to me personally, but maybe it helps others.  One thing I don't understand is why/how you'd get duplicate documents with the same doc ID in there.  Isn't insert(FieldDoc fdoc) called only once for each doc?

Otis
 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share

----- Original Message ----
From: Peter Keegan <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Sent: Thursday, March 29, 2007 11:00:24 AM
Subject: Re: FieldSortedHitQueue enhancement

The duplicate check would just be on the doc ID. I'm using TreeSet to detect
duplicates with no noticeable affect on performance. The PQ only has to be
checked for a previous value IFF the element about to be inserted is
actually inserted and not dropped because it's less than the least value
already in there. So, the TreeSet is never bigger than the size of the PQ
(typically 25 to a few hundred items), not the size of all hits.

Peter

On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Hm, removing duplicates (as determined by a value of a specified document
> field) from the results would be nice.
> How would your addition affect performance, considering it has to check
> the PQ for a previous value for every candidate hit?
>
> Otis
> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>
> ----- Original Message ----
> From: Peter Keegan <peterlkeegan@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Thursday, March 29, 2007 9:39:13 AM
> Subject: FieldSortedHitQueue enhancement
>
> This is request for an enhancement to FieldSortedHitQueue/PriorityQueue
> that
> would prevent duplicate documents from being inserted, or alternatively,
> allow the application to prevent this (reason explained below). I can do
> this today by making the 'lessThan' method public and checking the queue
> before inserting like this:
>
> if (hq.size() < maxSize) {
>    // doc will be inserted into queue - check for duplicate before
> inserting
> } else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
> (ScoreDoc)hq.top()) {
>   // doc will be inserted into queue - check for duplicate before
> inserting
> } else {
>   // doc will not be inserted - no check needed
> }
>
> However, this is just replicating existing code in
> PriorityQueue->insert().
> An alternative would be to have a method like:
>
> public boolean wouldBeInserted(ScoreDoc doc)
> // returns true if doc would be inserted, without inserting
>
> The reason for this is that I have some queries that get expanded into
> multiple searches and the resulting hits are OR'd together. The queries
> contain 'terms' that are not seen by Lucene but are handled by a
> HitCollector that uses external data for each document to evaluate hits.
> The
> results from the priority queue should contain no duplicate documents
> (first
> or last doc wins).
>
> Do any of these suggestions seem reasonable?. So far, I've been able to
> use
> Lucene without any modifications, and hope to continue this way.
>
> Peter
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 16:24:13 2007
Return-Path: <java-user-return-27260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31707 invoked from network); 29 Mar 2007 16:24:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 16:24:12 -0000
Received: (qmail 74459 invoked by uid 500); 29 Mar 2007 16:24:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74432 invoked by uid 500); 29 Mar 2007 16:24:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74421 invoked by uid 99); 29 Mar 2007 16:24:11 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 09:24:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of yseeley@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 09:24:03 -0700
Received: by nf-out-0910.google.com with SMTP id g2so216958nfe
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 09:23:42 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=YPftgoGSbLP/4OPEZZE3Yyb03Qa+YAzqyu+PrJM/3oMzqawYBRziVu6u0Kk+c+yxlAgmC+QnFuaRcz/tbikhNmw0apHZM220gDqV4hByy1f/53kJ2OVysZMj7+cGUm9mLDDdKqmbJlaWm3lqOcxaYjmv1u3IkvO9/sQmKwnGKR8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
        b=frA2stNtDpp3L8m5FfhPZ4xP77bCABkA89qZJds/o9Ex/0EHl6vpsLny62gzMdNVCz2NuxHhw5bMAFsJiUDM/m19PRXP5bIagv67/0r7HHglOVgXd0jZLlqHdIFLMQT0Ykfz8TiZAoN89cDVt2oxYCsz0pYWqfv9M7csn7U3N/0=
Received: by 10.82.175.2 with SMTP id x2mr1819899bue.1175185420283;
        Thu, 29 Mar 2007 09:23:40 -0700 (PDT)
Received: by 10.82.126.8 with HTTP; Thu, 29 Mar 2007 09:23:40 -0700 (PDT)
Message-ID: <c68e39170703290923u5d8f628fnff520a48cdd6fcd7@mail.gmail.com>
Date: Thu, 29 Mar 2007 12:23:40 -0400
From: "Yonik Seeley" <yonik@apache.org>
Sender: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
In-Reply-To: <903039.7332.qm@web50307.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <903039.7332.qm@web50307.mail.re2.yahoo.com>
X-Google-Sender-Auth: 383d0b78e3dc15af
X-Virus-Checked: Checked by ClamAV on apache.org

On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> Ah, I see.  This is less attractive to me personally, but maybe it helps others.  One thing I don't understand is why/how you'd get duplicate documents with the same doc ID in there.  Isn't insert(FieldDoc fdoc) called only once for each doc?

Yes, for any Lucene search method.
>From Peter's first message, it looks like it's his custom code that
can result in duplicates.

-Yonik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 16:43:29 2007
Return-Path: <java-user-return-27261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38856 invoked from network); 29 Mar 2007 16:43:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 16:43:27 -0000
Received: (qmail 14422 invoked by uid 500); 29 Mar 2007 16:43:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14386 invoked by uid 500); 29 Mar 2007 16:43:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14375 invoked by uid 99); 29 Mar 2007 16:43:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 09:43:27 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.238 as permitted sender)
Received: from [64.233.162.238] (HELO nz-out-0506.google.com) (64.233.162.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 09:43:18 -0700
Received: by nz-out-0506.google.com with SMTP id i1so180505nzh
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 09:42:58 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=f4jx00iKWimfLobHK5n86QM/QBfqIqSA0KjtpaWYU1MW8aZ8G+V7cwB4m4sRgVYj6iE+Rk/ext6j7S6jFxGMbrCAQj3GxvgUBnWuee0MJrptWtbOpN038exT4iAFM/zO+t5Npj3IwHlAoM4UfvdDWZPZAxCZj2FVy9MKsn/8pWE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NDtGUyai85myeUFEv3+zWOtjgNm1jws5lm2jKVAyNjRYdhvnssntsUpv43iCIlafaqs2TrVerx5BcwVRN2nDq4ARS15shQhCRKvR27fQklwbSbbypyWpG/4lyVV+XFXqDmdCRWKOLe8nbPPc8tnCF4JAw8wgOwiBa9Di0RvC1gs=
Received: by 10.65.159.2 with SMTP id l2mr1912288qbo.1175186578072;
        Thu, 29 Mar 2007 09:42:58 -0700 (PDT)
Received: by 10.65.150.17 with HTTP; Thu, 29 Mar 2007 09:42:58 -0700 (PDT)
Message-ID: <e994873a0703290942pb4db17cq7c92d7763f96364b@mail.gmail.com>
Date: Thu, 29 Mar 2007 12:42:58 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
In-Reply-To: <c68e39170703290923u5d8f628fnff520a48cdd6fcd7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_45310_30014450.1175186578037"
References: <903039.7332.qm@web50307.mail.re2.yahoo.com>
	 <c68e39170703290923u5d8f628fnff520a48cdd6fcd7@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_45310_30014450.1175186578037
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Yes, my custom query processor can sometimes make 2 Lucene search calls
which may result in duplicate docs being inserted on the same PQ. The
simplest solution is to make lessThan public. I'm curious to know if anyone
else is performing multiple searches under the covers.

Peter

On 3/29/07, Yonik Seeley <yonik@apache.org> wrote:
>
> On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> > Ah, I see.  This is less attractive to me personally, but maybe it helps
> others.  One thing I don't understand is why/how you'd get duplicate
> documents with the same doc ID in there.  Isn't insert(FieldDoc fdoc) called
> only once for each doc?
>
> Yes, for any Lucene search method.
> From Peter's first message, it looks like it's his custom code that
> can result in duplicates.
>
> -Yonik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_45310_30014450.1175186578037--

From java-user-return-27262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 18:06:36 2007
Return-Path: <java-user-return-27262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65094 invoked from network); 29 Mar 2007 18:06:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 18:06:36 -0000
Received: (qmail 80377 invoked by uid 500); 29 Mar 2007 18:06:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80342 invoked by uid 500); 29 Mar 2007 18:06:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80320 invoked by uid 99); 29 Mar 2007 18:06:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 11:06:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.104.95.4] (HELO listing.marketingbrokers.com) (66.104.95.4)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 29 Mar 2007 11:06:26 -0700
Received: from ip66-104-95-21.z95-104-66.customer.algx.net ([66.104.95.21])
          by listing.marketingbrokers.com (JAMES SMTP Server 2.2.0) with SMTP ID 604
          for <java-user@lucene.apache.org>;
          Thu, 29 Mar 2007 10:05:45 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v752.2)
In-Reply-To: <OF9A639D52.5B20C70A-ON882572AB.006BB84E-882572AB.006C8737@il.ibm.com>
References: <OF9A639D52.5B20C70A-ON882572AB.006BB84E-882572AB.006C8737@il.ibm.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F56066B4-90AD-4520-ACFA-993C00970B7E@marketingbrokers.com>
Content-Transfer-Encoding: 7bit
From: "Peter W." <peter@marketingbrokers.com>
Subject: Re: Contextual text-link ads
Date: Thu, 29 Mar 2007 11:05:44 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.2)
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks, sounds great.

Sponsored search results are such an important complement
to Lucene, Solr and Nutch it's surprising there is nothing in
the sandbox and only a few archive mentions.

I really liked the idea of setting a boost to certain sponsor
docs based on 'importance' and some known profitable ad formulas
might come into play such as:

sponsored_ad_position=(clicks/impressions) * (highest_bid);

Click-thru rate, cost-per-click and average cost-per-click
still need to be worked out and a few details like automation,
stop words, reporting, analytics, localization, payments and
pay-per-action (conversions) would be gravy.

Beyond just cloning what's out there, the collective experience
of the Lucene community could take leadership in paid search.

Best,

Peter W.



On Mar 27, 2007, at 12:45 PM, Doron Cohen wrote:

> Assuming you don't mean UI design - how about a small auxiliary  
> sponsor
> index containing sponsor data - doc per sponsor, sponsor text and  
> sponsor
> url as stored fields, sponsor doc statically boosted by sponsor's
> $importance$, and highlighting of user query words in the excerpt from
> suggested sponsor doc near the suggested link..
>
> "Peter W." <peter@marketingbrokers.com> wrote on 27/03/2007 12:36:19:
>
>> Howdy,
>>
>> Does anyone have any design considerations for implementing
>> a contextual text-link advertising system using Lucene?
>>
>> The emphasis would be strictly on monetizing search results with
>> light, non-intrusive  behavior (query terms match sponsored results).
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 18:28:54 2007
Return-Path: <java-user-return-27263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73719 invoked from network); 29 Mar 2007 18:28:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 18:28:53 -0000
Received: (qmail 26532 invoked by uid 500); 29 Mar 2007 18:28:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26498 invoked by uid 500); 29 Mar 2007 18:28:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26487 invoked by uid 99); 29 Mar 2007 18:28:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 11:28:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [128.218.33.11] (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 11:28:45 -0700
Received: from CKMPC08 (tikal.library.ucsf.edu [128.218.15.151])
	by gossamer.ckm.ucsf.edu (8.13.8/8.13.8) with ESMTP id l2TISLNo019947
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 11:28:24 -0700 (PDT)
From: "Renaud Waldura" <renaud.waldura@library.ucsf.edu>
To: <java-user@lucene.apache.org>
Subject: RE: More Precise Highlighting (MY SOLUTION)
Date: Thu, 29 Mar 2007 11:28:16 -0700
Message-ID: <008001c77230$07a3a3f0$970fda80@libraria.ucsf.edu>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <250995.14520.qm@web26010.mail.ukl.yahoo.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: AcdfDYHJXmNg5IJRTkGbyY7n02wNVQTH/8Yg
X-Filter-Version: 1.15 (gossamer)
X-Virus-Checked: Checked by ClamAV on apache.org

After much head-scratching and re-reading of posts around this issue, I
found a solution by writing my own QueryTermExtractor. Thanks for the help
everyone. 

To recap, I wanted to get more "precise" highlighting by having just the
"right" fields highlighted. My original example was a field named "metadata"
which is the concatenation of some metadata about the document (author,
title, etc.) This field is indexed and not stored. Users are able to run
queries such as "metadata:myauthor", and expect the "title" field to be
highlighted in the search results when it contains "myauthor".

With the stock highlighter, I had 2 choices: a- highlight all occurrences of
"myauthor" in all the fields (not good) or b- highlight occurrences of
"myauthor" in just the "metadata" field. This field doesn't exist per se in
the document, and no highlighting was produced at all. Not good either.

Basically I needed to map "index-only" fields (indexed, not stored) to the
actual (stored) fields that make up this field. Mark gave my the key by
mentioning the QueryTermExtractor just produces a list of strings. 

I wrote a custom QueryTermExtractor (copy, paste, hack) that has knowledge
of my indexing schema and knows how to map index-only fields to actual
fields, therefore generating the right set of WeightedTerm[] passed to the
QueryScorer constructor. 

I hope this will make sense to the (future) reader who ran into this problem
also.

--Renaud

 

-----Original Message-----
From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
Sent: Monday, March 05, 2007 2:03 AM
To: java-user@lucene.apache.org
Subject: Re: More Precise Highlighting

I think the solution is fairly simple.
Pass the "metadata" fieldname to the QueryTermExtractor - not the fieldname
"author". QueryTermExtractor effectively provides just a list of strings (no
fieldnames) which are then matched against strings found in the tokenStream
which represents your content.
Because your query did not contain any "author:apple" clauses
QueryTermExtractor produced no strings for highlighting when you asked for
the field.

Cheers
Mark 



On 3/2/07, Renaud Waldura <renaud.waldura@library.ucsf.edu> wrote:
>
> Hello Mark:
>
> I apologize for not responding earlier, more urgent stuff took over. I 
> really appreciate your help with this. Since my first message was 
> somewhat terse, let me explain again.
>
> My index includes both "regular" fields (stored, indexed, tokenized) 
> and "search-only" fields used for searching only (unstored, indexed, 
> tokenized).
> In particular, I have one such field called "metadata" that's the 
> accumulation of all metadata about the document (title, authors, date, 
> etc.). Using this field, I can easily query "all metadata" without 
> searching the document text (that's a separate field). It has no 
> meaning other than making this kind of query possible.
>
> Say I query "+metadata:apple +banana". I would like to have the term 
> "apple"
> highlighted in all metadata fields; if Fiona Apple authored a 
> document, her lastname should be highlighted in the "author" field, 
> but not in the document text.
>
> From what I've experienced, when I pass NULL as fieldname to the 
> QueryTermExtractor, "apple" gets highlighted everywhere, both in any 
> metadata AND the document text. When I pass "author" as fieldname, it 
> doesn't highlight that field at all -- because the query was actually 
> for "metadata" not "author". It's not correct in either case, and I'm 
> not sure what to do.
>
> Thanks again for your help,
>
> --Renaud
>
>
>
>
> -----Original Message-----
> From: markharw00d [mailto:markharw00d@yahoo.co.uk]
> Sent: Tuesday, February 13, 2007 3:24 PM
> To: java-user@lucene.apache.org
> Subject: Re: More Precise Highlighting
>
> Not sure I fully understand the problem. The query is effectively 
> "allContent:someTitleText" and you want to highlight the string 
> "someTitleText" in the title field?
> If you pass null as a fieldname to the QueryTermExtractor it will use 
> all term values, regardless of field, as string to highlight.
> If you pass a fieldname it will only select highlight term values for 
> that field.
> If you want, you can use QueryTermExtractor to extract just the 
> "allContent"
> field values and pass a TokenStream for the "title" field to the 
> highlighter and it would highlight the appropriate values in the 
> title.
>
> Do any of these options work?
>
>
>
> Renaud Waldura wrote:
> > The old highlighter code used to highlight found terms in any field 
> > (too broad). The new highlighter lets one specify a field when 
> > highlighting, but it highlights that field only (too narrow).
> >
> > In my case we have an "all" field that is the concatenation of all 
> > data about the document. When I highlight e.g. the "title" field, 
> > nothing happens, because the Highlighter doesn't know the title is 
> > included in this "all" field.
> >
> > How can I tell the highlighter that my query fields can map to some 
> > document fields? It looks like I'd change the QueryTermExtractor, 
> > but it's conveniently all-static and final.
> >
> > --Renaud
> >
> >
> >
>
>
>
>
>
>
> ___________________________________________________________
> All new Yahoo! Mail "The new Interface is stunning in its simplicity 
> and ease of use." - PC Magazine 
> http://uk.docs.yahoo.com/nowyoucan.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>





	
	
		
___________________________________________________________
New Yahoo! Mail is the ultimate force in competitive emailing. Find out more
at the Yahoo! Mail Championships. Plus: play games and win prizes. 
http://uk.rd.yahoo.com/evt=44106/*http://mail.yahoo.net/uk 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 21:17:56 2007
Return-Path: <java-user-return-27264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61645 invoked from network); 29 Mar 2007 21:17:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 21:17:55 -0000
Received: (qmail 75357 invoked by uid 500); 29 Mar 2007 21:17:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75242 invoked by uid 500); 29 Mar 2007 21:17:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75187 invoked by uid 99); 29 Mar 2007 21:17:53 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 14:17:53 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 14:17:44 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2TLHDN5015678
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 00:17:13 +0300
Received: from [10.142.3.12] ([10.142.3.12]) by nimitz with ESMTP
	 id m3u0haog; 30 Mar 2007 00:17:00 +0300
Message-ID: <460C2CD9.3060705@teamware.com>
Date: Fri, 30 Mar 2007 07:17:13 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Scores from HitCollector
References: <460B9067.8080801@teamware.com> <359a92830703290659m1ecb113byeccdc0785d868cf7@mail.gmail.com>
In-Reply-To: <359a92830703290659m1ecb113byeccdc0785d868cf7@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Fri, 30 Mar 2007 00:17:13 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=-0.185,
	required 5, autolearn=not spam, BAYES_40 -0.18)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Erick Erickson wrote:
> I wound up using a TopDocs instead, which has a getMaxScore that
> I was able to use to normalize scores to between 0 and 1. In my case
> I was collapsing the results into quintiles, so I threw them all
> back into a FieldSortedHitQueue to get them sorted by secondary
> criteria once the scores were all one of 5 discrete values....

My HitCollector is a variant of TopDocCollector and I have max score.  I found 
where Hits does the normalisation in Hits.getMoreDocs().  It simply multiplies 
all scores by (1/maxScore).

I was looking too deep down around the Scorer...

Can anyone say why this is useful and what's wrong about raw scores?

Thanks
Antony

> On 3/29/07, Antony Bowesman <adb@teamware.com> wrote:
>>
>> Hits will normalise scores >0<=1, but I'm using HitCollector and haven't
>> worked
>> out how to normalise those scores.
>>
>> From what I can see, the scores are just multiplied by a factor to bring
>> the
>> top score down to 1.  Is this right or is there something more to it.
>>
>> Do I need to normalise scores anyway - what's the reason it's done?
>> Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 22:08:04 2007
Return-Path: <java-user-return-27265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81476 invoked from network); 29 Mar 2007 22:08:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 22:08:03 -0000
Received: (qmail 60747 invoked by uid 500); 29 Mar 2007 22:08:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60713 invoked by uid 500); 29 Mar 2007 22:08:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60702 invoked by uid 99); 29 Mar 2007 22:08:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 15:08:03 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 15:07:55 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2TM7RSM017720
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 01:07:28 +0300
Received: from [10.142.3.12] ([10.142.3.12]) by nimitz with ESMTP
	 id m3u179rk; 30 Mar 2007 01:07:00 +0300
Message-ID: <460C3890.7010004@teamware.com>
Date: Fri, 30 Mar 2007 08:07:12 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
References: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com> <e994873a0703290800o7fb39256l3325d2e8f605404f@mail.gmail.com>
In-Reply-To: <e994873a0703290800o7fb39256l3325d2e8f605404f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Fri, 30 Mar 2007 01:07:28 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

I've got a similar duplicate case, but my duplicates are based on an external ID 
rather than Doc id so occurs for a single Query.  It's using a custom 
HitCollector but score based, not field sorted.

If my duplicate contains a higher score than one on the PQ I need to update the 
stored score with the higher one, so PQ needs a replace() method where the 
stored object.equals() can be used to find the object to delete.  I'm not sure 
if there's a way to find the object efficiently in this case other than a linear 
search.  I implemented remove().

Peter, how did you achieve 'last wins' as you must presumably remove first from 
the PQ?

Antony


Peter Keegan wrote:
> The duplicate check would just be on the doc ID. I'm using TreeSet to 
> detect
> duplicates with no noticeable affect on performance. The PQ only has to be
> checked for a previous value IFF the element about to be inserted is
> actually inserted and not dropped because it's less than the least value
> already in there. So, the TreeSet is never bigger than the size of the PQ
> (typically 25 to a few hundred items), not the size of all hits.
> 
> Peter
> 
> On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>>
>> Hm, removing duplicates (as determined by a value of a specified document
>> field) from the results would be nice.
>> How would your addition affect performance, considering it has to check
>> the PQ for a previous value for every candidate hit?
>>
>> Otis
>> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
>> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>>
>> ----- Original Message ----
>> From: Peter Keegan <peterlkeegan@gmail.com>
>> To: java-user@lucene.apache.org
>> Sent: Thursday, March 29, 2007 9:39:13 AM
>> Subject: FieldSortedHitQueue enhancement
>>
>> This is request for an enhancement to FieldSortedHitQueue/PriorityQueue
>> that
>> would prevent duplicate documents from being inserted, or alternatively,
>> allow the application to prevent this (reason explained below). I can do
>> this today by making the 'lessThan' method public and checking the queue
>> before inserting like this:
>>
>> if (hq.size() < maxSize) {
>>    // doc will be inserted into queue - check for duplicate before
>> inserting
>> } else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
>> (ScoreDoc)hq.top()) {
>>   // doc will be inserted into queue - check for duplicate before
>> inserting
>> } else {
>>   // doc will not be inserted - no check needed
>> }
>>
>> However, this is just replicating existing code in
>> PriorityQueue->insert().
>> An alternative would be to have a method like:
>>
>> public boolean wouldBeInserted(ScoreDoc doc)
>> // returns true if doc would be inserted, without inserting
>>
>> The reason for this is that I have some queries that get expanded into
>> multiple searches and the resulting hits are OR'd together. The queries
>> contain 'terms' that are not seen by Lucene but are handled by a
>> HitCollector that uses external data for each document to evaluate hits.
>> The
>> results from the priority queue should contain no duplicate documents
>> (first
>> or last doc wins).
>>
>> Do any of these suggestions seem reasonable?. So far, I've been able to
>> use
>> Lucene without any modifications, and hope to continue this way.
>>
>> Peter
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 22:26:30 2007
Return-Path: <java-user-return-27266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85734 invoked from network); 29 Mar 2007 22:26:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 22:26:29 -0000
Received: (qmail 93973 invoked by uid 500); 29 Mar 2007 22:26:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93722 invoked by uid 500); 29 Mar 2007 22:26:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93711 invoked by uid 99); 29 Mar 2007 22:26:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 15:26:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 15:26:22 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0B4F55B763; Thu, 29 Mar 2007 15:26:01 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E78237F403
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 15:26:01 -0700 (PDT)
Date: Thu, 29 Mar 2007 15:26:01 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: normalized scores
In-Reply-To: <OF2DF4F027.4A9A6DCD-ON852572AD.0051D652-852572AD.0052B692@us.ibm.com>
Message-ID: <Pine.LNX.4.58.0703291518400.5170@hal.rescomp.berkeley.edu>
References: <OF2DF4F027.4A9A6DCD-ON852572AD.0051D652-852572AD.0052B692@us.ibm.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org

: For a given query (for a single input document), the highest score is
: *not* always 1 (which is just how
: I want it). Is this because I am using a Boolean query? Here is my code
: snippet.

the Hits class only normalizes scores if the highest score is greater then
one, if it's less then 1 no normalization happens.

as to your more general question...

: Recent questions about whether/how scores are normalized got me wondering
: how my application (happily) seems to be doing what I want. I have two

it's all a question of what you want ... what you've got is throwing
things out with a score less then 0.3 ... but that's an arbitrary
decision -- there is no mathematical basis for assuming a
documentwhich scores "0.31" agaisnt query A is better match on A then a
doc which scores 0.29 against query B is for B ... they are apples and
oranges.

you can be as arbitrary as you want ... you could decide to ignore every
even numbered hit if you want -- it's entirely your choice, but it's not a
ratinal choice.


BTW: i hope you realize based on your comment about not all Hits having a
max score of 1, for some queries, the highest scoring doc might not even
have a score above 0.3, in which case you would be ignoring all matches.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 22:28:18 2007
Return-Path: <java-user-return-27267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86019 invoked from network); 29 Mar 2007 22:28:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 22:28:18 -0000
Received: (qmail 97077 invoked by uid 500); 29 Mar 2007 22:28:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97042 invoked by uid 500); 29 Mar 2007 22:28:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97027 invoked by uid 99); 29 Mar 2007 22:28:18 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 15:28:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 15:28:10 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id F344E5B763; Thu, 29 Mar 2007 15:27:49 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id F00C77F403
	for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 15:27:49 -0700 (PDT)
Date: Thu, 29 Mar 2007 15:27:49 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Scores from HitCollector
In-Reply-To: <460C2CD9.3060705@teamware.com>
Message-ID: <Pine.LNX.4.58.0703291526590.5170@hal.rescomp.berkeley.edu>
References: <460B9067.8080801@teamware.com> <359a92830703290659m1ecb113byeccdc0785d868cf7@mail.gmail.com>
 <460C2CD9.3060705@teamware.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: Can anyone say why this is useful and what's wrong about raw scores?

in my opinion: it's not useful at all, and there is nothing wrong with
raw scores, but some people like having scores that are bounded in a
finite range, so Hits provides that.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 23:15:29 2007
Return-Path: <java-user-return-27268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 197 invoked from network); 29 Mar 2007 23:15:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 23:15:28 -0000
Received: (qmail 69152 invoked by uid 500); 29 Mar 2007 23:15:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69125 invoked by uid 500); 29 Mar 2007 23:15:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69107 invoked by uid 99); 29 Mar 2007 23:15:30 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 16:15:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 16:15:22 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 260864A8148
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 09:17:17 +1000 (EST)
Message-ID: <460C4878.9010006@nuix.com>
Date: Fri, 30 Mar 2007 09:15:04 +1000
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070328)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: search on multiple fields
References: <847893AE8EE17A48A3725E82C10DE9E58841A0@tkdwi001.dev.tradingscreen.com>
In-Reply-To: <847893AE8EE17A48A3725E82C10DE9E58841A0@tkdwi001.dev.tradingscreen.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Melanie Langlois wrote:
> Hi,
> 
> I'm wondering if lucene would understand such a query:
> 
> content*:mysearch
> 
> It's just because I index several translations of my document
> contents in addition with common fields, and this separation is
> really usefull when an user specify the language in which he wants to
> search, but I want to be able to search among all languages if no
> option is specified. I could programmatically transform my content*
> into several sub queries content-en:mysearch content-fr:mysearch ...
> but I'm concerned about the number of conditions it will generate. So
> that would be cool if lucene automatically look into all concerned
> fields.

You could probably subclass QueryParser to do something like this.

The naive way would be to have the subclass build a BooleanQuery as you 
mentioned already.  A less naive way would be to create a 
MultiFieldTermQuery which extends from MultiTermQuery, and does the 
enumeration over the fields which match the prefix.  You'd probably need 
to do the same for phrases though which would be more difficult. :-)

Daniel



-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Mar 29 23:51:27 2007
Return-Path: <java-user-return-27269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11211 invoked from network); 29 Mar 2007 23:51:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 29 Mar 2007 23:51:26 -0000
Received: (qmail 32060 invoked by uid 500); 29 Mar 2007 23:51:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31758 invoked by uid 500); 29 Mar 2007 23:51:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31747 invoked by uid 99); 29 Mar 2007 23:51:27 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 16:51:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 16:51:19 -0700
Received: from [192.168.222.60] (host60.syd.nuix.com.au [192.168.222.60])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id D2AD74A8148
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 09:53:14 +1000 (EST)
Message-ID: <460C50E5.9050107@nuix.com>
Date: Fri, 30 Mar 2007 09:51:01 +1000
From: Daniel Noll <daniel@nuix.com>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 3.0a1 (Windows/20070328)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How to get the intersection of two Hits?
References: <9728397.post@talk.nabble.com>
In-Reply-To: <9728397.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

is_maximum wrote:
> Hi
> 
> suppose we have two Hits, now we need the documents which exists in both of
> them and ignore the others.
> 
> is there any workaround?

Can you use a BooleanQuery instead?

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://nuix.com/                               Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 00:10:26 2007
Return-Path: <java-user-return-27270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16447 invoked from network); 30 Mar 2007 00:10:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 00:10:25 -0000
Received: (qmail 65521 invoked by uid 500); 30 Mar 2007 00:10:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65491 invoked by uid 500); 30 Mar 2007 00:10:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65480 invoked by uid 99); 30 Mar 2007 00:10:26 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 17:10:26 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of peterlkeegan@gmail.com designates 64.233.162.232 as permitted sender)
Received: from [64.233.162.232] (HELO nz-out-0506.google.com) (64.233.162.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 17:10:17 -0700
Received: by nz-out-0506.google.com with SMTP id i1so266055nzh
        for <java-user@lucene.apache.org>; Thu, 29 Mar 2007 17:09:57 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gBeRLfYElhTD9XHH5RePIqIQPXlc808y20jSYF4+q5jWGEfw6lOSynzX7fx6BrYFCWOcf97aSbRxn8tAsjkw387ndmwAtznOLYRnGAkRn7Qi3OstGzTEGnIZfbyYTEhxPk6GpwASbolUSkPFWgiZEWdhEVnDbBYiWQL953knT34=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=IZDkKQK57eY+45FMsiFt0/itoV0rzgKe7J3BvwHrKi7TTA6xdyaQfHhwXw7A9z+2H4Lji1w/9i9SvL7G6o12CG8EvQ9QGEWFcaDIjl2SQjECunugBvZ6k3LaDnq4YBy570DHRlkuiws958evuxRByoJT+7fzHaepPMjpsExqED0=
Received: by 10.65.242.10 with SMTP id u10mr2654281qbr.1175213396995;
        Thu, 29 Mar 2007 17:09:56 -0700 (PDT)
Received: by 10.65.150.17 with HTTP; Thu, 29 Mar 2007 17:09:56 -0700 (PDT)
Message-ID: <e994873a0703291709r63cb0ba6ufc4f5c78c2eaf2da@mail.gmail.com>
Date: Thu, 29 Mar 2007 20:09:56 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
In-Reply-To: <460C3890.7010004@teamware.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_51513_4507029.1175213396932"
References: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>
	 <e994873a0703290800o7fb39256l3325d2e8f605404f@mail.gmail.com>
	 <460C3890.7010004@teamware.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_51513_4507029.1175213396932
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

>Peter, how did you achieve 'last wins' as you must presumably remove first
from the PQ?

I implemented 'first wins' because the score is less important than other
fields (distance, in our case), but you make a good point since score may be
more important. How did you implement remove()?

Peter


On 3/29/07, Antony Bowesman <adb@teamware.com> wrote:
>
> I've got a similar duplicate case, but my duplicates are based on an
> external ID
> rather than Doc id so occurs for a single Query.  It's using a custom
> HitCollector but score based, not field sorted.
>
> If my duplicate contains a higher score than one on the PQ I need to
> update the
> stored score with the higher one, so PQ needs a replace() method where the
> stored object.equals() can be used to find the object to delete.  I'm not
> sure
> if there's a way to find the object efficiently in this case other than a
> linear
> search.  I implemented remove().
>
> Peter, how did you achieve 'last wins' as you must presumably remove first
> from
> the PQ?
>
> Antony
>
>
> Peter Keegan wrote:
> > The duplicate check would just be on the doc ID. I'm using TreeSet to
> > detect
> > duplicates with no noticeable affect on performance. The PQ only has to
> be
> > checked for a previous value IFF the element about to be inserted is
> > actually inserted and not dropped because it's less than the least value
> > already in there. So, the TreeSet is never bigger than the size of the
> PQ
> > (typically 25 to a few hundred items), not the size of all hits.
> >
> > Peter
> >
> > On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> >>
> >> Hm, removing duplicates (as determined by a value of a specified
> document
> >> field) from the results would be nice.
> >> How would your addition affect performance, considering it has to check
> >> the PQ for a previous value for every candidate hit?
> >>
> >> Otis
> >> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> >> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
> >>
> >> ----- Original Message ----
> >> From: Peter Keegan <peterlkeegan@gmail.com>
> >> To: java-user@lucene.apache.org
> >> Sent: Thursday, March 29, 2007 9:39:13 AM
> >> Subject: FieldSortedHitQueue enhancement
> >>
> >> This is request for an enhancement to FieldSortedHitQueue/PriorityQueue
> >> that
> >> would prevent duplicate documents from being inserted, or
> alternatively,
> >> allow the application to prevent this (reason explained below). I can
> do
> >> this today by making the 'lessThan' method public and checking the
> queue
> >> before inserting like this:
> >>
> >> if (hq.size() < maxSize) {
> >>    // doc will be inserted into queue - check for duplicate before
> >> inserting
> >> } else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
> >> (ScoreDoc)hq.top()) {
> >>   // doc will be inserted into queue - check for duplicate before
> >> inserting
> >> } else {
> >>   // doc will not be inserted - no check needed
> >> }
> >>
> >> However, this is just replicating existing code in
> >> PriorityQueue->insert().
> >> An alternative would be to have a method like:
> >>
> >> public boolean wouldBeInserted(ScoreDoc doc)
> >> // returns true if doc would be inserted, without inserting
> >>
> >> The reason for this is that I have some queries that get expanded into
> >> multiple searches and the resulting hits are OR'd together. The queries
> >> contain 'terms' that are not seen by Lucene but are handled by a
> >> HitCollector that uses external data for each document to evaluate
> hits.
> >> The
> >> results from the priority queue should contain no duplicate documents
> >> (first
> >> or last doc wins).
> >>
> >> Do any of these suggestions seem reasonable?. So far, I've been able to
> >> use
> >> Lucene without any modifications, and hope to continue this way.
> >>
> >> Peter
> >>
> >>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_51513_4507029.1175213396932--

From java-user-return-27271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 01:32:00 2007
Return-Path: <java-user-return-27271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43026 invoked from network); 30 Mar 2007 01:32:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 01:32:00 -0000
Received: (qmail 88938 invoked by uid 500); 30 Mar 2007 01:32:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88912 invoked by uid 500); 30 Mar 2007 01:32:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88901 invoked by uid 99); 30 Mar 2007 01:32:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 18:32:00 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Mar 2007 18:31:51 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2U1VNh2000310
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 04:31:24 +0300
Received: from [10.142.3.12] ([10.142.3.12]) by nimitz with ESMTP
	 id m3u4v52s; 30 Mar 2007 04:31:00 +0300
Message-ID: <460C685C.7000801@teamware.com>
Date: Fri, 30 Mar 2007 11:31:08 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
References: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>	 <e994873a0703290800o7fb39256l3325d2e8f605404f@mail.gmail.com>	 <460C3890.7010004@teamware.com> <e994873a0703291709r63cb0ba6ufc4f5c78c2eaf2da@mail.gmail.com>
In-Reply-To: <e994873a0703291709r63cb0ba6ufc4f5c78c2eaf2da@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Fri, 30 Mar 2007 04:31:24 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0.001, required 5,
	autolearn=not spam, BAYES_50 0.00)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Peter Keegan wrote:
> I implemented 'first wins' because the score is less important than other
> fields (distance, in our case), but you make a good point since score 
> may be
> more important. How did you implement remove()?

I've got my own PriorityQueue

     public boolean remove(E o)
     {
         if (o == null)
             return false;

         for (int i = 1; i <= size; i++)
         {
             if (queue[i] == o)
             {
                 removeElement(i);
                 return true;
             }
         }
         return false;
     }

I've got a reference to the original object, so I'm using == to locate it.  I've 
not used equals() as I've not yet worked out whether that will cause me any 
problems with hashing.

Antony

> 
> Peter
> 
> 
> On 3/29/07, Antony Bowesman <adb@teamware.com> wrote:
>>
>> I've got a similar duplicate case, but my duplicates are based on an
>> external ID
>> rather than Doc id so occurs for a single Query.  It's using a custom
>> HitCollector but score based, not field sorted.
>>
>> If my duplicate contains a higher score than one on the PQ I need to
>> update the
>> stored score with the higher one, so PQ needs a replace() method where 
>> the
>> stored object.equals() can be used to find the object to delete.  I'm not
>> sure
>> if there's a way to find the object efficiently in this case other than a
>> linear
>> search.  I implemented remove().
>>
>> Peter, how did you achieve 'last wins' as you must presumably remove 
>> first
>> from
>> the PQ?
>>
>> Antony
>>
>>
>> Peter Keegan wrote:
>> > The duplicate check would just be on the doc ID. I'm using TreeSet to
>> > detect
>> > duplicates with no noticeable affect on performance. The PQ only has to
>> be
>> > checked for a previous value IFF the element about to be inserted is
>> > actually inserted and not dropped because it's less than the least 
>> value
>> > already in there. So, the TreeSet is never bigger than the size of the
>> PQ
>> > (typically 25 to a few hundred items), not the size of all hits.
>> >
>> > Peter
>> >
>> > On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>> >>
>> >> Hm, removing duplicates (as determined by a value of a specified
>> document
>> >> field) from the results would be nice.
>> >> How would your addition affect performance, considering it has to 
>> check
>> >> the PQ for a previous value for every candidate hit?
>> >>
>> >> Otis
>> >> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
>> >> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>> >>
>> >> ----- Original Message ----
>> >> From: Peter Keegan <peterlkeegan@gmail.com>
>> >> To: java-user@lucene.apache.org
>> >> Sent: Thursday, March 29, 2007 9:39:13 AM
>> >> Subject: FieldSortedHitQueue enhancement
>> >>
>> >> This is request for an enhancement to 
>> FieldSortedHitQueue/PriorityQueue
>> >> that
>> >> would prevent duplicate documents from being inserted, or
>> alternatively,
>> >> allow the application to prevent this (reason explained below). I can
>> do
>> >> this today by making the 'lessThan' method public and checking the
>> queue
>> >> before inserting like this:
>> >>
>> >> if (hq.size() < maxSize) {
>> >>    // doc will be inserted into queue - check for duplicate before
>> >> inserting
>> >> } else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
>> >> (ScoreDoc)hq.top()) {
>> >>   // doc will be inserted into queue - check for duplicate before
>> >> inserting
>> >> } else {
>> >>   // doc will not be inserted - no check needed
>> >> }
>> >>
>> >> However, this is just replicating existing code in
>> >> PriorityQueue->insert().
>> >> An alternative would be to have a method like:
>> >>
>> >> public boolean wouldBeInserted(ScoreDoc doc)
>> >> // returns true if doc would be inserted, without inserting
>> >>
>> >> The reason for this is that I have some queries that get expanded into
>> >> multiple searches and the resulting hits are OR'd together. The 
>> queries
>> >> contain 'terms' that are not seen by Lucene but are handled by a
>> >> HitCollector that uses external data for each document to evaluate
>> hits.
>> >> The
>> >> results from the priority queue should contain no duplicate documents
>> >> (first
>> >> or last doc wins).
>> >>
>> >> Do any of these suggestions seem reasonable?. So far, I've been 
>> able to
>> >> use
>> >> Lucene without any modifications, and hope to continue this way.
>> >>
>> >> Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 02:15:37 2007
Return-Path: <java-user-return-27272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52729 invoked from network); 30 Mar 2007 02:15:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 02:15:35 -0000
Received: (qmail 32966 invoked by uid 500); 30 Mar 2007 02:15:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32941 invoked by uid 500); 30 Mar 2007 02:15:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 25744 invoked by uid 99); 30 Mar 2007 02:08:17 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tom.zvents@gmail.com designates 209.85.132.247 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=WJubgjvwiRup9iAO3o51sXzE9de1v+3+QwPsYRlJToGiW9uWbYJVJJqp0zp5lijMw0RYeEDiOgxYmZaUjAZ1ZH4TMlOpBbFBoLZC3S4/cmtsorUGusMAZ2XVzULOi82U0+iU8dgILr1N8zBxtmLOWxQWKJRtuYcHvwk9/MuRu+s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=Ug9IPVdC9/fMtcigOUawM4vVUE24aMdm0cXxh7iLz+wMOAQUKepswbncmVtUHWRgg1VJPJI7tKLFxpNjr+EfBbc20TQcpAAwt7cOjy8ijtAz6fFq+cLWgfY8CU8lvkQjRF8FiY6IOzrDdDA8zv15CZ/3h9Im5nwKAYPqR1gICrE=
Message-ID: <eebea8310703291907k1a7b9e9dn6397c6b009585d52@mail.gmail.com>
Date: Thu, 29 Mar 2007 19:07:48 -0700
From: "Tom Hill" <tom.hill@zvents.com>
Sender: tom.zvents@gmail.com
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
In-Reply-To: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_45421_11546442.1175220468936"
References: <20070329144800.4892.qmail@web50312.mail.re2.yahoo.com>
X-Google-Sender-Auth: d0a0bbc42c02d1c7
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_45421_11546442.1175220468936
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Hm, removing duplicates (as determined by a value of a specified document
> field) from the results would be nice.
> How would your addition affect performance, considering it has to check
> the PQ for a previous value for every candidate hit?


We're doing this in solr (slightly hacked up), based on a field. The penalty
was fairly substantial, if you just look at the performance of the queue
itself, but the overall performance isn't bad. (Probably because solr's
fast, and caches nicely).

We just build a FieldSortedHitQueue equivalent, based on the standard
java.util.PriorityQueue, instead of org.apache.lucene.util.PriorityQueue.
I'm sure it could be done in a more efficient fashion, but since performance
has been acceptable, I haven't bothered to try to improve it.

Tom




Otis
> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>
> ----- Original Message ----
> From: Peter Keegan <peterlkeegan@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Thursday, March 29, 2007 9:39:13 AM
> Subject: FieldSortedHitQueue enhancement
>
> This is request for an enhancement to FieldSortedHitQueue/PriorityQueue
> that
> would prevent duplicate documents from being inserted, or alternatively,
> allow the application to prevent this (reason explained below). I can do
> this today by making the 'lessThan' method public and checking the queue
> before inserting like this:
>
> if (hq.size() < maxSize) {
>    // doc will be inserted into queue - check for duplicate before
> inserting
> } else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
> (ScoreDoc)hq.top()) {
>   // doc will be inserted into queue - check for duplicate before
> inserting
> } else {
>   // doc will not be inserted - no check needed
> }
>
> However, this is just replicating existing code in
> PriorityQueue->insert().
> An alternative would be to have a method like:
>
> public boolean wouldBeInserted(ScoreDoc doc)
> // returns true if doc would be inserted, without inserting
>
> The reason for this is that I have some queries that get expanded into
> multiple searches and the resulting hits are OR'd together. The queries
> contain 'terms' that are not seen by Lucene but are handled by a
> HitCollector that uses external data for each document to evaluate hits.
> The
> results from the priority queue should contain no duplicate documents
> (first
> or last doc wins).
>
> Do any of these suggestions seem reasonable?. So far, I've been able to
> use
> Lucene without any modifications, and hope to continue this way.
>
> Peter
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_45421_11546442.1175220468936--

From java-user-return-27273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 02:16:01 2007
Return-Path: <java-user-return-27273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52847 invoked from network); 30 Mar 2007 02:16:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 02:16:01 -0000
Received: (qmail 35247 invoked by uid 500); 30 Mar 2007 02:16:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35216 invoked by uid 500); 30 Mar 2007 02:16:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 28304 invoked by uid 99); 30 Mar 2007 02:10:55 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of tom.zvents@gmail.com designates 209.85.132.243 as permitted sender)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=DDtG012MoG74HHL+7QP8fn0GZLtVIwyZgP2zikOGIfTL9WTMvJ+Y72C7bLsWBOUXgCHjFTqTDVm4GC9N6zo7FD4NktD+gLtpa3ItwLsEqGcSlFBy7BTleC/92u6CsW9QK2yc3p8LzbErMkvgU7woIhuLy0R2JHEGM7/eQatQKMI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:sender:to:subject:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=Bxva2/5nO7MKZGy+pBgOkWBf0efl2/UWcElVGh3wobOSvN2xCtbOoEfjdIHpm86pYm/cnvt+mNZ8XshbO31l4gmj1WHE03Qan2IjBfyHwxV/NPWILHrFhtN+UbVAiVzOjs/1ZkDuLqzOBySBZBDm7f18Rg+MFcZMA96Grm8hLSo=
Message-ID: <eebea8310703291910yfb5e9e1n606905f3612efe29@mail.gmail.com>
Date: Thu, 29 Mar 2007 19:10:26 -0700
From: "Tom Hill" <lucene-list@zvents.com>
Sender: tom.zvents@gmail.com
To: java-user@lucene.apache.org
Subject: Re: FieldSortedHitQueue enhancement
In-Reply-To: <903039.7332.qm@web50307.mail.re2.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_45469_3339029.1175220626454"
References: <903039.7332.qm@web50307.mail.re2.yahoo.com>
X-Google-Sender-Auth: 11868908896ffbe4
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_45469_3339029.1175220626454
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Hm, removing duplicates (as determined by a value of a specified document
> field) from the results would be nice.
> How would your addition affect performance, considering it has to check
> the PQ for a previous value for every candidate hit?


We're doing this in solr (slightly hacked up), based on a field. The penalty
was fairly substantial, if you just look at the performance of the queue
itself, but the overall performance isn't bad. (Probably because solr's
fast, and caches nicely).

We just build a FieldSortedHitQueue equivalent, based on the standard
java.util.PriorityQueue, instead of org.apache.lucene.util.PriorityQueue.
I'm sure it could be done in a more efficient fashion, but since performance
has been acceptable, I haven't bothered to try to improve it.

Tom


On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> Ah, I see.  This is less attractive to me personally, but maybe it helps
> others.  One thing I don't understand is why/how you'd get duplicate
> documents with the same doc ID in there.  Isn't insert(FieldDoc fdoc) called
> only once for each doc?
>
> Otis
> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
>
> ----- Original Message ----
> From: Peter Keegan <peterlkeegan@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Thursday, March 29, 2007 11:00:24 AM
> Subject: Re: FieldSortedHitQueue enhancement
>
> The duplicate check would just be on the doc ID. I'm using TreeSet to
> detect
> duplicates with no noticeable affect on performance. The PQ only has to be
> checked for a previous value IFF the element about to be inserted is
> actually inserted and not dropped because it's less than the least value
> already in there. So, the TreeSet is never bigger than the size of the PQ
> (typically 25 to a few hundred items), not the size of all hits.
>
> Peter
>
> On 3/29/07, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> >
> > Hm, removing duplicates (as determined by a value of a specified
> document
> > field) from the results would be nice.
> > How would your addition affect performance, considering it has to check
> > the PQ for a previous value for every candidate hit?
> >
> > Otis
> > . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
> > Simpy -- http://www.simpy.com/  -  Tag  -  Search  -  Share
> >
> > ----- Original Message ----
> > From: Peter Keegan <peterlkeegan@gmail.com>
> > To: java-user@lucene.apache.org
> > Sent: Thursday, March 29, 2007 9:39:13 AM
> > Subject: FieldSortedHitQueue enhancement
> >
> > This is request for an enhancement to FieldSortedHitQueue/PriorityQueue
> > that
> > would prevent duplicate documents from being inserted, or alternatively,
> > allow the application to prevent this (reason explained below). I can do
> > this today by making the 'lessThan' method public and checking the queue
> > before inserting like this:
> >
> > if (hq.size() < maxSize) {
> >    // doc will be inserted into queue - check for duplicate before
> > inserting
> > } else if (hq.size() > 0 && !hq.lessThan((ScoreDoc)fieldDoc,
> > (ScoreDoc)hq.top()) {
> >   // doc will be inserted into queue - check for duplicate before
> > inserting
> > } else {
> >   // doc will not be inserted - no check needed
> > }
> >
> > However, this is just replicating existing code in
> > PriorityQueue->insert().
> > An alternative would be to have a method like:
> >
> > public boolean wouldBeInserted(ScoreDoc doc)
> > // returns true if doc would be inserted, without inserting
> >
> > The reason for this is that I have some queries that get expanded into
> > multiple searches and the resulting hits are OR'd together. The queries
> > contain 'terms' that are not seen by Lucene but are handled by a
> > HitCollector that uses external data for each document to evaluate hits.
> > The
> > results from the priority queue should contain no duplicate documents
> > (first
> > or last doc wins).
> >
> > Do any of these suggestions seem reasonable?. So far, I've been able to
> > use
> > Lucene without any modifications, and hope to continue this way.
> >
> > Peter
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_45469_3339029.1175220626454--

From java-user-return-27274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 09:15:04 2007
Return-Path: <java-user-return-27274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73157 invoked from network); 30 Mar 2007 09:15:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 09:15:04 -0000
Received: (qmail 66924 invoked by uid 500); 30 Mar 2007 09:15:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66341 invoked by uid 500); 30 Mar 2007 09:15:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66330 invoked by uid 99); 30 Mar 2007 09:15:03 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 02:15:03 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mohamedhajjj@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 02:14:55 -0700
Received: by an-out-0708.google.com with SMTP id c3so401166ana
        for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 02:14:35 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=JunD+w5PqvDMsQaKSus+3Fb3/ioOJmyKp1txqME5ipE2Sc1xP30WRHYE3DfrPlFDbma7FPd1LVZam+lh1d7ZMWaW2tzcIB8xLzuyGDwirjGoT/LMM7w9tkfUOBTN/mE/rUOaUbWNMXX/WdQ+nIBzurF/d/Ht4auU2N+Um09kExM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=DCE2vnN8VLOI0oenBDdCxLY8hHmn/5kwcyqsC56xT3dsVaLH1KqPGD6sijg9TUOF0/FxqUajept/OK73jItqpJt1fSp3itr1fFQy3DZqXjLJpQDZ3QEO3d6sKPewki5WHkXPuv3H1Zxi1Jiig8uYmFxqAOL5KgVrYaVuzUN7Xtg=
Received: by 10.100.172.3 with SMTP id u3mr1174428ane.1175246075062;
        Fri, 30 Mar 2007 02:14:35 -0700 (PDT)
Received: by 10.100.6.13 with HTTP; Fri, 30 Mar 2007 02:14:35 -0700 (PDT)
Message-ID: <ce91fe510703300214l76ec7b99yedd9b193b9fd6e13@mail.gmail.com>
Date: Fri, 30 Mar 2007 11:14:35 +0200
From: "mohamed hadj taieb" <mohamedhajjj@gmail.com>
To: java-user@lucene.apache.org
Subject: implementation of lucene into opencms
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_39962_31068569.1175246075021"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_39962_31068569.1175246075021
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi
i have implemented lucene with tomcat
the application demo gives an interface to write the word to search and when
the search is launched it returns the path of the pages which contain that
word like that :
Document Summary  C:\Program Files\Apache Software Foundation\Tomcat
5.5\webapps\jsp-examples\jsp2\simpletag\hello.jsp null
but i want to give me the resullt like that
http://localhost/jsp-examples/jsp2/simpletag\hello.jsp
<http://localhost/jsp-examples/jsp2/simpletag%5Chello.jsp>

if u have an idea about that it will help me

but my objectif is to integrate lucene into opencms
so is there some documentation to to this
and have you some recommandation for that : if there is simple exemples just
for test i will be happy to get them
my skype id : mohamed.hadj.taieb
thx a lot

------=_Part_39962_31068569.1175246075021--

From java-user-return-27275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 12:49:03 2007
Return-Path: <java-user-return-27275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37203 invoked from network); 30 Mar 2007 12:49:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 12:49:03 -0000
Received: (qmail 62876 invoked by uid 500); 30 Mar 2007 12:49:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62845 invoked by uid 500); 30 Mar 2007 12:49:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62832 invoked by uid 99); 30 Mar 2007 12:49:02 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 05:49:02 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gresh@us.ibm.com designates 32.97.182.145 as permitted sender)
Received: from [32.97.182.145] (HELO e5.ny.us.ibm.com) (32.97.182.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 05:48:53 -0700
Received: from d01relay04.pok.ibm.com (d01relay04.pok.ibm.com [9.56.227.236])
	by e5.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l2UCmW1l012878
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 08:48:32 -0400
Received: from d01av01.pok.ibm.com (d01av01.pok.ibm.com [9.56.224.215])
	by d01relay04.pok.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2UCmRkR260248
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 08:48:27 -0400
Received: from d01av01.pok.ibm.com (loopback [127.0.0.1])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2UCmQcK008552
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 08:48:27 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2UCmQ9f008545
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 08:48:26 -0400
In-Reply-To: <Pine.LNX.4.58.0703291518400.5170@hal.rescomp.berkeley.edu>
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Re: normalized scores
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF085A794D.F8B26420-ON852572AE.0045CC46-852572AE.00465A23@us.ibm.com>
Date: Fri, 30 Mar 2007 08:48:26 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Build V80_M4_03042007|March 04, 2007) at
 03/30/2007 08:48:28,
	Serialize complete at 03/30/2007 08:48:28
Content-Type: multipart/alternative; boundary="=_alternative 00465918852572AE_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 00465918852572AE_=
Content-Type: text/plain; charset="US-ASCII"

I'm well aware that some queries will return no results due to my 
filtering by 0.3. 
That's the point. I expect that some of my input queries will not be a 
good match
to *any* of the documents in my second index. 

I'm really doing something much like
the "Books Like This" example in Chapter 5 of Lucene in Action (which I 
saw after I wrote this). 
It is unfortunate that some scores are being normalized and some may not 
be. Is there a
way to obtain the unnormalized score?


Donna Gresh





Chris Hostetter <hossman_lucene@fucit.org> 
03/29/2007 06:26 PM
Please respond to
java-user@lucene.apache.org


To
java-user@lucene.apache.org
cc

Subject
Re: normalized scores






: For a given query (for a single input document), the highest score is
: *not* always 1 (which is just how
: I want it). Is this because I am using a Boolean query? Here is my code
: snippet.

the Hits class only normalizes scores if the highest score is greater then
one, if it's less then 1 no normalization happens.

as to your more general question...

: Recent questions about whether/how scores are normalized got me 
wondering
: how my application (happily) seems to be doing what I want. I have two

it's all a question of what you want ... what you've got is throwing
things out with a score less then 0.3 ... but that's an arbitrary
decision -- there is no mathematical basis for assuming a
documentwhich scores "0.31" agaisnt query A is better match on A then a
doc which scores 0.29 against query B is for B ... they are apples and
oranges.

you can be as arbitrary as you want ... you could decide to ignore every
even numbered hit if you want -- it's entirely your choice, but it's not a
ratinal choice.


BTW: i hope you realize based on your comment about not all Hits having a
max score of 1, for some queries, the highest scoring doc might not even
have a score above 0.3, in which case you would be ignoring all matches.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



--=_alternative 00465918852572AE_=--

From java-user-return-27276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 14:50:16 2007
Return-Path: <java-user-return-27276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94362 invoked from network); 30 Mar 2007 14:50:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 14:50:15 -0000
Received: (qmail 894 invoked by uid 500); 30 Mar 2007 14:50:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 855 invoked by uid 500); 30 Mar 2007 14:50:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 844 invoked by uid 99); 30 Mar 2007 14:50:14 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 07:50:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 07:50:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id ECAB330EFC18; Fri, 30 Mar 2007 08:49:45 -0600 (MDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id E86FF30EFC17
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 08:49:44 -0600 (MDT)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <OF085A794D.F8B26420-ON852572AE.0045CC46-852572AE.00465A23@us.ibm.com>
References: <OF085A794D.F8B26420-ON852572AE.0045CC46-852572AE.00465A23@us.ibm.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1E2A0E4C-5712-4B02-9DE2-9D70A3E97BE2@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: normalized scores
Date: Fri, 30 Mar 2007 10:49:40 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.752.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1


On Mar 30, 2007, at 8:48 AM, Donna L Gresh wrote:
> It is unfortunate that some scores are being normalized and some  
> may not
> be. Is there a
> way to obtain the unnormalized score?

Any IndexSearcher.search method that does not return Hits keeps the  
raw scores.  Try out the TopDocs returning ones or use a HitCollector.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 15:42:36 2007
Return-Path: <java-user-return-27277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14588 invoked from network); 30 Mar 2007 15:42:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 15:42:35 -0000
Received: (qmail 4982 invoked by uid 500); 30 Mar 2007 15:42:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4949 invoked by uid 500); 30 Mar 2007 15:42:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4934 invoked by uid 99); 30 Mar 2007 15:42:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 08:42:35 -0700
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,MIME_BOUND_NEXTPART
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.190.206.154] (HELO srs2na11.bgl.lu) (212.190.206.154)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 30 Mar 2007 08:42:27 -0700
Received: from spmwf02l.luinternal.fortis.bank (unverified) by srs2na12.domain
 (Content Technologies SMTPRS 4.2.10) with ESMTP id <T7eb05ab7540aaf150a165@srs2na12.domain> for <java-user@lucene.apache.org>;
 Fri, 30 Mar 2007 17:43:34 +0200
Received: from SPMWB02L.luinternal.fortis.bank ([10.172.252.140]) by spmwf02l.luinternal.fortis.bank with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 30 Mar 2007 17:41:56 +0200
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-b35f310f-082e-420b-8d29-9f5e95eb063b"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: setBoost on Field
Date: Fri, 30 Mar 2007 17:41:44 +0200
Message-ID: <EBC8F228BDB35A4394D0BE53DA25248809A2BE5B@SPMWB02L.luinternal.fortis.bank>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: setBoost on Field
Thread-Index: Acdy4etHhq4cb/jHQoGJxgWnaQkogg==
From: "DECAFFMEYER MATHIEU" <MATHIEU.DECAFFMAYER@fortis.lu>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 30 Mar 2007 15:41:56.0997 (UTC) FILETIME=[F2CB5B50:01C772E1]
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPartTM-000-b35f310f-082e-420b-8d29-9f5e95eb063b
Content-Type: multipart/alternative; 
	boundary="----_=_NextPart_001_01C772E1.EB554240"

------_=_NextPart_001_01C772E1.EB554240
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I am parsing this file called Logistics.htm
I have a field named "headlines" that contains word "clients" among others.

When I don't put a boost on this field, I have as score 0.06 when searching=
 for clients.
Then when I put a boost of "10", I have a score of 0.21
Yet I was expecting a score of 0.60

Could anyone clarify this behaviour to me ?
Thank u for any help.

__________________________________

   Matt



=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D


------_=_NextPart_001_01C772E1.EB554240
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; charset=3Diso-8859-=
1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version 6.5.7651.52">
<TITLE>setBoost on Field</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><FONT SIZE=3D2 FACE=3D"Verdana">Hi,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Verdana">I am parsing this file called Logistics.=
htm</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Verdana">I have a field named &quot;headlines&qu=
ot; that contains word &quot;clients&quot; among others.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Verdana">When I don't put a boost on this field, =
I have as score 0.06 when searching for clients.</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Verdana">Then when I put a boost of &quot;10&quo=
t;, I have a score of 0.21</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Verdana">Yet I was expecting a score of 0.60</FO=
NT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Verdana">Could anyone clarify this behaviour to m=
e ?</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Verdana">Thank u for any help.</FONT>
</P>

<P><B><SPAN LANG=3D"fr"><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><WBR><=
WBR><WBR><WBR><WBR><WBR><WBR><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verda=
na">__________________________________</FONT></SPAN></B>
</P>

<P><B><SPAN LANG=3D"fr"><FONT COLOR=3D"#006699" SIZE=3D1 FACE=3D"Verdana">&=
nbsp;&nbsp; Matt</FONT></SPAN></B><SPAN LANG=3D"fr"><I></I></SPAN><I><SPAN =
LANG=3D"en-us"></SPAN></I>
</P>

<CODE><FONT SIZE=3D3><BR>
<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
Internet communications are not secure and therefore Fortis Banque Luxembou=
rg S.A. does not accept legal responsibility for the contents of this messa=
ge. The information contained in this e-mail is confidential and may be leg=
ally privileged. It is intended solely for the addressee. If you are not th=
e intended recipient, any disclosure, copying, distribution or any action t=
aken or omitted to be taken in reliance on it, is prohibited and may be unl=
awful. Nothing in the message is capable or intended to create any legally =
binding obligations on either party and it is not intended to provide legal=
 advice.<BR>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR>
</FONT></CODE>
</BODY>
</HTML>
------_=_NextPart_001_01C772E1.EB554240--


------=_NextPartTM-000-b35f310f-082e-420b-8d29-9f5e95eb063b
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_NextPartTM-000-b35f310f-082e-420b-8d29-9f5e95eb063b--


From java-user-return-27278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 16:03:02 2007
Return-Path: <java-user-return-27278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22015 invoked from network); 30 Mar 2007 16:01:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 16:01:41 -0000
Received: (qmail 58951 invoked by uid 500); 30 Mar 2007 16:01:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58915 invoked by uid 500); 30 Mar 2007 16:01:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 1171 invoked by uid 99); 30 Mar 2007 15:39:52 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of dcliman@keepmedia.com designates 63.82.1.162 as permitted sender)
Subject: Retrieving the index format
Date: Fri, 30 Mar 2007 08:35:00 -0700
Message-ID: <326FA0FB-A8D1-40FB-A1A9-7F2FD1680882@keepmedia.com>
From: "Dan Climan" <dcliman@keepmedia.com>
Sender: "Dan Climan" <dcliman@keepmedia.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Importance: Normal
X-Priority: 3
X-MSMail-Priority: Normal
User-Agent: Kerio Outlook Connector (6.3.1.2402)
MIME-Version: 1.0
X-MimeOLE: Produced by Kerio Outlook Connector (6.3.1.2402)
Content-Type: multipart/alternative; boundary=ALTERNATIVE-MIME-2408640-18467-delim
X-Virus-Checked: Checked by ClamAV on apache.org

--ALTERNATIVE-MIME-2408640-18467-delim
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="us-ascii"

Is there a way to retrieve the tell which format an index is in?=20=
 The file formats documentation http://lucene.apache.org/java/doc=
s/fileformats.html#Segments%20File indicates that the segments fi=
le stores a Format value that can be used to determine the type.

 Format is -1 as of Lucene 1.4 and -3 (SemgentInfos.FORMAT_SINGLE=
_NORM_FILE) as of Lucene 2.1.

However, there doesn't seem to be an API to retrieve this value.=20=
Is it not exposed because it is intended only for internal code t=
o maintain backward compatibility?  Since I have a mix of old and=
 new indices in test environments, I thought
--ALTERNATIVE-MIME-2408640-18467-delim--



From java-user-return-27279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 18:06:44 2007
Return-Path: <java-user-return-27279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90361 invoked from network); 30 Mar 2007 18:06:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 18:06:44 -0000
Received: (qmail 43584 invoked by uid 500); 30 Mar 2007 18:06:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43363 invoked by uid 500); 30 Mar 2007 18:06:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43352 invoked by uid 99); 30 Mar 2007 18:06:43 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 11:06:43 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gresh@us.ibm.com designates 32.97.182.145 as permitted sender)
Received: from [32.97.182.145] (HELO e5.ny.us.ibm.com) (32.97.182.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 11:06:35 -0700
Received: from d01relay04.pok.ibm.com (d01relay04.pok.ibm.com [9.56.227.236])
	by e5.ny.us.ibm.com (8.13.8/8.13.8) with ESMTP id l2UI6DZL032181
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 14:06:13 -0400
Received: from d01av01.pok.ibm.com (d01av01.pok.ibm.com [9.56.224.215])
	by d01relay04.pok.ibm.com (8.13.8/8.13.8/NCO v8.3) with ESMTP id l2UI5fmH153982
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 14:05:41 -0400
Received: from d01av01.pok.ibm.com (loopback [127.0.0.1])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id l2UI5fTL013341
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 14:05:41 -0400
Received: from d01ml605.pok.ibm.com (d01ml605.pok.ibm.com [9.56.227.91])
	by d01av01.pok.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id l2UI5fSG013331
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 14:05:41 -0400
In-Reply-To: <1E2A0E4C-5712-4B02-9DE2-9D70A3E97BE2@ehatchersolutions.com>
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Re: normalized scores
X-Mailer: Lotus Notes Release 7.0 HF277 June 21, 2006
From: Donna L Gresh <gresh@us.ibm.com>
Message-ID: <OF21C9BDDB.D1C14A51-ON852572AE.00634E28-852572AE.0063654E@us.ibm.com>
Date: Fri, 30 Mar 2007 14:05:41 -0400
X-MIMETrack: Serialize by Router on D01ML605/01/M/IBM(Build V80_M4_03042007|March 04, 2007) at
 03/30/2007 14:05:41,
	Serialize complete at 03/30/2007 14:05:41
Content-Type: multipart/alternative; boundary="=_alternative 006364F2852572AE_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 006364F2852572AE_=
Content-Type: text/plain; charset="US-ASCII"

Thanks Erik, that works great--
Donna



>> It is unfortunate that some scores are being normalized and some 
>> may not
>> be. Is there a
>> way to obtain the unnormalized score?

>Any IndexSearcher.search method that does not return Hits keeps the 
>raw scores.  Try out the TopDocs returning ones or use a HitCollector.

Donna L. Gresh
Services Research, Mathematical Sciences Department
IBM T.J. Watson Research Center
(914) 945-2472
http://www.research.ibm.com/people/g/donnagresh
gresh@us.ibm.com

--=_alternative 006364F2852572AE_=--

From java-user-return-27280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Mar 30 21:17:34 2007
Return-Path: <java-user-return-27280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85362 invoked from network); 30 Mar 2007 21:17:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 30 Mar 2007 21:17:33 -0000
Received: (qmail 46900 invoked by uid 500); 30 Mar 2007 21:17:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46854 invoked by uid 500); 30 Mar 2007 21:17:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46843 invoked by uid 99); 30 Mar 2007 21:17:34 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 14:17:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Mar 2007 14:17:24 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4BDA85B76C; Fri, 30 Mar 2007 14:17:04 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 47EC37F403
	for <java-user@lucene.apache.org>; Fri, 30 Mar 2007 14:17:04 -0700 (PDT)
Date: Fri, 30 Mar 2007 14:17:04 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: normalized scores
In-Reply-To: <OF085A794D.F8B26420-ON852572AE.0045CC46-852572AE.00465A23@us.ibm.com>
Message-ID: <Pine.LNX.4.58.0703301413050.2161@hal.rescomp.berkeley.edu>
References: <OF085A794D.F8B26420-ON852572AE.0045CC46-852572AE.00465A23@us.ibm.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: I'm well aware that some queries will return no results due to my
: filtering by 0.3.
: That's the point. I expect that some of my input queries will not be a
: good match
: to *any* of the documents in my second index.

what i'm trying ot make sure you understand is that picking 0.3 as an
arbitrary number might make sense for soem queries, but not others ... the
scores are inherently not comparable between queries, if you can't
compare score(queryA) with score(queryB) then you also can't fairly
comparse score(queryA) with a constant N which you also compare to the
score(queryB).

with so many similar threads, i get confused as to what's already been
said sometimes, it doesn't look like i ever pointed out the FAQ on this
(assuming you haven't already seen it)...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-912c1f237bb00259185353182948e5935f0c2f03
http://article.gmane.org/gmane.comp.jakarta.lucene.user/10810


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 07:30:54 2007
Return-Path: <java-user-return-27281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98445 invoked from network); 31 Mar 2007 07:30:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 07:30:53 -0000
Received: (qmail 67095 invoked by uid 500); 31 Mar 2007 07:30:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67067 invoked by uid 500); 31 Mar 2007 07:30:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67056 invoked by uid 99); 31 Mar 2007 07:30:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 00:30:51 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 66.249.92.169 as permitted sender)
Received: from [66.249.92.169] (HELO ug-out-1314.google.com) (66.249.92.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 00:30:42 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1123375ugc
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 00:30:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=ENyZW2VoBcRNF5KacXweWonDuCiHs94c24lwPkA1CiAuzmhvJopmrFKzvyKBa63P20Zk03b1btphjhP9bkLGr0dDYIH5513vh0zrw49zghGN7mMB2/kgvYE9J2HIne0uUwMDfU/RJL+fMrCqbp/Qico8PlY8XBEUrfnhtkbpXQQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=t6jlWw2sa1UDaqHart7qGHPftwGQdV9ADMDRk1BbMrub8n/wsWBgSa7ZS1tAOFHR5ReOzPM5L/rN/ZWSqt3mprEADN+RF+/xISw08LkUpLwQVz7rNNmofp7/GAmmKWFx4WFyq5pz7MWyDd+cfs9CiWaNGi9STAqPhITPTKwH9eE=
Received: by 10.78.204.20 with SMTP id b20mr1183045hug.1175326221328;
        Sat, 31 Mar 2007 00:30:21 -0700 (PDT)
Received: by 10.78.133.19 with HTTP; Sat, 31 Mar 2007 00:30:21 -0700 (PDT)
Message-ID: <34b8543c0703310030m516be697j27efb15f791e95f9@mail.gmail.com>
Date: Sat, 31 Mar 2007 12:00:21 +0430
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: how to index a large database
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_51309_7554456.1175326221204"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_51309_7554456.1175326221204
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all
I am going to index our database. one approach is to join them and then
index the fields. but the information are very large say more than 3
millions. so the Sql Server fails to select them.

I want to know if anyone has such this experience to indexing huge
information of database using lucene.

can anyone give me some advice?

-- 
Regards,
Mohammad

------=_Part_51309_7554456.1175326221204--

From java-user-return-27282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 07:44:52 2007
Return-Path: <java-user-return-27282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99637 invoked from network); 31 Mar 2007 07:44:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 07:44:51 -0000
Received: (qmail 76650 invoked by uid 500); 31 Mar 2007 07:44:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76611 invoked by uid 500); 31 Mar 2007 07:44:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76599 invoked by uid 99); 31 Mar 2007 07:44:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 00:44:51 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of mnrz57@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 00:44:42 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1125210ugc
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 00:44:21 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=t7aWP3gm8RoBd0a9tdGLGpqEEeHWjb63INXidEAYeGz8RMIe49dqAf6uJQk/VBTh3W4eQJ5y/eLt/LT4h6YcOd/xIRX1ZdG+V1ELSjpjvKYx+B2QBI0748orvio62XqCZYO66k9zgqPTA8LR4RI40RyqYsoGIcfhbrSx75M/rEo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=m7LGgPyJYNUW2Px2iWXsGPBg1vIr1HvjDaAvPK+oohs0nDvr+wR9wcj1emw3nRrkxJ3GQITNs+b9b/SwpleLVIuXZVSbu5JcsHAXCvB8jhB2Y6K/5n2qagftm1YaO4QtegeE0iUz4TYwOkZcRRlb4eHJKEOYY24kWx0MKQSw6vc=
Received: by 10.78.180.18 with SMTP id c18mr1188887huf.1175327060688;
        Sat, 31 Mar 2007 00:44:20 -0700 (PDT)
Received: by 10.78.133.19 with HTTP; Sat, 31 Mar 2007 00:44:20 -0700 (PDT)
Message-ID: <34b8543c0703310044s71bce1e9xd6a7e98337c4df99@mail.gmail.com>
Date: Sat, 31 Mar 2007 11:14:20 +0330
From: "Mohammad Norouzi" <mnrz57@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to search over another search
In-Reply-To: <359a92830703260638y4bd3e552hccb1a9de92dfff6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_51329_25345120.1175327060642"
References: <34b8543c0703252317j4e4bd8ffj118b012f17e57d6d@mail.gmail.com>
	 <bddd3c950703260141i401320a5v44b8415aae288b10@mail.gmail.com>
	 <34b8543c0703260214k3c0ee521p776aa41ade010730@mail.gmail.com>
	 <359a92830703260638y4bd3e552hccb1a9de92dfff6@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_51329_25345120.1175327060642
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Erick,

>>Why not combine the indexes? That would be the "lucene way"...

I combined them by joining tables but it gets very very large and ResaltSet
failed to retrieve the fields!!!

On 3/26/07, Erick Erickson <erickerickson@gmail.com> wrote:
>
> The short form is no. Lucene is emphatically NOT a relational database.
> Of course, you could take the results of the first search, collect the IDs
> and query the second, but for large sets this may not be practical
>
> Why not combine the indexes? That would be the "lucene way"...
>
> There has been extensive discussion of embedding Lucene in a DB,
> but I can't remember who. Search the archive for Oracle and you'll find
> an extensive discussion....
>
> Best
> Erick
>
>
> On 3/26/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> >
> > I mean when I get result from the first index, find the common records
> > from
> > the second index depending on first result.
> > something like relation between two database tables, relation by primary
> > key
> >
> > index1:
> > id           name                 somefield1
> > 1             jack                   value1
> > 2            Michael              value2
> > 3             Sara                  value3
> > 4            Joseph                value4
> > ...
> >
> >
> > index2:
> > id              field1              field2              field3
> > 2               fval1-1            fval2-1             fval3-1
> > 4               fval1-2            fval2-2             fval3-2
> > ...
> >
> > now a user puts query : name:Michael
> >
> > I should return the result wrapped in following document:
> > document:
> > id           name       somefield1
> field1      field2        field3
> >
> >
> ------------------------------------------------------------------------------------------
> > 2            Michael    value2             fval1-1    fval2-1
> > fval3-1
> >
> >
> >
> > On 3/26/07, jafarim <jafarim@gmail.com> wrote:
> > >
> > > what do you mean by "applying the result to the second one"?
> > >
> > > On 3/26/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> > > >
> > > > hi
> > > > I have two separated index but there are some fields that are common
> > > > between
> > > > them. now I want to search from one index and then apply the result
> to
> > > the
> > > > second one. what solution do you suggest?
> > > > what happens on fields? I mean the first document has some fields
> that
> > > are
> > > > not present in the second one so I need the final document has all
> the
> > > > fields of both indexes.
> > > >
> > > > thanks
> > > >
> > > >
> > > > --
> > > > Regards,
> > > > Mohammad
> > > >
> > >
> >
> >
> >
> > --
> > Regards,
> > Mohammad
> >
>



-- 
Regards,
Mohammad

------=_Part_51329_25345120.1175327060642--

From java-user-return-27283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 08:03:25 2007
Return-Path: <java-user-return-27283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2572 invoked from network); 31 Mar 2007 08:03:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 08:03:24 -0000
Received: (qmail 91039 invoked by uid 500); 31 Mar 2007 08:03:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90995 invoked by uid 500); 31 Mar 2007 08:03:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90984 invoked by uid 99); 31 Mar 2007 08:03:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 01:03:24 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 01:03:16 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2V82l3W023648
	for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 11:02:48 +0300
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3vb2u83; 31 Mar 2007 11:02:00 +0300
Message-ID: <460E159A.2080403@teamware.com>
Date: Sat, 31 Mar 2007 18:02:34 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Help - FileNotFoundException during IndexWriter.init()
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Sat, 31 Mar 2007 11:02:48 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=0, required 5,
	autolearn=not spam)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

I got the following exception this morning when running one last test on a data 
set that has been indexed many times before over the past few months.

java.io.FileNotFoundException: 
D:\72ed1\server\Java\Search\00000008\index\00000001\segments_gq9 (Access is denied)
         at java.io.RandomAccessFile.open(Native Method)
         at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
         at 
org.apache.lucene.store.FSIndexInput$Descriptor.<init>(FSDirectory.java:497)
         at org.apache.lucene.store.FSIndexInput.<init>(FSDirectory.java:522)
         at org.apache.lucene.store.FSDirectory.openInput(FSDirectory.java:434)
         at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:180)
         at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:235)
         at 
org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:579)
         at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:232)
         at org.apache.lucene.index.IndexWriter.init(IndexWriter.java:385)
         at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:276)

On Windows with Lucene 2.1.

The test was run with only a single thread handling an incoming queue of 155K 
requests with ~200K documents so there is no concurrency issue.  There is no 
optimisation going on.  I am warming a new searcher every minute (for load) 
using a new reader.

I know that one of the files being indexed has a virus and when I came back to 
the machine the virus scanner had popped up at some point, so my suspicions are 
that it is the cause.  I am running the test again, but can any of the gurus 
give any ideas what can cause this.

It did have to happen the day after my deadline :(

Antony



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 08:28:52 2007
Return-Path: <java-user-return-27284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5148 invoked from network); 31 Mar 2007 08:28:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 08:28:52 -0000
Received: (qmail 7516 invoked by uid 500); 31 Mar 2007 08:28:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7480 invoked by uid 500); 31 Mar 2007 08:28:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7469 invoked by uid 99); 31 Mar 2007 08:28:51 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 01:28:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.28] (HELO out4.smtp.messagingengine.com) (66.111.4.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 01:28:41 -0700
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id 380902110D7
	for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 04:28:27 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by compute1.internal (MEProxy); Sat, 31 Mar 2007 04:28:21 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 0CCA816AAB6; Sat, 31 Mar 2007 04:28:21 -0400 (EDT)
Message-Id: <1175329701.15890.1182336787@webmail.messagingengine.com>
X-Sasl-Enc: 8ZnLRGJ35f71Nn2R9JzAcsheQQ9Rwm1cM/Rtvjm+mQFu 1175329701
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <460E159A.2080403@teamware.com>
Subject: Re: Help - FileNotFoundException during IndexWriter.init()
In-Reply-To: <460E159A.2080403@teamware.com>
Date: Sat, 31 Mar 2007 04:28:21 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

"Antony Bowesman" <adb@teamware.com> wrote:
> I got the following exception this morning when running one last test on a data 
> set that has been indexed many times before over the past few months.
>
> java.io.FileNotFoundException:
> D:\72ed1\server\Java\Search\00000008\index\00000001\segments_gq9 (Access is denied)

Hmmm.  It seems like what's happening is the file in fact exists but
Lucene gets "Access is denied" when trying to read it.  Lucene takes a
listing of the directory, first.  So if it Lucene has permission to
take a directory listing but then no permission to open the segments_N
file for reading, that would cause this exception.

Is it possible that your virus checker thought the segments_gq9 file
had a virus and turned off "read permisson" in the ACLs for it?  Can
you check to see which specific file(s) it thought had viruses?

Is it possible to tell the virus checker NOT to not check files in
your Lucene index directory?

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 09:28:00 2007
Return-Path: <java-user-return-27285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11492 invoked from network); 31 Mar 2007 09:27:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 09:27:59 -0000
Received: (qmail 47188 invoked by uid 500); 31 Mar 2007 09:28:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46557 invoked by uid 500); 31 Mar 2007 09:27:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46544 invoked by uid 99); 31 Mar 2007 09:27:58 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 02:27:58 -0700
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=RCVD_IN_WHOIS_INVALID,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [212.226.92.15] (HELO monkey.teamware.com) (212.226.92.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 02:27:50 -0700
Received: from nimitz (nimitz.teamw.com [10.142.128.10])
	by monkey.teamware.com (8.13.1/8.13.1) with ESMTP id l2V9RKXV027251
	for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 12:27:21 +0300
Received: from [10.142.3.10] ([10.142.3.10]) by nimitz with ESMTP
	 id m3vcrhh7; 31 Mar 2007 12:27:00 +0300
Message-ID: <460E2979.90105@teamware.com>
Date: Sat, 31 Mar 2007 19:27:21 +1000
From: Antony Bowesman <adb@teamware.com>
Organization: Teamware Group
User-Agent: Thunderbird 1.5.0.10 (Windows/20070221)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Help - FileNotFoundException during IndexWriter.init()
References: <460E159A.2080403@teamware.com> <1175329701.15890.1182336787@webmail.messagingengine.com>
In-Reply-To: <1175329701.15890.1182336787@webmail.messagingengine.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-1.6 (monkey.teamware.com [212.226.92.15]); Sat, 31 Mar 2007 12:27:21 +0300 (EEST)
X-TWG-MailScanner-Information: See www.mailscanner.info for information
X-TWG-MailScanner: Found to be clean
X-TWG-MailScanner-SpamCheck: not spam, SpamAssassin (score=-0.185,
	required 5, autolearn=not spam, BAYES_40 -0.18)
X-MailScanner-From: adb@teamware.com
X-Virus-Checked: Checked by ClamAV on apache.org

Michael McCandless wrote:
> 
> Hmmm.  It seems like what's happening is the file in fact exists but
> Lucene gets "Access is denied" when trying to read it.  Lucene takes a
> listing of the directory, first.  So if it Lucene has permission to
> take a directory listing but then no permission to open the segments_N
> file for reading, that would cause this exception.
> 
> Is it possible that your virus checker thought the segments_gq9 file
> had a virus and turned off "read permisson" in the ACLs for it?  Can
> you check to see which specific file(s) it thought had viruses?

What's in the segments file?  The virus would have existed in one of the 
attachments in another directory queued for indexing.  Those files are queued by 
a process that has no involvement with the indexing and has not caused a problem 
on another machine with Mcafee on it.  This one has F-Secure.

Unfortunately I was too quick to cancel the message as assumed it was not a 
problem until I looked at the test logs.

> Is it possible to tell the virus checker NOT to not check files in
> your Lucene index directory?

Yes, I've disabled it currently while the new test runs.  Let's see.  I'll 
re-run the test a few more times and see if I can re-create the problem.

Thanks for the rapid response Mike
Antony





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 13:17:47 2007
Return-Path: <java-user-return-27286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86174 invoked from network); 31 Mar 2007 13:17:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 13:17:46 -0000
Received: (qmail 18806 invoked by uid 500); 31 Mar 2007 13:17:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18761 invoked by uid 500); 31 Mar 2007 13:17:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18750 invoked by uid 99); 31 Mar 2007 13:17:46 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 06:17:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.28] (HELO out4.smtp.messagingengine.com) (66.111.4.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 06:17:37 -0700
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id 06BF821083B
	for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 09:17:24 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by compute1.internal (MEProxy); Sat, 31 Mar 2007 09:17:17 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id 71C3B166F40; Sat, 31 Mar 2007 09:17:17 -0400 (EDT)
Message-Id: <1175347037.2916.1182354097@webmail.messagingengine.com>
X-Sasl-Enc: dcpgcNb3cBbvr0blgJuifuvpiirrEq8kSmn/a4JCfvz/ 1175347037
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <460E159A.2080403@teamware.com>
   <1175329701.15890.1182336787@webmail.messagingengine.com>
   <460E2979.90105@teamware.com>
Subject: Re: Help - FileNotFoundException during IndexWriter.init()
In-Reply-To: <460E2979.90105@teamware.com>
Date: Sat, 31 Mar 2007 09:17:17 -0400
X-Virus-Checked: Checked by ClamAV on apache.org


"Antony Bowesman" <adb@teamware.com> wrote:
> Michael McCandless wrote:
> > 
> > Hmmm.  It seems like what's happening is the file in fact exists but
> > Lucene gets "Access is denied" when trying to read it.  Lucene takes a
> > listing of the directory, first.  So if it Lucene has permission to
> > take a directory listing but then no permission to open the segments_N
> > file for reading, that would cause this exception.
> > 
> > Is it possible that your virus checker thought the segments_gq9 file
> > had a virus and turned off "read permisson" in the ACLs for it?  Can
> > you check to see which specific file(s) it thought had viruses?
> 
> What's in the segments file?  The virus would have existed in one of the 
> attachments in another directory queued for indexing.  Those files are queued by 
> a process that has no involvement with the indexing and has not caused a problem 
> on another machine with Mcafee on it.  This one has F-Secure.

The segments file is a very small binary file that contains the
details of each segment in the index.  If the virus checker didn't
quarantine your segments file then I'm not sure what else would have
caused "Access denied" when Lucene tried to open the segments file for
reading...
 
> Unfortunately I was too quick to cancel the message as assumed it was not a 
> problem until I looked at the test logs.
> 
> > Is it possible to tell the virus checker NOT to not check files in
> > your Lucene index directory?
> 
> Yes, I've disabled it currently while the new test runs.  Let's see. 
> I'll re-run the test a few more times and see if I can re-create the problem.

OK let's see if that makes it go away!  Hopefully :)

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 13:36:45 2007
Return-Path: <java-user-return-27287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94967 invoked from network); 31 Mar 2007 13:36:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 13:36:45 -0000
Received: (qmail 37469 invoked by uid 500); 31 Mar 2007 13:36:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36433 invoked by uid 500); 31 Mar 2007 13:36:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36422 invoked by uid 99); 31 Mar 2007 13:36:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 06:36:45 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of erickerickson@gmail.com designates 64.233.162.225 as permitted sender)
Received: from [64.233.162.225] (HELO nz-out-0506.google.com) (64.233.162.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 06:36:37 -0700
Received: by nz-out-0506.google.com with SMTP id i1so617304nzh
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 06:36:16 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=n+Vy6te2MSQ5DLF1yV5/Ymf9LZ3wwyUCvJeaZB0bmAo6guZaIvBvlOlGaXIAXWk6aNFtffkeC5t6Z0bi9MBLU1K2gp4KRgvjhZFYRvRkCzf37mM9tbvdueaL0SvOoLAjYC4AkglxQ5ZmM4/ITPc+I83BrTBcatX5DekA8VZ3Psw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=gYkGAB57QLQb+oU7keB7LYnjL484GStSWI4JA4HsXgqbG9mSiKO29xCG06CFvYfQjisBwaikrJPA+NLRTa1R+Asv3QHJQiBb1R+5TfgQJmMZsZUPOLKacLWcteh5AJNWPILEASO2upCIsOqmvZNV3tAVEJfDjVFL1+bYpiQthtE=
Received: by 10.114.75.1 with SMTP id x1mr1199496waa.1175348176568;
        Sat, 31 Mar 2007 06:36:16 -0700 (PDT)
Received: by 10.114.58.3 with HTTP; Sat, 31 Mar 2007 06:36:16 -0700 (PDT)
Message-ID: <359a92830703310636r236b34b5p374d6155bd8f053d@mail.gmail.com>
Date: Sat, 31 Mar 2007 09:36:16 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to index a large database
In-Reply-To: <34b8543c0703310030m516be697j27efb15f791e95f9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_87107_31775838.1175348176520"
References: <34b8543c0703310030m516be697j27efb15f791e95f9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_87107_31775838.1175348176520
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Well, don't do it that way <G>.....

I'm assuming that you have some SQL statement like "for each
entry in table 1, find all the related info", and what you're
failing to retrieve is the result.

So, try something like creating a SQL statement that selects
the ID for table 1 and write it to a file. At the end of this, you'll
have a list of all the IDs from table 1. Then, read those in one
at a time and execute your query for use in indexing on one
row at a time. In other words, iterate over each row rather
than try to execute it in one massive statement.

Erick

On 3/31/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
>
> Hi all
> I am going to index our database. one approach is to join them and then
> index the fields. but the information are very large say more than 3
> millions. so the Sql Server fails to select them.
>
> I want to know if anyone has such this experience to indexing huge
> information of database using lucene.
>
> can anyone give me some advice?
>
> --
> Regards,
> Mohammad
>

------=_Part_87107_31775838.1175348176520--

From java-user-return-27288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 18:05:26 2007
Return-Path: <java-user-return-27288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42783 invoked from network); 31 Mar 2007 18:05:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 18:05:25 -0000
Received: (qmail 75815 invoked by uid 500); 31 Mar 2007 18:05:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75769 invoked by uid 500); 31 Mar 2007 18:05:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75758 invoked by uid 99); 31 Mar 2007 18:05:24 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 11:05:24 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 11:05:14 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1230214ugc
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 11:04:52 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=oy2Ud4DKtaJ7LNfHqiukWEz3m69xI/wvtGRDBbLwEu/E9tUHSa4fMIVvxSDoP+d08jwMXb1GXEVTvQiwkMvQAbCHLUfVmGwoKBlxOO3hQUJr+mkbubj6tPU38fG0e+KbnDIhj+yLkRpX+vc/GX1neQyUFq4g/XRi9v2KcyyMVSQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=aWt5EYcU1Xujyul+D43j69509XZc52FvJZdhS06IutWdILioStRvHD3soOXLwAq7H9JSxZd/JcJoq+16ATQrxKVKOc1bmernIF1uAM7PXGud6YcQ6JMXZJTlQhIytfESNvnBwS4ns/p1GuzgFKMLnoqeO7RU6nHyXQNZgHQ0eGk=
Received: by 10.82.102.4 with SMTP id z4mr5879145bub.1175364292124;
        Sat, 31 Mar 2007 11:04:52 -0700 (PDT)
Received: by 10.82.166.7 with HTTP; Sat, 31 Mar 2007 11:04:51 -0700 (PDT)
Message-ID: <6e3ae6310703311104of9b42a9jabf182b1ae1e9257@mail.gmail.com>
Date: Sat, 31 Mar 2007 11:04:51 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to index a large database
In-Reply-To: <359a92830703310636r236b34b5p374d6155bd8f053d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <34b8543c0703310030m516be697j27efb15f791e95f9@mail.gmail.com>
	 <359a92830703310636r236b34b5p374d6155bd8f053d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Mohammad,

This is the main idea, but things can get quite complicated.

In addition, do you need to do incremental indexing?
Do you need to delete duplicates?
How would you manage deleted documents in the database?
Will taking down the server while indexing affect you?
...

You are welcome to take a look at DBSight.
Here is a demo that you can create a scalable lucene database search
in 3 minutes.

http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 3/31/07, Erick Erickson <erickerickson@gmail.com> wrote:
> Well, don't do it that way <G>.....
>
> I'm assuming that you have some SQL statement like "for each
> entry in table 1, find all the related info", and what you're
> failing to retrieve is the result.
>
> So, try something like creating a SQL statement that selects
> the ID for table 1 and write it to a file. At the end of this, you'll
> have a list of all the IDs from table 1. Then, read those in one
> at a time and execute your query for use in indexing on one
> row at a time. In other words, iterate over each row rather
> than try to execute it in one massive statement.
>
> Erick
>
> On 3/31/07, Mohammad Norouzi <mnrz57@gmail.com> wrote:
> >
> > Hi all
> > I am going to index our database. one approach is to join them and then
> > index the fields. but the information are very large say more than 3
> > millions. so the Sql Server fails to select them.
> >
> > I want to know if anyone has such this experience to indexing huge
> > information of database using lucene.
> >
> > can anyone give me some advice?
> >
> > --
> > Regards,
> > Mohammad
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 18:08:59 2007
Return-Path: <java-user-return-27289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43061 invoked from network); 31 Mar 2007 18:08:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 18:08:58 -0000
Received: (qmail 78558 invoked by uid 500); 31 Mar 2007 18:08:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78512 invoked by uid 500); 31 Mar 2007 18:08:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78501 invoked by uid 99); 31 Mar 2007 18:08:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 11:08:59 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [68.142.207.242] (HELO web32615.mail.mud.yahoo.com) (68.142.207.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 31 Mar 2007 11:08:50 -0700
Received: (qmail 148 invoked by uid 60001); 31 Mar 2007 18:08:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=SR4Cfy2/YK8Tig4DSIGt/zQkgSR90tCvlCKLRpM5RF2APGz70XLsUY0h+MhC1zPflGTrXApkdKRq9zf33VT3YN5VH9xaGsh0sMIgYnFb4SCBWQ/TzbkRhyPXFoUqvSZWm6LNrzvFd0WyvG+TsQJsJmwBG7M/Dbd4KaqFmHsfv3E=;
X-YMail-OSG: E_FxKjIVM1n3yYGSZDzZoHWOXec.31qL87CtcFPUEeK4WMHmWDLuDS0_nqtDUqCGSbFlvzhrtQ--
Received: from [71.56.236.62] by web32615.mail.mud.yahoo.com via HTTP; Sat, 31 Mar 2007 11:08:29 PDT
Date: Sat, 31 Mar 2007 11:08:29 -0700 (PDT)
From: Phil Myers <jlpmyers@yahoo.com>
Subject: Re: how to index a large database
To: java-user@lucene.apache.org
In-Reply-To: <359a92830703310636r236b34b5p374d6155bd8f053d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Message-ID: <666247.99437.qm@web32615.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

I've used the approach that Erick describes, and it
works well. Another approach is to create a single new
table in your database that holds all of the data you
want to index. This allows you to copy the various
fields from other tables using separate SQL statements
before you index, rather than relying on one massive
join during the indexing process. Having everything in
a single table helps avoid the overhead associated
with making multiple calls from your indexing process
for each row.

This approach may not be practical, of course, if you
don't have enough disk space to keep multiple copies
of your data.

Phil
--- Erick Erickson <erickerickson@gmail.com> wrote: 
> So, try something like creating a SQL statement that
> selects
> the ID for table 1 and write it to a file. At the
> end of this, you'll
> have a list of all the IDs from table 1. Then, read
> those in one
> at a time and execute your query for use in indexing
> on one
> row at a time. In other words, iterate over each row
> rather
> than try to execute it in one massive statement.
> 
> Erick
> 
> On 3/31/07, Mohammad Norouzi <mnrz57@gmail.com>
> wrote:
> >
> > Hi all
> > I am going to index our database. one approach is
> to join them and then
> > index the fields. but the information are very
> large say more than 3
> > millions. so the Sql Server fails to select them.
> >
> > I want to know if anyone has such this experience
> to indexing huge
> > information of database using lucene.
> >
> > can anyone give me some advice?
> >
> > --
> > Regards,
> > Mohammad
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 18:22:35 2007
Return-Path: <java-user-return-27290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44254 invoked from network); 31 Mar 2007 18:22:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 18:22:34 -0000
Received: (qmail 87425 invoked by uid 500); 31 Mar 2007 18:22:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87386 invoked by uid 500); 31 Mar 2007 18:22:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87370 invoked by uid 99); 31 Mar 2007 18:22:35 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 11:22:35 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of chris.lu@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 11:22:27 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1233700ugc
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 11:22:06 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=K+ei1BrLm5H9ZTW2AiCdSUF5rSf1ujGMANKSPRh2BKDMV9idnYPFJbegix/1XDaY6L3aVzi3pjUjyLjKS/X6uBKbKPnthQryFwKs+amAE8HiGhHe5Xyg6nq/S5jvMw6EzeUgDsqkiinDogv1uZLczLdR3Rtaw8jCOfnvEjYP+ow=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=jAJrULwtN6czVg3jANyzfc7TPHxJ1goWAGEhhdFOC8zv7CyAKff1VYHQW1/a1wHtWCmwdLJlMPcmBYUJwugKE4EHSDlh+Y1XFsflOU2zWZtKu+qIz2Jf/LAHfPrKh7u3uom6DNel8vF/Fr0cU5UaQPLOi2OeWowE0I2tLb5dcSc=
Received: by 10.82.120.14 with SMTP id s14mr5960153buc.1175365325006;
        Sat, 31 Mar 2007 11:22:05 -0700 (PDT)
Received: by 10.82.166.7 with HTTP; Sat, 31 Mar 2007 11:22:04 -0700 (PDT)
Message-ID: <6e3ae6310703311122g66f0d93ai3b4749d3a2812eaa@mail.gmail.com>
Date: Sat, 31 Mar 2007 11:22:04 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to index a large database
In-Reply-To: <666247.99437.qm@web32615.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <359a92830703310636r236b34b5p374d6155bd8f053d@mail.gmail.com>
	 <666247.99437.qm@web32615.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

BTW: DBSight uses the same approach that Erick describes.
Like Phil said, this will incur multiple joins for each document.
But this works well and efficient for incremental indexing.
And this approach does not need to change any database schema.

-- 
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com
Lucene Database Search in 3 minutes:
http://wiki.dbsight.com/index.php?title=Create_Lucene_Database_Search_in_3_minutes

On 3/31/07, Phil Myers <jlpmyers@yahoo.com> wrote:
> I've used the approach that Erick describes, and it
> works well. Another approach is to create a single new
> table in your database that holds all of the data you
> want to index. This allows you to copy the various
> fields from other tables using separate SQL statements
> before you index, rather than relying on one massive
> join during the indexing process. Having everything in
> a single table helps avoid the overhead associated
> with making multiple calls from your indexing process
> for each row.
>
> This approach may not be practical, of course, if you
> don't have enough disk space to keep multiple copies
> of your data.
>
> Phil
> --- Erick Erickson <erickerickson@gmail.com> wrote:
> > So, try something like creating a SQL statement that
> > selects
> > the ID for table 1 and write it to a file. At the
> > end of this, you'll
> > have a list of all the IDs from table 1. Then, read
> > those in one
> > at a time and execute your query for use in indexing
> > on one
> > row at a time. In other words, iterate over each row
> > rather
> > than try to execute it in one massive statement.
> >
> > Erick
> >
> > On 3/31/07, Mohammad Norouzi <mnrz57@gmail.com>
> > wrote:
> > >
> > > Hi all
> > > I am going to index our database. one approach is
> > to join them and then
> > > index the fields. but the information are very
> > large say more than 3
> > > millions. so the Sql Server fails to select them.
> > >
> > > I want to know if anyone has such this experience
> > to indexing huge
> > > information of database using lucene.
> > >
> > > can anyone give me some advice?
> > >
> > > --
> > > Regards,
> > > Mohammad
> > >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Mar 31 23:09:38 2007
Return-Path: <java-user-return-27291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1372 invoked from network); 31 Mar 2007 23:09:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 31 Mar 2007 23:09:37 -0000
Received: (qmail 7440 invoked by uid 500); 31 Mar 2007 23:09:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7396 invoked by uid 500); 31 Mar 2007 23:09:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7385 invoked by uid 99); 31 Mar 2007 23:09:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 16:09:38 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of nileshbansal@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 16:09:28 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1283546ugc
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 16:09:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=rcnxY0UFZxbLZTGiInWhSelJV6R886PnKwQyBlK7N8YzjNVQ7spqhURG1WuFfX9+fv70VruxlNRLv/E7EVO4vtLpJZwPmugCcajkIoujkbrmfNUWLD5iyPWO/UZAC2xZVL26H5VHUuCYIq+SRNCu4VEuljiSaNtSS7U/DM+45X8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=tSSbxSPup2rsLsDY+a/aAKPGYE0n5zwRlSVdaJS2I6B4orYkFfh6u5g6pdlvwRGcAmTxlGbmXxQQiR1PwV8wZMX/2nG0XFq5RBXBxoklAlvAZpkA0GdRbvrp82CPP/fqHoWbHLCD+t8O3nSdm8qC2BuJZh+7i5uujU6xZjQksBU=
Received: by 10.78.158.11 with SMTP id g11mr1284474hue.1175382547077;
        Sat, 31 Mar 2007 16:09:07 -0700 (PDT)
Received: by 10.78.52.2 with HTTP; Sat, 31 Mar 2007 16:09:06 -0700 (PDT)
Message-ID: <f36128690703311609h1cdec6c8r466ef6ad8c840e9d@mail.gmail.com>
Date: Sat, 31 Mar 2007 19:09:06 -0400
From: "Nilesh Bansal" <nileshbansal@gmail.com>
To: java-user@lucene.apache.org
Subject: Lock files in a read-only application
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,

We have a web-based application that searches a large lucene index.
This application only creates object of type IndexSearcher only (and
no IndexWriters) for searching the index. After the application runs
for some time (a few hours), I can see lock files in the temp
directory of the form
/opt/tomcat/temp/lucene-5f77ffdc821b3f8e861949e9ecc35a53-commit.lock
The temp dir is set to /opt/tomcat/temp/ as we are using tomcat.

Since the application is read-only, there is no point in it using the
lock files. These lock files are creating a lot of trouble for me, as
their presence leads to a lock obtained timeout in other threads. It
seems like a bug in lucene.

The index is updated be a separate process independent of the
web-application once in a while. Currently I am using an independent
shell script that checks for the temp dir for lock files every few
seconds and deletes the lock files if any (to prevent a lock obtained
timeout in other threads).

Any help will be appreciated.

thanks
Nilesh Bansal.
http://queens.db.toronto.edu/~nilesh/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Apr 01 01:03:45 2007
Return-Path: <java-user-return-27292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14180 invoked from network); 1 Apr 2007 01:03:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Apr 2007 01:03:44 -0000
Received: (qmail 84725 invoked by uid 500); 1 Apr 2007 01:03:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84692 invoked by uid 500); 1 Apr 2007 01:03:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84681 invoked by uid 99); 1 Apr 2007 01:03:45 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 18:03:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.111.4.28] (HELO out4.smtp.messagingengine.com) (66.111.4.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 18:03:37 -0700
Received: from compute1.internal (compute1.internal [10.202.2.41])
	by out1.messagingengine.com (Postfix) with ESMTP id 6BBC6210D9C
	for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 21:03:17 -0400 (EDT)
Received: from web4.messagingengine.com ([10.202.2.213])
  by compute1.internal (MEProxy); Sat, 31 Mar 2007 21:03:17 -0400
Received: by web4.messagingengine.com (Postfix, from userid 99)
	id F0EAD15CD17; Sat, 31 Mar 2007 21:03:16 -0400 (EDT)
Message-Id: <1175389396.31756.1182405653@webmail.messagingengine.com>
X-Sasl-Enc: m7mXLJtwKKUnYx17zwfGIGEA+tRM+JjlqwGTLIveWwYS 1175389396
From: "Michael McCandless" <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="ISO-8859-1"
MIME-Version: 1.0
X-Mailer: MessagingEngine.com Webmail Interface
References: <f36128690703311609h1cdec6c8r466ef6ad8c840e9d@mail.gmail.com>
Subject: Re: Lock files in a read-only application
In-Reply-To: <f36128690703311609h1cdec6c8r466ef6ad8c840e9d@mail.gmail.com>
Date: Sat, 31 Mar 2007 21:03:16 -0400
X-Virus-Checked: Checked by ClamAV on apache.org

"Nilesh Bansal" <nileshbansal@gmail.com> wrote:
> We have a web-based application that searches a large lucene index.
> This application only creates object of type IndexSearcher only (and
> no IndexWriters) for searching the index. After the application runs
> for some time (a few hours), I can see lock files in the temp
> directory of the form
> /opt/tomcat/temp/lucene-5f77ffdc821b3f8e861949e9ecc35a53-commit.lock
> The temp dir is set to /opt/tomcat/temp/ as we are using tomcat.
> 
> Since the application is read-only, there is no point in it using the
> lock files. These lock files are creating a lot of trouble for me, as
> their presence leads to a lock obtained timeout in other threads. It
> seems like a bug in lucene.
> 
> The index is updated be a separate process independent of the
> web-application once in a while. Currently I am using an independent
> shell script that checks for the temp dir for lock files every few
> seconds and deletes the lock files if any (to prevent a lock obtained
> timeout in other threads).

The commit lock has been problematic in the past and has been removed
entirely (so readers are indeed read only) as of release 2.1.

Before 2.1, it is very necessary: a reader acquires this lock (creates
the file) when it's reading the segments file, to prevent a writer
from overwriting the file at the same time.  Likewise a writer
acquires this lock before overwriting the segments file.  However it
should exist only briefly, so the fact that you see the lockfile
staying around means something bad is happening.

Do you ever see the JVM crash?  Or any errant exceptions from your
readers?  These could cause the lock file to be incorrectly left in
the filesystem.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Apr 01 01:31:00 2007
Return-Path: <java-user-return-27293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25507 invoked from network); 1 Apr 2007 01:30:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Apr 2007 01:30:58 -0000
Received: (qmail 1382 invoked by uid 500); 1 Apr 2007 01:30:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1108 invoked by uid 500); 1 Apr 2007 01:30:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1096 invoked by uid 99); 1 Apr 2007 01:30:59 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 18:30:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of nileshbansal@gmail.com designates 66.249.92.175 as permitted sender)
Received: from [66.249.92.175] (HELO ug-out-1314.google.com) (66.249.92.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 18:30:51 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1305003ugc
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 18:30:30 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=KAk4t0fPpxeSIv2qFhsNKPmcB9rB869JD5Wm26IRTI8knkXs8YGFhrDbd0LBnL37bW4WNFbubwmLtonyQfhKCsF30xPu1UsDQcWztGkW1+o9B6AKtaWzWFIZ18AmXEhiDZEa+OnNiIaURgRYc08CmWzsPC23GASO+c5xSBRza5U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=qJ9z8HCow+H9BXPgA3PcDDBiOxI19uJV4n9uiX3mFc4V6QVUc7IH0zaU9g3zt8yereZUdxee6lVjb4oenGtvcuphDoXoY2ParuyhreAElduXL+WMx3Y0crpOF2lHelasjGxncgrWEo7Dv/unhFnovjTJtUxYSk1fwQUOByR7wPc=
Received: by 10.78.204.7 with SMTP id b7mr1293726hug.1175391029923;
        Sat, 31 Mar 2007 18:30:29 -0700 (PDT)
Received: by 10.78.52.2 with HTTP; Sat, 31 Mar 2007 18:30:29 -0700 (PDT)
Message-ID: <f36128690703311830u348ab792p48f135e1d2bb740e@mail.gmail.com>
Date: Sat, 31 Mar 2007 21:30:29 -0400
From: "Nilesh Bansal" <nileshbansal@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lock files in a read-only application
In-Reply-To: <1175389396.31756.1182405653@webmail.messagingengine.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <f36128690703311609h1cdec6c8r466ef6ad8c840e9d@mail.gmail.com>
	 <1175389396.31756.1182405653@webmail.messagingengine.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for your response. Is there a way that I can disable these read
locks without upgrading to 2.1. Our application uses its own custom
locking mechanism, so that lucene locking is actually redundant. We
are currently using Lucene version 2.0.

The application has multiple threads (different web requests) reading
the same index simultaneously (say 20 concurrent threads). Can that be
a reason of this problem. Sometimes the lockfiles remain there for
long periods of time (more than a few minutes, which is bad).

Yes, JVM sometimes crashes when it runs out of memory. There should be
someway that the lock files are removed after such crash (any fixes is
2.1?).

thanks
Nilesh

On 3/31/07, Michael McCandless <lucene@mikemccandless.com> wrote:
> "Nilesh Bansal" <nileshbansal@gmail.com> wrote:
> > We have a web-based application that searches a large lucene index.
> > This application only creates object of type IndexSearcher only (and
> > no IndexWriters) for searching the index. After the application runs
> > for some time (a few hours), I can see lock files in the temp
> > directory of the form
> > /opt/tomcat/temp/lucene-5f77ffdc821b3f8e861949e9ecc35a53-commit.lock
> > The temp dir is set to /opt/tomcat/temp/ as we are using tomcat.
> >
> > Since the application is read-only, there is no point in it using the
> > lock files. These lock files are creating a lot of trouble for me, as
> > their presence leads to a lock obtained timeout in other threads. It
> > seems like a bug in lucene.
> >
> > The index is updated be a separate process independent of the
> > web-application once in a while. Currently I am using an independent
> > shell script that checks for the temp dir for lock files every few
> > seconds and deletes the lock files if any (to prevent a lock obtained
> > timeout in other threads).
>
> The commit lock has been problematic in the past and has been removed
> entirely (so readers are indeed read only) as of release 2.1.
>
> Before 2.1, it is very necessary: a reader acquires this lock (creates
> the file) when it's reading the segments file, to prevent a writer
> from overwriting the file at the same time.  Likewise a writer
> acquires this lock before overwriting the segments file.  However it
> should exist only briefly, so the fact that you see the lockfile
> staying around means something bad is happening.
>
> Do you ever see the JVM crash?  Or any errant exceptions from your
> readers?  These could cause the lock file to be incorrectly left in
> the filesystem.
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Nilesh Bansal.
http://queens.db.toronto.edu/~nilesh/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Apr 01 01:43:37 2007
Return-Path: <java-user-return-27294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27500 invoked from network); 1 Apr 2007 01:43:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Apr 2007 01:43:37 -0000
Received: (qmail 11055 invoked by uid 500); 1 Apr 2007 01:43:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11015 invoked by uid 500); 1 Apr 2007 01:43:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11000 invoked by uid 99); 1 Apr 2007 01:43:38 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 18:43:38 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: local policy)
Received: from [66.196.97.110] (HELO web57006.mail.re3.yahoo.com) (66.196.97.110)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 31 Mar 2007 18:43:28 -0700
Received: (qmail 97702 invoked by uid 60001); 1 Apr 2007 01:43:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
  b=k9cJPwv+KJC9gZkqQCNfGHRkPnGQSHWNS7UtuJ+9EjDEhTMXKI8tgm2aiLHpUPOON/ieBRckPyGe2fgobJYrqzQKyDdrY1o/xDW60ufFsQKtp6CrfQM3iwC8vJ+IUGQLYeMDkgid+/9iu+7bbhZdpQwzBn94HkELHqOOSBPwFeM=;
X-YMail-OSG: rO2g2XcVM1mx5rF5uu9wK7sPM1qbjYjRu2iBYo2sPeJvxZOTfDAHrB_mjBnKAy3Uq1f9nKAVaVr7qVblOcnhEMpDj89G0r_MkjCbwIQ6LpFHAHr2orljjhC8FPgfoA--
Received: from [69.255.227.192] by web57006.mail.re3.yahoo.com via HTTP; Sat, 31 Mar 2007 18:43:07 PDT
Date: Sat, 31 Mar 2007 18:43:07 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: Re: setBoost on Field
To: java-user@lucene.apache.org
In-Reply-To: <EBC8F228BDB35A4394D0BE53DA25248809A2BE5B@SPMWB02L.luinternal.fortis.bank>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1449323270-1175391787=:97533"
Content-Transfer-Encoding: 8bit
Message-ID: <800283.97533.qm@web57006.mail.re3.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1449323270-1175391787=:97533
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

what fields did you search, the headlines field only?

DECAFFMEYER MATHIEU <MATHIEU.DECAFFMAYER@fortis.lu> wrote:     setBoost on Field     Hi, 
  I am parsing this file called Logistics.htm  
I have a field named "headlines" that contains word "clients" among others. 
  When I don't put a boost on this field, I have as score 0.06 when searching for clients.  
Then when I put a boost of "10", I have a score of 0.21  
Yet I was expecting a score of 0.60 
  Could anyone clarify this behaviour to me ?  
Thank u for any help. 
  __________________________________ 
     Matt 
  
 
 ============================================
 Internet communications are not secure and therefore Fortis Banque Luxembourg S.A. does not accept legal responsibility for the contents of this message. The information contained in this e-mail is confidential and may be legally privileged. It is intended solely for the addressee. If you are not the intended recipient, any disclosure, copying, distribution or any action taken or omitted to be taken in reliance on it, is prohibited and may be unlawful. Nothing in the message is capable or intended to create any legally binding obligations on either party and it is not intended to provide legal advice.
 ============================================
  ---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

 
---------------------------------
 Get your own web address.
 Have a HUGE year through Yahoo! Small Business.
--0-1449323270-1175391787=:97533--

From java-user-return-27295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Apr 01 01:51:59 2007
Return-Path: <java-user-return-27295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29512 invoked from network); 1 Apr 2007 01:51:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Apr 2007 01:51:59 -0000
Received: (qmail 16575 invoked by uid 500); 1 Apr 2007 01:52:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16523 invoked by uid 500); 1 Apr 2007 01:52:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16512 invoked by uid 99); 1 Apr 2007 01:52:00 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 18:52:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (herse.apache.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 18:51:52 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D3ABF5B764; Sat, 31 Mar 2007 18:51:31 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B7D267F403
	for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 18:51:31 -0700 (PDT)
Date: Sat, 31 Mar 2007 18:51:31 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lock files in a read-only application
In-Reply-To: <f36128690703311830u348ab792p48f135e1d2bb740e@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0703311843260.21615@hal.rescomp.berkeley.edu>
References: <f36128690703311609h1cdec6c8r466ef6ad8c840e9d@mail.gmail.com> 
 <1175389396.31756.1182405653@webmail.messagingengine.com>
 <f36128690703311830u348ab792p48f135e1d2bb740e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


: locks without upgrading to 2.1. Our application uses its own custom
: locking mechanism, so that lucene locking is actually redundant. We
: are currently using Lucene version 2.0.

since before the 2.0.0 release there has been a static
FSDirectory.setDisableLocks that can be called before opening any indexes
to prevent locking -- it's only intended to be used on indexes on read
only disk -- which is not the case in your situation, since a seperate
process is in fact modifying the index, but if you are confident in your
own locking mechanism you can use it.

: The application has multiple threads (different web requests) reading
: the same index simultaneously (say 20 concurrent threads). Can that be
: a reason of this problem. Sometimes the lockfiles remain there for
: long periods of time (more than a few minutes, which is bad).

mutliple reader threads should not cause the commit lock to stay arround
that long, even if each thread is opening it's on IndexReader (which they
should not do, it's better to open one and reuse it among many threads)

: Yes, JVM sometimes crashes when it runs out of memory. There should be
: someway that the lock files are removed after such crash (any fixes is
: 2.1?).

As Michael said, in 2.1 the commit lock doesn't even exist, and in general
there is a much more robust lock management system that lets you decide
what type of lock mechanism to use.

in 2.0.0 your only option for dealing with stale locks is to forcebly
remove them, but there is a handy static IndexReader.unlock method for
doing just that.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Apr 01 04:15:36 2007
Return-Path: <java-user-return-27296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45200 invoked from network); 1 Apr 2007 04:15:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Apr 2007 04:15:35 -0000
Received: (qmail 3776 invoked by uid 500); 1 Apr 2007 04:15:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3736 invoked by uid 500); 1 Apr 2007 04:15:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3725 invoked by uid 99); 1 Apr 2007 04:15:36 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 21:15:36 -0700
X-ASF-Spam-Status: No, hits=2.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of gv.ashwin@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 21:15:28 -0700
Received: by ug-out-1314.google.com with SMTP id k40so1325991ugc
        for <java-user@lucene.apache.org>; Sat, 31 Mar 2007 21:15:07 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed;
        d=gmail.com; s=beta;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
        b=P3L7KTnHAAZmmwfDI/pmiD8/jiRyDwNUBqSTsbeaCsQtT+TUp+3nvOxMRG9Xg4jmj0FrrbxJZFRYbaMJzdgAR0PDl2avLq2wQC3mzP1Am3+Pj/NTyythwuFM0pCaXhQ2aleWOi8o7MYstwwujBggh2/svKQoh4x0PRA/y3w6NDc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=beta;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=V/OYRt0VhZ/0NoQSKTdogdgBYlL4UVxUz5z9jP5TedEo65sYx4iwMEdsiheuctgUxYfY0r58QKWXRJnQO0dCRKTpXf2tg67ZFtXAGUQmYCb9BCGcMIMQ85Cv1luEClbRedr1XZ61jPFAJ7leZ32kArwj6WrXq1bcy1ic5FpMaGg=
Received: by 10.67.116.3 with SMTP id t3mr2258071ugm.1175400907521;
        Sat, 31 Mar 2007 21:15:07 -0700 (PDT)
Received: by 10.67.6.5 with HTTP; Sat, 31 Mar 2007 21:15:07 -0700 (PDT)
Message-ID: <2b817f360703312115j7cd44bfct5a4d5f17a00774d2@mail.gmail.com>
Date: Sun, 1 Apr 2007 09:45:07 +0530
From: "ashwin kumar" <gv.ashwin@gmail.com>
To: java-user@lucene.apache.org
Subject: BEST GUI Fron tend for lucene
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15314_8269757.1175400907483"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_15314_8269757.1175400907483
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

hi all

this is ashwin i have done my indexing program and i am able to retrieve the
matching documents in command line .now i want to create a GUI and want to
display the matching documents in the gui. can anyone suggest me what would
be the best gui for lucene when it comes to networked environment.

thnks
regards
ashwin

------=_Part_15314_8269757.1175400907483--

From java-user-return-27297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Apr 01 05:31:07 2007
Return-Path: <java-user-return-27297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53001 invoked from network); 1 Apr 2007 05:31:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Apr 2007 05:31:06 -0000
Received: (qmail 42584 invoked by uid 500); 1 Apr 2007 05:31:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42549 invoked by uid 500); 1 Apr 2007 05:31:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42538 invoked by uid 99); 1 Apr 2007 05:31:06 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 22:31:06 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 22:30:58 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HXseE-0000Xd-4g
	for java-user@lucene.apache.org; Sat, 31 Mar 2007 22:30:38 -0700
Message-ID: <9774923.post@talk.nabble.com>
Date: Sat, 31 Mar 2007 22:30:38 -0700 (PDT)
From: rkwagle <rkwagle@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: BEST GUI Fron tend for lucene
In-Reply-To: <2b817f360703312115j7cd44bfct5a4d5f17a00774d2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: rkwagle@gmail.com
References: <2b817f360703312115j7cd44bfct5a4d5f17a00774d2@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org




ashwin kumar-3 wrote:
> 
> hi all
> 
> this is ashwin i have done my indexing program and i am able to retrieve
> the
> matching documents in command line .now i want to create a GUI and want to
> display the matching documents in the gui. can anyone suggest me what
> would
> be the best gui for lucene when it comes to networked environment.
> 
> thnks
> regards
> ashwin
> 
> 

Okay i can suggest you an GUI application i am currently into. okay as you
say in networked environment:
maintain a file server with the files to be indexed. maintain a index server
where the indexing application runs and where the actual indexing of the
files occur. maintain the index location in a separate server or on the same
machine.
Now design the front end that is run on the client terminal which performs
the work of giving the index location of the files to be indexed and
performing the indexing.
Then add features like searching to the client application where the search
results are displayed in which the actual file contents are displayed after
being searched in the index location.

good luck.


-- 
View this message in context: http://www.nabble.com/BEST-GUI-Fron-tend-for-lucene-tf3499966.html#a9774923
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-27298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Apr 01 06:30:29 2007
Return-Path: <java-user-return-27298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60569 invoked from network); 1 Apr 2007 06:30:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.2)
  by minotaur.apache.org with SMTP; 1 Apr 2007 06:30:28 -0000
Received: (qmail 80296 invoked by uid 500); 1 Apr 2007 06:30:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80116 invoked by uid 500); 1 Apr 2007 06:30:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80105 invoked by uid 99); 1 Apr 2007 06:30:29 -0000
Received: from herse.apache.org (HELO herse.apache.org) (140.211.11.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 23:30:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (herse.apache.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 31 Mar 2007 23:30:21 -0700
Received: from [72.21.53.38] (helo=jubjub.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1HXtZh-0000C6-0D
	for java-user@lucene.apache.org; Sat, 31 Mar 2007 23:30:01 -0700
Message-ID: <9775141.post@talk.nabble.com>
Date: Sat, 31 Mar 2007 23:30:00 -0700 (PDT)
From: Mohsen Saboorian <mohsens@gmail.com>
To: java-user@lucene.apache.org
Subject: Emulating Pages Search
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: mohsens@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
Is there a way to do emulate paged search in Lucene? I can use the following
peace of code for returning the first page (10 items in each page), but
don't know how to navigate to the next page :-)

	IndexSearcher is = new ...
	...
	TopFieldDocs tops = is.search(query, null /*filter*/, 10, Sort.RELEVANCE);
	for (int i = 0; i < tops.scoreDocs.length; i++) {
		ScoreDoc scoreDoc = tops.scoreDocs[i];
		System.out.println(is.doc(scoreDoc.doc));
	}

I can see that tops.totalHits, returns all matched documents. So is this
really "paged search", or I'm just doing a complete search and put a window
on the returned result each time?

Thanks.
-- 
View this message in context: http://www.nabble.com/Emulating-Pages-Search-tf3500169.html#a9775141
Sent from the Lucene - Java Users mailing list archive at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


